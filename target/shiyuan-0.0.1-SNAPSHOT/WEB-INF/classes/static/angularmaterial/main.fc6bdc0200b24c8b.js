"use strict";(self.webpackChunkangularmaterial=self.webpackChunkangularmaterial||[]).push([[179],{748:()=>{function jt(n){return"function"==typeof n}function Tv(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const bw=Tv(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function bf(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Rt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(jt(i))try{i()}catch(o){t=o instanceof bw?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{WG(o)}catch(a){t=t??[],a instanceof bw?t=[...t,...a.errors]:t.push(a)}}if(t)throw new bw(t)}}add(t){var e;if(t&&t!==this)if(this.closed)WG(t);else{if(t instanceof Rt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bf(e,t)}remove(t){const{_finalizers:e}=this;e&&bf(e,t),t instanceof Rt&&t._removeParent(this)}}Rt.EMPTY=(()=>{const n=new Rt;return n.closed=!0,n})();const UG=Rt.EMPTY;function zG(n){return n instanceof Rt||n&&"closed"in n&&jt(n.remove)&&jt(n.add)&&jt(n.unsubscribe)}function WG(n){jt(n)?n():n.unsubscribe()}const wh={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ww={setTimeout(n,t,...e){const{delegate:i}=ww;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ww;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function $G(n){ww.setTimeout(()=>{const{onUnhandledError:t}=wh;if(!t)throw n;t(n)})}function Sw(){}const Iie=kM("C",void 0,void 0);function kM(n,t,e){return{kind:n,value:t,error:e}}let Sh=null;function xw(n){if(wh.useDeprecatedSynchronousErrorHandling){const t=!Sh;if(t&&(Sh={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Sh;if(Sh=null,e)throw i}}else n()}class LM extends Rt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,zG(t)&&t.add(this)):this.destination=Bie}static create(t,e,i){return new Mv(t,e,i)}next(t){this.isStopped?VM(function kie(n){return kM("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?VM(function Fie(n){return kM("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?VM(Iie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Nie=Function.prototype.bind;function NM(n,t){return Nie.call(n,t)}class Vie{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ew(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ew(i)}else Ew(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ew(e)}}}class Mv extends LM{constructor(t,e,i){let r;if(super(),jt(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&wh.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&NM(t.next,o),error:t.error&&NM(t.error,o),complete:t.complete&&NM(t.complete,o)}):r=t}this.destination=new Vie(r)}}function Ew(n){wh.useDeprecatedSynchronousErrorHandling?function Lie(n){wh.useDeprecatedSynchronousErrorHandling&&Sh&&(Sh.errorThrown=!0,Sh.error=n)}(n):$G(n)}function VM(n,t){const{onStoppedNotification:e}=wh;e&&ww.setTimeout(()=>e(n,t))}const Bie={closed:!0,next:Sw,error:function Gie(n){throw n},complete:Sw},GM="function"==typeof Symbol&&Symbol.observable||"@@observable";function ku(n){return n}function KG(n){return 0===n.length?ku:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let pi=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Uie(n){return n&&n instanceof LM||function jie(n){return n&&jt(n.next)&&jt(n.error)&&jt(n.complete)}(n)&&zG(n)}(e)?e:new Mv(e,i,r);return xw(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=YG(i))((r,o)=>{const a=new Mv({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[GM](){return this}pipe(...e){return KG(e)(this)}toPromise(e){return new(e=YG(e))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function YG(n){var t;return null!==(t=n??wh.Promise)&&void 0!==t?t:Promise}const zie=Tv(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends pi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new qG(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new zie}next(e){xw(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){xw(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){xw(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?UG:(this.currentObservers=null,o.push(e),new Rt(()=>{this.currentObservers=null,bf(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new pi;return e.source=this,e}}return n.create=(t,e)=>new qG(t,e),n})();class qG extends Oe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:UG}}class fr extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function XG(n){return jt(n?.lift)}function Zi(n){return t=>{if(XG(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ni(n,t,e,i,r){return new Wie(n,t,e,i,r)}class Wie extends LM{constructor(t,e,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ot(n,t){return Zi((e,i)=>{let r=0;e.subscribe(Ni(i,o=>{i.next(n.call(t,o,r++))}))})}function Lu(n){return this instanceof Lu?(this.v=n,this):new Lu(n)}function eB(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function UM(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(a){return new Promise(function(s,l){!function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}const zM=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tB(n){return jt(n?.then)}function iB(n){return jt(n[GM])}function nB(n){return Symbol.asyncIterator&&jt(n?.[Symbol.asyncIterator])}function rB(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oB=function une(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aB(n){return jt(n?.[oB])}function sB(n){return function JG(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(p){return new Promise(function(f,m){o.push([h,p,f,m])>1||s(h,p)})})}function s(h,p){try{!function l(h){h.value instanceof Lu?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(f){d(o[0][3],f)}}function c(h){s("next",h)}function u(h){s("throw",h)}function d(h,p){h(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Lu(e.read());if(r)return yield Lu(void 0);yield yield Lu(i)}}finally{e.releaseLock()}})}function lB(n){return jt(n?.getReader)}function ho(n){if(n instanceof pi)return n;if(null!=n){if(iB(n))return function dne(n){return new pi(t=>{const e=n[GM]();if(jt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(zM(n))return function hne(n){return new pi(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(tB(n))return function pne(n){return new pi(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,$G)})}(n);if(nB(n))return cB(n);if(aB(n))return function fne(n){return new pi(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(lB(n))return function mne(n){return cB(sB(n))}(n)}throw rB(n)}function cB(n){return new pi(t=>{(function gne(n,t){var e,i,r,o;return function ZG(n,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=eB(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Sc(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Hn(n,t,e=1/0){return jt(t)?Hn((i,r)=>ot((o,a)=>t(i,o,r,a))(ho(n(i,r))),e):("number"==typeof t&&(e=t),Zi((i,r)=>function vne(n,t,e,i,r,o,a,s){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},p=m=>c<i?f(m):l.push(m),f=m=>{o&&t.next(m),c++;let g=!1;ho(e(m,u++)).subscribe(Ni(t,v=>{r?.(v),o?p(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();a?Sc(t,a,()=>f(v)):f(v)}h()}catch(v){t.error(v)}}))};return n.subscribe(Ni(t,p,()=>{d=!0,h()})),()=>{s?.()}}(i,r,n,e)))}function wf(n=1/0){return Hn(ku,n)}const Oa=new pi(n=>n.complete());function uB(n){return n&&jt(n.schedule)}function WM(n){return n[n.length-1]}function dB(n){return jt(WM(n))?n.pop():void 0}function Av(n){return uB(WM(n))?n.pop():void 0}function hB(n,t=0){return Zi((e,i)=>{e.subscribe(Ni(i,r=>Sc(i,n,()=>i.next(r),t),()=>Sc(i,n,()=>i.complete(),t),r=>Sc(i,n,()=>i.error(r),t)))})}function pB(n,t=0){return Zi((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function fB(n,t){if(!n)throw new Error("Iterable cannot be null");return new pi(e=>{Sc(e,t,()=>{const i=n[Symbol.asyncIterator]();Sc(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function yn(n,t){return t?function Ene(n,t){if(null!=n){if(iB(n))return function Cne(n,t){return ho(n).pipe(pB(t),hB(t))}(n,t);if(zM(n))return function wne(n,t){return new pi(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(tB(n))return function bne(n,t){return ho(n).pipe(pB(t),hB(t))}(n,t);if(nB(n))return fB(n,t);if(aB(n))return function Sne(n,t){return new pi(e=>{let i;return Sc(e,t,()=>{i=n[oB](),Sc(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void e.error(a)}o?e.complete():e.next(r)},0,!0)}),()=>jt(i?.return)&&i.return()})}(n,t);if(lB(n))return function xne(n,t){return fB(sB(n),t)}(n,t)}throw rB(n)}(n,t):ho(n)}function nn(...n){const t=Av(n),e=function _ne(n,t){return"number"==typeof WM(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ho(i[0]):wf(e)(yn(i,t)):Oa}function Ve(...n){return yn(n,Av(n))}function Dw(n={}){const{connector:t=(()=>new Oe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a,s,l,c=0,u=!1,d=!1;const h=()=>{s?.unsubscribe(),s=void 0},p=()=>{h(),a=l=void 0,u=d=!1},f=()=>{const m=a;p(),m?.unsubscribe()};return Zi((m,g)=>{c++,!d&&!u&&h();const v=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(s=$M(f,r))}),v.subscribe(g),!a&&c>0&&(a=new Mv({next:y=>v.next(y),error:y=>{d=!0,h(),s=$M(p,e,y),v.error(y)},complete:()=>{u=!0,h(),s=$M(p,i),v.complete()}}),ho(m).subscribe(a))})(o)}}function $M(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Mv({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function mr(n,t){return Zi((e,i)=>{let r=null,o=0,a=!1;const s=()=>a&&!r&&i.complete();e.subscribe(Ni(i,l=>{r?.unsubscribe();let c=0;const u=o++;ho(n(l,u)).subscribe(r=Ni(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Ov(n,t=ku){return n=n??Dne,Zi((e,i)=>{let r,o=!0;e.subscribe(Ni(i,a=>{const s=t(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function Dne(n,t){return n===t}function yi(n){for(let t in n)if(n[t]===yi)return t;throw Error("Could not find renamed property on target object.")}function Tw(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function jn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function KM(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Tne=yi({__forward_ref__:yi});function It(n){return n.__forward_ref__=It,n.toString=function(){return jn(this())},n}function mt(n){return YM(n)?n():n}function YM(n){return"function"==typeof n&&n.hasOwnProperty(Tne)&&n.__forward_ref__===It}function qM(n){return n&&!!n.\u0275providers}const mB="https://g.co/ng/security#xss";class ee extends Error{constructor(t,e){super(function Mw(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function yt(n){return"string"==typeof n?n:null==n?"":String(n)}function Aw(n,t){throw new ee(-201,!1)}function Ra(n,t){null==n&&function mi(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ue(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ow(n){return gB(n,Rw)||gB(n,yB)}function gB(n,t){return n.hasOwnProperty(t)?n[t]:null}function vB(n){return n&&(n.hasOwnProperty(XM)||n.hasOwnProperty(kne))?n[XM]:null}const Rw=yi({\u0275prov:yi}),XM=yi({\u0275inj:yi}),yB=yi({ngInjectableDef:yi}),kne=yi({ngInjectorDef:yi});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let ZM;function po(n){const t=ZM;return ZM=n,t}function CB(n,t,e){const i=Ow(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&et.Optional?null:void 0!==t?t:void Aw(jn(n))}const Pi=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rv={},QM="__NG_DI_FLAG__",Pw="ngTempTokenPath",Nne=/\n/gm,bB="__source";let Sf;function Vu(n){const t=Sf;return Sf=n,t}function Bne(n,t=et.Default){if(void 0===Sf)throw new ee(-203,!1);return null===Sf?CB(n,void 0,t):Sf.get(n,t&et.Optional?null:void 0,t)}function K(n,t=et.Default){return(function _B(){return ZM}()||Bne)(mt(n),t)}function be(n,t=et.Default){return K(n,Iw(t))}function Iw(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function JM(n){const t=[];for(let e=0;e<n.length;e++){const i=mt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ee(900,!1);let r,o=et.Default;for(let a=0;a<i.length;a++){const s=i[a],l=Hne(s);"number"==typeof l?-1===l?r=s.token:o|=l:r=s}t.push(K(r,o))}else t.push(K(i))}return t}function Pv(n,t){return n[QM]=t,n.prototype[QM]=t,n}function Hne(n){return n[QM]}function xc(n){return{toString:n}.toString()}var sl=(()=>((sl=sl||{})[sl.OnPush=0]="OnPush",sl[sl.Default=1]="Default",sl))(),fo=(()=>{return(n=fo||(fo={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fo;var n})();const ll={},ni=[],Fw=yi({\u0275cmp:yi}),eA=yi({\u0275dir:yi}),tA=yi({\u0275pipe:yi}),SB=yi({\u0275mod:yi}),Ec=yi({\u0275fac:yi}),Iv=yi({__NG_ELEMENT_ID__:yi}),xB=yi({__NG_ENV_ID__:yi});function EB(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function iA(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],a=e[i++],s=e[i++];n.setAttribute(t,a,s,o)}else{const o=r,a=e[++i];TB(o)?n.setProperty(t,o,a):n.setAttribute(t,o,a),i++}}return i}function DB(n){return 3===n||4===n||6===n}function TB(n){return 64===n.charCodeAt(0)}function Fv(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||MB(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function MB(n,t,e,i,r){let o=0,a=n.length;if(-1===t)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const AB="ng-template";function zne(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const a=n[i++];if(e&&"class"===o&&-1!==EB(a.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function OB(n){return 4===n.type&&n.value!==AB}function Wne(n,t,e){return t===(4!==n.type||e?n.value:AB)}function $ne(n,t,e){let i=4;const r=n.attrs||[],o=function qne(n){for(let t=0;t<n.length;t++)if(DB(n[t]))return t;return n.length}(r);let a=!1;for(let s=0;s<t.length;s++){const l=t[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!Wne(n,l,e)||""===l&&1===t.length){if(fs(i))return!1;a=!0}}else{const c=8&i?l:t[++s];if(8&i&&null!==n.attrs){if(!zne(n.attrs,c,e)){if(fs(i))return!1;a=!0}continue}const d=Kne(8&i?"class":l,r,OB(n),e);if(-1===d){if(fs(i))return!1;a=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==EB(p,c,0)||2&i&&c!==h){if(fs(i))return!1;a=!0}}}}else{if(!a&&!fs(i)&&!fs(l))return!1;if(a&&fs(l))continue;a=!1,i=l|1&i}}return fs(i)||a}function fs(n){return 0==(1&n)}function Kne(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=t[++r];for(;"string"==typeof s;)s=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function Xne(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function RB(n,t,e=!1){for(let i=0;i<t.length;i++)if($ne(n,t[i],e))return!0;return!1}function Zne(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function PB(n,t){return n?":not("+t.trim()+")":t}function Qne(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!fs(a)&&(t+=PB(o,r),r=""),i=a,o=o||!fs(i);e++}return""!==r&&(t+=PB(o,r)),t}function we(n){return xc(()=>{const t=FB(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fo.Emulated,styles:n.styles||ni,_:null,schemas:n.schemas||null,tView:null,id:""};kB(e);const i=n.dependencies;return e.directiveDefs=kw(i,!1),e.pipeDefs=kw(i,!0),e.id=function are(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function ire(n){return li(n)||Or(n)}function nre(n){return null!==n}function Ke(n){return xc(()=>({type:n.type,bootstrap:n.bootstrap||ni,declarations:n.declarations||ni,imports:n.imports||ni,exports:n.exports||ni,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function IB(n,t){if(null==n)return ll;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function Z(n){return xc(()=>{const t=FB(n);return kB(t),t})}function mo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function li(n){return n[Fw]||null}function Or(n){return n[eA]||null}function go(n){return n[tA]||null}function Yo(n,t){const e=n[SB]||null;if(!e&&!0===t)throw new Error(`Type ${jn(n)} does not have '\u0275mod' property.`);return e}function FB(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ll,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ni,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IB(n.inputs,t),outputs:IB(n.outputs)}}function kB(n){n.features?.forEach(t=>t(n))}function kw(n,t){if(!n)return null;const e=t?go:ire;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(nre)}const Un=0,Fe=1,St=2,Qi=3,ms=4,kv=5,Rr=6,Ef=7,_n=8,Df=9,xh=10,xt=11,Lv=12,LB=13,Tf=14,Cn=15,Nv=16,Mf=17,cl=18,Vv=19,NB=20,Gu=21,Dc=22,Lw=23,Nw=24,Gt=25,nA=1,VB=2,ul=7,Af=9,Pr=11;function qo(n){return Array.isArray(n)&&"object"==typeof n[nA]}function vo(n){return Array.isArray(n)&&!0===n[nA]}function rA(n){return 0!=(4&n.flags)}function Eh(n){return n.componentOffset>-1}function Gw(n){return 1==(1&n.flags)}function gs(n){return!!n.template}function oA(n){return 0!=(512&n[St])}function Dh(n,t){return n.hasOwnProperty(Ec)?n[Ec]:null}let hre=Pi.WeakRef??class dre{constructor(t){this.ref=t}deref(){return this.ref}},fre=0,dl=null,Bw=!1;function or(n){const t=dl;return dl=n,t}class UB{constructor(){this.id=fre++,this.ref=function pre(n){return new hre(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,e]of this.producers){const i=e.producerNode.deref();if(void 0!==i&&e.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(e.seenValueVersion))return!0}else this.producers.delete(t),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Bw;Bw=!0;try{for(const[e,i]of this.consumers){const r=i.consumerNode.deref();void 0!==r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),r?.producers.delete(this.id))}}finally{Bw=t}}producerAccessed(){if(Bw)throw new Error("");if(null===dl)return;let t=dl.producers.get(this.id);void 0===t?(t={consumerNode:dl.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:dl.trackingVersion},dl.producers.set(this.id,t),this.consumers.set(dl.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=dl.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==dl?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let zB=null;function WB(n){const t=or(null);try{return n()}finally{or(t)}}const $B=()=>{};class yre extends UB{constructor(t,e,i){super(),this.watch=t,this.schedule=e,this.dirty=!1,this.cleanupFn=$B,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=or(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=$B,this.watch(this.registerOnCleanup)}finally{or(t)}}cleanup(){this.cleanupFn()}}class _re{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ri(){return KB}function KB(n){return n.type.prototype.ngOnChanges&&(n.setInput=bre),Cre}function Cre(){const n=qB(this),t=n?.current;if(t){const e=n.previous;if(e===ll)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function bre(n,t,e,i){const r=this.declaredInputs[e],o=qB(n)||function wre(n,t){return n[YB]=t}(n,{previous:ll,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[r];a[r]=new _re(l&&l.currentValue,t,s===ll),n[i]=t}ri.ngInherit=!0;const YB="__ngSimpleChanges__";function qB(n){return n[YB]||null}const hl=function(n,t,e){},XB="svg";function Vi(n){for(;Array.isArray(n);)n=n[Un];return n}function Uw(n,t){return Vi(t[n])}function yo(n,t){return Vi(t[n.index])}function QB(n,t){return n.data[t]}function Of(n,t){return n[t]}function Xo(n,t){const e=t[n];return qo(e)?e:e[Un]}function Bu(n,t){return null==t?null:n[t]}function JB(n){n[Mf]=0}function Are(n){1024&n[St]||(n[St]|=1024,t2(n,1))}function e2(n){1024&n[St]&&(n[St]&=-1025,t2(n,-1))}function t2(n,t){let e=n[Qi];if(null===e)return;e[kv]+=t;let i=e;for(e=e[Qi];null!==e&&(1===t&&1===i[kv]||-1===t&&0===i[kv]);)e[kv]+=t,i=e,e=e[Qi]}const ct={lFrame:p2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function o2(){return ct.bindingsEnabled}function Rf(){return null!==ct.skipHydrationRootTNode}function pe(){return ct.lFrame.lView}function Yt(){return ct.lFrame.tView}function ut(n){return ct.lFrame.contextLView=n,n[_n]}function dt(n){return ct.lFrame.contextLView=null,n}function gr(){let n=a2();for(;null!==n&&64===n.type;)n=n.parent;return n}function a2(){return ct.lFrame.currentTNode}function pl(n,t){const e=ct.lFrame;e.currentTNode=n,e.isParent=t}function dA(){return ct.lFrame.isParent}function hA(){ct.lFrame.isParent=!1}function $r(){const n=ct.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Pf(){return ct.lFrame.bindingIndex++}function Mc(n){const t=ct.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Hre(n,t){const e=ct.lFrame;e.bindingIndex=e.bindingRootIndex=n,pA(t)}function pA(n){ct.lFrame.currentDirectiveIndex=n}function fA(n){const t=ct.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function u2(){return ct.lFrame.currentQueryIndex}function mA(n){ct.lFrame.currentQueryIndex=n}function Ure(n){const t=n[Fe];return 2===t.type?t.declTNode:1===t.type?n[Rr]:null}function d2(n,t,e){if(e&et.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&et.Host||(r=Ure(o),null===r||(o=o[Tf],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ct.lFrame=h2();return i.currentTNode=t,i.lView=n,!0}function gA(n){const t=h2(),e=n[Fe];ct.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function h2(){const n=ct.lFrame,t=null===n?null:n.child;return null===t?p2(n):t}function p2(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function f2(){const n=ct.lFrame;return ct.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const m2=f2;function vA(){const n=f2();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kr(){return ct.lFrame.selectedIndex}function Th(n){ct.lFrame.selectedIndex=n}function Ji(){const n=ct.lFrame;return QB(n.tView,n.selectedIndex)}function Pa(){ct.lFrame.currentNamespace=XB}function Mh(){!function Kre(){ct.lFrame.currentNamespace=null}()}let v2=!0;function zw(){return v2}function Hu(n){v2=n}function Ww(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks??=[]).push(-e,a),s&&((n.contentHooks??=[]).push(e,s),(n.contentCheckHooks??=[]).push(e,s)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function $w(n,t,e){y2(n,t,3,e)}function Kw(n,t,e,i){(3&n[St])===e&&y2(n,t,e,i)}function yA(n,t){let e=n[St];(3&e)===t&&(e&=8191,e+=1,n[St]=e)}function y2(n,t,e,i){const o=i??-1,a=t.length-1;let s=0;for(let l=void 0!==i?65535&n[Mf]:0;l<a;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=i&&s>=i)break}else t[l]<0&&(n[Mf]+=65536),(s<o||-1==o)&&(qre(n,e,t,l),n[Mf]=(4294901760&n[Mf])+l+2),l++}function _2(n,t){hl(4,n,t);const e=or(null);try{t.call(n)}finally{or(e),hl(5,n,t)}}function qre(n,t,e,i){const r=e[i]<0,o=e[i+1],s=n[r?-e[i]:e[i]];r?n[St]>>13<n[Mf]>>16&&(3&n[St])===t&&(n[St]+=8192,_2(s,o)):_2(s,o)}const If=-1;class Hv{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function C2(n){return n!==If}function Yw(n){return 32767&n}function qw(n,t){let e=function Jre(n){return n>>16}(n),i=t;for(;e>0;)i=i[Tf],e--;return i}let CA=!0;function Xw(n){const t=CA;return CA=n,t}const b2=255,w2=5;let eoe=0;const fl={};function Zw(n,t){const e=S2(n,t);if(-1!==e)return e;const i=t[Fe];i.firstCreatePass&&(n.injectorIndex=t.length,bA(i.data,n),bA(t,null),bA(i.blueprint,null));const r=wA(n,t),o=n.injectorIndex;if(C2(r)){const a=Yw(r),s=qw(r,t),l=s[Fe].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function bA(n,t){n.push(0,0,0,0,0,0,0,0,t)}function S2(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function wA(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=O2(r),null===i)return If;if(e++,r=r[Tf],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return If}function SA(n,t,e){!function toe(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Iv)&&(i=e[Iv]),null==i&&(i=e[Iv]=eoe++);const r=i&b2;t.data[n+(r>>w2)]|=1<<r}(n,t,e)}function x2(n,t,e){if(e&et.Optional||void 0!==n)return n;Aw()}function E2(n,t,e,i){if(e&et.Optional&&void 0===i&&(i=null),!(e&(et.Self|et.Host))){const r=n[Df],o=po(void 0);try{return r?r.get(t,i,e&et.Optional):CB(t,i,e&et.Optional)}finally{po(o)}}return x2(i,0,e)}function D2(n,t,e,i=et.Default,r){if(null!==n){if(2048&t[St]&&!(i&et.Self)){const a=function aoe(n,t,e,i,r){let o=n,a=t;for(;null!==o&&null!==a&&2048&a[St]&&!(512&a[St]);){const s=T2(o,a,e,i|et.Self,fl);if(s!==fl)return s;let l=o.parent;if(!l){const c=a[NB];if(c){const u=c.get(e,fl,i);if(u!==fl)return u}l=O2(a),a=a[Tf]}o=l}return r}(n,t,e,i,fl);if(a!==fl)return a}const o=T2(n,t,e,i,fl);if(o!==fl)return o}return E2(t,e,i,r)}function T2(n,t,e,i,r){const o=function roe(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Iv)?n[Iv]:void 0;return"number"==typeof t?t>=0?t&b2:ooe:t}(e);if("function"==typeof o){if(!d2(t,n,i))return i&et.Host?x2(r,0,i):E2(t,e,i,r);try{const a=o(i);if(null!=a||i&et.Optional)return a;Aw()}finally{m2()}}else if("number"==typeof o){let a=null,s=S2(n,t),l=If,c=i&et.Host?t[Cn][Rr]:null;for((-1===s||i&et.SkipSelf)&&(l=-1===s?wA(n,t):t[s+8],l!==If&&A2(i,!1)?(a=t[Fe],s=Yw(l),t=qw(l,t)):s=-1);-1!==s;){const u=t[Fe];if(M2(o,s,u.data)){const d=noe(s,t,e,a,i,c);if(d!==fl)return d}l=t[s+8],l!==If&&A2(i,t[Fe].data[s+8]===c)&&M2(o,s,t)?(a=u,s=Yw(l),t=qw(l,t)):s=-1}}return r}function noe(n,t,e,i,r,o){const a=t[Fe],s=a.data[n+8],u=Qw(s,a,e,null==i?Eh(s)&&CA:i!=a&&0!=(3&s.type),r&et.Host&&o===s);return null!==u?Ah(t,a,u,s):fl}function Qw(n,t,e,i,r){const o=n.providerIndexes,a=t.data,s=1048575&o,l=n.directiveStart,u=o>>20,h=r?s+u:n.directiveEnd;for(let p=i?s:s+u;p<h;p++){const f=a[p];if(p<l&&e===f||p>=l&&f.type===e)return p}if(r){const p=a[l];if(p&&gs(p)&&p.type===e)return l}return null}function Ah(n,t,e,i){let r=n[e];const o=t.data;if(function Xre(n){return n instanceof Hv}(r)){const a=r;a.resolving&&function Mne(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ee(-200,`Circular dependency in DI detected for ${n}${e}`)}(function fi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():yt(n)}(o[e]));const s=Xw(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?po(a.injectImpl):null;d2(n,i,et.Default);try{r=n[e]=a.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Yre(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const a=KB(t);(e.preOrderHooks??=[]).push(n,a),(e.preOrderCheckHooks??=[]).push(n,a)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&po(l),Xw(s),a.resolving=!1,m2()}}return r}function M2(n,t,e){return!!(e[t+(n>>w2)]&1<<n)}function A2(n,t){return!(n&et.Self||n&et.Host&&t)}class Ff{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return D2(this._tNode,this._lView,t,Iw(i),e)}}function ooe(){return new Ff(gr(),pe())}function _t(n){return xc(()=>{const t=n.prototype.constructor,e=t[Ec]||xA(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ec]||xA(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function xA(n){return YM(n)?()=>{const t=xA(mt(n));return t&&t()}:Dh(n)}function O2(n){const t=n[Fe],e=t.type;return 2===e?t.declTNode:1===e?n[Rr]:null}function ml(n){return function ioe(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(DB(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(gr(),n)}const Lf="__parameters__";function Vf(n,t,e){return xc(()=>{const i=function EA(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return s.annotation=a,s;function s(l,c,u){const d=l.hasOwnProperty(Lf)?l[Lf]:Object.defineProperty(l,Lf,{value:[]})[Lf];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function zv(n,t){n.forEach(e=>Array.isArray(e)?zv(e,t):t(e))}function P2(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Jw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Wv(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Zo(n,t,e){let i=Gf(n,t);return i>=0?n[1|i]=e:(i=~i,function doe(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function DA(n,t){const e=Gf(n,t);if(e>=0)return n[1|e]}function Gf(n,t){return function I2(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Fa=Pv(Vf("Optional"),8),gl=Pv(Vf("SkipSelf"),4);function rS(n){return 128==(128&n.flags)}var _o=(()=>((_o=_o||{})[_o.Important=1]="Important",_o[_o.DashCase=2]="DashCase",_o))();const Poe=/^>|^->|<!--|-->|--!>|<!-$/g,Ioe=/(<|>)/,Foe="\u200b$1\u200b";const PA=new Map;let koe=0;const FA="__ngContext__";function Ir(n,t){qo(t)?(n[FA]=t[Vv],function Noe(n){PA.set(n[Vv],n)}(t)):n[FA]=t}let kA;function LA(n,t){return kA(n,t)}function Yv(n){const t=n[Qi];return vo(t)?t[Qi]:t}function J2(n){return tH(n[Lv])}function eH(n){return tH(n[ms])}function tH(n){for(;null!==n&&!vo(n);)n=n[ms];return n}function jf(n,t,e,i,r){if(null!=i){let o,a=!1;vo(i)?o=i:qo(i)&&(a=!0,i=i[Un]);const s=Vi(i);0===n&&null!==e?null==r?aH(t,e,s):Oh(t,e,s,r||null,!0):1===n&&null!==e?Oh(t,e,s,r||null,!0):2===n?function uS(n,t,e){const i=lS(n,t);i&&function iae(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,s,a):3===n&&t.destroyNode(s),null!=o&&function oae(n,t,e,i,r){const o=e[ul];o!==Vi(e)&&jf(t,n,i,o,r);for(let s=Pr;s<e.length;s++){const l=e[s];Xv(l[Fe],l,n,t,i,o)}}(t,n,o,e,r)}}function NA(n,t){return n.createComment(function W2(n){return n.replace(Poe,t=>t.replace(Ioe,Foe))}(t))}function sS(n,t,e){return n.createElement(t,e)}function nH(n,t){const e=n[Af],i=e.indexOf(t);e2(t),e.splice(i,1)}function VA(n,t){if(n.length<=Pr)return;const e=Pr+t,i=n[e];if(i){const r=i[Nv];null!==r&&r!==n&&nH(r,i),t>0&&(n[e-1][ms]=i[ms]);const o=Jw(n,Pr+t);!function Yoe(n,t){Xv(n,t,t[xt],2,null,null),t[Un]=null,t[Rr]=null}(i[Fe],i);const a=o[cl];null!==a&&a.detachView(o[Fe]),i[Qi]=null,i[ms]=null,i[St]&=-129}return i}function rH(n,t){if(!(256&t[St])){const e=t[xt];t[Lw]?.destroy(),t[Nw]?.destroy(),e.destroyNode&&Xv(n,t,e,3,null,null),function Zoe(n){let t=n[Lv];if(!t)return GA(n[Fe],n);for(;t;){let e=null;if(qo(t))e=t[Lv];else{const i=t[Pr];i&&(e=i)}if(!e){for(;t&&!t[ms]&&t!==n;)qo(t)&&GA(t[Fe],t),t=t[Qi];null===t&&(t=n),qo(t)&&GA(t[Fe],t),e=t&&t[ms]}t=e}}(t)}}function GA(n,t){if(!(256&t[St])){t[St]&=-129,t[St]|=256,function tae(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Hv)){const o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=r[o[a]],l=o[a+1];hl(4,s,l);try{l.call(s)}finally{hl(5,s,l)}}else{hl(4,r,o);try{o.call(r)}finally{hl(5,r,o)}}}}}(n,t),function eae(n,t){const e=n.cleanup,i=t[Ef];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Ef]=null);const r=t[Gu];if(null!==r){t[Gu]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Fe].type&&t[xt].destroy();const e=t[Nv];if(null!==e&&vo(t[Qi])){e!==t[Qi]&&nH(e,t);const i=t[cl];null!==i&&i.detachView(n)}!function Voe(n){PA.delete(n[Vv])}(t)}}function BA(n,t,e){return function oH(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Un];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===fo.None||o===fo.Emulated)return null}return yo(i,e)}}(n,t.parent,e)}function Oh(n,t,e,i,r){n.insertBefore(t,e,i,r)}function aH(n,t,e){n.appendChild(t,e)}function sH(n,t,e,i,r){null!==i?Oh(n,t,e,i,r):aH(n,t,e)}function lS(n,t){return n.parentNode(t)}function lH(n,t,e){return uH(n,t,e)}let HA,dS,WA,hS,uH=function cH(n,t,e){return 40&n.type?yo(n,e):null};function cS(n,t,e,i){const r=BA(n,i,t),o=t[xt],s=lH(i.parent||t[Rr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)sH(o,r,e[l],s,!1);else sH(o,r,e,s,!1);void 0!==HA&&HA(o,i,t,e,r)}function qv(n,t){if(null!==t){const e=t.type;if(3&e)return yo(t,n);if(4&e)return jA(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return qv(n,i);{const r=n[t.index];return vo(r)?jA(-1,r):Vi(r)}}if(32&e)return LA(t,n)()||Vi(n[t.index]);{const i=hH(n,t);return null!==i?Array.isArray(i)?i[0]:qv(Yv(n[Cn]),i):qv(n,t.next)}}return null}function hH(n,t){return null!==t?n[Cn][Rr].projection[t.projection]:null}function jA(n,t){const e=Pr+n+1;if(e<t.length){const i=t[e],r=i[Fe].firstChild;if(null!==r)return qv(i,r)}return t[ul]}function UA(n,t,e,i,r,o,a){for(;null!=e;){const s=i[e.index],l=e.type;if(a&&0===t&&(s&&Ir(Vi(s),i),e.flags|=2),32!=(32&e.flags))if(8&l)UA(n,t,e.child,i,r,o,!1),jf(t,n,r,s,o);else if(32&l){const c=LA(e,i);let u;for(;u=c();)jf(t,n,r,u,o);jf(t,n,r,s,o)}else 16&l?fH(n,t,i,e,r,o):jf(t,n,r,s,o);e=a?e.projectionNext:e.next}}function Xv(n,t,e,i,r,o){UA(e,i,n.firstChild,t,r,o,!1)}function fH(n,t,e,i,r,o){const a=e[Cn],l=a[Rr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)jf(t,n,r,l[c],o);else{let c=l;const u=a[Qi];rS(i)&&(c.flags|=128),UA(n,t,c,u,r,o,!0)}}function mH(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function gH(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&iA(n,t,i),null!==r&&mH(n,t,r),null!==o&&function sae(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Uf(n){return function zA(){if(void 0===dS&&(dS=null,Pi.trustedTypes))try{dS=Pi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return dS}()?.createHTML(n)||n}function _H(n){return function $A(){if(void 0===hS&&(hS=null,Pi.trustedTypes))try{hS=Pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hS}()?.createScriptURL(n)||n}class Rh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mB})`}}class hae extends Rh{getTypeName(){return"HTML"}}class pae extends Rh{getTypeName(){return"Style"}}class fae extends Rh{getTypeName(){return"Script"}}class mae extends Rh{getTypeName(){return"URL"}}class gae extends Rh{getTypeName(){return"ResourceURL"}}function Qo(n){return n instanceof Rh?n.changingThisBreaksApplicationSecurity:n}function vl(n,t){const e=function vae(n){return n instanceof Rh&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${mB})`)}return e===t}class Sae{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Uf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class xae{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Uf(t),e}}const Dae=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pS(n){return(n=String(n)).match(Dae)?n:"unsafe:"+n}function Ac(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Qv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const bH=Ac("area,br,col,hr,img,wbr"),wH=Ac("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SH=Ac("rp,rt"),KA=Qv(bH,Qv(wH,Ac("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qv(SH,Ac("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qv(SH,wH)),YA=Ac("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xH=Qv(YA,Ac("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ac("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tae=Ac("script,style,template");class Mae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!KA.hasOwnProperty(e))return this.sanitizedSomething=!0,!Tae.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),a=o.name,s=a.toLowerCase();if(!xH.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;YA[s]&&(l=pS(l)),this.buf.push(" ",a,'="',EH(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();KA.hasOwnProperty(e)&&!bH.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(EH(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Aae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Oae=/([^\#-~ |!])/g;function EH(n){return n.replace(/&/g,"&amp;").replace(Aae,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Oae,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fS;function DH(n,t){let e=null;try{fS=fS||function CH(n){const t=new xae(n);return function Eae(){try{return!!(new window.DOMParser).parseFromString(Uf(""),"text/html")}catch{return!1}}()?new Sae(t):t}(n);let i=t?String(t):"";e=fS.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=fS.getInertBodyElement(i)}while(i!==o);return Uf((new Mae).sanitizeChildren(qA(e)||e))}finally{if(e){const i=qA(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qA(n){return"content"in n&&function Rae(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function TH(n){const t=Jv();return t?t.sanitize(ci.URL,n)||"":vl(n,"URL")?Qo(n):pS(yt(n))}function MH(n){const t=Jv();if(t)return _H(t.sanitize(ci.RESOURCE_URL,n)||"");if(vl(n,"ResourceURL"))return _H(Qo(n));throw new ee(904,!1)}function Jv(){const n=pe();return n&&n[xh].sanitizer}class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ge({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ey=new J("ENVIRONMENT_INITIALIZER"),OH=new J("INJECTOR",-1),RH=new J("INJECTOR_DEF_TYPES");class PH{get(t,e=Rv){if(e===Rv){const i=new Error(`NullInjectorError: No provider for ${jn(t)}!`);throw i.name="NullInjectorError",i}return e}}function Vae(...n){return{\u0275providers:IH(0,n),\u0275fromNgModule:!0}}function IH(n,...t){const e=[],i=new Set;let r;return zv(t,o=>{const a=o;ZA(a,e,[],i)&&(r||=[],r.push(a))}),void 0!==r&&FH(r,e),e}function FH(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];QA(r,o=>{t.push(o)})}}function ZA(n,t,e,i){if(!(n=mt(n)))return!1;let r=null,o=vB(n);const a=!o&&li(n);if(o||a){if(a&&!a.standalone)return!1;r=n}else{const l=n.ngModule;if(o=vB(l),!o)return!1;r=l}const s=i.has(r);if(a){if(s)return!1;if(i.add(r),a.dependencies){const l="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const c of l)ZA(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!s){let c;i.add(r);try{zv(o.imports,u=>{ZA(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&FH(c,t)}if(!s){const c=Dh(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:ni},{provide:RH,useValue:r,multi:!0},{provide:ey,useValue:()=>K(r),multi:!0})}const l=o.providers;null==l||s||QA(l,u=>{t.push(u)})}}return r!==n&&void 0!==n.providers}function QA(n,t){for(let e of n)qM(e)&&(e=e.\u0275providers),Array.isArray(e)?QA(e,t):t(e)}const Gae=yi({provide:String,useValue:yi});function JA(n){return null!==n&&"object"==typeof n&&Gae in n}function Ph(n){return"function"==typeof n}const eO=new J("Set Injector scope."),mS={},Hae={};let tO;function gS(){return void 0===tO&&(tO=new PH),tO}class yl{}class iO extends yl{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rO(t,a=>this.processProvider(a)),this.records.set(OH,zf(void 0,this)),r.has("environment")&&this.records.set(yl,zf(void 0,this));const o=this.records.get(eO);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(RH.multi,ni,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Vu(this),i=po(void 0);try{return t()}finally{Vu(e),po(i)}}get(t,e=Rv,i=et.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(xB))return t[xB](this);i=Iw(i);const r=Vu(this),o=po(void 0);try{if(!(i&et.SkipSelf)){let s=this.records.get(t);if(void 0===s){const l=function $ae(n){return"function"==typeof n||"object"==typeof n&&n instanceof J}(t)&&Ow(t);s=l&&this.injectableDefInScope(l)?zf(nO(t),mS):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(i&et.Self?gS():this.parent).get(t,e=i&et.Optional&&e===Rv?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Pw]=a[Pw]||[]).unshift(jn(t)),r)throw a;return function jne(n,t,e,i){const r=n[Pw];throw t[bB]&&r.unshift(t[bB]),n.message=function Une(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=jn(t);if(Array.isArray(t))r=t.map(jn).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):jn(s)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Nne,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Pw]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{po(o),Vu(r)}}resolveInjectorInitializers(){const t=Vu(this),e=po(void 0);try{const i=this.get(ey.multi,ni,et.Self);for(const r of i)r()}finally{Vu(t),po(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(jn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(t){let e=Ph(t=mt(t))?t:mt(t&&t.provide);const i=function Uae(n){return JA(n)?zf(void 0,n.useValue):zf(NH(n),mS)}(t);if(Ph(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=zf(void 0,mS,!0),r.factory=()=>JM(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===mS&&(e.value=Hae,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Wae(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=mt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function nO(n){const t=Ow(n),e=null!==t?t.factory:Dh(n);if(null!==e)return e;if(n instanceof J)throw new ee(204,!1);if(n instanceof Function)return function jae(n){const t=n.length;if(t>0)throw Wv(t,"?"),new ee(204,!1);const e=function Fne(n){return n&&(n[Rw]||n[yB])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ee(204,!1)}function NH(n,t,e){let i;if(Ph(n)){const r=mt(n);return Dh(r)||nO(r)}if(JA(n))i=()=>mt(n.useValue);else if(function LH(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...JM(n.deps||[]));else if(function kH(n){return!(!n||!n.useExisting)}(n))i=()=>K(mt(n.useExisting));else{const r=mt(n&&(n.useClass||n.provide));if(!function zae(n){return!!n.deps}(n))return Dh(r)||nO(r);i=()=>new r(...JM(n.deps))}return i}function zf(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function rO(n,t){for(const e of n)Array.isArray(e)?rO(e,t):e&&qM(e)?rO(e.\u0275providers,t):t(e)}const ty=new J("AppId",{providedIn:"root",factory:()=>Kae}),Kae="ng",VH=new J("Platform Initializer"),ju=new J("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ii=new J("AnimationModuleType"),oO=new J("CSP nonce",{providedIn:"root",factory:()=>function Zv(){if(void 0!==WA)return WA;if(typeof document<"u")return document;throw new ee(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let BH=(n,t)=>null;function HH(n,t){return BH(n,t)}class ise{}class zH{}class rse{resolveComponentFactory(t){throw function nse(n){const t=Error(`No component factory found for ${jn(n)}.`);return t.ngComponent=n,t}(t)}}let Ih=(()=>{class n{}return n.NULL=new rse,n})();function ose(){return Wf(gr(),pe())}function Wf(n,t){return new Se(yo(n,t))}let Se=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=ose,n})();function ase(n){return n instanceof Se?n.nativeElement:n}class oy{}let Oc=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function sse(){const n=pe(),e=Xo(gr().index,n);return(qo(e)?e:n)[xt]}(),n})(),lse=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>null}),n})();class Fh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cse=new Fh("16.1.2"),gO={};function ay(n){for(;n;){n[St]|=64;const t=Yv(n);if(oA(n)&&!t)return n;n=t}return null}function vO(n){return n.ngOriginalError}class _l{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&vO(t);for(;e&&vO(e);)e=vO(e);return e||null}}const YH=new J("",{providedIn:"root",factory:()=>!1});function Rc(n){return n instanceof Function?n():n}class JH extends UB{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){ay(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,e,i){const r=or(this);this.trackingVersion++;try{t(e,i)}finally{or(r)}}destroy(){this.trackingVersion++}}let wS=null;function ej(){return wS??=new JH,wS}function tj(n,t){return n[t]??ej()}function ij(n,t){const e=ej();e.hasReadASignal&&(n[t]=wS,e.lView=n,wS=new JH)}const Et={};function N(n){nj(Yt(),pe(),Kr()+n,!1)}function nj(n,t,e,i){if(!i)if(3==(3&t[St])){const o=n.preOrderCheckHooks;null!==o&&$w(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Kw(t,o,0,e)}Th(e)}function sj(n,t=null,e=null,i){const r=lj(n,t,e,i);return r.resolveInjectorInitializers(),r}function lj(n,t=null,e=null,i,r=new Set){const o=[e||ni,Vae(n)];return i=i||("object"==typeof n?void 0:jn(n)),new iO(o,t||gS(),i||null,r)}let vr=(()=>{class n{static create(e,i){if(Array.isArray(e))return sj({name:""},i,e,"");{const r=e.name??"";return sj({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Rv,n.NULL=new PH,n.\u0275prov=ge({token:n,providedIn:"any",factory:()=>K(OH)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,t=et.Default){const e=pe();return null===e?K(n,t):D2(gr(),e,mt(n),t)}function vs(){throw new Error("invalid")}function SS(n,t,e,i,r,o,a,s,l,c,u){const d=t.blueprint.slice();return d[Un]=r,d[St]=140|i,(null!==c||n&&2048&n[St])&&(d[St]|=2048),JB(d),d[Qi]=d[Tf]=n,d[_n]=e,d[xh]=a||n&&n[xh],d[xt]=s||n&&n[xt],d[Df]=l||n&&n[Df]||null,d[Rr]=o,d[Vv]=function Loe(){return koe++}(),d[Dc]=u,d[NB]=c,d[Cn]=2==t.type?n[Cn]:d,d}function Kf(n,t,e,i,r){let o=n.data[t];if(null===o)o=function yO(n,t,e,i,r){const o=a2(),a=dA(),l=n.data[t]=function Ose(n,t,e,i,r,o){let a=t?t.injectorIndex:-1,s=0;return Rf()&&(s|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function Bre(){return ct.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const a=function Bv(){const n=ct.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return pl(o,!0),o}function sy(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function cj(n,t,e,i,r){const o=tj(t,Lw),a=Kr(),s=2&i;try{if(Th(-1),s&&t.length>Gt&&nj(n,t,Gt,!1),hl(s?2:0,r),s)o.runInContext(e,i,r);else{const c=or(null);try{e(i,r)}finally{or(c)}}}finally{s&&null===t[Lw]&&ij(t,Lw),Th(a),hl(s?3:1,r)}}function _O(n,t,e){if(rA(t)){const i=or(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const s=n.data[a];s.contentQueries&&s.contentQueries(1,e[a],a)}}finally{or(i)}}}function CO(n,t,e){o2()&&(function Nse(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;Eh(e)&&function zse(n,t,e){const i=yo(t,n),r=uj(e);let a=16;e.signals?a=4096:e.onPush&&(a=64);const s=xS(n,SS(n,r,null,a,i,t,null,n[xh].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=s}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Zw(e,t),Ir(i,t);const a=e.initialInputs;for(let s=r;s<o;s++){const l=n.data[s],c=Ah(t,n,s,e);Ir(c,t),null!==a&&Wse(0,s-r,c,l,0,a),gs(l)&&(Xo(e.index,t)[_n]=Ah(t,n,s,e))}}(n,t,e,yo(e,t)),64==(64&e.flags)&&mj(n,t,e))}function bO(n,t,e=yo){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],s=-1===a?e(t,n):n[a];n[r++]=s}}}function uj(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=wO(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function wO(n,t,e,i,r,o,a,s,l,c,u){const d=Gt+i,h=d+r,p=function xse(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Et);return e}(d,h),f="function"==typeof c?c():c;return p[Fe]={type:n,blueprint:p,template:e,queries:null,viewQuery:s,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:u}}let dj=n=>null;function hj(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?pj(e,t,r,o):i.hasOwnProperty(r)&&pj(e,t,i[r],o)}return e}function pj(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Jo(n,t,e,i,r,o,a,s){const l=yo(t,e);let u,c=t.inputs;!s&&null!=c&&(u=c[i])?(TO(n,e,u,i,r),Eh(t)&&function Ise(n,t){const e=Xo(t,n);16&e[St]||(e[St]|=64)}(e,t.index)):3&t.type&&(i=function Pse(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,o.setProperty(l,i,r))}function SO(n,t,e,i){if(o2()){const r=null===i?null:{"":-1},o=function Gse(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const a=e[o];if(RB(t,a.selectors,!1))if(i||(i=[]),gs(a))if(null!==a.findHostDirectiveDefs){const s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),i.unshift(...s,a),xO(n,t,s.length)}else i.unshift(a),xO(n,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,e);let a,s;null===o?a=s=null:[a,s]=o,null!==a&&fj(n,t,e,a,r,s),r&&function Bse(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new ee(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Fv(e.mergedAttrs,e.attrs)}function fj(n,t,e,i,r,o){for(let c=0;c<i.length;c++)SA(Zw(e,t),n,i[c].type);!function jse(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=sy(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=Fv(e.mergedAttrs,u.hostAttrs),Use(n,e,t,l,u),Hse(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),s=!0),l++}!function Rse(n,t,e){const r=t.directiveEnd,o=n.data,a=t.attrs,s=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=o[u],h=e?e.get(d):null,f=h?h.outputs:null;l=hj(d.inputs,u,l,h?h.inputs:null),c=hj(d.outputs,u,c,f);const m=null===l||null===a||OB(t)?null:$se(l,u,a);s.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=c}(n,e,o)}function mj(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=function jre(){return ct.lFrame.currentDirectiveIndex}();try{Th(o);for(let s=i;s<r;s++){const l=n.data[s],c=t[s];pA(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Vse(l,c)}}finally{Th(-1),pA(a)}}function Vse(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function xO(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Hse(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;gs(t)&&(e[""]=n)}}function Use(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Dh(r.type)),a=new Hv(o,gs(r),T);n.blueprint[i]=a,e[i]=a,function kse(n,t,e,i,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const s=~t.index;(function Lse(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=s&&a.push(s),a.push(e,i,o)}}(n,t,i,sy(n,e,r.hostVars,Et),r)}function Cl(n,t,e,i,r,o){const a=yo(n,t);!function EO(n,t,e,i,r,o,a){if(null==o)n.removeAttribute(t,r,e);else{const s=null==a?yt(o):a(o,i||"",r);n.setAttribute(t,r,s,e)}}(t[xt],a,o,n.value,e,i,r)}function Wse(n,t,e,i,r,o){const a=o[t];if(null!==a)for(let s=0;s<a.length;)gj(i,e,a[s++],a[s++],a[s++])}function gj(n,t,e,i,r){const o=or(null);try{const a=n.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(r=a[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{or(o)}}function $se(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const a=n[o];for(let s=0;s<a.length;s+=2)if(a[s]===t){i.push(o,a[s+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function vj(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function yj(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const a=n.data[o];mA(e[i]),a.contentQueries(2,t[o],o)}}}function xS(n,t){return n[Lv]?n[LB][ms]=t:n[Lv]=t,n[LB]=t,t}function DO(n,t,e){mA(0);const i=or(null);try{t(n,e)}finally{or(i)}}function _j(n){return n[Ef]||(n[Ef]=[])}function Cj(n){return n.cleanup||(n.cleanup=[])}function bj(n,t,e){return(null===n||gs(n))&&(e=function xre(n){for(;Array.isArray(n);){if("object"==typeof n[nA])return n;n=n[Un]}return null}(e[t.index])),e[xt]}function wj(n,t){const e=n[Df],i=e?e.get(_l,null):null;i&&i.handleError(t)}function TO(n,t,e,i,r){for(let o=0;o<e.length;){const a=e[o++],s=e[o++];gj(n.data[a],t[a],i,s,r)}}function Pc(n,t,e){const i=Uw(t,n);!function iH(n,t,e){n.setValue(t,e)}(n[xt],i,e)}function Kse(n,t){const e=Xo(t,n),i=e[Fe];!function Yse(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Un];null!==r&&null===e[Dc]&&(e[Dc]=HH(r,e[Df])),MO(i,e,e[_n])}function MO(n,t,e){gA(t);try{const i=n.viewQuery;null!==i&&DO(1,i,e);const r=n.template;null!==r&&cj(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yj(n,t),n.staticViewQueries&&DO(2,n.viewQuery,e);const o=n.components;null!==o&&function qse(n,t){for(let e=0;e<t.length;e++)Kse(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[St]&=-5,vA()}}let Sj=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,a=new yre(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let s;this.all.add(a),a.notify();const l=()=>{a.cleanup(),s?.(),this.all.delete(a),this.queue.delete(a)};return s=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>new n}),n})();function ES(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const s=t[a];"number"==typeof s?o=s:1==o?r=KM(r,s):2==o&&(i=KM(i,s+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ly(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Vi(o)),vo(o)){for(let s=Pr;s<o.length;s++){const l=o[s],c=l[Fe].firstChild;null!==c&&ly(l[Fe],l,c,i)}o[ul]!==o[Un]&&i.push(o[ul])}const a=e.type;if(8&a)ly(n,t,e.child,i);else if(32&a){const s=LA(e,t);let l;for(;l=s();)i.push(l)}else if(16&a){const s=hH(t,e);if(Array.isArray(s))i.push(...s);else{const l=Yv(t[Cn]);ly(l[Fe],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}function DS(n,t,e,i=!0){const r=t[xh].rendererFactory;r.begin&&r.begin();try{xj(n,t,n.template,e)}catch(a){throw i&&wj(t,a),a}finally{r.end&&r.end(),t[xh].effectManager?.flush()}}function xj(n,t,e,i){const r=t[St];if(256!=(256&r)){t[xh].effectManager?.flush(),gA(t);try{JB(t),function l2(n){return ct.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&cj(n,t,e,2,i);const a=3==(3&r);if(a){const c=n.preOrderCheckHooks;null!==c&&$w(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Kw(t,c,0,null),yA(t,0)}if(function ele(n){for(let t=J2(n);null!==t;t=eH(t)){if(!t[VB])continue;const e=t[Af];for(let i=0;i<e.length;i++){Are(e[i])}}}(t),Ej(t,2),null!==n.contentQueries&&yj(n,t),a){const c=n.contentCheckHooks;null!==c&&$w(t,c)}else{const c=n.contentHooks;null!==c&&Kw(t,c,1),yA(t,1)}!function Sse(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=tj(t,Nw);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Th(~o);else{const a=o,s=e[++r],l=e[++r];Hre(s,a),i.runInContext(l,2,t[a])}}}finally{null===t[Nw]&&ij(t,Nw),Th(-1)}}(n,t);const s=n.components;null!==s&&Tj(t,s,0);const l=n.viewQuery;if(null!==l&&DO(2,l,i),a){const c=n.viewCheckHooks;null!==c&&$w(t,c)}else{const c=n.viewHooks;null!==c&&Kw(t,c,2),yA(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[St]&=-73,e2(t)}finally{vA()}}}function Ej(n,t){for(let e=J2(n);null!==e;e=eH(e))for(let i=Pr;i<e.length;i++)Dj(e[i],t)}function tle(n,t,e){Dj(Xo(t,n),e)}function Dj(n,t){if(!function Tre(n){return 128==(128&n[St])}(n))return;const e=n[Fe];if(80&n[St]&&0===t||1024&n[St]||2===t)xj(e,n,e.template,n[_n]);else if(n[kv]>0){Ej(n,1);const r=n[Fe].components;null!==r&&Tj(n,r,1)}}function Tj(n,t,e){for(let i=0;i<t.length;i++)tle(n,t[i],e)}class cy{get rootNodes(){const t=this._lView,e=t[Fe];return ly(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(t){this._lView[_n]=t}get destroyed(){return 256==(256&this._lView[St])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Qi];if(vo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(VA(t,i),Jw(e,i))}this._attachedToViewContainer=!1}rH(this._lView[Fe],this._lView)}onDestroy(t){!function n2(n,t){if(256==(256&n[St]))throw new ee(911,!1);null===n[Gu]&&(n[Gu]=[]),n[Gu].push(t)}(this._lView,t)}markForCheck(){ay(this._cdRefInjectingView||this._lView)}detach(){this._lView[St]&=-129}reattach(){this._lView[St]|=128}detectChanges(){DS(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xoe(n,t){Xv(n,t,t[xt],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t}}class ile extends cy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;DS(t[Fe],t,t[_n],!1)}checkNoChanges(){}get context(){return null}}class Mj extends Ih{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=li(t);return new uy(e,this.ngModule)}}function Aj(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class rle{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Iw(i);const r=this.injector.get(t,gO,i);return r!==gO||e===gO?r:this.parentInjector.get(t,e,i)}}class uy extends zH{get inputs(){return Aj(this.componentDef.inputs)}get outputs(){return Aj(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Jne(n){return n.map(Qne).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof yl?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new rle(t,o):t,s=a.get(oy,null);if(null===s)throw new ee(407,!1);const u={rendererFactory:s,sanitizer:a.get(lse,null),effectManager:a.get(Sj,null)},d=s.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?function Ese(n,t,e,i){const o=i.get(YH,!1)||e===fo.ShadowDom,a=n.selectRootElement(t,o);return function Dse(n){dj(n)}(a),a}(d,i,this.componentDef.encapsulation,a):sS(d,h,function nle(n){const t=n.toLowerCase();return"svg"===t?XB:"math"===t?"math":null}(h)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=wO(0,null,null,1,0,null,null,null,null,null,null),y=SS(null,v,null,g,null,null,u,d,a,null,null);let _,b;gA(y);try{const w=this.componentDef;let E,M=null;w.findHostDirectiveDefs?(E=[],M=new Map,w.findHostDirectiveDefs(w,E,M),E.push(w)):E=[w];const P=function ale(n,t){const e=n[Fe],i=Gt;return n[i]=t,Kf(e,i,2,"#host",null)}(y,p),I=function sle(n,t,e,i,r,o,a){const s=r[Fe];!function lle(n,t,e,i){for(const r of n)t.mergedAttrs=Fv(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(ES(t,t.mergedAttrs,!0),null!==e&&gH(i,e,t))}(i,n,t,a);let l=null;null!==t&&(l=HH(t,r[Df]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=SS(r,uj(e),null,u,r[n.index],n,o,c,null,null,l);return s.firstCreatePass&&xO(s,n,i.length-1),xS(r,d),r[n.index]=d}(P,p,w,E,y,u,d);b=QB(v,Gt),p&&function ule(n,t,e,i){if(i)iA(n,e,["ng-version",cse.full]);else{const{attrs:r,classes:o}=function ere(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!fs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&iA(n,e,r),o&&o.length>0&&mH(n,e,o.join(" "))}}(d,w,p,i),void 0!==e&&function dle(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(b,this.ngContentSelectors,e),_=function cle(n,t,e,i,r,o){const a=gr(),s=r[Fe],l=yo(a,r);fj(s,r,a,e,null,i);for(let u=0;u<e.length;u++)Ir(Ah(r,s,a.directiveStart+u,a),r);mj(s,r,a),l&&Ir(l,r);const c=Ah(r,s,a.directiveStart+a.componentOffset,a);if(n[_n]=r[_n]=c,null!==o)for(const u of o)u(c,t);return _O(s,a,n),c}(I,w,E,M,y,[hle]),MO(v,y,null)}finally{vA()}return new ole(this.componentType,_,Wf(b,y),y,b)}}class ole extends ise{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new ile(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;TO(o[Fe],o,r,t,e),this.previousInputValues.set(t,e),ay(Xo(this._tNode.index,o))}}get injector(){return new Ff(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hle(){const n=gr();Ww(pe()[Fe],n)}function me(n){let t=function Oj(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(gs(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ee(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=TS(n.inputs),a.inputTransforms=TS(n.inputTransforms),a.declaredInputs=TS(n.declaredInputs),a.outputs=TS(n.outputs);const s=r.hostBindings;s&&gle(n,s);const l=r.viewQuery,c=r.contentQueries;if(l&&fle(n,l),c&&mle(n,c),Tw(n.inputs,r.inputs),Tw(n.declaredInputs,r.declaredInputs),Tw(n.outputs,r.outputs),null!==r.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Tw(a.inputTransforms,r.inputTransforms)),gs(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===me&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ple(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Fv(r.hostAttrs,e=Fv(e,r.hostAttrs))}}(i)}function TS(n){return n===ll?{}:n===ni?[]:n}function fle(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function mle(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function gle(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Fj(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function MS(n){return!!AO(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function AO(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function bl(n,t,e){return n[t]=e}function Fr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function kh(n,t,e,i){const r=Fr(n,t,e);return Fr(n,t+1,i)||r}function je(n,t,e,i){const r=pe();return Fr(r,Pf(),t)&&(Yt(),Cl(Ji(),r,n,t,e,i)),je}function qf(n,t,e,i){return Fr(n,Pf(),e)?t+yt(e)+i:Et}function Xf(n,t,e,i,r,o){const s=kh(n,function Tc(){return ct.lFrame.bindingIndex}(),e,r);return Mc(2),s?t+yt(e)+i+yt(r)+o:Et}function ue(n,t,e,i,r,o,a,s){const l=pe(),c=Yt(),u=n+Gt,d=c.firstCreatePass?function Hle(n,t,e,i,r,o,a,s,l){const c=t.consts,u=Kf(t,n,4,a||null,Bu(c,s));SO(t,e,u,Bu(c,l)),Ww(t,u);const d=u.tView=wO(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,a):c.data[u];pl(d,!1);const h=Kj(c,l,d,n);zw()&&cS(c,l,h,d),Ir(h,l),xS(l,l[u]=vj(h,l,h,d)),Gw(d)&&CO(c,l,d),null!=a&&bO(l,d,s)}let Kj=function Yj(n,t,e,i){return Hu(!0),t[xt].createComment("")};function rn(n){return Of(function Gre(){return ct.lFrame.contextLView}(),Gt+n)}function j(n,t,e){const i=pe();return Fr(i,Pf(),t)&&Jo(Yt(),Ji(),i,n,t,i[xt],e,!1),j}function kO(n,t,e,i,r){const a=r?"class":"style";TO(n,e,t.inputs[a],a,i)}function O(n,t,e,i){const r=pe(),o=Yt(),a=Gt+n,s=r[xt],l=o.firstCreatePass?function Wle(n,t,e,i,r,o){const a=t.consts,l=Kf(t,n,2,i,Bu(a,r));return SO(t,e,l,Bu(a,o)),null!==l.attrs&&ES(l,l.attrs,!1),null!==l.mergedAttrs&&ES(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,o,r,t,e,i):o.data[a],c=qj(o,r,l,s,t,n);r[a]=c;const u=Gw(l);return pl(l,!0),gH(s,c,l),32!=(32&l.flags)&&zw()&&cS(o,r,c,l),0===function Rre(){return ct.lFrame.elementDepthCount}()&&Ir(c,r),function Pre(){ct.lFrame.elementDepthCount++}(),u&&(CO(o,r,l),_O(o,l,r)),null!==i&&bO(r,l),O}function A(){let n=gr();dA()?hA():(n=n.parent,pl(n,!1));const t=n;(function Fre(n){return ct.skipHydrationRootTNode===n})(t)&&function Vre(){ct.skipHydrationRootTNode=null}(),function Ire(){ct.lFrame.elementDepthCount--}();const e=Yt();return e.firstCreatePass&&(Ww(e,n),rA(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Zre(n){return 0!=(8&n.flags)}(t)&&kO(e,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Qre(n){return 0!=(16&n.flags)}(t)&&kO(e,t,pe(),t.stylesWithoutHost,!1),A}function te(n,t,e,i){return O(n,t,e,i),A(),te}let qj=(n,t,e,i,r,o)=>(Hu(!0),sS(i,r,function g2(){return ct.lFrame.currentNamespace}()));function La(n,t,e){const i=pe(),r=Yt(),o=n+Gt,a=r.firstCreatePass?function Yle(n,t,e,i,r){const o=t.consts,a=Bu(o,i),s=Kf(t,n,8,"ng-container",a);return null!==a&&ES(s,a,!0),SO(t,e,s,Bu(o,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,r,i,t,e):r.data[o];pl(a,!0);const s=Xj(r,i,a,n);return i[o]=s,zw()&&cS(r,i,s,a),Ir(s,i),Gw(a)&&(CO(r,i,a),_O(r,a,i)),null!=e&&bO(i,a),La}function Na(){let n=gr();const t=Yt();return dA()?hA():(n=n.parent,pl(n,!1)),t.firstCreatePass&&(Ww(t,n),rA(n)&&t.queries.elementEnd(n)),Na}function wl(n,t,e){return La(n,t,e),Na(),wl}let Xj=(n,t,e,i)=>(Hu(!0),NA(t[xt],""));function Ei(){return pe()}function my(n){return!!n&&"function"==typeof n.then}function Zj(n){return!!n&&"function"==typeof n.subscribe}function se(n,t,e,i){const r=pe(),o=Yt(),a=gr();return Qj(o,r,r[xt],a,n,t,i),se}function IS(n,t){const e=gr(),i=pe(),r=Yt();return Qj(r,i,bj(fA(r.data),e,i),e,n,t),IS}function Qj(n,t,e,i,r,o,a){const s=Gw(i),c=n.firstCreatePass&&Cj(n),u=t[_n],d=_j(t);let h=!0;if(3&i.type||a){const m=yo(i,t),g=a?a(m):m,v=d.length,y=a?b=>a(Vi(b[i.index])):i.index;let _=null;if(!a&&s&&(_=function Zle(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===e&&r[o+1]===i){const s=t[Ef],l=r[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,t,r,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1;else{o=e3(i,t,u,o,!1);const b=e.listen(g,r,o);d.push(o,b),c&&c.push(r,y,v,v+1)}}else o=e3(i,t,u,o,!1);const p=i.outputs;let f;if(h&&null!==p&&(f=p[r])){const m=f.length;if(m)for(let g=0;g<m;g+=2){const w=t[f[g]][f[g+1]].subscribe(o),E=d.length;d.push(o,w),c&&c.push(r,i.index,E,-(E+1))}}}function Jj(n,t,e,i){try{return hl(6,t,e),!1!==e(i)}catch(r){return wj(n,r),!1}finally{hl(7,t,e)}}function e3(n,t,e,i,r){return function o(a){if(a===Function)return i;ay(n.componentOffset>-1?Xo(n.index,t):t);let l=Jj(t,e,i,a),c=o.__ngNextListenerFn__;for(;c;)l=Jj(t,e,c,a)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&a.preventDefault(),l}}function de(n=1){return function zre(n){return(ct.lFrame.contextLView=function Wre(n,t){for(;n>0;)t=t[Tf],n--;return t}(n,ct.lFrame.contextLView))[_n]}(n)}function Qle(n,t){let e=null;const i=function Yne(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?RB(n,o,!0):Zne(i,o))return r}else e=r}return e}function Zt(n){const t=pe()[Cn][Rr];if(!t.projection){const i=t.projection=Wv(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const a=n?Qle(o,n):0;null!==a&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function Ge(n,t=0,e){const i=pe(),r=Yt(),o=Kf(r,Gt+n,16,null,e||null);null===o.projection&&(o.projection=t),hA(),(!i[Dc]||Rf())&&32!=(32&o.flags)&&function rae(n,t,e){fH(t[xt],0,t,e,BA(n,e,t),lH(e.parent||t[Rr],e,t))}(r,i,o)}function LO(n,t,e){return FS(n,"",t,"",e),LO}function FS(n,t,e,i,r){const o=pe(),a=qf(o,t,e,i);return a!==Et&&Jo(Yt(),Ji(),o,n,a,o[xt],r,!1),FS}function kS(n,t){return n<<17|t<<2}function Uu(n){return n>>17&32767}function NO(n){return 2|n}function Lh(n){return(131068&n)>>2}function VO(n,t){return-131069&n|t<<2}function GO(n){return 1|n}function u3(n,t,e,i,r){const o=n[e+1],a=null===t;let s=i?Uu(o):Lh(o),l=!1;for(;0!==s&&(!1===l||a);){const u=n[s+1];rce(n[s],t)&&(l=!0,n[s+1]=i?GO(u):NO(u)),s=i?Uu(u):Lh(u)}l&&(n[e+1]=i?NO(o):GO(o))}function rce(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Gf(n,t)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d3(n){return n.substring(Wn.key,Wn.keyEnd)}function oce(n){return n.substring(Wn.value,Wn.valueEnd)}function h3(n,t){const e=Wn.textEnd;return e===t?-1:(t=Wn.keyEnd=function lce(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Wn.key=t,e),nm(n,t,e))}function p3(n,t){const e=Wn.textEnd;let i=Wn.key=nm(n,t,e);return e===i?-1:(i=Wn.keyEnd=function cce(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=m3(n,i,e),i=Wn.value=nm(n,i,e),i=Wn.valueEnd=function uce(n,t,e){let i=-1,r=-1,o=-1,a=t,s=a;for(;a<e;){const l=n.charCodeAt(a++);if(59===l)return s;34===l||39===l?s=a=g3(n,l,a,e):t===a-4&&85===o&&82===r&&76===i&&40===l?s=a=g3(n,41,a,e):l>32&&(s=a),o=r,r=i,i=-33&l}return s}(n,i,e),m3(n,i,e))}function f3(n){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=n.length}function nm(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function m3(n,t,e,i){return(t=nm(n,t,e))<e&&t++,t}function g3(n,t,e,i){let r=-1,o=e;for(;o<i;){const a=n.charCodeAt(o++);if(a==t&&92!==r)return o;r=92==a&&92===r?0:a}throw new Error}function Yr(n,t,e){return ys(n,t,e,!1),Yr}function Be(n,t){return ys(n,t,null,!0),Be}function dce(n,t){for(let e=function sce(n){return f3(n),p3(n,nm(n,0,Wn.textEnd))}(t);e>=0;e=p3(t,e))C3(n,d3(t),oce(t))}function xl(n,t){for(let e=function ace(n){return f3(n),h3(n,nm(n,0,Wn.textEnd))}(t);e>=0;e=h3(t,e))Zo(n,d3(t),!0)}function ys(n,t,e,i){const r=pe(),o=Yt(),a=Mc(2);o.firstUpdatePass&&_3(o,n,a,i),t!==Et&&Fr(r,a,t)&&b3(o,o.data[Kr()],r,r[xt],n,r[a+1]=function _ce(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=jn(Qo(n)))),n}(t,e),i,a)}function _s(n,t,e,i){const r=Yt(),o=Mc(2);r.firstUpdatePass&&_3(r,null,o,i);const a=pe();if(e!==Et&&Fr(a,o,e)){const s=r.data[Kr()];if(S3(s,i)&&!y3(r,o)){let l=i?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(e=KM(l,e||"")),kO(r,s,a,e,i)}else!function yce(n,t,e,i,r,o,a,s){r===Et&&(r=ni);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<r.length?r[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let m,f=null;u===d?(l+=2,c+=2,h!==p&&(f=d,m=p)):null===d||null!==u&&u<d?(l+=2,f=u):(c+=2,f=d,m=p),null!==f&&b3(n,t,e,i,f,m,a,s),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,s,a,a[xt],a[o+1],a[o+1]=function gce(n,t,e){if(null==e||""===e)return ni;const i=[],r=Qo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function y3(n,t){return t>=n.expandoStartIndex}function _3(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Kr()],a=y3(n,e);S3(o,i)&&null===t&&!a&&(t=!1),t=function hce(n,t,e,i){const r=fA(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=gy(e=BO(null,n,t,e,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=BO(r,n,t,e,i),null===o){let l=function pce(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Lh(i))return n[Uu(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=BO(null,n,t,l[1],i),l=gy(l,t.attrs,i),function fce(n,t,e,i){n[Uu(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function mce(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=gy(i,n[o].hostAttrs,e);return gy(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function ice(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,s=Uu(a),l=Lh(a);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||Gf(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const h=Uu(n[s+1]);n[i+1]=kS(h,s),0!==h&&(n[h+1]=VO(n[h+1],i)),n[s+1]=function ece(n,t){return 131071&n|t<<17}(n[s+1],i)}else n[i+1]=kS(s,0),0!==s&&(n[s+1]=VO(n[s+1],i)),s=i;else n[i+1]=kS(l,0),0===s?s=i:n[l+1]=VO(n[l+1],i),l=i;c&&(n[i+1]=NO(n[i+1])),u3(n,u,i,!0),u3(n,u,i,!1),function nce(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Gf(o,t)>=0&&(e[i+1]=GO(e[i+1]))}(t,u,n,i,o),a=kS(s,l),o?t.classBindings=a:t.styleBindings=a}(r,o,t,e,a,i)}}function BO(n,t,e,i,r){let o=null;const a=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<a&&(o=t[s],i=gy(i,o.hostAttrs,r),o!==n);)s++;return null!==n&&(e.directiveStylingLast=s),i}function gy(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zo(n,a,!!e||t[++o]))}return void 0===n?null:n}function C3(n,t,e){Zo(n,t,Qo(e))}function vce(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Zo(n,i,e)}function b3(n,t,e,i,r,o,a,s){if(!(3&t.type))return;const l=n.data,c=l[s+1],u=function tce(n){return 1==(1&n)}(c)?w3(l,t,e,r,Lh(c),a):void 0;LS(u)||(LS(o)||function Jle(n){return 2==(2&n)}(c)&&(o=w3(l,null,e,r,s,a)),function aae(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:_o.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=_o.Important),n.setStyle(e,i,r,o))}}(i,a,Uw(Kr(),e),r,o))}function w3(n,t,e,i,r,o){const a=null===t;let s;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===Et&&(h=d?ni:void 0);let p=d?DA(h,i):u===i?h:void 0;if(c&&!LS(p)&&(p=DA(l,i)),LS(p)&&(s=p,a))return s;const f=n[r+1];r=a?Uu(f):Lh(f)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(s=DA(l,i))}return s}function LS(n){return void 0!==n}function S3(n,t){return 0!=(n.flags&(t?8:16))}function F(n,t=""){const e=pe(),i=Yt(),r=n+Gt,o=i.firstCreatePass?Kf(i,r,1,t,null):i.data[r],a=x3(i,e,o,t,n);e[r]=a,zw()&&cS(i,e,a,o),pl(o,!1)}let x3=(n,t,e,i,r)=>(Hu(!0),function aS(n,t){return n.createText(t)}(t[xt],i));function Ct(n){return He("",n,""),Ct}function He(n,t,e){const i=pe(),r=qf(i,n,t,e);return r!==Et&&Pc(i,Kr(),r),He}function ea(n,t,e,i,r){const o=pe(),a=Xf(o,n,t,e,i,r);return a!==Et&&Pc(o,Kr(),a),ea}function Ic(n,t,e){!function Sl(n){_s(C3,dce,n,!1)}(qf(pe(),n,t,e))}function Fc(n,t,e){const i=pe();return Fr(i,Pf(),t)&&Jo(Yt(),Ji(),i,n,t,i[xt],e,!0),Fc}function NS(n,t,e){const i=pe();if(Fr(i,Pf(),t)){const o=Yt(),a=Ji();Jo(o,a,i,n,t,bj(fA(o.data),a,i),e,!0)}return NS}const om="en-US";let z3=om;function UO(n,t,e,i,r){if(n=mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)UO(n[o],t,e,i,r);else{const o=Yt(),a=pe();let s=Ph(n)?n:mt(n.provide),l=NH(n);const c=gr(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ph(n)||!n.multi){const p=new Hv(l,r,T),f=WO(s,t,r?u:u+h,d);-1===f?(SA(Zw(c,a),o,s),zO(o,n,t.length),t.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(p),a.push(p)):(e[f]=p,a[f]=p)}else{const p=WO(s,t,u+h,d),f=WO(s,t,u,u+h),g=f>=0&&e[f];if(r&&!g||!r&&!(p>=0&&e[p])){SA(Zw(c,a),o,s);const v=function Nue(n,t,e,i,r){const o=new Hv(n,e,T);return o.multi=[],o.index=t,o.componentProviders=0,mU(o,r,i&&!e),o}(r?Lue:kue,e.length,r,i,l);!r&&g&&(e[f].providerFactory=v),zO(o,n,t.length,0),t.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(v),a.push(v)}else zO(o,n,p>-1?p:f,mU(e[r?f:p],l,!r&&i));!r&&i&&g&&e[f].componentProviders++}}}function zO(n,t,e,i){const r=Ph(t),o=function Bae(n){return!!n.useClass}(t);if(r||o){const l=(o?mt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function mU(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function WO(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function kue(n,t,e,i){return $O(this.multi,[])}function Lue(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=Ah(e,e[Fe],this.providerFactory.index,i);o=s.slice(0,a),$O(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],$O(r,o);return o}function $O(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ne(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Fue(n,t,e){const i=Yt();if(i.firstCreatePass){const r=gs(n);UO(e,i.data,i.blueprint,r,!0),UO(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class am{}class gU{}class KO extends am{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mj(this);const r=Yo(t);this._bootstrapComponents=Rc(r.bootstrap),this._r3Injector=lj(t,e,[{provide:am,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver},...i],jn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class YO extends gU{constructor(t){super(),this.moduleType=t}create(t){return new KO(this.moduleType,t,[])}}class vU extends am{constructor(t){super(),this.componentFactoryResolver=new Mj(this),this.instance=null;const e=new iO([...t.providers,{provide:am,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],t.parent||gS(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function qO(n,t,e=null){return new vU({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Bue=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=IH(0,e.type),r=i.length>0?qO([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ge({token:n,providedIn:"environment",factory:()=>new n(K(yl))}),n})();function XO(n){n.getStandaloneInjector=t=>t.get(Bue).getOrCreateStandaloneInjector(n)}function jS(n,t,e,i){return EU(pe(),$r(),n,t,e,i)}function zu(n,t,e,i,r){return function DU(n,t,e,i,r,o,a){const s=t+e;return kh(n,s,r,o)?bl(n,s+2,a?i.call(a,r,o):i(r,o)):wy(n,s+2)}(pe(),$r(),n,t,e,i,r)}function wy(n,t){const e=n[t];return e===Et?void 0:e}function EU(n,t,e,i,r,o){const a=t+e;return Fr(n,a,r)?bl(n,a+1,o?i.call(o,r):i(r)):wy(n,a+1)}function QO(n,t){const e=Yt();let i;const r=n+Gt;e.firstCreatePass?(i=function ide(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Dh(i.type)),a=po(T);try{const s=Xw(!1),l=o();return Xw(s),function zle(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,pe(),r,l),l}finally{po(a)}}function JO(n,t,e){const i=n+Gt,r=pe(),o=Of(r,i);return function Sy(n,t){return n[Fe].data[t].pure}(r,i)?EU(r,$r(),t,o.transform,e,o):o.transform(e)}function eR(n){return t=>{setTimeout(n,void 0,t)}}const U=class sde extends Oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),a=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=eR(o),r&&(r=eR(r)),a&&(a=eR(a)));const s=super.subscribe({next:r,error:o,complete:a});return t instanceof Rt&&t.add(s),s}};function lde(){return this._results[Symbol.iterator]()}class Vh{get changes(){return this._changes||(this._changes=new U)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vh.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lde)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function Ia(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function coe(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gi=(()=>{class n{}return n.__NG_ELEMENT_ID__=dde,n})();const cde=Gi,ude=class extends cde{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e,null)}createEmbeddedViewImpl(t,e,i){const a=this._declarationTContainer.tView,s=SS(this._declarationLView,a,t,4096&this._declarationLView[St]?4096:16,null,a.declTNode,null,null,null,e||null,i||null);s[Nv]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[cl];return null!==c&&(s[cl]=c.createEmbeddedView(a)),MO(a,s,t),new cy(s)}};function dde(){return US(gr(),pe())}function US(n,t){return 4&n.type?new ude(t,n,Wf(n,t)):null}let Fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=yde,n})();function yde(){return kU(gr(),pe())}const _de=Fi,IU=class extends _de{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Wf(this._hostTNode,this._hostLView)}get injector(){return new Ff(this._hostTNode,this._hostLView)}get parentInjector(){const t=wA(this._hostTNode,this._hostLView);if(C2(t)){const e=qw(t,this._hostLView),i=Yw(t);return new Ff(e[Fe].data[i+8],e)}return new Ff(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=FU(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Pr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(s,r,false),s}createComponent(t,e,i,r,o){const a=t&&!function Uv(n){return"function"==typeof n}(t);let s;if(a)s=e;else{const m=e||{};s=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const l=a?t:new uy(li(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const g=(a?c:this.parentInjector).get(yl,null);g&&(o=g)}li(l.componentType??{});const p=l.create(c,r,null,o);return this.insertImpl(p.hostView,s,false),p}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView,o=r[Fe];if(function Mre(n){return vo(n[Qi])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Qi],u=new IU(c,c[Rr],c[Qi]);u.detach(u.indexOf(t))}}const a=this._adjustIndex(e),s=this._lContainer;if(function Qoe(n,t,e,i){const r=Pr+i,o=e.length;i>0&&(e[r-1][ms]=t),i<o-Pr?(t[ms]=e[r],P2(e,Pr+i,t)):(e.push(t),t[ms]=null),t[Qi]=e;const a=t[Nv];null!==a&&e!==a&&function Joe(n,t){const e=n[Af];t[Cn]!==t[Qi][Qi][Cn]&&(n[VB]=!0),null===e?n[Af]=[t]:e.push(t)}(a,t);const s=t[cl];null!==s&&s.insertView(n),t[St]|=128}(o,r,s,a),!i){const l=jA(a,s),c=r[xt],u=lS(c,s[ul]);null!==u&&function qoe(n,t,e,i,r,o){i[Un]=r,i[Rr]=t,Xv(n,i,e,1,r,o)}(o,s[Rr],c,r,u,l)}return t.attachToViewContainerRef(),P2(iR(s),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=FU(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=VA(this._lContainer,e);i&&(Jw(iR(this._lContainer),e),rH(i[Fe],i))}detach(t){const e=this._adjustIndex(t,-1),i=VA(this._lContainer,e);return i&&null!=Jw(iR(this._lContainer),e)?new cy(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function FU(n){return n[8]}function iR(n){return n[8]||(n[8]=[])}function kU(n,t){let e;const i=t[n.index];return vo(i)?e=i:(e=vj(i,t,null,n),t[n.index]=e,xS(t,e)),LU(e,t,n,i),new IU(e,n,t)}let LU=function NU(n,t,e,i){if(n[ul])return;let r;r=8&e.type?Vi(i):function Cde(n,t){const e=n[xt],i=e.createComment(""),r=yo(t,n);return Oh(e,lS(e,r),i,function nae(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[ul]=r};class nR{constructor(t){this.queryList=t,this.matches=null}clone(){return new nR(this.queryList)}setDirty(){this.queryList.setDirty()}}class rR{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const a=e.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new rR(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==jU(t,e).matches&&this.queries[e].setDirty()}}class VU{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class oR{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new oR(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class aR{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new aR(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,Sde(e,o)),this.matchTNodeWithReadOption(t,e,Qw(e,t,o,!1,!1))}else i===Gi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qw(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Se||r===Fi||r===Gi&&4&e.type)this.addMatch(e.index,-2);else{const o=Qw(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Sde(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Ede(n,t,e,i){return-1===e?function xde(n,t){return 11&n.type?Wf(n,t):4&n.type?US(n,t):null}(t,n):-2===e?function Dde(n,t,e){return e===Se?Wf(t,n):e===Gi?US(t,n):e===Fi?kU(t,n):void 0}(n,t,i):Ah(n,n[Fe],e,t)}function GU(n,t,e,i){const r=t[cl].queries[i];if(null===r.matches){const o=n.data,a=e.matches,s=[];for(let l=0;l<a.length;l+=2){const c=a[l];s.push(c<0?null:Ede(t,o[c],a[l+1],e.metadata.read))}r.matches=s}return r.matches}function sR(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const a=GU(n,t,r,e);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)i.push(a[s/2]);else{const c=o[s+1],u=t[-l];for(let d=Pr;d<u.length;d++){const h=u[d];h[Nv]===h[Qi]&&sR(h[Fe],h,c,i)}if(null!==u[Af]){const d=u[Af];for(let h=0;h<d.length;h++){const p=d[h];sR(p[Fe],p,c,i)}}}}}return i}function ye(n){const t=pe(),e=Yt(),i=u2();mA(i+1);const r=jU(e,i);if(n.dirty&&function Dre(n){return 4==(4&n[St])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?sR(e,t,i,[]):GU(e,t,r,i);n.reset(o,ase),n.notifyOnChanges()}return!0}return!1}function Xe(n,t,e){const i=Yt();i.firstCreatePass&&(HU(i,new VU(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),BU(i,pe(),t)}function Tt(n,t,e,i){const r=Yt();if(r.firstCreatePass){const o=gr();HU(r,new VU(t,e,i),o.index),function Mde(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}BU(r,pe(),e)}function _e(){return function Tde(n,t){return n[cl].queries[t].queryList}(pe(),u2())}function BU(n,t,e){const i=new Vh(4==(4&e));(function Ase(n,t,e,i){const r=_j(t);r.push(e),n.firstCreatePass&&Cj(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[cl]&&(t[cl]=new rR),t[cl].queries.push(new nR(i))}function HU(n,t,e){null===n.queries&&(n.queries=new oR),n.queries.track(new aR(t,e))}function jU(n,t){return n.queries.getByIndex(t)}function sm(n,t){return US(n,t)}const pR=new J("Application Initializer");let fR=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=be(pR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(my(o))e.push(o);else if(Zj(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oz=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const El=new J("LocaleId",{providedIn:"root",factory:()=>be(El,et.Optional|et.SkipSelf)||function qde(){return typeof $localize<"u"&&$localize.locale||om}()});let WS=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fr(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zde{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let az=(()=>{class n{compileModuleSync(e){return new YO(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Rc(Yo(e).declarations).reduce((a,s)=>{const l=li(s);return l&&a.push(new uy(l)),a},[]);return new Zde(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cz(...n){}class De{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new U(!1),this.onMicrotaskEmpty=new U(!1),this.onStable=new U(!1),this.onError=new U(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ehe(){let n=Pi.requestAnimationFrame,t=Pi.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function nhe(n){const t=()=>{!function ihe(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gR(n),n.isCheckStableRunning=!0,mR(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gR(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,a,s)=>{try{return uz(n),e.invokeTask(r,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),dz(n)}},onInvoke:(e,i,r,o,a,s,l)=>{try{return uz(n),e.invoke(r,o,a,s,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),dz(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,gR(n),mR(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new ee(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,the,cz,cz);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const the={};function mR(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gR(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function uz(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dz(n){n._nesting--,mR(n)}class rhe{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new U,this.onMicrotaskEmpty=new U,this.onStable=new U,this.onError=new U}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const hz=new J("",{providedIn:"root",factory:pz});function pz(){const n=be(De);let t=!0;return nn(new pi(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new pi(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const a=n.onUnstable.subscribe(()=>{De.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(Dw()))}const fz=new J(""),$S=new J("");let _R,vR=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_R||(function ohe(n){_R=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(K(De),K(yR),K($S))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),yR=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return _R?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Wu=null;const mz=new J("AllowMultipleToken"),CR=new J("PlatformDestroyListeners"),bR=new J("appBootstrapListener");class vz{constructor(t,e){this.name=t,this.token=e}}function _z(n,t,e=[]){const i=`Platform: ${t}`,r=new J(i);return(o=[])=>{let a=wR();if(!a||a.injector.get(mz,!1)){const s=[...e,...o,{provide:r,useValue:!0}];n?n(s):function lhe(n){if(Wu&&!Wu.get(mz,!1))throw new ee(400,!1);(function gz(){!function gre(n){zB=n}(()=>{throw new ee(600,!1)})})(),Wu=n;const t=n.get(bz);(function yz(n){n.get(VH,null)?.forEach(e=>e())})(n)}(function Cz(n=[],t){return vr.create({name:t,providers:[{provide:eO,useValue:"platform"},{provide:CR,useValue:new Set([()=>Wu=null])},...n]})}(s,i))}return function uhe(n){const t=wR();if(!t)throw new ee(401,!1);return t}()}}function wR(){return Wu?.get(bz)??null}let bz=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function dhe(n="zone.js",t){return"noop"===n?new rhe:"zone.js"===n?new De(t):n}(i?.ngZone,function wz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Gue(n,t,e){return new KO(n,t,e)}(e.moduleType,this.injector,function Tz(n){return[{provide:De,useFactory:n},{provide:ey,multi:!0,useFactory:()=>{const t=be(phe,{optional:!0});return()=>t.initialize()}},{provide:Dz,useFactory:hhe},{provide:hz,useFactory:pz}]}(()=>r)),a=o.injector.get(_l,null);return r.runOutsideAngular(()=>{const s=r.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{KS(this._modules,o),s.unsubscribe()})}),function Sz(n,t,e){try{const i=e();return my(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(a,r,()=>{const s=o.injector.get(fR);return s.runInitializers(),s.donePromise.then(()=>(function W3(n){Ra(n,"Expected localeId to be defined"),"string"==typeof n&&(z3=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(El,om)||om),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=xz({},i);return function ahe(n,t,e){const i=new YO(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get($u);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ee(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(CR,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(K(vr))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function xz(n,t){return Array.isArray(t)?t.reduce(xz,n):{...n,...t}}let $u=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(Dz),this.zoneIsStable=be(hz),this.componentTypes=[],this.components=[],this.isStable=be(WS).hasPendingTasks.pipe(mr(e=>e?Ve(!1):this.zoneIsStable),Ov(),Dw()),this._injector=be(yl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof zH;if(!this._injector.get(fR).done)throw!r&&function xf(n){const t=li(n)||Or(n)||go(n);return null!==t&&t.standalone}(e),new ee(405,!1);let a;a=r?e:this._injector.get(Ih).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const s=function she(n){return n.isBoundToModule}(a)?void 0:this._injector.get(am),c=a.create(vr.NULL,[],i||a.selector,s),u=c.location.nativeElement,d=c.injector.get(fz,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),KS(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;KS(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(bR,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>KS(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ee(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Dz=new J("",{providedIn:"root",factory:()=>be(_l).handleError.bind(void 0)});function hhe(){const n=be(De),t=be(_l);return e=>n.runOutsideAngular(()=>t.handleError(e))}let phe=(()=>{class n{constructor(){this.zone=be(De),this.applicationRef=be($u)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let Ft=(()=>{class n{}return n.__NG_ELEMENT_ID__=mhe,n})();function mhe(n){return function ghe(n,t,e){if(Eh(n)&&!e){const i=Xo(n.index,t);return new cy(i,i)}return 47&n.type?new cy(t[Cn],t):null}(gr(),pe(),16==(16&n))}class Rz{constructor(){}supports(t){return MS(t)}create(t){return new whe(t)}}const bhe=(n,t)=>t;class whe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bhe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const a=!i||e&&e.currentIndex<Iz(i,r,o)?e:i,s=Iz(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{o||(o=[]);const c=s-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,f=p+h;u<=f&&f<c&&(o[h]=p+1)}o[a.previousIndex]=u-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!MS(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next}else r=0,function Sle(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,s=>{a=this._trackByFn(r,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new She(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Pz),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pz),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class She{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xhe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Pz{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new xhe,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Iz(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class Fz{constructor(){}supports(t){return t instanceof Map||AO(t)}create(){return new Ehe}}class Ehe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||AO(t)))throw new ee(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new Dhe(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Dhe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kz(){return new Dl([new Rz])}let Dl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||kz()),deps:[[n,new gl,new Fa]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ee(901,!1)}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:kz}),n})();function Lz(){return new Ey([new Fz])}let Ey=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Lz()),deps:[[n,new gl,new Fa]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ee(901,!1)}}return n.\u0275prov=ge({token:n,providedIn:"root",factory:Lz}),n})();const Ahe=_z(null,"core",[]);let Ohe=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(K($u))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();function um(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let AR=null;function Ku(){return AR}class jhe{}const tt=new J("DocumentToken");let OR=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return be(zhe)},providedIn:"platform"}),n})();const Uhe=new J("Location Initialized");let zhe=(()=>{class n extends OR{constructor(){super(),this._doc=be(tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ku().getBaseHref(this._doc)}onPopState(e){const i=Ku().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ku().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function RR(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Uz(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function kc(n){return n&&"?"!==n[0]?"?"+n:n}let Bh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return be(Wz)},providedIn:"root"}),n})();const zz=new J("appBaseHref");let Wz=(()=>{class n extends Bh{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??be(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return RR(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+kc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+kc(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+kc(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(K(OR),K(zz,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Whe=(()=>{class n extends Bh{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=RR(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+kc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+kc(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(K(OR),K(zz,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Dy=(()=>{class n{constructor(e){this._subject=new U,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Yhe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Uz($z(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+kc(i))}normalize(e){return n.stripTrailingSlash(function Khe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,$z(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+kc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+kc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=kc,n.joinWithSlash=RR,n.stripTrailingSlash=Uz,n.\u0275fac=function(e){return new(e||n)(K(Bh))},n.\u0275prov=ge({token:n,factory:function(){return function $he(){return new Dy(K(Bh))}()},providedIn:"root"}),n})();function $z(n){return n.replace(/\/index.html$/,"")}function tW(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const HR=/\s+/,iW=[];let Yu=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=iW,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(HR):iW}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(HR):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(HR).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(T(Dl),T(Ey),T(Se),T(Oc))},n.\u0275dir=Z({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ppe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ba=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ppe(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const s=i.get(o);i.move(s,a),rW(s,r)}});for(let r=0,o=i.length;r<o;r++){const s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{rW(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Gi),T(Dl))},n.\u0275dir=Z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function rW(n,t){n.context.$implicit=t.item}let Zr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Ipe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){oW("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){oW("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Gi))},n.\u0275dir=Z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ipe{constructor(){this.$implicit=null,this.ngIf=null}}function oW(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jn(t)}'.`)}class jR{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dm=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),s0=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new jR(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Gi),T(dm,9))},n.\u0275dir=Z({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),aW=(()=>{class n{constructor(e,i,r){r._addDefault(new jR(e,i))}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Gi),T(dm,9))},n.\u0275dir=Z({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),lW=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),a=-1===r.indexOf("-")?void 0:_o.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ey),T(Oc))},n.\u0275dir=Z({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),UR=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,o,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(T(Fi))},n.\u0275dir=Z({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ri]}),n})();class kpe{createSubscription(t,e){return WB(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){WB(()=>t.unsubscribe())}}class Lpe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Npe=new Lpe,Vpe=new kpe;let zR=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(my(e))return Npe;if(Zj(e))return Vpe;throw function ws(n,t){return new ee(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(T(Ft,16))},n.\u0275pipe=mo({name:"async",type:n,pure:!1,standalone:!0}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();const uW="browser";function dW(n){return"server"===n}let afe=(()=>{class n{}return n.\u0275prov=ge({token:n,providedIn:"root",factory:()=>new sfe(K(tt),window)}),n})();class sfe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lfe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hW(this.window.history)||hW(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hW(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pW{}class Rfe extends jhe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class qR extends Rfe{static makeCurrent(){!function Hhe(n){AR||(AR=n)}(new qR)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Pfe(){return Oy=Oy||document.querySelector("base"),Oy?Oy.getAttribute("href"):null}();return null==e?null:function Ife(n){u0=u0||document.createElement("a"),u0.setAttribute("href",n);const t=u0.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Oy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return tW(document.cookie,t)}}let u0,Oy=null,kfe=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const XR=new J("EventManagerPlugins");let yW=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(K(XR),K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class _W{constructor(t){this._doc=t}}const ZR="ng-app-id";let CW=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dW(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${ZR}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(ZR),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ZR,this.appId),a}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(ty),K(oO,8),K(ju))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const QR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},JR=/%COMP%/g,Gfe=new J("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wW(n,t){return t.map(e=>e.replace(JR,n))}let eP=(()=>{class n{constructor(e,i,r,o,a,s,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.doc=a,this.platformId=s,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=dW(s),this.defaultRenderer=new tP(e,a,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===fo.ShadowDom&&(i={...i,encapsulation:fo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof xW?r.applyToHost(e):r instanceof iP&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const a=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(i.encapsulation){case fo.Emulated:o=new xW(l,c,i,this.appId,u,a,s,d);break;case fo.ShadowDom:return new Ufe(l,c,e,i,a,s,this.nonce,d);default:o=new iP(l,c,i,u,a,s,d)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(e){return new(e||n)(K(yW),K(CW),K(ty),K(Gfe),K(tt),K(ju),K(De),K(oO))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class tP{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(QR[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(SW(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(SW(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new ee(5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=QR[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=QR[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(_o.DashCase|_o.Important)?t.style.setProperty(e,i,r&_o.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_o.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Ku().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function SW(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ufe extends tP{constructor(t,e,i,r,o,a,s,l){super(t,o,a,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=wW(r.id,r.styles);for(const u of c){const d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iP extends tP{constructor(t,e,i,r,o,a,s,l){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=l?wW(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class xW extends iP{constructor(t,e,i,r,o,a,s,l){const c=r+"-"+i.id;super(t,e,i,o,a,s,l,c),this.contentAttr=function Bfe(n){return"_ngcontent-%COMP%".replace(JR,n)}(c),this.hostAttr=function Hfe(n){return"_nghost-%COMP%".replace(JR,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let zfe=(()=>{class n extends _W{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const EW=["alt","control","meta","shift"],Wfe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$fe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kfe=(()=>{class n extends _W{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ku().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),a="code."),EW.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),a+=c+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static matchEventFullKeyCode(e,i){let r=Wfe[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),EW.forEach(a=>{a!==r&&(0,$fe[a])(e)&&(o+=a+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const TW=[{provide:ju,useValue:uW},{provide:VH,useValue:function Yfe(){qR.makeCurrent()},multi:!0},{provide:tt,useFactory:function Xfe(){return function dae(n){WA=n}(document),document},deps:[]}],Zfe=_z(Ahe,"browser",TW),Qfe=new J(""),MW=[{provide:$S,useClass:class Ffe{addToWindow(t){Pi.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new ee(5103,!1);return o},Pi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pi.getAllAngularRootElements=()=>t.getAllRootElements(),Pi.frameworkStabilizers||(Pi.frameworkStabilizers=[]),Pi.frameworkStabilizers.push(i=>{const r=Pi.getAllAngularTestabilities();let o=r.length,a=!1;const s=function(l){a=a||l,o--,0==o&&i(a)};r.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ku().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:fz,useClass:vR,deps:[De,yR,$S]},{provide:vR,useClass:vR,deps:[De,yR,$S]}],AW=[{provide:eO,useValue:"root"},{provide:_l,useFactory:function qfe(){return new _l},deps:[]},{provide:XR,useClass:zfe,multi:!0,deps:[tt,De,ju]},{provide:XR,useClass:Kfe,multi:!0,deps:[tt]},eP,CW,yW,{provide:oy,useExisting:eP},{provide:pW,useClass:kfe,deps:[]},[]];let OW=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ty,useValue:e.appId}]}}}return n.\u0275fac=function(e){return new(e||n)(K(Qfe,12))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[...AW,...MW],imports:[yr,Ohe]}),n})(),RW=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(K(tt))},n.\u0275prov=ge({token:n,factory:function(e){let i=null;return i=e?new e:function eme(){return new RW(K(tt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let rP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(e){let i=null;return i=e?new(e||n):K(FW),i},providedIn:"root"}),n})(),FW=(()=>{class n extends rP{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ci.NONE:return i;case ci.HTML:return vl(i,"HTML")?Qo(i):DH(this._doc,String(i)).toString();case ci.STYLE:return vl(i,"Style")?Qo(i):i;case ci.SCRIPT:if(vl(i,"Script"))return Qo(i);throw new ee(5200,!1);case ci.URL:return vl(i,"URL")?Qo(i):pS(String(i));case ci.RESOURCE_URL:if(vl(i,"ResourceURL"))return Qo(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(e){return function yae(n){return new hae(n)}(e)}bypassSecurityTrustStyle(e){return function _ae(n){return new pae(n)}(e)}bypassSecurityTrustScript(e){return function Cae(n){return new fae(n)}(e)}bypassSecurityTrustUrl(e){return function bae(n){return new mae(n)}(e)}bypassSecurityTrustResourceUrl(e){return function wae(n){return new gae(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(K(tt))},n.\u0275prov=ge({token:n,factory:function(e){let i=null;return i=e?new e:function rme(n){return new FW(n.get(tt))}(K(vr)),i},providedIn:"root"}),n})();function LW(n){return!!n&&(n instanceof pi||jt(n.lift)&&jt(n.subscribe))}const{isArray:ome}=Array,{getPrototypeOf:ame,prototype:sme,keys:lme}=Object;function NW(n){if(1===n.length){const t=n[0];if(ome(t))return{args:t,keys:null};if(function cme(n){return n&&"object"==typeof n&&ame(n)===sme}(t)){const e=lme(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:ume}=Array;function oP(n){return ot(t=>function dme(n,t){return ume(t)?n(...t):n(t)}(n,t))}function VW(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Hh(...n){const t=Av(n),e=dB(n),{args:i,keys:r}=NW(n);if(0===i.length)return yn([],t);const o=new pi(function hme(n,t,e=ku){return i=>{GW(t,()=>{const{length:r}=n,o=new Array(r);let a=r,s=r;for(let l=0;l<r;l++)GW(t,()=>{const c=yn(n[l],t);let u=!1;c.subscribe(Ni(i,d=>{o[l]=d,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>VW(r,a):ku));return e?o.pipe(oP(e)):o}function GW(n,t,e){n?Sc(e,n,t):t()}const d0=Tv(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ry(...n){return function pme(){return wf(1)}()(yn(n,Av(n)))}function hm(n){return new pi(t=>{ho(n()).subscribe(t)})}function pm(n,t){const e=jt(n)?n:()=>n,i=r=>r.error(e());return new pi(t?r=>t.schedule(i,0,r):i)}function aP(){return Zi((n,t)=>{let e=null;n._refCount++;const i=Ni(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sP extends pi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,XG(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt;const e=this.getSubject();t.add(this.source.subscribe(Ni(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.EMPTY)}return t}refCount(){return aP()(this)}}function _i(n){return n<=0?()=>Oa:Zi((t,e)=>{let i=0;t.subscribe(Ni(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function _r(...n){const t=Av(n);return Zi((e,i)=>{(t?Ry(n,e,t):Ry(n,e)).subscribe(i)})}function ui(n,t){return Zi((e,i)=>{let r=0;e.subscribe(Ni(i,o=>n.call(t,o,r++)&&i.next(o)))})}function h0(n){return Zi((t,e)=>{let i=!1;t.subscribe(Ni(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function BW(n=fme){return Zi((t,e)=>{let i=!1;t.subscribe(Ni(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function fme(){return new d0}function jh(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,o)=>n(r,o,i)):ku,_i(1),e?h0(t):BW(()=>new d0))}function fm(n,t){return jt(t)?Hn(n,t,1):Hn(n,1)}function Sn(n,t,e){const i=jt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Zi((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let s=!0;r.subscribe(Ni(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ku}function Xu(n){return Zi((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Ni(e,void 0,void 0,a=>{o=ho(n(a,Xu(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function lP(n){return n<=0?()=>Oa:Zi((t,e)=>{let i=[];t.subscribe(Ni(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function p0(n){return ot(()=>n)}function mm(n){return Zi((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mt="primary",Py=Symbol("RouteTitle");class yme{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gm(n){return new yme(n)}function _me(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],s=n[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Tl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!HW(n[r],t[r]))return!1;return!0}function HW(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function jW(n){return n.length>0?n[n.length-1]:null}function Zu(n){return LW(n)?n:my(n)?yn(Promise.resolve(n)):Ve(n)}const bme={exact:function WW(n,t,e){if(!Uh(n.segments,t.segments)||!f0(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!WW(n.children[i],t.children[i],e))return!1;return!0},subset:$W},UW={exact:function wme(n,t){return Tl(n,t)},subset:function Sme(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>HW(n[e],t[e]))},ignored:()=>!0};function zW(n,t,e){return bme[e.paths](n.root,t.root,e.matrixParams)&&UW[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $W(n,t,e){return KW(n,t,t.segments,e)}function KW(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Uh(r,e)||t.hasChildren()||!f0(r,e,i))}if(n.segments.length===e.length){if(!Uh(n.segments,e)||!f0(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!$W(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Uh(n.segments,r)&&f0(n.segments,r,i)&&n.children[Mt])&&KW(n.children[Mt],t,o,i)}}function f0(n,t,e){return t.every((i,r)=>UW[e](n[r].parameters,i.parameters))}class vm{constructor(t=new Ci([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return Dme.serialize(this)}}class Ci{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return m0(this)}}class Iy{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gm(this.parameters)),this._parameterMap}toString(){return XW(this)}}function Uh(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Fy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return new cP},providedIn:"root"}),n})();class cP{parse(t){const e=new Nme(t);return new vm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ky(t.root,!0)}`,i=function Ame(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${g0(e)}=${g0(r)}`).join("&"):`${g0(e)}=${g0(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Tme(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dme=new cP;function m0(n){return n.segments.map(t=>XW(t)).join("/")}function ky(n,t){if(!n.hasChildren())return m0(n);if(t){const e=n.children[Mt]?ky(n.children[Mt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Mt&&i.push(`${r}:${ky(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Eme(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Mt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Mt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Mt?[ky(n.children[Mt],!1)]:[`${r}:${ky(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${m0(n)}/${e[0]}`:`${m0(n)}/(${e.join("//")})`}}function YW(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function g0(n){return YW(n).replace(/%3B/gi,";")}function uP(n){return YW(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function v0(n){return decodeURIComponent(n)}function qW(n){return v0(n.replace(/\+/g,"%20"))}function XW(n){return`${uP(n.path)}${function Mme(n){return Object.keys(n).map(t=>`;${uP(t)}=${uP(n[t])}`).join("")}(n.parameters)}`}const Ome=/^[^\/()?;#]+/;function dP(n){const t=n.match(Ome);return t?t[0]:""}const Rme=/^[^\/()?;=#]+/,Ime=/^[^=?&#]+/,kme=/^[^&#]+/;class Nme{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Mt]=new Ci(t,e)),i}parseSegment(){const t=dP(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(t),new Iy(v0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Pme(n){const t=n.match(Rme);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=dP(this.remaining);r&&(i=r,this.capture(i))}t[v0(e)]=v0(i)}parseQueryParam(t){const e=function Fme(n){const t=n.match(Ime);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Lme(n){const t=n.match(kme);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=qW(e),o=qW(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=dP(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ee(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Mt);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[Mt]:new Ci([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ee(4011,!1)}}function ZW(n){return n.segments.length>0?new Ci([],{[Mt]:n}):n}function QW(n){const t={};for(const i of Object.keys(n.children)){const o=QW(n.children[i]);if(i===Mt&&0===o.segments.length&&o.hasChildren())for(const[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Vme(n){if(1===n.numberOfChildren&&n.children[Mt]){const t=n.children[Mt];return new Ci(n.segments.concat(t.segments),t.children)}return n}(new Ci(n.segments,t))}function zh(n){return n instanceof vm}function JW(n){let t;const r=ZW(function e(o){const a={};for(const l of o.children){const c=e(l);a[l.outlet]=c}const s=new Ci(o.url,a);return o===n&&(t=s),s}(n.root));return t??r}function e4(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return hP(r,r,r,e,i);const o=function Bme(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new n4(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?e=!0:".."===s?t++:""!=s&&r.push(s))}),r):[...r,o]},[]);return new n4(e,t,i)}(t);if(o.toRoot())return hP(r,r,new Ci([],{}),e,i);const a=function Hme(n,t,e){if(n.isAbsolute)return new _0(t,!0,0);if(!e)return new _0(t,!1,NaN);if(null===e.parent)return new _0(e,!0,0);const i=y0(n.commands[0])?0:1;return function jme(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ee(4005,!1);r=i.segments.length}return new _0(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),s=a.processChildren?Ny(a.segmentGroup,a.index,o.commands):r4(a.segmentGroup,a.index,o.commands);return hP(r,a.segmentGroup,s,e,i)}function y0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ly(n){return"object"==typeof n&&null!=n&&n.outlets}function hP(n,t,e,i,r){let a,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=n===t?e:t4(n,t,e);const s=ZW(QW(a));return new vm(s,o,r)}function t4(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:t4(o,t,e)}),new Ci(n.segments,i)}class n4{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&y0(i[0]))throw new ee(4003,!1);const r=i.find(Ly);if(r&&r!==jW(i))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _0{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function r4(n,t,e){if(n||(n=new Ci([],{})),0===n.segments.length&&n.hasChildren())return Ny(n,t,e);const i=function zme(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],s=e[i];if(Ly(s))break;const l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!a4(l,c,a))return o;i+=2}else{if(!a4(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ci(n.segments.slice(0,i.pathIndex),{});return o.children[Mt]=new Ci(n.segments.slice(i.pathIndex),n.children),Ny(o,0,r)}return i.match&&0===r.length?new Ci(n.segments,{}):i.match&&!n.hasChildren()?pP(n,t,e):i.match?Ny(n,0,r):pP(n,t,e)}function Ny(n,t,e){if(0===e.length)return new Ci(n.segments,{});{const i=function Ume(n){return Ly(n[0])?n[0].outlets:{[Mt]:n}}(e),r={};if(!i[Mt]&&n.children[Mt]&&1===n.numberOfChildren&&0===n.children[Mt].segments.length){const o=Ny(n.children[Mt],t,e);return new Ci(n.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[o]=r4(n.children[o],t,a))}),Object.entries(n.children).forEach(([o,a])=>{void 0===i[o]&&(r[o]=a)}),new Ci(n.segments,r)}}function pP(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ly(o)){const l=Wme(o.outlets);return new Ci(i,l)}if(0===r&&y0(e[0])){i.push(new Iy(n.segments[t].path,o4(e[0]))),r++;continue}const a=Ly(o)?o.outlets[Mt]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&y0(s)?(i.push(new Iy(a,o4(s))),r+=2):(i.push(new Iy(a,{})),r++)}return new Ci(i,{})}function Wme(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=pP(new Ci([],{}),0,i))}),t}function o4(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function a4(n,t,e){return n==e.path&&Tl(t,e.parameters)}const Vy="imperative";class Ml{constructor(t,e){this.id=t,this.url=e}}class fP extends Ml{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wh extends Ml{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class C0 extends Ml{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gy extends Ml{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class mP extends Ml{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $me extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kme extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yme extends Ml{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qme extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xme extends Ml{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zme{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qme{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jme{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ege{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tge{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ige{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s4{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nge{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new By,this.attachRef=null}}let By=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new nge,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=gP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vP(t,this._root).map(e=>e.value)}}function gP(n,t){if(n===t.value)return t;for(const e of t.children){const i=gP(n,e);if(i)return i}return null}function vP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=vP(n,e);if(i.length)return i.unshift(t),i}return[]}class Nc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ym(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class c4 extends l4{constructor(t,e){super(t),this.snapshot=e,yP(this,t)}toString(){return this.snapshot.toString()}}function u4(n,t){const e=function rge(n,t){const a=new b0([],{},{},"",{},Mt,t,null,{});return new h4("",new Nc(a,[]))}(0,t),i=new fr([new Iy("",{})]),r=new fr({}),o=new fr({}),a=new fr({}),s=new fr(""),l=new _m(i,r,a,s,o,Mt,t,e.root);return l.snapshot=e.root,new c4(new Nc(l,[]),e)}class _m{constructor(t,e,i,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ot(c=>c[Py]))??Ve(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ot(t=>gm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ot(t=>gm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function d4(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function oge(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class b0{get title(){return this.data?.[Py]}constructor(t,e,i,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h4 extends l4{constructor(t,e){super(e),this.url=t,yP(this,e)}toString(){return p4(this._root)}}function yP(n,t){t.value._routerState=n,t.children.forEach(e=>yP(n,e))}function p4(n){const t=n.children.length>0?` { ${n.children.map(p4).join(", ")} } `:"";return`${n.value}${t}`}function _P(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Tl(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Tl(t.params,e.params)||n.paramsSubject.next(e.params),function Cme(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Tl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Tl(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function CP(n,t){const e=Tl(n.params,t.params)&&function xme(n,t){return Uh(n,t)&&n.every((e,i)=>Tl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||CP(n.parent,t.parent))}let bP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new U,this.deactivateEvents=new U,this.attachEvents=new U,this.detachEvents=new U,this.parentContexts=be(By),this.location=be(Fi),this.changeDetector=be(Ft),this.environmentInjector=be(yl),this.inputBinder=be(w0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new age(e,s,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]}),n})();class age{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_m?this.route:t===By?this.childContexts:this.parent.get(t,e)}}const w0=new J("");let f4=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Hh([i.queryParams,i.params,i.data]).pipe(mr(([o,a,s],l)=>(s={...o,...a,...s},0===l?Ve(s):Promise.resolve(s)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const a=function Bhe(n){const t=li(n);if(!t)return null;const e=new uy(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(a)for(const{templateName:s}of a.inputs)e.activatedComponentRef.setInput(s,o[s]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function Hy(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function lge(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hy(n,i,r);return Hy(n,i)})}(n,t,e);return new Nc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Hy(n,s)),a}}const i=function cge(n){return new _m(new fr(n.url),new fr(n.params),new fr(n.queryParams),new fr(n.fragment),new fr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Hy(n,o));return new Nc(i,r)}}const wP="ngNavigationCancelingError";function m4(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=zh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=g4(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function g4(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[wP]=!0,i.cancellationCode=t,e&&(i.url=e),i}function v4(n){return y4(n)&&zh(n.url)}function y4(n){return n&&n[wP]}let _4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["ng-component"]],standalone:!0,features:[XO],decls:1,vars:0,template:function(e,i){1&e&&te(0,"router-outlet")},dependencies:[bP],encapsulation:2}),n})();function SP(n){const t=n.children&&n.children.map(SP),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mt&&(e.component=_4),e}function Ss(n){return n.outlet||Mt}function jy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gge{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),_P(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ym(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ym(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ym(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=ym(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ige(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ege(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(_P(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),_P(s.route.value),this.activateChildRoutes(t,null,a.children)}else{const s=jy(r.snapshot);a.attachRef=null,a.route=r,a.injector=s,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class C4{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class S0{constructor(t,e){this.component=t,this.route=e}}function vge(n,t,e){const i=n._root;return Uy(i,t?t._root:null,e,[i.value])}function Cm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Ine(n){return null!==Ow(n)}(n)?t.get(n):n:i}function Uy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ym(t);return n.children.forEach(a=>{(function _ge(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function Cge(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Uh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Uh(n.url,t.url)||!Tl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CP(n,t)||!Tl(n.queryParams,t.queryParams);default:return!CP(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new C4(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Uy(n,t,o.component?s?s.children:null:e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new S0(s.outlet.component,a))}else a&&zy(t,s,r),r.canActivateChecks.push(new C4(i)),Uy(n,null,o.component?s?s.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>zy(s,e.getContext(a),r)),r}function zy(n,t,e){const i=ym(n),r=n.value;Object.entries(i).forEach(([o,a])=>{zy(a,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new S0(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wy(n){return"function"==typeof n}function b4(n){return n instanceof d0||"EmptyError"===n?.name}const x0=Symbol("INITIAL_VALUE");function bm(){return mr(n=>Hh(n.map(t=>t.pipe(_i(1),_r(x0)))).pipe(ot(t=>{for(const e of t)if(!0!==e){if(e===x0)return x0;if(!1===e||e instanceof vm)return e}return!0}),ui(t=>t!==x0),_i(1)))}function w4(n){return function Hie(...n){return KG(n)}(Sn(t=>{if(zh(t))throw m4(0,t)}),ot(t=>!0===t))}class E0{constructor(t){this.segmentGroup=t||null}}class S4{constructor(t){this.urlTree=t}}function wm(n){return pm(new E0(n))}function x4(n){return pm(new S4(n))}class Bge{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new ee(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ve(i);if(r.numberOfChildren>1||!r.children[Mt])return pm(new ee(4e3,!1));r=r.children[Mt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new vm(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const s=o.substring(1);i[r]=e[s]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,i,r)}),new Ci(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ee(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const xP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hge(n,t,e,i,r){const o=EP(n,t,e);return o.matched?(i=function uge(n,t){return n.providers&&!n._injector&&(n._injector=qO(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Nge(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ve(r.map(a=>{const s=Cm(a,n);return Zu(function Dge(n){return n&&Wy(n.canMatch)}(s)?s.canMatch(t,e):n.runInContext(()=>s(t,e)))})).pipe(bm(),w4()):Ve(!0)}(i,t,e).pipe(ot(a=>!0===a?o:{...xP}))):Ve(o)}function EP(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...xP}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||_me)(e,n,t);if(!r)return{...xP};const o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function E4(n,t,e,i){return e.length>0&&function zge(n,t,e){return e.some(i=>D0(n,t,i)&&Ss(i)!==Mt)}(n,e,i)?{segmentGroup:new Ci(t,Uge(i,new Ci(e,n.children))),slicedSegments:[]}:0===e.length&&function Wge(n,t,e){return e.some(i=>D0(n,t,i))}(n,e,i)?{segmentGroup:new Ci(n.segments,jge(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ci(n.segments,n.children),slicedSegments:e}}function jge(n,t,e,i,r){const o={};for(const a of i)if(D0(n,e,a)&&!r[Ss(a)]){const s=new Ci([],{});o[Ss(a)]=s}return{...r,...o}}function Uge(n,t){const e={};e[Mt]=t;for(const i of n)if(""===i.path&&Ss(i)!==Mt){const r=new Ci([],{});e[Ss(i)]=r}return e}function D0(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class qge{constructor(t,e,i,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.allowRedirects=!0,this.applyRedirects=new Bge(this.urlSerializer,this.urlTree)}noMatchError(t){return new ee(4002,!1)}recognize(){const t=E4(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mt).pipe(Xu(e=>{if(e instanceof S4)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof E0?this.noMatchError(e):e}),ot(e=>{const i=new b0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,{}),r=new Nc(i,e),o=new h4("",r),a=function Gme(n,t,e=null,i=null){return e4(JW(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Mt).pipe(Xu(i=>{throw i instanceof E0?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=d4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return yn(r).pipe(fm(o=>{const a=i.children[o],s=function fge(n,t){const e=n.filter(i=>Ss(i)===t);return e.push(...n.filter(i=>Ss(i)!==t)),e}(e,o);return this.processSegmentGroup(t,s,a,o)}),function gme(n,t){return Zi(function mme(n,t,e,i,r){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(Ni(a,u=>{const d=c++;l=s?n(l,u,d):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}(n,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),h0(null),function vme(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,o)=>n(r,o,i)):ku,lP(1),e?h0(t):BW(()=>new d0))}(),Hn(o=>{if(null===o)return wm(i);const a=D4(o);return function Xge(n){n.sort((t,e)=>t.value.outlet===Mt?-1:e.value.outlet===Mt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),Ve(a)}))}processSegment(t,e,i,r,o,a){return yn(e).pipe(fm(s=>this.processSegmentAgainstRoute(s._injector??t,e,s,i,r,o,a).pipe(Xu(l=>{if(l instanceof E0)return Ve(null);throw l}))),jh(s=>!!s),Xu(s=>{if(b4(s))return function Kge(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?Ve([]):wm(i);throw s}))}processSegmentAgainstRoute(t,e,i,r,o,a,s){return function $ge(n,t,e,i){return!!(Ss(n)===i||i!==Mt&&D0(t,e,n))&&("**"===n.path||EP(t,n,e).matched)}(i,r,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,a,s):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,a):wm(r):wm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?x4(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Hn(a=>{const s=new Ci(a,{});return this.processSegment(t,e,s,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=EP(e,r,o);if(!s)return wm(e);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?x4(d):this.applyRedirects.lineralizeSegments(r,d).pipe(Hn(h=>this.processSegment(t,i,e,h.concat(c),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,a){let s;if("**"===i.path){const l=r.length>0?jW(r).parameters:{};s=Ve({snapshot:new b0(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,T4(i),Ss(i),i.component??i._loadedComponent??null,i,M4(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else s=Hge(e,i,r,t).pipe(ot(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new b0(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,T4(i),Ss(i),i.component??i._loadedComponent??null,i,M4(i)),consumedSegments:c,remainingSegments:u}:null));return s.pipe(mr(l=>null===l?wm(e):this.getChildConfig(t=i._injector??t,i,r).pipe(mr(({routes:c})=>{const u=i._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:p}=l,{segmentGroup:f,slicedSegments:m}=E4(e,h,p,c);if(0===m.length&&f.hasChildren())return this.processChildren(u,c,f).pipe(ot(v=>null===v?null:[new Nc(d,v)]));if(0===c.length&&0===m.length)return Ve([new Nc(d,[])]);const g=Ss(i)===o;return this.processSegment(u,c,f,m,g?Mt:o,!0).pipe(ot(v=>[new Nc(d,v)]))}))))}getChildConfig(t,e,i){return e.children?Ve({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ve({routes:e._loadedRoutes,injector:e._loadedInjector}):function Lge(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ve(!0):Ve(r.map(a=>{const s=Cm(a,n);return Zu(function wge(n){return n&&Wy(n.canLoad)}(s)?s.canLoad(t,e):n.runInContext(()=>s(t,e)))})).pipe(bm(),w4())}(t,e,i).pipe(Hn(r=>r?this.configLoader.loadChildren(t,e).pipe(Sn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Gge(n){return pm(g4(!1,3))}())):Ve({routes:[],injector:t})}}function Zge(n){const t=n.value.routeConfig;return t&&""===t.path}function D4(n){const t=[],e=new Set;for(const i of n){if(!Zge(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=D4(i.children);t.push(new Nc(i.value,r))}return t.filter(i=>!e.has(i))}function T4(n){return n.data||{}}function M4(n){return n.resolve||{}}function A4(n){return"string"==typeof n.title||null===n.title}function DP(n){return mr(t=>{const e=n(t);return e?yn(e).pipe(ot(()=>t)):Ve(t)})}const Sm=new J("ROUTES");let TP=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=be(az)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ve(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Zu(e.loadComponent()).pipe(ot(O4),Sn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),mm(()=>{this.componentLoaders.delete(e)})),r=new sP(i,()=>new Oe).pipe(aP());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ot(s=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c;return Array.isArray(s)?c=s:(l=s.create(e).injector,c=l.get(Sm,[],et.Self|et.Optional).flat()),{routes:c.map(SP),injector:l}}),mm(()=>{this.childrenLoaders.delete(i)})),a=new sP(o,()=>new Oe).pipe(aP());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Zu(e()).pipe(ot(O4),Hn(i=>i instanceof gU||Array.isArray(i)?Ve(i):yn(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O4(n){return function rve(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let T0=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oe,this.configLoader=be(TP),this.environmentInjector=be(yl),this.urlSerializer=be(Fy),this.rootContexts=be(By),this.inputBindingEnabled=null!==be(w0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Qme(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zme(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new fr({id:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vy,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(i=>0!==i.id),ot(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),mr(i=>{let r=!1,o=!1;return Ve(i).pipe(Sn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(a=>{const s=e.browserUrlTree.toString(),l=!e.navigated||a.extractedUrl.toString()!==s||s!==e.currentUrlTree.toString();if(!l&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const u="";return this.events.next(new Gy(a.id,e.serializeUrl(i.rawUrl),u,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),Oa}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return R4(a.source)&&(e.browserUrlTree=a.extractedUrl),Ve(a).pipe(mr(u=>{const d=this.transitions?.getValue();return this.events.next(new fP(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?Oa:Promise.resolve(u)}),function Qge(n,t,e,i,r,o){return Hn(a=>function Yge(n,t,e,i,r,o,a="emptyOnly"){return new qge(n,t,e,i,r,a,o).recognize()}(n,t,e,i,a.extractedUrl,r,o).pipe(ot(({state:s,tree:l})=>({...a,targetSnapshot:s,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Sn(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===e.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);e.setBrowserUrl(h,u)}e.browserUrlTree=u.urlAfterRedirects}const d=new $me(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:p,extras:f}=a,m=new fP(u,this.urlSerializer.serialize(d),h,p);this.events.next(m);const g=u4(0,this.rootComponentType).snapshot;return Ve(i={...a,targetSnapshot:g,urlAfterRedirects:d,extras:{...f,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Gy(a.id,e.serializeUrl(i.extractedUrl),u,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),Oa}}),Sn(a=>{const s=new Kme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),ot(a=>i={...a,guards:vge(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Mge(n,t){return Hn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Ve({...e,guardsResult:!0}):function Age(n,t,e,i){return yn(n).pipe(Hn(r=>function kge(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ve(o.map(s=>{const l=jy(t)??r,c=Cm(s,l);return Zu(function Ege(n){return n&&Wy(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(jh())})).pipe(bm()):Ve(!0)}(r.component,r.route,e,t,i)),jh(r=>!0!==r,!0))}(a,i,r,n).pipe(Hn(s=>s&&function bge(n){return"boolean"==typeof n}(s)?function Oge(n,t,e,i){return yn(t).pipe(fm(r=>Ry(function Pge(n,t){return null!==n&&t&&t(new Jme(n)),Ve(!0)}(r.route.parent,i),function Rge(n,t){return null!==n&&t&&t(new tge(n)),Ve(!0)}(r.route,i),function Fge(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function yge(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>hm(()=>Ve(a.guards.map(l=>{const c=jy(a.node)??e,u=Cm(l,c);return Zu(function xge(n){return n&&Wy(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(jh())})).pipe(bm())));return Ve(o).pipe(bm())}(n,r.path,e),function Ige(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ve(!0);const r=i.map(o=>hm(()=>{const a=jy(t)??e,s=Cm(o,a);return Zu(function Sge(n){return n&&Wy(n.canActivate)}(s)?s.canActivate(t,n):a.runInContext(()=>s(t,n))).pipe(jh())}));return Ve(r).pipe(bm())}(n,r.route,e))),jh(r=>!0!==r,!0))}(i,o,n,t):Ve(s)),ot(s=>({...e,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),Sn(a=>{if(i.guardsResult=a.guardsResult,zh(a.guardsResult))throw m4(0,a.guardsResult);const s=new Yme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),ui(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),DP(a=>{if(a.guards.canActivateChecks.length)return Ve(a).pipe(Sn(s=>{const l=new qme(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),mr(s=>{let l=!1;return Ve(s).pipe(function Jge(n,t){return Hn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ve(e);let o=0;return yn(r).pipe(fm(a=>function eve(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!A4(r)&&(o[Py]=r.title),function tve(n,t,e,i){const r=function ive(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ve({});const o={};return yn(r).pipe(Hn(a=>function nve(n,t,e,i){const r=jy(t)??i,o=Cm(n,r);return Zu(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[a],t,e,i).pipe(jh(),Sn(s=>{o[a]=s}))),lP(1),p0(o),Xu(a=>b4(a)?Oa:pm(a)))}(o,n,t,i).pipe(ot(a=>(n._resolvedData=a,n.data=d4(n,e).resolve,r&&A4(r)&&(n.data[Py]=r.title),null)))}(a.route,i,n,t)),Sn(()=>o++),lP(1),Hn(a=>o===r.length?Ve(e):Oa))})}(e.paramsInheritanceStrategy,this.environmentInjector),Sn({next:()=>l=!0,complete:()=>{l||(e.restoreHistory(s),this.cancelNavigationTransition(s,"",2))}}))}),Sn(s=>{const l=new Xme(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}))}),DP(a=>{const s=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Sn(u=>{l.component=u}),ot(()=>{})));for(const u of l.children)c.push(...s(u));return c};return Hh(s(a.targetSnapshot.root)).pipe(h0(),_i(1))}),DP(()=>this.afterPreactivation()),ot(a=>{const s=function sge(n,t,e){const i=Hy(n,t._root,e?e._root:void 0);return new c4(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:s}}),Sn(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e,i)=>ot(r=>(new gge(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),_i(1),Sn({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Wh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),mm(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Xu(a=>{if(o=!0,y4(a)){v4(a)||(e.navigated=!0,e.restoreHistory(i,!0));const s=new C0(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(s),v4(a)){const l=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||R4(i.source)};e.scheduleNavigation(l,Vy,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const s=new mP(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(s);try{i.resolve(e.errorHandler(a))}catch(l){i.reject(l)}}return Oa}))}))}cancelNavigationTransition(e,i,r){const o=new C0(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R4(n){return n!==Vy}let P4=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Mt);return i}getResolvedTitleForRoute(e){return e.data[Py]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return be(ove)},providedIn:"root"}),n})(),ove=(()=>{class n extends P4{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(K(RW))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ave=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return be(lve)},providedIn:"root"}),n})();class sve{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let lve=(()=>{class n extends sve{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M0=new J("",{providedIn:"root",factory:()=>({})});let cve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:function(){return be(uve)},providedIn:"root"}),n})(),uve=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ta=(()=>((ta=ta||{})[ta.COMPLETE=0]="COMPLETE",ta[ta.FAILED=1]="FAILED",ta[ta.REDIRECTING=2]="REDIRECTING",ta))();function I4(n,t){n.events.pipe(ui(e=>e instanceof Wh||e instanceof C0||e instanceof mP||e instanceof Gy),ot(e=>e instanceof Wh||e instanceof Gy?ta.COMPLETE:e instanceof C0&&(0===e.code||1===e.code)?ta.REDIRECTING:ta.FAILED),ui(e=>e!==ta.REDIRECTING),_i(1)).subscribe(()=>{t()})}function dve(n){throw n}function hve(n,t,e){return t.parse("/")}const pve={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=be(oz),this.isNgZoneEnabled=!1,this.options=be(M0,{optional:!0})||{},this.pendingTasks=be(WS),this.errorHandler=this.options.errorHandler||dve,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hve,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=be(cve),this.routeReuseStrategy=be(ave),this.titleStrategy=be(P4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=be(Sm,{optional:!0})?.flat()??[],this.navigationTransitions=be(T0),this.urlSerializer=be(Fy),this.location=be(Dy),this.componentInputBindingEnabled=!!be(w0,{optional:!0}),this.isNgZoneEnabled=be(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u4(0,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vy,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(e);this.scheduleNavigation(s,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(SP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:a;let d,u=null;switch(s){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=JW(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return e4(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=zh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Vy,null,i)}navigate(e,i={skipLocationChange:!1}){return function mve(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new ee(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...pve}:!1===i?{...fve}:i,zh(e))return zW(this.currentUrlTree,e,r);const o=this.parseUrl(e);return zW(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let s,l,c;a?(s=a.resolve,l=a.reject,c=a.promise):c=new Promise((d,h)=>{s=d,l=h});const u=this.pendingTasks.add();return I4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A0=(()=>{class n{constructor(e,i,r,o,a,s){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=s,this.href=null,this.commands=null,this.onChanges=new Oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Wh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function AH(n,t,e){return function Nae(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?MH:TH}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(T(kr),T(_m),ml("tabindex"),T(Oc),T(Se),T(Bh))},n.\u0275dir=Z({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&se("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&je("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",um],skipLocationChange:["skipLocationChange","skipLocationChange",um],replaceUrl:["replaceUrl","replaceUrl",um],routerLink:"routerLink"},standalone:!0,features:[Fj,ri]}),n})();class F4{}let yve=(()=>{class n{constructor(e,i,r,o,a){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof Wh),fm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=qO(o.providers,e,`Route: ${o.path}`));const a=o._injector??e,s=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(s,o.children??o._loadedRoutes))}return yn(r).pipe(wf())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ve(null);const o=r.pipe(Hn(a=>null===a?Ve(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?yn([o,this.loader.loadComponent(i)]).pipe(wf()):o})}}return n.\u0275fac=function(e){return new(e||n)(K(kr),K(az),K(yl),K(F4),K(TP))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MP=new J("");let k4=(()=>{class n{constructor(e,i,r,o,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wh?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Gy&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof s4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new s4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){vs()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function Vc(n,t){return{\u0275kind:n,\u0275providers:t}}function N4(){const n=be(vr);return t=>{const e=n.get($u);if(t!==e.components[0])return;const i=n.get(kr),r=n.get(V4);1===n.get(AP)&&i.initialNavigation(),n.get(G4,null,et.Optional)?.setUpPreloading(),n.get(MP,null,et.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const V4=new J("",{factory:()=>new Oe}),AP=new J("",{providedIn:"root",factory:()=>1}),G4=new J("");function wve(n){return Vc(0,[{provide:G4,useExisting:yve},{provide:F4,useExisting:n}])}const B4=new J("ROUTER_FORROOT_GUARD"),xve=[Dy,{provide:Fy,useClass:cP},kr,By,{provide:_m,useFactory:function L4(n){return n.routerState.root},deps:[kr]},TP,[]];function Eve(){return new vz("Router",kr)}let H4=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[xve,[],{provide:Sm,multi:!0,useValue:e},{provide:B4,useFactory:Ave,deps:[[kr,new Fa,new gl]]},{provide:M0,useValue:i||{}},i?.useHash?{provide:Bh,useClass:Whe}:{provide:Bh,useClass:Wz},{provide:MP,useFactory:()=>{const n=be(afe),t=be(De),e=be(M0),i=be(T0),r=be(Fy);return e.scrollOffset&&n.setOffset(e.scrollOffset),new k4(r,i,n,t,e)}},i?.preloadingStrategy?wve(i.preloadingStrategy).\u0275providers:[],{provide:vz,multi:!0,useFactory:Eve},i?.initialNavigation?Ove(i):[],i?.bindToComponentInputs?Vc(8,[f4,{provide:w0,useExisting:f4}]).\u0275providers:[],[{provide:j4,useFactory:N4},{provide:bR,multi:!0,useExisting:j4}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Sm,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(K(B4,8))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();function Ave(n){return"guarded"}function Ove(n){return["disabled"===n.initialNavigation?Vc(3,[{provide:pR,multi:!0,useFactory:()=>{const t=be(kr);return()=>{t.setUpLocationChangeListener()}}},{provide:AP,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vc(2,[{provide:AP,useValue:0},{provide:pR,multi:!0,deps:[vr],useFactory:t=>{const e=t.get(Uhe,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(kr),o=t.get(V4);I4(r,()=>{i(!0)}),t.get(T0).afterPreactivation=()=>(i(!0),o.closed?Ve(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const j4=new J("");function U4(...n){const t=dB(n),{args:e,keys:i}=NW(n),r=new pi(o=>{const{length:a}=e;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let d=!1;ho(e[u]).subscribe(Ni(o,h=>{d||(d=!0,c--),s[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?VW(i,s):s),o.complete())}))}});return t?r.pipe(oP(t)):r}let z4=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(T(Oc),T(Se))},n.\u0275dir=Z({type:n}),n})(),$h=(()=>{class n extends z4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,features:[me]}),n})();const Cr=new J("NgValueAccessor"),Ive={provide:Cr,useExisting:It(()=>ia),multi:!0},kve=new J("CompositionEventMode");let ia=(()=>{class n extends z4{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fve(){const n=Ku()?Ku().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Oc),T(Se),T(kve,8))},n.\u0275dir=Z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&se("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ne([Ive]),me]}),n})();function Qu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $4(n){return null!=n&&"number"==typeof n.length}const ar=new J("NgValidators"),Ju=new J("NgAsyncValidators"),Lve=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xs{static min(t){return function K4(n){return t=>{if(Qu(t.value)||Qu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Y4(n){return t=>{if(Qu(t.value)||Qu(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function q4(n){return Qu(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function X4(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Z4(n){return Qu(n.value)||Lve.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Q4(n){return t=>Qu(t.value)||!$4(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return J4(t)}static pattern(t){return function e$(n){if(!n)return O0;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Qu(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return a$(t)}static composeAsync(t){return s$(t)}}function J4(n){return t=>$4(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function O0(n){return null}function t$(n){return null!=n}function i$(n){return my(n)?yn(n):n}function n$(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function r$(n,t){return t.map(e=>e(n))}function o$(n){return n.map(t=>function Nve(n){return!n.validate}(t)?t:e=>t.validate(e))}function a$(n){if(!n)return null;const t=n.filter(t$);return 0==t.length?null:function(e){return n$(r$(e,t))}}function OP(n){return null!=n?a$(o$(n)):null}function s$(n){if(!n)return null;const t=n.filter(t$);return 0==t.length?null:function(e){return U4(r$(e,t).map(i$)).pipe(ot(n$))}}function RP(n){return null!=n?s$(o$(n)):null}function l$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function c$(n){return n._rawValidators}function u$(n){return n._rawAsyncValidators}function PP(n){return n?Array.isArray(n)?n:[n]:[]}function R0(n,t){return Array.isArray(n)?n.includes(t):n===t}function d$(n,t){const e=PP(t);return PP(n).forEach(r=>{R0(e,r)||e.push(r)}),e}function h$(n,t){return PP(t).filter(e=>!R0(n,e))}class p${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=OP(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=RP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qr extends p${get formDirective(){return null}get path(){return null}}class Al extends p${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class f${constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Es=(()=>{class n extends f${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Al,2))},n.\u0275dir=Z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]}),n})(),Ol=(()=>{class n extends f${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Qr,10))},n.\u0275dir=Z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]}),n})();const $y="VALID",I0="INVALID",xm="PENDING",Ky="DISABLED";function kP(n){return(F0(n)?n.validators:n)||null}function LP(n,t){return(F0(t)?t.asyncValidators:n)||null}function F0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function g$(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ee(1e3,"");if(!i[e])throw new ee(1001,"")}function v$(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ee(1002,"")})}class k0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===$y}get invalid(){return this.status===I0}get pending(){return this.status==xm}get disabled(){return this.status===Ky}get enabled(){return this.status!==Ky}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(d$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(d$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(h$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(h$(t,this._rawAsyncValidators))}hasValidator(t){return R0(this._rawValidators,t)}hasAsyncValidator(t){return R0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ky,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=$y,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$y||this.status===xm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ky:$y}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xm,this._hasOwnPendingAsyncValidator=!0;const e=i$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new U,this.statusChanges=new U}_calculateStatus(){return this._allControlsDisabled()?Ky:this.errors?I0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xm)?xm:this._anyControlsHaveStatus(I0)?I0:$y}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){F0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Hve(n){return Array.isArray(n)?OP(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function jve(n){return Array.isArray(n)?RP(n):n||null}(this._rawAsyncValidators)}}class Yy extends k0{constructor(t,e,i){super(kP(e),LP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){v$(this,0,t),Object.keys(t).forEach(i=>{g$(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class y$ extends Yy{}const Kh=new J("CallSetDisabledState",{providedIn:"root",factory:()=>qy}),qy="always";function L0(n,t){return[...t.path,n]}function Xy(n,t,e=qy){NP(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function zve(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_$(n,t)})}(n,t),function $ve(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Wve(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_$(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Uve(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function N0(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),G0(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function V0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function NP(n,t){const e=c$(n);null!==t.validator?n.setValidators(l$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=u$(n);null!==t.asyncValidator?n.setAsyncValidators(l$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();V0(t._rawValidators,r),V0(t._rawAsyncValidators,r)}function G0(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=c$(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=u$(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return V0(t._rawValidators,i),V0(t._rawAsyncValidators,i),e}function _$(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C$(n,t){NP(n,t)}function GP(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function b$(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function BP(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===ia?e=o:function qve(n){return Object.getPrototypeOf(n.constructor)===$h}(o)?i=o:r=o}),r||i||e||null}const Zve={provide:Qr,useExisting:It(()=>ed)},Zy=(()=>Promise.resolve())();let ed=(()=>{class n extends Qr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new U,this.form=new Yy({},OP(e),RP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Zy.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Xy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Zy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Zy.then(()=>{const i=this._findContainer(e.path),r=new Yy({});C$(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Zy.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Zy.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,b$(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(T(ar,10),T(Ju,10),T(Kh,8))},n.\u0275dir=Z({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&se("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ne([Zve]),me]}),n})();function w$(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function S$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Em=class extends k0{constructor(t=null,e,i){super(kP(e),LP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=S$(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){w$(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){w$(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){S$(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let x$=(()=>{class n extends Qr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return L0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,features:[me]}),n})();const eye={provide:Al,useExisting:It(()=>Dm)},D$=(()=>Promise.resolve())();let Dm=(()=>{class n extends Al{constructor(e,i,r,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this.control=new Em,this._registered=!1,this.name="",this.update=new U,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=BP(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),GP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){D$.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&um(i);D$.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?L0(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(T(Qr,9),T(ar,10),T(Ju,10),T(Cr,10),T(Ft,8),T(Kh,8))},n.\u0275dir=Z({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ne([eye]),me,ri]}),n})(),Rl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),M$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();const HP=new J("NgModelWithFormControlWarning"),oye={provide:Al,useExisting:It(()=>jP)};let jP=(()=>{class n extends Al{set isDisabled(e){}constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new U,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=BP(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&N0(i,this,!1),Xy(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}GP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&N0(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(T(ar,10),T(Ju,10),T(Cr,10),T(HP,8),T(Kh,8))},n.\u0275dir=Z({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ne([oye]),me,ri]}),n})();const aye={provide:Qr,useExisting:It(()=>Ds)};let Ds=(()=>{class n extends Qr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new U,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(G0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Xy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){N0(e.control||null,e,!1),function Xve(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,b$(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(N0(i||null,e),(n=>n instanceof Em)(r)&&(Xy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);C$(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Kve(n,t){return G0(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NP(this.form,this),this._oldForm&&G0(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(T(ar,10),T(Ju,10),T(Kh,8))},n.\u0275dir=Z({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&se("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ne([aye]),me,ri]}),n})();const sye={provide:Qr,useExisting:It(()=>B0)};let B0=(()=>{class n extends x${constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){R$(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(T(Qr,13),T(ar,10),T(Ju,10))},n.\u0275dir=Z({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ne([sye]),me]}),n})();const lye={provide:Qr,useExisting:It(()=>H0)};let H0=(()=>{class n extends Qr{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return L0(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){R$(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(T(Qr,13),T(ar,10),T(Ju,10))},n.\u0275dir=Z({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ne([lye]),me]}),n})();function R$(n){return!(n instanceof B0||n instanceof Ds||n instanceof H0)}const cye={provide:Al,useExisting:It(()=>td)};let td=(()=>{class n extends Al{set isDisabled(e){}constructor(e,i,r,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new U,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=BP(0,o)}ngOnChanges(e){this._added||this._setUpControl(),GP(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return L0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(T(Qr,13),T(ar,10),T(Ju,10),T(Cr,10),T(HP,8))},n.\u0275dir=Z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ne([cye]),me,ri]}),n})();let Yh=(()=>{class n{constructor(){this._validator=O0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):O0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,features:[ri]}),n})();const wye={provide:ar,useExisting:It(()=>j0),multi:!0};let j0=(()=>{class n extends Yh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function F$(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>J4(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&je("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ne([wye]),me]}),n})(),H$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[M$]}),n})();class j$ extends k0{constructor(t,e,i){super(kP(e),LP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){v$(this,0,t),t.forEach((i,r)=>{g$(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function U$(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Tm=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return U$(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Yy(r,o)}record(e,i=null){const r=this._reduceControls(e);return new y$(r,i)}control(e,i,r){let o={};return this.useNonNullable?(U$(i)?o=i:(o.validators=i,o.asyncValidators=r),new Em(e,{...o,nonNullable:!0})):new Em(e,i,r)}array(e,i,r){const o=e.map(a=>this._createControl(a));return new j$(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Em||e instanceof k0?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Kh,useValue:e.callSetDisabledState??qy}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[H$]}),n})(),xye=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:HP,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Kh,useValue:e.callSetDisabledState??qy}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[H$]}),n})();class U0{}class z0{}class Pl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Eye{encodeKey(t){return W$(t)}encodeValue(t){return W$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Tye=/%(\d[a-f0-9])/gi,Mye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W$(n){return encodeURIComponent(n).replace(Tye,(t,e)=>Mye[e]??t)}function W0(n){return`${n}`}class id{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Eye,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dye(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,s]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(W0):[W0(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new id({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(W0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(W0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Aye{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function $$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function K$(n){return typeof Blob<"u"&&n instanceof Blob}function Y$(n){return typeof FormData<"u"&&n instanceof FormData}class Qy{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Oye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Pl),this.context||(this.context=new Aye),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+a}}else this.params=new id,this.urlWithParams=e}serializeBody(){return null===this.body?null:$$(this.body)||K$(this.body)||Y$(this.body)||function Rye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof id?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Y$(this.body)?null:K$(this.body)?this.body.type||null:$$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof id?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,h)=>d.set(h,t.setHeaders[h]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,h)=>d.set(h,t.setParams[h]),c)),new Qy(e,i,o,{params:c,headers:l,context:u,reportProgress:s,responseType:r,withCredentials:a})}}var xn=(()=>((xn=xn||{})[xn.Sent=0]="Sent",xn[xn.UploadProgress=1]="UploadProgress",xn[xn.ResponseHeader=2]="ResponseHeader",xn[xn.DownloadProgress=3]="DownloadProgress",xn[xn.Response=4]="Response",xn[xn.User=5]="User",xn))();class KP{constructor(t,e=200,i="OK"){this.headers=t.headers||new Pl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class YP extends KP{constructor(t={}){super(t),this.type=xn.ResponseHeader}clone(t={}){return new YP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mm extends KP{constructor(t={}){super(t),this.type=xn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Mm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q$ extends KP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function qP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Jy=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Qy)o=e;else{let l,c;l=r.headers instanceof Pl?r.headers:new Pl(r.headers),r.params&&(c=r.params instanceof id?r.params:new id({fromObject:r.params})),o=new Qy(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ve(o).pipe(fm(l=>this.handler.handle(l)));if(e instanceof Qy||"events"===r.observe)return a;const s=a.pipe(ui(l=>l instanceof Mm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(ot(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(ot(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(ot(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(ot(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new id).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,qP(r,i))}post(e,i,r={}){return this.request("POST",e,qP(r,i))}put(e,i,r={}){return this.request("PUT",e,qP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(K(U0))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function Q$(n,t){return t(n)}function Iye(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const kye=new J(""),e_=new J(""),J$=new J("");function Lye(){let n=null;return(t,e)=>{null===n&&(n=(be(kye,{optional:!0})??[]).reduceRight(Iye,Q$));const i=be(WS),r=i.add();return n(t,e).pipe(mm(()=>i.remove(r)))}}let e5=(()=>{class n extends U0{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=be(WS)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(e_),...this.injector.get(J$,[])]));this.chain=r.reduceRight((o,a)=>function Fye(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,a,this.injector),Q$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(mm(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(e){return new(e||n)(K(z0),K(yl))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const Bye=/^\)\]\}',?\n/;let n5=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?yn(i.\u0275loadImpl()):Ve(null)).pipe(mr(()=>new pi(o=>{const a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((m,g)=>a.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const s=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=a.statusText||"OK",g=new Pl(a.getAllResponseHeaders()),v=function Hye(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return l=new YP({headers:g,status:a.status,statusText:m,url:v}),l},u=()=>{let{headers:m,status:g,statusText:v,url:y}=c(),_=null;204!==g&&(_=typeof a.response>"u"?a.responseText:a.response),0===g&&(g=_?200:0);let b=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof _){const w=_;_=_.replace(Bye,"");try{_=""!==_?JSON.parse(_):null}catch(E){_=w,b&&(b=!1,_={error:E,text:_})}}b?(o.next(new Mm({body:_,headers:m,status:g,statusText:v,url:y||void 0})),o.complete()):o.error(new q$({error:_,headers:m,status:g,statusText:v,url:y||void 0}))},d=m=>{const{url:g}=c(),v=new q$({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});o.error(v)};let h=!1;const p=m=>{h||(o.next(c()),h=!0);let g={type:xn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&a.responseText&&(g.partialText=a.responseText),o.next(g)},f=m=>{let g={type:xn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),o.next(g)};return a.addEventListener("load",u),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),e.reportProgress&&(a.addEventListener("progress",p),null!==s&&a.upload&&a.upload.addEventListener("progress",f)),a.send(s),o.next({type:xn.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",u),a.removeEventListener("timeout",d),e.reportProgress&&(a.removeEventListener("progress",p),null!==s&&a.upload&&a.upload.removeEventListener("progress",f)),a.readyState!==a.DONE&&a.abort()}})))}}return n.\u0275fac=function(e){return new(e||n)(K(pW))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const XP=new J("XSRF_ENABLED"),r5=new J("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),o5=new J("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class a5{}let zye=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=tW(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(ju),K(r5))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function Wye(n,t){const e=n.url.toLowerCase();if(!be(XP)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=be(a5).getToken(),r=be(o5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Wi=(()=>((Wi=Wi||{})[Wi.Interceptors=0]="Interceptors",Wi[Wi.LegacyInterceptors=1]="LegacyInterceptors",Wi[Wi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wi[Wi.NoXsrfProtection=3]="NoXsrfProtection",Wi[Wi.JsonpSupport=4]="JsonpSupport",Wi[Wi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wi[Wi.Fetch=6]="Fetch",Wi))();function qh(n,t){return{\u0275kind:n,\u0275providers:t}}function $ye(...n){const t=[Jy,n5,e5,{provide:U0,useExisting:e5},{provide:z0,useExisting:n5},{provide:e_,useValue:Wye,multi:!0},{provide:XP,useValue:!0},{provide:a5,useClass:zye}];for(const e of n)t.push(...e.\u0275providers);return function XA(n){return{\u0275providers:n}}(t)}const s5=new J("LEGACY_INTERCEPTOR_FN");let ZP,Yye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[$ye(qh(Wi.LegacyInterceptors,[{provide:s5,useFactory:Lye},{provide:e_,useExisting:s5,multi:!0}]))]}),n})(),K0=(()=>{class n{constructor(e){this.http=e}GetColorList(){return[{code:"c0",name:"black"},{code:"c1",name:"Red"},{code:"c2",name:"Green"},{code:"c3",name:"Yellow"},{code:"c4",name:"White"}]}GetCustomer(){return this.http.get("http://localhost:3000/customer")}Savecustomer(e){return console.log(e),this.http.post("http://localhost:3000/customer",e)}GetCustomerbycode(e){return this.http.get("http://localhost:3000/customer/"+e)}GetAssociate(){return this.http.get("http://localhost:3000/associate")}GetAssociatebycode(e){return this.http.get("http://localhost:3000/associate/"+e)}GetCountry(){return this.http.get("http://localhost:3000/country")}SaveAssociate(e,i){return this.http.put("http://localhost:3000/associate/"+i,e)}}return n.\u0275fac=function(e){return new(e||n)(K(Jy))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Te(n){return null!=n&&"false"!=`${n}`}function gi(n,t=0){return l5(n)?Number(n):t}function l5(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Y0(n){return Array.isArray(n)?n:[n]}function En(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Gc(n){return n instanceof Se?n.nativeElement:n}function c5(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const o=`${r}`.trim();o&&e.push(o)}}return e}try{ZP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZP=!1}let Am,Qt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ofe(n){return n===uW}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(K(ju))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function d5(){if(Am)return Am;if("object"!=typeof document||!document)return Am=new Set(u5),Am;let n=document.createElement("input");return Am=new Set(u5.filter(t=>(n.setAttribute("type",t),n.type===t))),Am}let t_,q0,Xh,QP;function Ts(n){return function e_e(){if(null==t_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>t_=!0}))}finally{t_=t_||!1}return t_}()?n:!!n.capture}function h5(){if(null==Xh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xh=!1,Xh;if("scrollBehavior"in document.documentElement.style)Xh=!0;else{const n=Element.prototype.scrollTo;Xh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xh}function i_(){if("object"!=typeof document||!document)return 0;if(null==q0){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),q0=0,0===n.scrollLeft&&(n.scrollLeft=1,q0=0===n.scrollLeft?1:2),n.remove()}return q0}function Om(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Bc(n){return n.composedPath?n.composedPath()[0]:n.target}function JP(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const p5=Ts({passive:!0});let n_e=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Oa;const i=Gc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Oe,a="cdk-text-field-autofilled",s=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,p5),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",s,p5)}}),o}stopMonitoring(e){const i=Gc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(K(Qt),K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();function Dn(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class p_e extends Rt{constructor(t,e){super()}schedule(t,e=0){return this}}const Q0={setInterval(n,t,...e){const{delegate:i}=Q0;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Q0;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class tI extends p_e{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return Q0.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Q0.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,bf(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const iI={now:()=>(iI.delegate||Date).now(),delegate:void 0};class o_{constructor(t,e=o_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}o_.now=iI.now;class nI extends o_{constructor(t,e=o_.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const J0=new nI(tI),f_e=J0;function ex(n,t=J0){return Zi((e,i)=>{let r=null,o=null,a=null;const s=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=a+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);s()}e.subscribe(Ni(i,c=>{o=c,a=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function rI(n){return ui((t,e)=>n<=e)}function Dt(n){return Zi((t,e)=>{ho(n).subscribe(Ni(e,()=>e.complete(),Sw)),!e.closed&&t.subscribe(e)})}let m5=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m_e=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Gc(e);return new pi(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Oe,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(K(m5))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oI=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=gi(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new U,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ex(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(T(m_e),T(Se),T(De))},n.\u0275dir=Z({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[m5]}),n})();const g5=new Set;let Zh,g_e=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y_e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function v_e(n,t){if(!g5.has(n))try{Zh||(Zh=document.createElement("style"),t&&(Zh.nonce=t),Zh.setAttribute("type","text/css"),document.head.appendChild(Zh)),Zh.sheet&&(Zh.sheet.insertRule(`@media ${n} {body{ }}`,0),g5.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(K(Qt),K(oO,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y_e(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let __e=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Oe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return v5(Y0(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Hh(v5(Y0(e)).map(a=>this._registerQuery(a).observable));return o=Ry(o.pipe(_i(1)),o.pipe(rI(1),ex(0))),o.pipe(ot(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new pi(a=>{const s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(_r(i),ot(({matches:a})=>({query:e,matches:a})),Dt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(K(g_e),K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v5(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function aI(n,t,e){const i=ix(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function a_(n,t,e){const r=ix(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function ix(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const _5="cdk-describedby-message",nx="cdk-describedby-host";let sI=0,C5=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+sI++,this._document=e,this._id=be(ty)+"-"+sI++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=lI(i,r);"string"!=typeof i?(b5(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=lI(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${nx}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(nx);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");b5(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(lI(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=ix(e,"aria-describedby").filter(r=>0!=r.indexOf(_5));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);aI(e,"aria-describedby",r.messageElement.id),e.setAttribute(nx,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,a_(e,"aria-describedby",r.messageElement.id),e.removeAttribute(nx)}_isElementDescribedByMessage(e,i){const r=ix(e,"aria-describedby"),o=this._messageRegistry.get(i),a=o&&o.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(Qt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lI(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function b5(n,t){n.id||(n.id=`${_5}-${t}-${sI++}`)}class w5{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Oe,this._typeaheadSubscription=Rt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Oe,this.change=new Oe,t instanceof Vh&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Sn(e=>this._pressedLetters.push(e)),ex(t),ui(()=>this._pressedLetters.length>0),ot(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}return;default:return void((r||Dn(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Vh?this._items.toArray():this._items}}class S5 extends w5{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class x5 extends w5{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let s_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function b_e(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function C_e(n){try{return n.frameElement}catch{return null}}(function A_e(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===D5(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=D5(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function T_e(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function M_e(n){return!function S_e(n){return function E_e(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function w_e(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function x_e(n){return function D_e(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||E5(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(K(Qt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function D5(n){if(!E5(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class O_e{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(_i(1)).subscribe(t)}}let l_=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new O_e(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(K(s_),K(De),K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R_e=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Te(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Te(e)}constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Om(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(l_),T(tt))},n.\u0275dir=Z({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[ri]}),n})();function T5(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function M5(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const P_e=new J("cdk-input-modality-detector-options"),I_e={ignoreKeys:[18,17,224,91,16]},Im=Ts({passive:!0,capture:!0});let F_e=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new fr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(s=>s===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(T5(a)?"keyboard":"mouse"),this._mostRecentTarget=Bc(a))},this._onTouchstart=a=>{M5(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bc(a))},this._options={...I_e,...o},this.modalityDetected=this._modality.pipe(rI(1)),this.modalityChanged=this.modalityDetected.pipe(Ov()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Im),r.addEventListener("mousedown",this._onMousedown,Im),r.addEventListener("touchstart",this._onTouchstart,Im)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Im),document.removeEventListener("mousedown",this._onMousedown,Im),document.removeEventListener("touchstart",this._onTouchstart,Im))}}return n.\u0275fac=function(e){return new(e||n)(K(Qt),K(De),K(tt),K(P_e,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k_e=new J("liveAnnouncerElement",{providedIn:"root",factory:function L_e(){return null}}),N_e=new J("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let V_e=0,G_e=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+V_e++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],a=o.getAttribute("aria-owns");a?-1===a.indexOf(e)&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(K(k_e,8),K(De),K(tt),K(N_e,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B_e=new J("cdk-focus-monitor-default-options"),rx=Ts({passive:!0,capture:!0});let Uc=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Oe,this._rootNodeFocusAndBlurListener=s=>{for(let c=Bc(s);c;c=c.parentElement)"focus"===s.type?this._onFocus(s,c):this._onBlur(s,c)},this._document=o,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=Gc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ve(null);const o=function i_e(n){if(function t_e(){if(null==QP){const n=typeof document<"u"?document.head:null;QP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return QP}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const s={checkChildren:i,subject:new Oe,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const i=Gc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Gc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Bc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(K(De),K(Qt),K(F_e),K(tt,8),K(B_e,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O5=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new U}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Uc))},n.\u0275dir=Z({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const R5="cdk-high-contrast-black-on-white",P5="cdk-high-contrast-white-on-black",cI="cdk-high-contrast-active";let I5=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=be(__e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(cI,R5,P5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(cI,R5):2===i&&e.add(cI,P5)}}}return n.\u0275fac=function(e){return new(e||n)(K(Qt),K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c_=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(K(I5))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[tx]}),n})();const H_e=new J("cdk-dir-doc",{providedIn:"root",factory:function j_e(){return be(tt)}}),U_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let an=(()=>{class n{constructor(e){this.value="ltr",this.change=new U,e&&(this.value=function z_e(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?U_e.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(K(H_e,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();const W_e=["text"];function $_e(n,t){if(1&n&&te(0,"mat-pseudo-checkbox",6),2&n){const e=de();j("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function K_e(n,t){1&n&&te(0,"mat-pseudo-checkbox",7),2&n&&j("disabled",de().disabled)}function Y_e(n,t){if(1&n&&(O(0,"span",8),F(1),A()),2&n){const e=de();N(1),He("(",e.group.label,")")}}const q_e=[[["mat-icon"]],"*"],X_e=["mat-icon","*"];let Z_e=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Q_e=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const eCe=new J("mat-sanity-checks",{providedIn:"root",factory:function J_e(){return!0}});let ht=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!JP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(K(I5),K(eCe,8),K(tt))},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[u_,u_]}),n})();function nd(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Te(t)}constructor(...t){super(...t),this._disabled=!1}}}function Qh(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Jh(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Te(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function uI(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?gi(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function L5(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function N5(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new pi(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const tCe=new J("MAT_DATE_LOCALE",{providedIn:"root",factory:function iCe(){return be(El)}});class br{constructor(){this._localeChanges=new Oe,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const ep=new J("mat-date-formats"),nCe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function dI(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let rCe=(()=>{class n extends br{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return dI(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return dI(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return dI(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(nCe.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(K(tCe,8),K(Qt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const oCe={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let aCe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[{provide:br,useClass:rCe}]}),n})(),sCe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[{provide:ep,useValue:oCe}],imports:[aCe]}),n})(),V5=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,ht]}),n})();class lCe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const B5=Ts({passive:!0,capture:!0});class cCe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Bc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,B5)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,B5)))}}const H5={enterDuration:225,exitDuration:150},j5=Ts({passive:!0,capture:!0}),U5=["mousedown","touchstart"],z5=["mouseup","mouseleave","touchend","touchcancel"];class tp{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...H5,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function dCe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,f="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p||0===r.width&&0===r.height,m=new lCe(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!f&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const v=()=>this._finishRippleTransition(m),y=()=>this._destroyRipple(m);u.addEventListener("transitionend",v),u.addEventListener("transitioncancel",y),g={onTransitionEnd:v,onTransitionCancel:y}}),this._activeRipples.set(m,g),(f||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...H5,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gc(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,U5.forEach(i=>{tp._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{z5.forEach(e=>{this._triggerElement.addEventListener(e,this,j5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=T5(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!M5(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(U5.forEach(e=>tp._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&z5.forEach(e=>t.removeEventListener(e,this,j5)))}}tp._eventManager=new cCe;const Fm=new J("mat-ripple-global-options");let zc=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new tp(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De),T(Qt),T(Fm,8),T(Ii,8))},n.\u0275dir=Z({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),rd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,ht]}),n})(),hCe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&Be("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),W5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht]}),n})();const hI=new J("MAT_OPTION_PARENT_COMPONENT"),pI=new J("MatOptgroup");let pCe=0;class $5{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let fCe=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Te(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+pCe++,this.onSelectionChange=new U,this._stateChanges=new Oe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Dn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new $5(this,e))}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&Xe(W_e,7),2&e){let r;ye(r=_e())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),ip=(()=>{class n extends fCe{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(hI,8),T(pI,8))},n.\u0275cmp=we({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&se("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(Fc("id",i.id),je("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),Be("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[me],ngContentSelectors:X_e,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(Zt(q_e),ue(0,$_e,1,2,"mat-pseudo-checkbox",0),Ge(1),O(2,"span",1,2),Ge(4,1),A(),ue(5,K_e,1,1,"mat-pseudo-checkbox",3),ue(6,Y_e,2,1,"span",4),te(7,"div",5)),2&e&&(j("ngIf",i.multiple),N(5),j("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),N(1),j("ngIf",i.group&&i.group._inert),N(1),j("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[zc,Zr,hCe],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();function K5(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}function Y5(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}let ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[rd,yr,ht,W5]}),n})();class mCe extends Oe{constructor(t=1/0,e=1/0,i=iI){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;e||(i.push(t),!r&&i.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!t.closed;a+=i?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const a=e.now();let s=0;for(let l=1;l<i.length&&i[l]<=a;l+=2)s=l;s&&i.splice(0,s+1)}}}class vCe{constructor(t){this._box=t,this._destroyed=new Oe,this._resizeSubject=new Oe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new pi(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ui(e=>e.some(i=>i.target===t)),function gCe(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,Dw({connector:()=>new mCe(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Dt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let yCe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=be(De)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new vCe(r)),this._observers.get(r).observe(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class q5{}class _Ce{}const Wc="*";function Kn(n,t){return{type:7,name:n,definitions:t,options:{}}}function oi(n,t=null){return{type:4,styles:t,timings:n}}function fI(n,t=null){return{type:3,steps:n,options:t}}function X5(n,t=null){return{type:2,steps:n,options:t}}function ze(n){return{type:6,styles:n,offset:null}}function vi(n,t,e){return{type:0,name:n,styles:t,options:e}}function km(n){return{type:5,steps:n}}function Jt(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ax(n=null){return{type:9,options:n}}function sx(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class h_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Z5{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const CCe=["notch"],bCe=["matFormFieldNotchedOutline",""],wCe=["*"],SCe=["textField"],xCe=["iconPrefixContainer"],ECe=["textPrefixContainer"];function DCe(n,t){1&n&&te(0,"span",19)}function TCe(n,t){if(1&n&&(O(0,"label",17),Ge(1,1),ue(2,DCe,1,0,"span",18),A()),2&n){const e=de(2);j("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),je("for",e._control.id)("aria-owns",e._control.id),N(2),j("ngIf",!e.hideRequiredMarker&&e._control.required)}}function MCe(n,t){1&n&&ue(0,TCe,3,6,"label",16),2&n&&j("ngIf",de()._hasFloatingLabel())}function ACe(n,t){1&n&&te(0,"div",20)}function OCe(n,t){}function RCe(n,t){1&n&&ue(0,OCe,0,0,"ng-template",22),2&n&&(de(2),j("ngTemplateOutlet",rn(1)))}function PCe(n,t){if(1&n&&(O(0,"div",21),ue(1,RCe,1,1,"ng-template",9),A()),2&n){const e=de();j("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),N(1),j("ngIf",!e._forceDisplayInfixLabel())}}function ICe(n,t){1&n&&(O(0,"div",23,24),Ge(2,2),A())}function FCe(n,t){1&n&&(O(0,"div",25,26),Ge(2,3),A())}function kCe(n,t){}function LCe(n,t){1&n&&ue(0,kCe,0,0,"ng-template",22),2&n&&(de(),j("ngTemplateOutlet",rn(1)))}function NCe(n,t){1&n&&(O(0,"div",27),Ge(1,4),A())}function VCe(n,t){1&n&&(O(0,"div",28),Ge(1,5),A())}function GCe(n,t){1&n&&te(0,"div",29)}function BCe(n,t){1&n&&(O(0,"div",30),Ge(1,6),A()),2&n&&j("@transitionMessages",de()._subscriptAnimationState)}function HCe(n,t){if(1&n&&(O(0,"mat-hint",34),F(1),A()),2&n){const e=de(2);j("id",e._hintLabelId),N(1),Ct(e.hintLabel)}}function jCe(n,t){if(1&n&&(O(0,"div",31),ue(1,HCe,2,2,"mat-hint",32),Ge(2,7),te(3,"div",33),Ge(4,8),A()),2&n){const e=de();j("@transitionMessages",e._subscriptAnimationState),N(1),j("ngIf",e.hintLabel)}}const UCe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zCe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let $c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-label"]]}),n})();const WCe=new J("MatError");let $Ce=0,lx=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+$Ce++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(Fc("id",i.id),je("align",null),Be("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const KCe=new J("MatPrefix"),Q5=new J("MatSuffix");let J5=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ne([{provide:Q5,useExisting:n}])]}),n})();const e8=new J("FloatingLabelParent");let t8=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=be(yCe),this._ngZone=be(De),this._parent=be(e8),this._resizeSubscription=new Rt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function YCe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return n.\u0275fac=function(e){return new(e||n)(T(Se))},n.\u0275dir=Z({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),n})();const i8="mdc-line-ripple--active",cx="mdc-line-ripple--deactivating";let n8=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,a=o.contains(cx);"opacity"===r.propertyName&&a&&o.remove(i8,cx)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(cx),e.add(i8)}deactivate(){this._elementRef.nativeElement.classList.add(cx)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De))},n.\u0275dir=Z({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),r8=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De))},n.\u0275cmp=we({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(e,i){if(1&e&&Xe(CCe,5),2&e){let r;ye(r=_e())&&(i._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mdc-notched-outline--notched",i.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:bCe,ngContentSelectors:wCe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(Zt(),te(0,"div",0),O(1,"div",1,2),Ge(3),A(),te(4,"div",3))},encapsulation:2,changeDetection:0}),n})();const qCe={transitionMessages:Kn("transitionMessages",[vi("enter",ze({opacity:1,transform:"translateY(0%)"})),Jt("void => enter",[ze({opacity:0,transform:"translateY(-5px)"}),oi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n}),n})();const p_=new J("MatFormField"),XCe=new J("MAT_FORM_FIELD_DEFAULT_OPTIONS");let o8=0,Fl=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Te(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,a,s,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=a,this._defaults=s,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+o8++,this._hintLabelId="mat-mdc-hint-"+o8++,this._subscriptAnimationState="",this._destroyed=new Oe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,s&&(s.appearance&&(this.appearance=s.appearance),this._hideRequiredMarker=!!s?.hideRequiredMarker,s.color&&(this.color=s.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Dt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),nn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Dt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Dt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(De),T(an),T(Qt),T(XCe,8),T(Ii,8),T(tt))},n.\u0275cmp=we({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,$c,5),Tt(r,$c,7),Tt(r,gI,5),Tt(r,KCe,5),Tt(r,Q5,5),Tt(r,WCe,5),Tt(r,lx,5)),2&e){let o;ye(o=_e())&&(i._labelChildNonStatic=o.first),ye(o=_e())&&(i._labelChildStatic=o.first),ye(o=_e())&&(i._formFieldControl=o.first),ye(o=_e())&&(i._prefixChildren=o),ye(o=_e())&&(i._suffixChildren=o),ye(o=_e())&&(i._errorChildren=o),ye(o=_e())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(Xe(SCe,5),Xe(xCe,5),Xe(ECe,5),Xe(t8,5),Xe(r8,5),Xe(n8,5)),2&e){let r;ye(r=_e())&&(i._textField=r.first),ye(r=_e())&&(i._iconPrefixContainer=r.first),ye(r=_e())&&(i._textPrefixContainer=r.first),ye(r=_e())&&(i._floatingLabel=r.first),ye(r=_e())&&(i._notchedOutline=r.first),ye(r=_e())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&Be("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ne([{provide:p_,useExisting:n},{provide:e8,useExisting:n}])],ngContentSelectors:zCe,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(Zt(UCe),ue(0,MCe,1,1,"ng-template",null,0,sm),O(2,"div",1,2),se("click",function(o){return i._control.onContainerClick(o)}),ue(4,ACe,1,0,"div",3),O(5,"div",4),ue(6,PCe,2,2,"div",5),ue(7,ICe,3,0,"div",6),ue(8,FCe,3,0,"div",7),O(9,"div",8),ue(10,LCe,1,1,"ng-template",9),Ge(11),A(),ue(12,NCe,2,0,"div",10),ue(13,VCe,2,0,"div",11),A(),ue(14,GCe,1,0,"div",12),A(),O(15,"div",13),ue(16,BCe,2,1,"div",14),ue(17,jCe,5,2,"div",15),A()),2&e&&(N(2),Be("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),N(2),j("ngIf",!i._hasOutline()&&!i._control.disabled),N(2),j("ngIf",i._hasOutline()),N(1),j("ngIf",i._hasIconPrefix),N(1),j("ngIf",i._hasTextPrefix),N(2),j("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),N(2),j("ngIf",i._hasTextSuffix),N(1),j("ngIf",i._hasIconSuffix),N(1),j("ngIf",!i._hasOutline()),N(1),Be("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),j("ngSwitch",i._getDisplayedMessages()),N(1),j("ngSwitchCase","error"),N(1),j("ngSwitchCase","hint"))},dependencies:[Zr,UR,dm,s0,lx,t8,r8,n8],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[qCe.transitionMessages]},changeDetection:0}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,yr,tx,ht]}),n})();const l8=new J("MAT_INPUT_VALUE_ACCESSOR"),JCe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ebe=0;const tbe=L5(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Oe}});let Kc=(()=>{class n extends tbe{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(xs.required)??!1}set required(e){this._required=Te(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&d5().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Te(e)}constructor(e,i,r,o,a,s,l,c,u,d){super(s,o,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+ebe++,this.focused=!1,this.stateChanges=new Oe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>d5().has(f)),this._iOSKeyupListener=f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){JCe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Qt),T(Al,10),T(ed,8),T(Ds,8),T(V5),T(l8,10),T(n_e),T(De),T(p_,8))},n.\u0275dir=Z({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&se("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Fc("id",i.id)("disabled",i.disabled)("required",i.required),je("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),Be("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ne([{provide:gI,useExisting:n}]),me,ri]}),n})(),ibe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,vI,vI,r_e,ht]}),n})();const nbe=["addListener","removeListener"],rbe=["addEventListener","removeEventListener"],obe=["on","off"];function Ms(n,t,e,i){if(jt(e)&&(i=e,e=void 0),i)return Ms(n,t,e).pipe(oP(i));const[r,o]=function lbe(n){return jt(n.addEventListener)&&jt(n.removeEventListener)}(n)?rbe.map(a=>s=>n[a](t,s,e)):function abe(n){return jt(n.addListener)&&jt(n.removeListener)}(n)?nbe.map(c8(n,t)):function sbe(n){return jt(n.on)&&jt(n.off)}(n)?obe.map(c8(n,t)):[];if(!r&&zM(n))return Hn(a=>Ms(a,t,e))(ho(n));if(!r)throw new TypeError("Invalid event target");return new pi(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function c8(n,t){return e=>i=>n[e](t,i)}const f_={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=f_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Rt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=f_;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=f_;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class ube extends nI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class cbe extends tI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=f_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(f_.cancelAnimationFrame(e),t._scheduled=void 0)}});let yI,hbe=1;const ux={};function u8(n){return n in ux&&(delete ux[n],!0)}const pbe={setImmediate(n){const t=hbe++;return ux[t]=!0,yI||(yI=Promise.resolve()),yI.then(()=>u8(t)&&n()),t},clearImmediate(n){u8(n)}},{setImmediate:fbe,clearImmediate:mbe}=pbe,dx={setImmediate(...n){const{delegate:t}=dx;return(t?.setImmediate||fbe)(...n)},clearImmediate(n){const{delegate:t}=dx;return(t?.clearImmediate||mbe)(n)},delegate:void 0};new class vbe extends nI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class gbe extends tI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=dx.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(dx.clearImmediate(e),t._scheduled=void 0)}});function _I(n=0,t,e=f_e){let i=-1;return null!=t&&(uB(t)?e=t:i=t),new pi(r=>{let o=function Cbe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function d8(n,t=J0){return function _be(n){return Zi((t,e)=>{let i=!1,r=null,o=null,a=!1;const s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(Ni(e,c=>{i=!0,r=c,o||ho(n(c)).subscribe(o=Ni(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>_I(n,t))}let hx=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Oe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new pi(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(d8(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ve()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ui(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Gc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ms(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(K(De),K(Qt),K(tt,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CI=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Oe,this._elementScrolled=new pi(a=>this.ngZone.runOutsideAngular(()=>Ms(this.elementRef.nativeElement,"scroll").pipe(Dt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=i_()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==i_()?e.left=e.right:1==i_()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;h5()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==i_()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&1==i_()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(hx),T(De),T(an,8))},n.\u0275dir=Z({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Yc=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Oe,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(d8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(K(Qt),K(De),K(tt,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})(),bI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[u_,qc,u_,qc]}),n})();class wI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lm extends wI{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Nm extends wI{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xbe extends wI{constructor(t){super(),this.element=t instanceof Se?t.nativeElement:t}}class SI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Lm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Nm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xbe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ebe extends SI{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||vr.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Dbe=(()=>{class n extends Nm{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Fi))},n.\u0275dir=Z({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[me]}),n})(),od=(()=>{class n extends SI{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new U,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(T(Ih),T(Fi),T(tt))},n.\u0275dir=Z({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),n})(),Vm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})();const h8=h5();class Tbe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=En(-this._previousScrollPosition.left),t.style.top=En(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),h8&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),h8&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Mbe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(ui(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class p8{enable(){}disable(){}attach(){}}function xI(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function f8(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Abe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xI(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Obe=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new p8,this.close=a=>new Mbe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Tbe(this._viewportRuler,this._document),this.reposition=a=>new Abe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(K(hx),K(Yc),K(De),K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class m_{constructor(t){if(this.scrollStrategy=new p8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Rbe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let m8=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pbe=(()=>{class n extends m8{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(De,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ibe=(()=>{class n extends m8{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Bc(o)},this._clickListener=o=>{const a=Bc(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(s))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(Qt),K(De,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),px=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||JP()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),JP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(Qt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class g_{constructor(t,e,i,r,o,a,s,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Oe,this._attachments=new Oe,this._detachments=new Oe,this._locationChanges=Rt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Oe,this._outsidePointerEvents=new Oe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_i(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=En(this._config.width),t.height=En(this._config.height),t.minWidth=En(this._config.minWidth),t.minHeight=En(this._config.minHeight),t.maxWidth=En(this._config.maxWidth),t.maxHeight=En(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Y0(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Dt(nn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const g8="cdk-overlay-connected-position-bounding-box",Fbe=/([A-Za-z%]+)$/;class v8{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Oe,this._resizeSubscription=Rt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(g8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&np(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(g8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r="start"==i.originX?a:s}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=_8(e);let{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let h=0-s,p=s+o.height-i.height,f=this._subtractOverflows(o.width,0-a,a+o.width-i.width),m=this._subtractOverflows(o.height,h,p),g=f*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=y8(this._overlayRef.getConfig().minHeight),s=y8(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=r)&&(t.fitsInViewportHorizontally||null!=s&&s<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_8(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,d=r.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Rbe(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,s,u,d,h;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)s=i.height-t.y+2*this._viewportMargin,o=i.height-s+this._viewportMargin;else{const p=Math.min(i.bottom-t.y+i.top,t.y),f=this._lastBoundingBoxSize.height;o=2*p,a=t.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-f/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const p=Math.min(i.right-t.x+i.left,t.x),f=this._lastBoundingBoxSize.width;u=2*p,d=t.x-p,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-f/2)}return{top:a,left:d,bottom:s,right:h,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=En(i.height),r.top=En(i.top),r.bottom=En(i.bottom),r.width=En(i.width),r.left=En(i.left),r.right=En(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=En(o)),a&&(r.maxWidth=En(a))}this._lastBoundingBoxSize=i,np(this._boundingBox.style,r)}_resetBoundingBoxStyles(){np(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){np(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();np(i,this._getExactOverlayY(e,t,u)),np(i,this._getExactOverlayX(e,t,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=En(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=En(a.maxWidth):o&&(i.maxWidth="")),np(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=En(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=En(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:f8(t,i),isOriginOutsideView:xI(t,i),isOverlayClipped:f8(e,i),isOverlayOutsideView:xI(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Y0(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Se)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function np(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function y8(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Fbe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _8(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const C8="cdk-global-overlay-wrapper";class kbe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(C8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",f="",m="";l?m="flex-start":"center"===u?(m="center",h?f=d:p=d):h?"left"===u||"end"===u?(m="flex-end",p=d):("right"===u||"start"===u)&&(m="flex-start",f=d):"left"===u||"start"===u?(m="flex-start",p=d):("right"===u||"end"===u)&&(m="flex-end",f=d),t.position=this._cssPosition,t.marginLeft=l?"0":p,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":f,e.justifyContent=m,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(C8),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Lbe=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new kbe}flexibleConnectedTo(e){return new v8(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(K(Yc),K(tt),K(Qt),K(px))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nbe=0,Jr=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,d,h,p){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new m_(e);return a.direction=a.direction||this._directionality.value,new g_(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Nbe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($u)),new Ebe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(K(Obe),K(px),K(Ih),K(Lbe),K(Pbe),K(vr),K(De),K(tt),K(an),K(Dy),K(Ibe),K(Ii,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vbe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],b8=new J("cdk-connected-overlay-scroll-strategy");let EI=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(T(Se))},n.\u0275dir=Z({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),w8=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Te(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Te(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Te(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Te(e)}get push(){return this._push}set push(e){this._push=Te(e)}constructor(e,i,r,o,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rt.EMPTY,this._attachSubscription=Rt.EMPTY,this._detachSubscription=Rt.EMPTY,this._positionSubscription=Rt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new U,this.positionChange=new U,this.attach=new U,this.detach=new U,this.overlayKeydown=new U,this.overlayOutsideClick=new U,this._templatePortal=new Nm(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Vbe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Dn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new m_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof EI?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Sbe(n,t=!1){return Zi((e,i)=>{let r=0;e.subscribe(Ni(i,o=>{const a=n(o,r++);(a||t)&&i.next(o),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(T(Jr),T(Gi),T(Fi),T(b8),T(an,8))},n.\u0275dir=Z({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[ri]}),n})();const Bbe={provide:b8,deps:[Jr],useFactory:function Gbe(n){return()=>n.scrollStrategies.reposition()}};let rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[Jr,Bbe],imports:[u_,Vm,bI,bI]}),n})();function S8(n,t){return t?e=>Ry(t.pipe(_i(1),function Hbe(){return Zi((n,t)=>{n.subscribe(Ni(t,Sw))})}()),e.pipe(S8(n))):Hn((e,i)=>n(e,i).pipe(_i(1),p0(e)))}const Ube=["panel"];function zbe(n,t){if(1&n&&(O(0,"div",0,1),Ge(2),A()),2&n){const e=t.id,i=de();j("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),je("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}const Wbe=["*"],$be=Kn("panelAnimation",[vi("void, hidden",ze({opacity:0,transform:"scaleY(0.8)"})),Jt(":enter, hidden => visible",[fI([oi("0.03s linear",ze({opacity:1})),oi("0.12s cubic-bezier(0, 0, 0.2, 1)",ze({transform:"scaleY(1)"}))])]),Jt(":leave, visible => hidden",[oi("0.075s linear",ze({opacity:0}))])]);let Kbe=0;class Ybe{constructor(t,e){this.source=t,this.option=e}}const qbe=Jh(class{}),x8=new J("mat-autocomplete-default-options",{providedIn:"root",factory:function Xbe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}});let Zbe=(()=>{class n extends qbe{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._setThemeClasses(this._classList)}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Te(e)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(e){this._autoSelectActiveOption=Te(e)}set classList(e){this._classList=e&&e.length?c5(e).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}constructor(e,i,r,o){super(),this._changeDetectorRef=e,this._elementRef=i,this._defaults=r,this._activeOptionChanges=Rt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new U,this.opened=new U,this.closed=new U,this.optionActivated=new U,this._classList={},this.id="mat-autocomplete-"+Kbe++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption}ngAfterContentInit(){this._keyManager=new S5(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const i=new Ybe(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}_setThemeClasses(e){e["mat-primary"]="primary"===this._color,e["mat-warn"]="warn"===this._color,e["mat-accent"]="accent"===this._color}_skipPredicate(e){return e.disabled}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(Se),T(x8),T(Qt))},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&(Xe(Gi,7),Xe(Ube,5)),2&e){let r;ye(r=_e())&&(i.template=r.first),ye(r=_e())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[me]}),n})(),DI=(()=>{class n extends Zbe{constructor(){super(...arguments),this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Te(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_skipPredicate(e){return!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,pI,5),Tt(r,ip,5)),2&e){let o;ye(o=_e())&&(i.optionGroups=o),ye(o=_e())&&(i.options=o)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[Ne([{provide:hI,useExisting:n}]),me],ngContentSelectors:Wbe,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(e,i){1&e&&(Zt(),ue(0,zbe,3,5,"ng-template"))},dependencies:[Yu],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[$be]},changeDetection:0}),n})();const Qbe={provide:Cr,useExisting:It(()=>fx),multi:!0},E8=new J("mat-autocomplete-scroll-strategy"),ewe={provide:E8,deps:[Jr],useFactory:function Jbe(n){return()=>n.scrollStrategies.reposition()}};let twe=(()=>{class n{get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Te(e)}constructor(e,i,r,o,a,s,l,c,u,d,h){this._element=e,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=a,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Rt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Oe,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=hm(()=>{const p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(_r(p),mr(()=>nn(...p.map(f=>f.onSelectionChange)))):this._zone.onStable.pipe(_i(1),mr(()=>this.optionSelections))}),this._trackedModal=null,this._scrollStrategy=s}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return nn(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ui(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ui(()=>this._overlayAttached)):Ve()).pipe(ot(e=>e instanceof $5?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return nn(Ms(this._document,"click"),Ms(this._document,"auxclick"),Ms(this._document,"touchend")).pipe(ui(e=>{const i=Bc(e),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const i=e.keyCode,r=Dn(e);if(27===i&&!r&&e.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,a=38===i||40===i;9===i||a&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):a&&this._canOpen()&&this.openPanel(),(a||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(_i(1)),i=this.autocomplete.options.changes.pipe(Sn(()=>this._positionStrategy.reapplyLastPosition()),function jbe(n,t=J0){const e=_I(n,t);return S8(()=>e)}(0));return nn(e,i).pipe(mr(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),_i(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(e){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const i=e?e.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(i=>{i!==e&&i.selected&&i.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new Nm(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,this._handleOverlayEvents(e),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new m_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let a;a="above"===this.position?o:"below"===this.position?i:[...i,...o],e.withPositions(a)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let r=0;r<e.options.length;r++)if(!e.options.get(r).disabled){i=r;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const i=this.autocomplete,r=K5(e,i.options,i.optionGroups);if(0===e&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[e];if(o){const a=o._getHostElement(),s=Y5(a.offsetTop,a.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(s)}}}_handleOverlayEvents(e){e.keydownEvents().subscribe(i=>{(27===i.keyCode&&!Dn(i)||38===i.keyCode&&Dn(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),e.outsidePointerEvents().subscribe()}_applyModalPanelOwnership(){const e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=this.autocomplete.id;this._trackedModal&&a_(this._trackedModal,"aria-owns",i),aI(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(a_(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Jr),T(Fi),T(De),T(Ft),T(E8),T(an,8),T(p_,9),T(tt,8),T(Yc),T(x8,8))},n.\u0275dir=Z({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[ri]}),n})(),fx=(()=>{class n extends twe{constructor(){super(...arguments),this._aboveClass="mat-mdc-autocomplete-panel-above"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(e,i){1&e&&se("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&e&&je("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Ne([Qbe]),me]}),n})(),iwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[ewe],imports:[rp,ox,ht,yr,qc,ox,ht]}),n})();function nwe(n,t){if(1&n&&(O(0,"mat-option",6),F(1),A()),2&n){const e=t.$implicit;j("value",e.code),N(1),ea("",e.code," | ",e.name,"")}}let rwe=(()=>{class n{constructor(e){this.service=e,this.colorarray=["Red","Green","Yellow"],this.formcontrol=new Em(""),this.colorarraylist=this.service.GetColorList()}ngOnInit(){this.filteroptionslist=this.formcontrol.valueChanges.pipe(_r(""),ot(e=>this._LISTFILTER(e||"")))}_FILTER(e){const i=e.toLocaleLowerCase();return this.colorarray.filter(r=>r.toLocaleLowerCase().includes(i))}_LISTFILTER(e){const i=e.toLocaleLowerCase();return this.colorarraylist.filter(r=>r.name.toLocaleLowerCase().includes(i)||r.code.toLocaleLowerCase().includes(i))}}return n.\u0275fac=function(e){return new(e||n)(T(K0))},n.\u0275cmp=we({type:n,selectors:[["app-autocomplete"]],decls:9,vars:5,consts:[[1,"example-form"],[1,"example-full-width"],["matInput","",3,"matAutocomplete","formControl"],["autoActiveFirstOption",""],["auto",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){if(1&e&&(O(0,"h3"),F(1,"Auto Complete"),A(),O(2,"form",0)(3,"mat-form-field",1),te(4,"input",2),O(5,"mat-autocomplete",3,4),ue(7,nwe,2,3,"mat-option",5),QO(8,"async"),A()()()),2&e){const r=rn(6);N(4),j("matAutocomplete",r)("formControl",i.formcontrol),N(3),j("ngForOf",JO(8,3,i.filteroptionslist))}},dependencies:[Ba,Kc,Fl,ip,DI,fx,Rl,ia,Es,Ol,jP,ed,zR]}),n})();class owe{}function TI(n){return n&&"function"==typeof n.connect&&!(n instanceof sP)}class D8{applyChanges(t,e,i,r,o){t.forEachOperation((a,s,l)=>{let c,u;if(null==a.previousIndex){const d=i(a,s,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(e.remove(s),u=3):(c=e.get(s),e.move(c,l),u=2);o&&o({context:c?.context,operation:u,record:a})})}detach(){}}class MI{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Oe,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let awe=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v_=new J("_ViewRepeater"),swe=["trigger"],lwe=["panel"];function cwe(n,t){if(1&n&&(O(0,"span",10),F(1),A()),2&n){const e=de();N(1),Ct(e.placeholder)}}function uwe(n,t){if(1&n&&(O(0,"span",14),F(1),A()),2&n){const e=de(2);N(1),Ct(e.triggerValue)}}function dwe(n,t){1&n&&Ge(0,0,["*ngSwitchCase","true"])}function hwe(n,t){1&n&&(O(0,"span",11),ue(1,uwe,2,1,"span",12),ue(2,dwe,1,0,"ng-content",13),A()),2&n&&(j("ngSwitch",!!de().customTrigger),N(2),j("ngSwitchCase",!0))}function pwe(n,t){if(1&n){const e=Ei();Pa(),Mh(),O(0,"div",15,16),se("@transformPanel.done",function(r){return ut(e),dt(de()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return ut(e),dt(de()._handleKeydown(r))}),Ge(2,1),A()}if(2&n){const e=de();(function P3(n,t,e){_s(Zo,xl,qf(pe(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),j("ngClass",e.panelClass)("@transformPanel","showing"),je("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const fwe=[[["mat-select-trigger"]],"*"],mwe=["mat-select-trigger","*"],gwe={transformPanelWrap:Kn("transformPanelWrap",[Jt("* => void",sx("@transformPanel",[ax()],{optional:!0}))]),transformPanel:Kn("transformPanel",[vi("void",ze({opacity:0,transform:"scale(1, 0.8)"})),Jt("void => showing",oi("120ms cubic-bezier(0, 0, 0.2, 1)",ze({opacity:1,transform:"scale(1, 1)"}))),Jt("* => void",oi("100ms linear",ze({opacity:0})))])};let M8=0;const A8=new J("mat-select-scroll-strategy"),ywe=new J("MAT_SELECT_CONFIG"),_we={provide:A8,deps:[Jr],useFactory:function vwe(n){return()=>n.scrollStrategies.reposition()}},Cwe=new J("MatSelectTrigger");class bwe{constructor(t,e){this.source=t,this.value=e}}const wwe=Jh(uI(nd(L5(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Oe}}))));let Swe=(()=>{class n extends wwe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(xs.required)??!1}set required(e){this._required=Te(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Te(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Te(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=gi(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,a,s,l,c,u,d,h,p,f,m){super(a,o,l,c,d),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._parentFormField=u,this._liveAnnouncer=f,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(g,v)=>g===v,this._uid="mat-select-"+M8++,this._triggerAriaLabelledBy=null,this._destroy=new Oe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+M8++,this._panelDoneAnimatingStream=new Oe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=hm(()=>{const g=this.options;return g?g.changes.pipe(_r(g),mr(()=>nn(...g.map(v=>v.onSelectionChange)))):this._ngZone.onStable.pipe(_i(1),mr(()=>this.optionSelectionChanges))}),this.openedChange=new U,this._openedStream=this.openedChange.pipe(ui(g=>g),ot(()=>{})),this._closedStream=this.openedChange.pipe(ui(g=>!g),ot(()=>{})),this.selectionChange=new U,this.valueChange=new U,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=m?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new MI(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ov(),Dt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Dt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(_r(null),Dt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&a_(this._trackedModal,"aria-owns",i),aI(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(a_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&o&&!Dn(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const s=this.selected;a.onKeydown(e);const l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,a=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Dn(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{const s=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(_i(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new S5(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=nn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Dt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),nn(...this.options.map(i=>i._stateChanges)).pipe(Dt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(T(Yc),T(Ft),T(De),T(V5),T(Se),T(an,8),T(ed,8),T(Ds,8),T(p_,8),T(Al,10),ml("tabindex"),T(A8),T(G_e),T(ywe,8))},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&(Xe(swe,5),Xe(lwe,5),Xe(w8,5)),2&e){let r;ye(r=_e())&&(i.trigger=r.first),ye(r=_e())&&(i.panel=r.first),ye(r=_e())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[me,ri]}),n})(),y_=(()=>{class n extends Swe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Dt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=K5(e,this.options,this.optionGroups),a=i._getHostElement();r.scrollTop=0===e&&1===o?0:Y5(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new bwe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof EI?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Te(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,Cwe,5),Tt(r,ip,5),Tt(r,pI,5)),2&e){let o;ye(o=_e())&&(i.customTrigger=o.first),ye(o=_e())&&(i.options=o),ye(o=_e())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&se("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(je("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Be("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ne([{provide:gI,useExisting:n},{provide:hI,useExisting:n}]),me],ngContentSelectors:mwe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(Zt(fwe),O(0,"div",0,1),se("click",function(){return i.toggle()}),O(3,"div",2),ue(4,cwe,2,1,"span",3),ue(5,hwe,3,2,"span",4),A(),O(6,"div",5)(7,"div",6),Pa(),O(8,"svg",7),te(9,"path",8),A()()()(),ue(10,pwe,3,9,"ng-template",9),se("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=rn(1);N(3),j("ngSwitch",i.empty),je("id",i._valueId),N(1),j("ngSwitchCase",!0),N(1),j("ngSwitchCase",!1),N(5),j("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Yu,dm,s0,aW,w8,EI],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[gwe.transformPanel]},changeDetection:0}),n})(),O8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[_we],imports:[yr,rp,ox,ht,qc,vI,ox,ht]}),n})(),xwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-input"]],decls:13,vars:0,consts:[[1,"example-full-width"],["matInput","","placeholder","Enter text"],[1,"example-form"],["matInput","","placeholder","Ex. Pizza","value","Sushi"]],template:function(e,i){1&e&&(O(0,"h2"),F(1,"Angular Material - Input"),A(),O(2,"mat-form-field",0),te(3,"input",1),A(),O(4,"form",2)(5,"mat-form-field",0)(6,"mat-label"),F(7,"Favorite food"),A(),te(8,"input",3),A(),O(9,"mat-form-field",0)(10,"mat-label"),F(11,"Leave a comment"),A(),te(12,"mat-select"),A()())},dependencies:[Kc,Fl,$c,y_,Rl,Ol,ed],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),n})(),Ewe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"home-container"],[1,"slide"],["src","/assets/forsgate_bg.jpg",1,"homeimg"],[1,"paragraph"],[2,"font-family","Georgia, serif","color","#006400","font-size","36px"],[2,"font-family","Georgia, serif","color","#006400","font-size","26px"],[2,"font-family","Arial"],["width","450","height","250","src","https://www.youtube.com/embed/_5k2NJedQZQ?si=mt00cM3y9jMmfBMd","frameborder","0","allowfullscreen",""]],template:function(e,i){1&e&&(O(0,"div",0)(1,"div",1),te(2,"img",2),A(),O(3,"div",3)(4,"h1",4),F(5," Welcome to The New Jersey Ten Dollar Club"),A(),O(6,"h1",5),F(7,"\u65b0\u6cfd\u897f\u5341\u5143\u8d5b\u4ff1\u4e50\u90e8"),A(),O(8,"p",6),F(9," Playing golf with friends is our way of enjoying life. "),A(),O(10,"p"),F(11," We are members from Forsgate Country Club and we organize golf games between members and guests mostly in the weekends. The game could be in a couple of formats. "),A(),O(12,"div",3),te(13,"iframe",7),A()()())},styles:[".home-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto;padding:0;background-color:#f5f5f5;border-radius:0;box-shadow:0 0 #0000001a;height:1200px}h1[_ngcontent-%COMP%]{color:#042135;font-family:verdana}p[_ngcontent-%COMP%]{color:#020614e7;line-height:1.6;font-family:verdana}.paragraph[_ngcontent-%COMP%]{font:16px Play;position:relative;padding-top:20px}.homeimg[_ngcontent-%COMP%]{max-width:100%;width:100%;max-height:60%}.Slide[_ngcontent-%COMP%]{position:relative;border:1px solid blue;min-width:100%;height:100%;transition:.5s;background-color:#000}.Slide1[_ngcontent-%COMP%]{position:relative;border:1px solid blue;max-width:100%;width:100%;max-height:60%;transition:.5s;opacity:.4}"]}),n})();const Dwe=["*"];let mx;function __(n){return function Twe(){if(void 0===mx&&(mx=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(mx=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return mx}()?.createHTML(n)||n}function R8(n){return Error(`Unable to find icon with the name "${n}"`)}function P8(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function I8(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class op{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let gx=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new op(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(ci.HTML,r);if(!a)throw I8(r);const s=__(a);return this._addSvgIconConfig(e,i,new op("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new op(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(ci.HTML,i);if(!o)throw I8(i);const a=__(o);return this._addSvgIconSetConfig(e,new op("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ci.RESOURCE_URL,e);if(!i)throw P8(e);const r=this._cachedIconsByUrl.get(i);return r?Ve(vx(r)):this._loadSvgIconFromConfig(new op(e,null)).pipe(Sn(o=>this._cachedIconsByUrl.set(i,o)),ot(o=>vx(o)))}getNamedSvgIcon(e,i=""){const r=F8(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):pm(R8(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ve(vx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ot(i=>vx(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ve(r):U4(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Xu(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ci.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Ve(null)})))).pipe(ot(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw R8(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Sn(i=>e.svgText=i),ot(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ve(null):this._fetchIcon(e).pipe(Sn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const s=this._svgElementFromString(__("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(__("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:s}=r[o];"id"!==a&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Mwe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(ci.RESOURCE_URL,i);if(!a)throw P8(i);const s=this._inProgressUrlFetches.get(a);if(s)return s;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ot(c=>__(c)),mm(()=>this._inProgressUrlFetches.delete(a)),Dw());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(F8(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Owe(o)?new op(o.url,null,o.options):new op(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(K(Jy,8),K(rP),K(tt,8),K(_l))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vx(n){return n.cloneNode(!0)}function F8(n,t){return n+":"+t}function Owe(n){return!(!n.url||!n.options)}const Rwe=Qh(class{constructor(n){this._elementRef=n}}),Pwe=new J("MAT_ICON_DEFAULT_OPTIONS"),Iwe=new J("mat-icon-location",{providedIn:"root",factory:function Fwe(){const n=be(tt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),k8=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kwe=k8.map(n=>`[${n}]`).join(", "),Lwe=/^url\(['"]?#(.*?)['"]?\)$/;let AI=(()=>{class n extends Rwe{get inline(){return this._inline}set inline(e){this._inline=Te(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,a,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Rt.EMPTY,s&&(s.color&&(this.color=this.defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(kwe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)k8.forEach(a=>{const s=i[o],l=s.getAttribute(a),c=l?l.match(Lwe):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(_i(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(gx),ml("aria-hidden"),T(Iwe),T(_l),T(Pwe,8))},n.\u0275cmp=we({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(je("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Be("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[me],ngContentSelectors:Dwe,decls:1,vars:0,template:function(e,i){1&e&&(Zt(),Ge(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Nwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,ht]}),n})();const L8=["mat-button",""],N8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],V8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],G8=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Gwe=["mat-icon-button",""],Bwe=["*"],B8={capture:!0},H8=["focus","click","mouseenter","touchstart"],C_="mat-button-ripple-uninitialized";let Hwe=(()=>{class n{constructor(){this._document=be(tt,{optional:!0}),this._animationMode=be(Ii,{optional:!0}),this._globalRippleOptions=be(Fm,{optional:!0}),this._platform=be(Qt),this._ngZone=be(De),this._onInteraction=e=>{if(e.target===this._document)return;const r=e.target.closest(`[${C_}]`);r&&(r.removeAttribute(C_),this._appendRipple(r))},this._ngZone.runOutsideAngular(()=>{for(const e of H8)this._document?.addEventListener(e,this._onInteraction,B8)})}ngOnDestroy(){for(const e of H8)this._document?.removeEventListener(e,this._onInteraction,B8)}_appendRipple(e){if(!this._document)return;const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new jwe(e,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);r.rippleConfig.centered=e.hasAttribute("mat-icon-button"),new tp(r,this._ngZone,i,this._platform).setupTriggerEvents(e),e.append(i)}_createMatRipple(e){if(!this._document)return;e.querySelector(".mat-mdc-button-ripple")?.remove(),e.removeAttribute(C_);const i=this._document.createElement("span");i.classList.add("mat-mdc-button-ripple");const r=new zc(new Se(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,e.append(i),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jwe{constructor(t,e,i){this._button=t,this._globalRippleOptions=e,this._setRippleConfig(e,i)}_setRippleConfig(t,e){this.rippleConfig=t||{},"NoopAnimations"===e&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const Uwe=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zwe=Qh(nd(Jh(class{constructor(n){this._elementRef=n}})));let OI=(()=>{class n extends zwe{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(e){this._ripple=e}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=be(Uc),this._rippleLoader=be(Hwe),this._isFab=!1;const a=e.nativeElement.classList;for(const s of Uwe)this._hasHostAttributes(s.selector)&&s.mdcClasses.forEach(l=>{a.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,features:[me,ri]}),n})(),$we=(()=>{class n extends OI{constructor(e,i,r,o){super(e,i,r,o),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,features:[me]}),n})(),ja=(()=>{class n extends OI{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Qt),T(De),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(je("disabled",i.disabled||null),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:L8,ngContentSelectors:V8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(Zt(N8),te(0,"span",0),Ge(1),O(2,"span",1),Ge(3,1),A(),Ge(4,2),te(5,"span",2)(6,"span",3)),2&e&&Be("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),b_=(()=>{class n extends $we{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Qt),T(De),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:9,hostBindings:function(e,i){2&e&&(je("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[me],attrs:L8,ngContentSelectors:V8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(Zt(N8),te(0,"span",0),Ge(1),O(2,"span",1),Ge(3,1),A(),Ge(4,2),te(5,"span",2)(6,"span",3)),2&e&&Be("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',G8],encapsulation:2,changeDetection:0}),n})(),yx=(()=>{class n extends OI{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Qt),T(De),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(e,i){2&e&&(je("disabled",i.disabled||null),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:Gwe,ngContentSelectors:Bwe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(Zt(),te(0,"span",0),Ge(1),te(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',G8],encapsulation:2,changeDetection:0}),n})(),RI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,rd,ht]}),n})();const Ywe=["*"],Zwe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Qwe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Jwe=new J("MAT_CARD_CONFIG");let ad=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(T(Jwe,8))},n.\u0275cmp=we({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&Be("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Ywe,decls:1,vars:0,template:function(e,i){1&e&&(Zt(),Ge(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),w_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),sd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),S_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),Gm=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Bm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Qwe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(Zt(Zwe),Ge(0),O(1,"div",0),Ge(2,1),A(),Ge(3,2))},encapsulation:2,changeDetection:0}),n})(),_x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]}),n})(),PI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),j8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]}),n})(),U8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-mdc-card-md-image","mdc-card__media"]}),n})(),z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"]}),n})(),Cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"]}),n})(),iSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,yr,ht]}),n})(),nSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-card"]],decls:81,vars:0,consts:[[1,"card-class"],["mat-card-sm-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-button",""],["mat-card-md-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-card-lg-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"],["mat-card-image","","src","https://angular.io/assets/images/logos/angular/angular.svg"]],template:function(e,i){1&e&&(O(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),F(3,"Nihira Techiees"),A(),O(4,"mat-card-subtitle"),F(5,"Angular 15 - Material UI"),A()(),te(6,"img",1),O(7,"mat-card-content")(8,"p"),F(9," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(10,"mat-card-actions")(11,"button",2)(12,"mat-icon"),F(13,"thumb_up"),A(),F(14," Like"),A(),O(15,"button",2)(16,"mat-icon"),F(17,"share"),A(),F(18," Share"),A()(),te(19,"mat-card-footer"),A(),O(20,"mat-card",0)(21,"mat-card-header")(22,"mat-card-title"),F(23,"Nihira Techiees"),A(),O(24,"mat-card-subtitle"),F(25,"Angular 15 - Material UI"),A()(),te(26,"img",3),O(27,"mat-card-content")(28,"p"),F(29," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(30,"mat-card-actions")(31,"button",2)(32,"mat-icon"),F(33,"thumb_up"),A(),F(34," Like"),A(),O(35,"button",2)(36,"mat-icon"),F(37,"share"),A(),F(38," Share"),A()(),te(39,"mat-card-footer"),A(),O(40,"mat-card",0)(41,"mat-card-header")(42,"mat-card-title"),F(43,"Nihira Techiees"),A(),O(44,"mat-card-subtitle"),F(45,"Angular 15 - Material UI"),A()(),te(46,"img",4),O(47,"mat-card-content")(48,"p"),F(49," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(50,"mat-card-actions")(51,"button",2)(52,"mat-icon"),F(53,"thumb_up"),A(),F(54," Like"),A(),O(55,"button",2)(56,"mat-icon"),F(57,"share"),A(),F(58," Share"),A()(),te(59,"mat-card-footer"),A(),te(60,"br"),O(61,"mat-card",0)(62,"mat-card-header")(63,"mat-card-title"),F(64,"Nihira Techiees"),A(),O(65,"mat-card-subtitle"),F(66,"Angular 15 - Material UI"),A()(),te(67,"img",5),O(68,"mat-card-content")(69,"p"),F(70," Angular is an application-design framework and development platform for creating efficient and sophisticated single-page apps. "),A()(),O(71,"mat-card-actions")(72,"button",2)(73,"mat-icon"),F(74,"thumb_up"),A(),F(75," Like"),A(),O(76,"button",2)(77,"mat-icon"),F(78,"share"),A(),F(79," Share"),A()(),te(80,"mat-card-footer"),A())},dependencies:[AI,ja,ad,Gm,sd,_x,Bm,PI,z8,U8,j8,S_,w_],styles:[".card-class[_ngcontent-%COMP%]{margin:3%;width:18%;text-align:left;float:left}"]}),n})();const rSe=["knob"],oSe=["valueIndicatorContainer"];function aSe(n,t){if(1&n&&(O(0,"div",4,5)(2,"div",6)(3,"span",7),F(4),A()()()),2&n){const e=de();N(4),Ct(e.valueIndicatorText)}}const sSe=["trackActive"];function lSe(n,t){if(1&n&&te(0,"div"),2&n){const e=t.$implicit,i=t.index,r=de(3);(function v3(n){_s(vce,xl,n,!0)})(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Yr("transform",r._calcTickMarkTransform(i))}}function cSe(n,t){if(1&n&&(La(0),ue(1,lSe,1,4,"div",11),Na()),2&n){const e=de(2);N(1),j("ngForOf",e._tickMarks)}}function uSe(n,t){if(1&n&&(O(0,"div",8,9),ue(2,cSe,2,1,"ng-container",10),A()),2&n){const e=de();N(2),j("ngIf",e._cachedWidth)}}function dSe(n,t){if(1&n&&te(0,"mat-slider-visual-thumb",7),2&n){const e=de();j("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const hSe=["*"],bx=new J("_MatSlider"),W8=new J("_MatSliderThumb"),$8=new J("_MatSliderRangeThumb"),K8=new J("_MatSliderVisualThumb");let pSe=(()=>{class n{constructor(e,i,r,o){this._cdr=e,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const s=this._hostElement.getBoundingClientRect(),l=this._isSliderThumbHovered(a,s);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{0===a.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,i){const r=i.width/2,l=e.clientY-(i.y+r);return Math.pow(e.clientX-(i.x+r),2)+Math.pow(l,2)<Math.pow(r,2)}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(De),T(Se),T(bx))},n.\u0275cmp=we({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,i){if(1&e&&(Xe(zc,5),Xe(rSe,5),Xe(oSe,5)),2&e){let r;ye(r=_e())&&(i._ripple=r.first),ye(r=_e())&&(i._knob=r.first),ye(r=_e())&&(i._valueIndicatorContainer=r.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Ne([{provide:K8,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,i){1&e&&(ue(0,aSe,5,1,"div",0),te(1,"div",1,2)(3,"div",3)),2&e&&(j("ngIf",i.discrete),N(3),j("matRippleDisabled",!0))},dependencies:[Zr,zc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),n})();const fSe=Qh(Jh(class{constructor(n){this._elementRef=n}}),"primary");let mSe=(()=>{class n extends fSe{get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=Te(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=Te(e)}get min(){return this._min}set min(e){const i=gi(e,this._min);this._min!==i&&this._updateMin(i)}_updateMin(e){const i=this._min;this._min=e,this._isRange?this._updateMinRange({old:i,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const i=this._getInput(2),r=this._getInput(1),o=i.value,a=r.value;r.min=e.new,i.min=Math.max(e.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const i=this._getInput(2);if(i){const r=i.value;i.min=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(e){const i=gi(e,this._max);this._max!==i&&this._updateMax(i)}_updateMax(e){const i=this._max;this._max=e,this._isRange?this._updateMaxRange({old:i,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const i=this._getInput(2),r=this._getInput(1),o=i.value,a=r.value;i.max=e.new,r.max=Math.min(e.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),a!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const i=this._getInput(2);if(i){const r=i.value;i.max=e,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(e){const i=gi(e,this._step);this._step!==i&&this._updateStep(i)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),i=this._getInput(1),r=e.value,o=i.value,a=i.value;e.min=this._min,i.max=this._max,e.step=this._step,i.step=this._step,this._platform.SAFARI&&(e.value=e.value,i.value=i.value),e.min=Math.max(this._min,i.value),i.max=Math.min(this._max,e.value),i._updateWidthInactive(),e._updateWidthInactive(),e.value<a?this._onTranslateXChangeBySideEffect(i,e):this._onTranslateXChangeBySideEffect(e,i),r!==e.value&&this._onValueChange(e),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const e=this._getInput(2);if(e){const i=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),i!==e.value&&this._onValueChange(e)}}constructor(e,i,r,o,a,s,l){super(o),this._ngZone=e,this._cdr=i,this._platform=r,this._dir=a,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===l,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),i=this._getInput(1);this._isRange=!!e&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,i):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,i){e.initProps(),e.initUI(),i.initProps(),i.initUI(),e._updateMinMax(),i._updateMinMax(),e._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),i=this._getInput(1);e._setIsLeftThumb(),i._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateWidthInactive(),i._updateWidthInactive(),e._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const i=this._getInput(e);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const i=this._trackActive.nativeElement.style;i.left=e.left,i.right=e.right,i.transformOrigin=e.transformOrigin,i.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,i){this._hasViewInitialized&&(e._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),i=this._getInput(1);e._updateThumbUIByValue(),i._updateThumbUIByValue(),e._updateStaticStyles(),i._updateStaticStyles(),e._updateMinMax(),i._updateMinMax(),e._updateWidthInactive(),i._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),i=this._getInput(2);return!(!e||!i)&&i.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const i=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const i=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=i:e._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(e.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),i=this._getInput(1);e&&this._updateValueIndicatorUI(e),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const i=e.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const i=this._getValue();let r=Math.max(Math.round((i-this.min)/e),0),o=Math.max(Math.round((this.max-i)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(e){const i=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/e),0),a=Math.max(Math.floor((i-r)/e)+1,0),s=Math.max(Math.floor((this.max-i)/e),0);this._tickMarks=Array(o).fill(1).concat(Array(a).fill(0),Array(s).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return n.\u0275fac=function(e){return new(e||n)(T(De),T(Ft),T(Qt),T(Se),T(an,8),T(Fm,8),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-slider"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,W8,5),Tt(r,$8,4)),2&e){let o;ye(o=_e())&&(i._input=o.first),ye(o=_e())&&(i._inputs=o)}},viewQuery:function(e,i){if(1&e&&(Xe(sSe,5),Xe(K8,5)),2&e){let r;ye(r=_e())&&(i._trackActive=r.first),ye(r=_e())&&(i._thumbs=r)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,i){2&e&&Be("mdc-slider--range",i._isRange)("mdc-slider--disabled",i.disabled)("mdc-slider--discrete",i.discrete)("mdc-slider--tick-marks",i.showTickMarks)("_mat-animation-noopable",i._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Ne([{provide:bx,useExisting:n}]),me],ngContentSelectors:hSe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(Zt(),Ge(0),O(1,"div",0),te(2,"div",1),O(3,"div",2),te(4,"div",3,4),A(),ue(6,uSe,3,1,"div",5),A(),ue(7,dSe,1,3,"mat-slider-visual-thumb",6),te(8,"mat-slider-visual-thumb",7)),2&e&&(N(6),j("ngIf",i.showTickMarks),N(1),j("ngIf",i._isRange),N(1),j("discrete",i.discrete)("thumbPosition",2)("valueIndicatorText",i.endValueIndicatorText))},dependencies:[Ba,Zr,pSe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const vSe={provide:Cr,useExisting:It(()=>II),multi:!0},ySe={provide:Cr,useExisting:It(()=>Y8),multi:!0};let II=(()=>{class n{get value(){return gi(this._hostElement.value)}set value(e){const i=gi(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return gi(this._hostElement.min)}set min(e){this._hostElement.min=gi(e).toString(),this._cdr.detectChanges()}get max(){return gi(this._hostElement.max)}set max(e){this._hostElement.max=gi(e).toString(),this._cdr.detectChanges()}get step(){return gi(this._hostElement.step)}set step(e){this._hostElement.step=gi(e).toString(),this._cdr.detectChanges()}get disabled(){return Te(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=Te(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,i,r,o){this._ngZone=e,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new U,this.dragStart=new U,this.dragEnd=new U,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Oe,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const i=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/o),c=Math.round((this._slider._isRtl?1-i/r:i/r)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/o)*o;if(u===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(i)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return n.\u0275fac=function(e){return new(e||n)(T(De),T(Se),T(Ft),T(bx))},n.\u0275dir=Z({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,i){1&e&&se("change",function(){return i._onChange()})("input",function(){return i._onInput()})("blur",function(){return i._onBlur()})("focus",function(){return i._onFocus()}),2&e&&je("aria-valuetext",i._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Ne([vSe,{provide:W8,useExisting:n}])]}),n})(),Y8=(()=>{class n extends II{getSibling(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?1:2)),this._sibling}getMinPos(){const e=this.getSibling();return!this._isLeftThumb&&e?e.translateX:0}getMaxPos(){const e=this.getSibling();return this._isLeftThumb&&e?e.translateX:this._slider._cachedWidth}_setIsLeftThumb(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl}constructor(e,i,r,o){super(e,r,o,i),this._cdr=o,this._isEndThumb=this._hostElement.hasAttribute("matSliderEndThumb"),this._setIsLeftThumb(),this.thumbPosition=this._isEndThumb?2:1}_getDefaultValue(){return this._isEndThumb&&this._slider._isRange?this.max:this.min}_onInput(){super._onInput(),this._updateSibling(),this._isActive||this._updateWidthInactive()}_onNgControlValueChange(){super._onNgControlValueChange(),this.getSibling()?._updateMinMax()}_onPointerDown(e){this.disabled||0!==e.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),super._onPointerDown(e))}_onPointerUp(){super._onPointerUp(),this._sibling&&setTimeout(()=>{this._sibling._updateWidthInactive(),this._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})}_onPointerMove(e){super._onPointerMove(e),!this._slider.step&&this._isActive&&this._updateSibling()}_fixValue(e){super._fixValue(e),this._sibling?._updateMinMax()}_clamp(e){return Math.max(Math.min(e,this.getMaxPos()),this.getMinPos())}_updateMinMax(){const e=this.getSibling();e&&(this._isEndThumb?(this.min=Math.max(this._slider.min,e.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,e.value)))}_updateWidthActive(){const e=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=`${(this._slider._cachedWidth+this._slider._inputPadding-e)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+e}px`,this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`}_updateWidthInactive(){const e=this.getSibling();if(!e)return;const r=this._isEndThumb?this.value-(this.value-e.value)/2:this.value+(e.value-this.value)/2;this._hostElement.style.width=this._slider._cachedWidth*(this._slider.min<this._slider.max?this._isEndThumb?(this.max-r)/(this._slider.max-this._slider.min):(r-this.min)/(this._slider.max-this._slider.min):1)+24+"px",this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left="-24px",this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right="-24px")}_updateStaticStyles(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)}_updateSibling(){const e=this.getSibling();e&&(e._updateMinMax(),this._isActive?e._updateWidthActive():e._updateWidthInactive())}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e,this._updateWidthInactive(),this._updateSibling())}}return n.\u0275fac=function(e){return new(e||n)(T(De),T(bx),T(Se),T(Ft))},n.\u0275dir=Z({type:n,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],features:[Ne([ySe,{provide:$8,useExisting:n}]),me]}),n})(),_Se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,yr,rd]}),n})(),CSe=(()=>{class n{constructor(){this.selectedvalue=25,this.startvalue=30,this.endvalue=70}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-slider"]],decls:25,vars:8,consts:[["min","20","step","10","max","100","discrete","true","showTickMarks","true"],["matSliderThumb","",3,"ngModel","ngModelChange"],["min","20","step","10","max","100","color","accent","discrete","true","showTickMarks","true"],["matSliderStartThumb","",3,"ngModel","ngModelChange"],["matSliderEndThumb","",3,"ngModel","ngModelChange"],["disabled","tr\n","min","20","step","10","max","100","discrete","true","showTickMarks","true"]],template:function(e,i){1&e&&(O(0,"h2"),F(1,"Basic Slider"),A(),O(2,"mat-slider",0)(3,"input",1),se("ngModelChange",function(o){return i.selectedvalue=o}),A()(),te(4,"br"),O(5,"label"),F(6),A(),O(7,"h2"),F(8,"Range Slider"),A(),O(9,"mat-slider",2)(10,"input",3),se("ngModelChange",function(o){return i.startvalue=o}),A(),O(11,"input",4),se("ngModelChange",function(o){return i.endvalue=o}),A()(),te(12,"br"),O(13,"label"),F(14),A(),te(15,"br"),O(16,"label"),F(17),A(),O(18,"h2"),F(19,"Disabled Slider"),A(),O(20,"mat-slider",5)(21,"input",1),se("ngModelChange",function(o){return i.selectedvalue=o}),A()(),te(22,"br"),O(23,"label"),F(24),A()),2&e&&(N(3),j("ngModel",i.selectedvalue),N(3),He("Selected slider value is ",i.selectedvalue,""),N(4),j("ngModel",i.startvalue),N(1),j("ngModel",i.endvalue),N(3),He("Selected slider Start value is ",i.startvalue,""),N(3),He("Selected slider End value is ",i.endvalue,""),N(4),j("ngModel",i.selectedvalue),N(3),He("Selected slider value is ",i.selectedvalue,""))},dependencies:[mSe,II,Y8,ia,Es,Dm],styles:["mat-slider[_ngcontent-%COMP%]{width:400px}"]}),n})();const bSe=["tooltip"],q8=new J("mat-tooltip-scroll-strategy"),xSe={provide:q8,deps:[Jr],useFactory:function SSe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},DSe=new J("mat-tooltip-default-options",{providedIn:"root",factory:function ESe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),X8="tooltip-panel",Z8=Ts({passive:!0});let PSe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Te(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=gi(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=gi(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,a,s,l,c,u,d,h,p){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=a,this._platform=s,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Oe,this._scrollStrategy=u,this._document=p,h&&(this._showDelay=h.showDelay,this._hideDelay=h.hideDelay,h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Dt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,Z8)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Lm(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Se)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Dt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${X8}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Dt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Dt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Dn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(_i(1),Dt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",a!==this._currentPosition){const s=this._overlayRef;if(s){const l=`${this._cssClassPrefix}-${X8}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Z8)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),ISe=(()=>{class n extends PSe{constructor(e,i,r,o,a,s,l,c,u,d,h,p){super(e,i,r,o,a,s,l,c,u,d,h,p),this._tooltipComponent=kSe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(T(Jr),T(Se),T(hx),T(Fi),T(De),T(Qt),T(C5),T(Uc),T(q8),T(an,8),T(DSe,8),T(tt))},n.\u0275dir=Z({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mat-mdc-tooltip-disabled",i.disabled)},exportAs:["matTooltip"],features:[me]}),n})(),FSe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Oe,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(Ii,8))},n.\u0275dir=Z({type:n}),n})(),kSe=(()=>{class n extends FSe{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(Se),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&Xe(bSe,7),2&e){let r;ye(r=_e())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&se("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&Yr("zoom",i.isVisible()?1:null)},features:[me],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(O(0,"div",0,1),se("animationend",function(o){return i._handleAnimationEnd(o)}),O(2,"div",2),F(3),A()()),2&e&&(Be("mdc-tooltip--multiline",i._isMultiline),j("ngClass",i.tooltipClass),N(3),Ct(i.message))},dependencies:[Yu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),LSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[xSe],imports:[c_,yr,rp,ht,ht,qc]}),n})();function NSe(n,t){if(1&n&&(O(0,"mat-option",19),F(1),A()),2&n){const e=t.$implicit;j("value",e),N(1),He(" ",e," ")}}function VSe(n,t){if(1&n){const e=Ei();O(0,"mat-form-field",16)(1,"mat-select",17),se("selectionChange",function(r){return ut(e),dt(de(2)._changePageSize(r.value))}),ue(2,NSe,2,2,"mat-option",18),A()()}if(2&n){const e=de(2);j("appearance",e._formFieldAppearance)("color",e.color),N(1),j("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),N(1),j("ngForOf",e._displayedPageSizeOptions)}}function GSe(n,t){if(1&n&&(O(0,"div",20),F(1),A()),2&n){const e=de(2);N(1),Ct(e.pageSize)}}function BSe(n,t){if(1&n&&(O(0,"div",12)(1,"div",13),F(2),A(),ue(3,VSe,3,8,"mat-form-field",14),ue(4,GSe,2,1,"div",15),A()),2&n){const e=de();N(1),LO("id",e._pageSizeLabelId),N(1),He(" ",e._intl.itemsPerPageLabel," "),N(1),j("ngIf",e._displayedPageSizeOptions.length>1),N(1),j("ngIf",e._displayedPageSizeOptions.length<=1)}}function HSe(n,t){if(1&n){const e=Ei();O(0,"button",21),se("click",function(){return ut(e),dt(de().firstPage())}),Pa(),O(1,"svg",7),te(2,"path",22),A()()}if(2&n){const e=de();j("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),je("aria-label",e._intl.firstPageLabel)}}function jSe(n,t){if(1&n){const e=Ei();Pa(),Mh(),O(0,"button",23),se("click",function(){return ut(e),dt(de().lastPage())}),Pa(),O(1,"svg",7),te(2,"path",24),A()()}if(2&n){const e=de();j("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),je("aria-label",e._intl.lastPageLabel)}}let wx=(()=>{class n{constructor(){this.changes=new Oe,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zSe={provide:wx,deps:[[new Fa,new gl,wx]],useFactory:function USe(n){return n||new wx}},$Se=new J("MAT_PAGINATOR_DEFAULT_OPTIONS"),KSe=nd(N5(class{}));let YSe=(()=>{class n extends KSe{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(gi(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=gi(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(gi(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>gi(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=Te(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=Te(e)}constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new U,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:o,pageSizeOptions:a,hidePageSize:s,showFirstLastButtons:l}=r;null!=o&&(this._pageSize=o),null!=a&&(this._pageSizeOptions=a),null!=s&&(this._hidePageSize=s),null!=l&&(this._showFirstLastButtons=l)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[me]}),n})(),qSe=0,Q8=(()=>{class n extends YSe{constructor(e,i,r){super(e,i,r),this._pageSizeLabelId="mat-paginator-page-size-label-"+qSe++,this._formFieldAppearance=r?.formFieldAppearance||"outline"}}return n.\u0275fac=function(e){return new(e||n)(T(wx),T(Ft),T($Se,8))},n.\u0275cmp=we({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[me],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(O(0,"div",0)(1,"div",1),ue(2,BSe,5,4,"div",2),O(3,"div",3)(4,"div",4),F(5),A(),ue(6,HSe,3,5,"button",5),O(7,"button",6),se("click",function(){return i.previousPage()}),Pa(),O(8,"svg",7),te(9,"path",8),A()(),Mh(),O(10,"button",9),se("click",function(){return i.nextPage()}),Pa(),O(11,"svg",7),te(12,"path",10),A()(),ue(13,jSe,3,5,"button",11),A()()()),2&e&&(N(2),j("ngIf",!i.hidePageSize),N(3),He(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),N(1),j("ngIf",i.showFirstLastButtons),N(1),j("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),je("aria-label",i._intl.previousPageLabel),N(3),j("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),je("aria-label",i._intl.nextPageLabel),N(3),j("ngIf",i.showFirstLastButtons))},dependencies:[Ba,Zr,yx,Fl,y_,ip,ISe],styles:[".mat-mdc-paginator{display:block}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),XSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[zSe],imports:[yr,RI,O8,LSe]}),n})();const ZSe=["mat-sort-header",""];function QSe(n,t){if(1&n){const e=Ei();O(0,"div",3),se("@arrowPosition.start",function(){return ut(e),dt(de()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return ut(e),dt(de()._disableViewStateAnimation=!1)}),te(1,"div",4),O(2,"div",5),te(3,"div",6)(4,"div",7)(5,"div",8),A()()}if(2&n){const e=de();j("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),N(2),j("@indicator",e._getArrowDirectionState()),N(1),j("@leftPointer",e._getArrowDirectionState()),N(1),j("@rightPointer",e._getArrowDirectionState())}}const JSe=["*"],J8=new J("MAT_SORT_DEFAULT_OPTIONS"),e0e=N5(nd(class{}));let FI=(()=>{class n extends e0e{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Te(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Oe,this.start="asc",this._direction="",this.sortChange=new U}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function t0e(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(T(J8,8))},n.\u0275dir=Z({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[me,ri]}),n})();const ld=Q_e.ENTERING+" "+Z_e.STANDARD_CURVE,Hm={indicator:Kn("indicator",[vi("active-asc, asc",ze({transform:"translateY(0px)"})),vi("active-desc, desc",ze({transform:"translateY(10px)"})),Jt("active-asc <=> active-desc",oi(ld))]),leftPointer:Kn("leftPointer",[vi("active-asc, asc",ze({transform:"rotate(-45deg)"})),vi("active-desc, desc",ze({transform:"rotate(45deg)"})),Jt("active-asc <=> active-desc",oi(ld))]),rightPointer:Kn("rightPointer",[vi("active-asc, asc",ze({transform:"rotate(45deg)"})),vi("active-desc, desc",ze({transform:"rotate(-45deg)"})),Jt("active-asc <=> active-desc",oi(ld))]),arrowOpacity:Kn("arrowOpacity",[vi("desc-to-active, asc-to-active, active",ze({opacity:1})),vi("desc-to-hint, asc-to-hint, hint",ze({opacity:.54})),vi("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",ze({opacity:0})),Jt("* => asc, * => desc, * => active, * => hint, * => void",oi("0ms")),Jt("* <=> *",oi(ld))]),arrowPosition:Kn("arrowPosition",[Jt("* => desc-to-hint, * => desc-to-active",oi(ld,km([ze({transform:"translateY(-25%)"}),ze({transform:"translateY(0)"})]))),Jt("* => hint-to-desc, * => active-to-desc",oi(ld,km([ze({transform:"translateY(0)"}),ze({transform:"translateY(25%)"})]))),Jt("* => asc-to-hint, * => asc-to-active",oi(ld,km([ze({transform:"translateY(25%)"}),ze({transform:"translateY(0)"})]))),Jt("* => hint-to-asc, * => active-to-asc",oi(ld,km([ze({transform:"translateY(0)"}),ze({transform:"translateY(-25%)"})]))),vi("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",ze({transform:"translateY(0)"})),vi("hint-to-desc, active-to-desc, desc",ze({transform:"translateY(-25%)"})),vi("hint-to-asc, active-to-asc, asc",ze({transform:"translateY(25%)"}))]),allowChildren:Kn("allowChildren",[Jt("* <=> *",[sx("@*",ax(),{optional:!0})])])};let Sx=(()=>{class n{constructor(){this.changes=new Oe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const n0e={provide:Sx,deps:[[new Fa,new gl,Sx]],useFactory:function i0e(n){return n||new Sx}},r0e=nd(class{});let o0e=(()=>{class n extends r0e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Te(e)}constructor(e,i,r,o,a,s,l,c){super(),this._intl=e,this._changeDetectorRef=i,this._sort=r,this._columnDef=o,this._focusMonitor=a,this._elementRef=s,this._ariaDescriber=l,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",c?.arrowPosition&&(this.arrowPosition=c?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=!!e;i!==this._showIndicatorHint&&(this._setIndicatorHintVisible(i),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=nn(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(T(Sx),T(Ft),T(FI,8),T("MAT_SORT_HEADER_COLUMN_DEF",8),T(Uc),T(Se),T(C5,8),T(J8,8))},n.\u0275cmp=we({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,i){1&e&&se("click",function(){return i._handleClick()})("keydown",function(o){return i._handleKeydown(o)})("mouseenter",function(){return i._setIndicatorHintVisible(!0)})("mouseleave",function(){return i._setIndicatorHintVisible(!1)}),2&e&&(je("aria-sort",i._getAriaSortAttribute()),Be("mat-sort-header-disabled",i._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[me],attrs:ZSe,ngContentSelectors:JSe,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,i){1&e&&(Zt(),O(0,"div",0)(1,"div",1),Ge(2),A(),ue(3,QSe,6,6,"div",2),A()),2&e&&(Be("mat-sort-header-sorted",i._isSorted())("mat-sort-header-position-before","before"===i.arrowPosition),je("tabindex",i._isDisabled()?null:0)("role",i._isDisabled()?null:"button"),N(3),j("ngIf",i._renderArrow()))},dependencies:[Zr],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Hm.indicator,Hm.leftPointer,Hm.rightPointer,Hm.arrowOpacity,Hm.arrowPosition,Hm.allowChildren]},changeDetection:0}),n})(),a0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[n0e],imports:[yr,ht]}),n})();const s0e=[[["caption"]],[["colgroup"],["col"]]],l0e=["caption","colgroup, col"];function kI(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Te(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const jm=new J("CDK_TABLE");let Um=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(T(Gi))},n.\u0275dir=Z({type:n,selectors:[["","cdkCellDef",""]]}),n})(),zm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(T(Gi))},n.\u0275dir=Z({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),xx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(T(Gi))},n.\u0275dir=Z({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class h0e{}const p0e=kI(h0e);let Xc=(()=>{class n extends p0e{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Te(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(T(jm,8))},n.\u0275dir=Z({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,Um,5),Tt(r,zm,5),Tt(r,xx,5)),2&e){let o;ye(o=_e())&&(i.cell=o.first),ye(o=_e())&&(i.headerCell=o.first),ye(o=_e())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ne([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),me]}),n})();class LI{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let NI=(()=>{class n extends LI{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(T(Xc),T(Se))},n.\u0275dir=Z({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[me]}),n})(),VI=(()=>{class n extends LI{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(T(Xc),T(Se))},n.\u0275dir=Z({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[me]}),n})();class t6{constructor(){this.tasks=[],this.endTasks=[]}}const GI=new J("_COALESCED_STYLE_SCHEDULER");let i6=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Oe}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new t6,this._getScheduleObservable().pipe(Dt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new t6;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?yn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(_i(1))}}return n.\u0275fac=function(e){return new(e||n)(K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),BI=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof x_?e.headerCell.template:this instanceof E_?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Dl))},n.\u0275dir=Z({type:n,features:[ri]}),n})();class f0e extends BI{}const m0e=kI(f0e);let x_=(()=>{class n extends m0e{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Dl),T(jm,8))},n.\u0275dir=Z({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[me,ri]}),n})();class g0e extends BI{}const v0e=kI(g0e);let E_=(()=>{class n extends v0e{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Dl),T(jm,8))},n.\u0275dir=Z({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[me,ri]}),n})(),Ex=(()=>{class n extends BI{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Dl),T(jm,8))},n.\u0275dir=Z({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[me]}),n})(),Zc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(T(Fi))},n.\u0275dir=Z({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),HI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&wl(0,0)},dependencies:[Zc],encapsulation:2}),n})(),UI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&wl(0,0)},dependencies:[Zc],encapsulation:2}),n})(),Dx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(T(Gi))},n.\u0275dir=Z({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const n6=["top","bottom","left","right"];class y0e{constructor(t,e,i,r,o=!0,a=!0,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=s,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],a=o.children.length,s=this._getCellWidths(o,r),l=this._getStickyStartColumnPositions(s,e),c=this._getStickyEndColumnPositions(s,i),u=e.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,p=h?"right":"left",f=h?"left":"right";for(const m of t)for(let g=0;g<a;g++){const v=m.children[g];e[g]&&this._addStickyStyle(v,p,l[g],g===u),i[g]&&this._addStickyStyle(v,f,c[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:s.slice(0,u+1).map((m,g)=>e[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:s.slice(d).map((m,g)=>i[g+d]?m:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,a=[],s=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!o[u])continue;a[u]=d;const h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const p=h.getBoundingClientRect().height;d+=p,s[u]=p}const c=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<r.length;u++){if(!o[u])continue;const d=a[u],h=u===c;for(const p of l[u])this._addStickyStyle(p,i,d,h)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:a,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:a,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);n6.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of n6)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const zI=new J("CDK_SPL");let Tx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Se))},n.\u0275dir=Z({type:n,selectors:[["","rowOutlet",""]]}),n})(),Mx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Se))},n.\u0275dir=Z({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Ax=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Se))},n.\u0275dir=Z({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Ox=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(Se))},n.\u0275dir=Z({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Rx=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Te(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Te(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,a,s,l,c,u,d,h,p){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=p,this._onDestroy=new Oe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new U,this.viewChange=new fr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Dt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),TI(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&De.isInAngularZone()?this._ngZone.onStable.pipe(_i(1),Dt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{const a=[];for(let s=0;s<i.length;s++)this._renderRows[s].rowDef===o&&a.push(i[s]);this._addStickyColumnStyles(a,o)}),r.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const a=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let s=0;s<a.length;s++){let l=a[s];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const s=r&&r.has(a)?r.get(a):[];if(s.length){const l=s.shift();return l.dataIndex=i,l}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Px(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Px(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Px(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Px(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,s)=>a||!!s.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],TI(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;TI(this.dataSource)?e=this.dataSource.connect(this):LW(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ve(this.dataSource)),this._renderChangeSubscription=e.pipe(Dt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(s=>this._columnDefsByName.get(s)),o=r.map(s=>s.sticky),a=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const a=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Zc.mostRecentCellOutlet&&Zc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const a of r.outlets)o.appendChild(a.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new y0e(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ve()).pipe(Dt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),a=o.rootNodes[0];1===o.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(T(Dl),T(Ft),T(Se),ml("role"),T(an,8),T(tt),T(Qt),T(v_),T(GI),T(Yc),T(zI,12),T(De,8))},n.\u0275cmp=we({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,Dx,5),Tt(r,Xc,5),Tt(r,Ex,5),Tt(r,x_,5),Tt(r,E_,5)),2&e){let o;ye(o=_e())&&(i._noDataRow=o.first),ye(o=_e())&&(i._contentColumnDefs=o),ye(o=_e())&&(i._contentRowDefs=o),ye(o=_e())&&(i._contentHeaderRowDefs=o),ye(o=_e())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(Xe(Tx,7),Xe(Mx,7),Xe(Ax,7),Xe(Ox,7)),2&e){let r;ye(r=_e())&&(i._rowOutlet=r.first),ye(r=_e())&&(i._headerRowOutlet=r.first),ye(r=_e())&&(i._footerRowOutlet=r.first),ye(r=_e())&&(i._noDataRowOutlet=r.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&Be("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Ne([{provide:jm,useExisting:n},{provide:v_,useClass:D8},{provide:GI,useClass:i6},{provide:zI,useValue:null}])],ngContentSelectors:l0e,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(Zt(s0e),Ge(0),Ge(1,1),wl(2,0)(3,1)(4,2)(5,3))},dependencies:[Tx,Mx,Ax,Ox],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Px(n,t){return n.concat(Array.from(t))}let C0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[bI]}),n})();const b0e=[[["caption"]],[["colgroup"],["col"]]],w0e=["caption","colgroup, col"];let o6=(()=>{class n extends Rx{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Ne([{provide:Rx,useExisting:n},{provide:jm,useExisting:n},{provide:GI,useClass:i6},{provide:v_,useClass:D8},{provide:zI,useValue:null}]),me],ngContentSelectors:w0e,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(Zt(b0e),Ge(0),Ge(1,1),wl(2,0)(3,1)(4,2)(5,3))},dependencies:[Tx,Mx,Ax,Ox],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),WI=(()=>{class n extends Um{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matCellDef",""]],features:[Ne([{provide:Um,useExisting:n}]),me]}),n})(),$I=(()=>{class n extends zm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matHeaderCellDef",""]],features:[Ne([{provide:zm,useExisting:n}]),me]}),n})(),KI=(()=>{class n extends Xc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ne([{provide:Xc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),me]}),n})(),YI=(()=>{class n extends NI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[me]}),n})(),qI=(()=>{class n extends VI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[me]}),n})(),a6=(()=>{class n extends x_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ne([{provide:x_,useExisting:n}]),me]}),n})(),s6=(()=>{class n extends Ex{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ne([{provide:Ex,useExisting:n}]),me]}),n})(),l6=(()=>{class n extends HI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Ne([{provide:HI,useExisting:n}]),me],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&wl(0,0)},dependencies:[Zc],encapsulation:2}),n})(),c6=(()=>{class n extends UI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Ne([{provide:UI,useExisting:n}]),me],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&wl(0,0)},dependencies:[Zc],encapsulation:2}),n})(),O0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,C0e,ht]}),n})();class P0e extends owe{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new fr([]),this._filter=new fr(""),this._internalPageChanges=new Oe,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(l5(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((a,s)=>{let l=this.sortingDataAccessor(a,r),c=this.sortingDataAccessor(s,r);const u=typeof l,d=typeof c;u!==d&&("number"===u&&(l+=""),"number"===d&&(c+=""));let h=0;return null!=l&&null!=c?l>c?h=1:l<c&&(h=-1):null!=l?h=1:null!=c&&(h=-1),h*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,s)=>a+e[s]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new fr(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?nn(this._sort.sortChange,this._sort.initialized):Ve(null),e=this._paginator?nn(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ve(null),r=Hh([this._data,this._filter]).pipe(ot(([s])=>this._filterData(s))),o=Hh([r,t]).pipe(ot(([s])=>this._orderData(s))),a=Hh([o,e]).pipe(ot(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(s=>this._renderData.next(s))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class I0e extends P0e{}function F0e(n,t){}class Ix{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let u6=(()=>{class n extends SI{constructor(e,i,r,o,a,s,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=s,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Om(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Om();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Om())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(l_),T(tt,8),T(Ix),T(s_),T(De),T(g_),T(Uc))},n.\u0275cmp=we({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&Xe(od,7),2&e){let r;ye(r=_e())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&je("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&ue(0,F0e,0,0,"ng-template",0)},dependencies:[od],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class XI{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Oe,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Dn(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const d6=new J("DialogScrollStrategy"),k0e=new J("DialogData"),L0e=new J("DefaultDialogConfig"),V0e={provide:d6,deps:[Jr],useFactory:function N0e(n){return()=>n.scrollStrategies.block()}};let G0e=0,h6=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,a,s){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Oe,this._afterOpenedAtThisLevel=new Oe,this._ariaHiddenElements=new Map,this.afterAllClosed=hm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_r(void 0))),this._scrollStrategy=s}open(e,i){(i={...this._defaultOptions||new Ix,...i}).id=i.id||"cdk-dialog-"+G0e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),a=this._overlay.create(o),s=new XI(a,i),l=this._attachContainer(a,s,i);return s.containerInstance=l,this._attachDialogContent(e,s,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){ZI(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ZI(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),ZI(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new m_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,a=[{provide:Ix,useValue:r},{provide:XI,useValue:i},{provide:g_,useValue:e}];let s;r.container?"function"==typeof r.container?s=r.container:(s=r.container.type,a.push(...r.container.providers(r))):s=u6;const l=new Lm(s,r.viewContainerRef,vr.create({parent:o||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof Gi){const a=this._createInjector(o,i,r,void 0);let s={$implicit:o.data,dialogRef:i};o.templateContext&&(s={...s,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Nm(e,null,s,a))}else{const a=this._createInjector(o,i,r,this._injector),s=r.attachComponentPortal(new Lm(e,o.viewContainerRef,a,o.componentFactoryResolver));i.componentInstance=s.instance}}_createInjector(e,i,r,o){const a=e.injector||e.viewContainerRef?.injector,s=[{provide:k0e,useValue:e.data},{provide:XI,useValue:i}];return e.providers&&("function"==typeof e.providers?s.push(...e.providers(i,e,r)):s.push(...e.providers)),e.direction&&(!a||!a.get(an,null,{optional:!0}))&&s.push({provide:an,useValue:{value:e.direction,change:Ve()}}),vr.create({parent:a||o,providers:s})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(K(Jr),K(vr),K(L0e,8),K(n,12),K(px),K(d6))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();function ZI(n,t){let e=n.length;for(;e--;)t(n[e])}let B0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[h6,V0e],imports:[rp,Vm,c_,Vm]}),n})();function H0e(n,t){}class Fx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const QI="mdc-dialog--open",p6="mdc-dialog--opening",f6="mdc-dialog--closing";let z0e=(()=>{class n extends u6{constructor(e,i,r,o,a,s,l,c){super(e,i,r,o,a,s,l,c),this._animationStateChanged=new U}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(l_),T(tt,8),T(Fx),T(s_),T(De),T(g_),T(Uc))},n.\u0275cmp=we({type:n,selectors:[["ng-component"]],features:[me],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const m6="--mat-dialog-transition-duration";function g6(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?gi(n.substring(0,n.length-2)):n.endsWith("s")?1e3*gi(n.substring(0,n.length-1)):"0"===n?0:null}let W0e=(()=>{class n extends z0e{constructor(e,i,r,o,a,s,l,c,u){super(e,i,r,o,a,s,l,u),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?g6(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?g6(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(m6,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(p6,QI)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(QI),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(QI),this._animationsEnabled?(this._hostElement.style.setProperty(m6,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(f6)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(p6,f6)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(l_),T(tt,8),T(Fx),T(s_),T(De),T(g_),T(Ii,8),T(Uc))},n.\u0275cmp=we({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(Fc("id",i._config.id),je("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Be("_mat-animation-noopable",!i._animationsEnabled))},features:[me],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(O(0,"div",0)(1,"div",1),ue(2,H0e,0,0,"ng-template",2),A()())},dependencies:[od],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class ap{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Oe,this._beforeClosed=new Oe,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(ui(r=>"opened"===r.state),_i(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ui(r=>"closed"===r.state),_i(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),nn(this.backdropClick(),this.keydownEvents().pipe(ui(r=>27===r.keyCode&&!this.disableClose&&!Dn(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function $0e(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ui(e=>"closing"===e.state),_i(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Wm=new J("MatMdcDialogData"),K0e=new J("mat-mdc-dialog-default-options"),v6=new J("mat-mdc-dialog-scroll-strategy"),q0e={provide:v6,deps:[Jr],useFactory:function Y0e(n){return()=>n.scrollStrategies.block()}};let X0e=0,Z0e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,a,s,l,c,u,d){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Oe,this._afterOpenedAtThisLevel=new Oe,this._idPrefix="mat-dialog-",this.dialogConfigClass=Fx,this.afterAllClosed=hm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_r(void 0))),this._scrollStrategy=s,this._dialog=i.get(h6)}open(e,i){let r;(i={...this._defaultOptions||new Fx,...i}).id=i.id||`${this._idPrefix}${X0e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Ix,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,s,l)=>(r=new this._dialogRefConstructor(a,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:s.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){vs()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),D_=(()=>{class n extends Z0e{constructor(e,i,r,o,a,s,l,c){super(e,i,o,s,l,a,ap,W0e,Wm,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(K(Jr),K(vr),K(Dy,8),K(K0e,8),K(v6),K(n,12),K(px),K(Ii,8))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Q0e=0,kx=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Q0e++}ngOnInit(){this._dialogRef||(this._dialogRef=function J0e(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(T(ap,8),T(Se),T(D_))},n.\u0275dir=Z({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&Fc("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Lx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),Nx=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&Be("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),exe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[D_,q0e],imports:[B0e,rp,Vm,ht,ht]}),n})(),sp=(()=>{class n{constructor(e){this.http=e,this.baseUrl="http://localhost:8080/"}getAllPlayer(){return this.http.get(`${this.baseUrl}players`)}savePlayer(e){return this.http.post(`${this.baseUrl}players`,e)}editPlayer(e){return this.http.post(`${this.baseUrl}players`,e)}getPlayerById(e){return this.http.get(`${this.baseUrl}players/`+e)}updatePlayersHandicap(e){return this.http.post(`${this.baseUrl}players/ghin`,e)}createEventTee(e){const i=`${this.baseUrl}game/grouping`;return console.log("eventGroupUrl="+i),this.http.post(i,e)}getAllEvent(){return this.http.get(`${this.baseUrl}events`)}getEventById(e){return this.http.get(`${this.baseUrl}events/`+e)}submitScore(e){const i=`${this.baseUrl}game/submitScore`;return console.log("eventGroupUrl="+i),this.http.post(i,e)}deleteEvent(e){const i=`${this.baseUrl}events/`+e;return console.log("eventUrl="+i),this.http.delete(i)}updateLast3Score(){return this.http.get(`${this.baseUrl}player/last3score`)}}return n.\u0275fac=function(e){return new(e||n)(K(Jy))},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JI=(()=>{class n{constructor(e,i,r,o){this.data=e,this.ref=i,this.buildr=r,this.service=o,this.closemessage="closed using directive",this.myform=this.buildr.group({id:this.buildr.control(""),fName:this.buildr.control(""),lName:this.buildr.control(""),ghinNumber:this.buildr.control(""),phone:this.buildr.control(""),email:this.buildr.control(""),nickName:this.buildr.control(""),chineseNickName:this.buildr.control(""),handicap:this.buildr.control(""),clubId:this.buildr.control(""),clubName:this.buildr.control("")})}ngOnInit(){this.inputdata=this.data,this.inputdata.code>0&&this.setpopupdata(this.inputdata.code)}setpopupdata(e){this.service.getPlayerById(e).subscribe(i=>{this.editdata=i,this.myform.setValue({id:this.editdata.golferId,fName:this.editdata.fName,lName:this.editdata.lName,ghinNumber:this.editdata.ghinNumber,phone:this.editdata.phone,email:this.editdata.email,nickName:this.editdata.nickName,chineseNickName:this.editdata.chineseNickName,handicap:this.editdata.handicap,clubId:this.editdata.clubId,clubName:this.editdata.clubName})})}closepopup(){this.ref.close("Closed using function")}Saveuser(){this.service.savePlayer(this.myform.value).subscribe(e=>{this.closepopup()})}}return n.\u0275fac=function(e){return new(e||n)(T(Wm),T(ap),T(Tm),T(sp))},n.\u0275cmp=we({type:n,selectors:[["app-popup"]],decls:53,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","id","matInput",""],["formControlName","fName","matInput",""],["formControlName","lName","matInput",""],["formControlName","ghinNumber","matInput",""],["formControlName","phone","matInput",""],["formControlName","email","matInput",""],["formControlName","nickName","matInput",""],["formControlName","chineseNickName","matInput",""],["formControlName","handicap","matInput",""],["formControlName","clubId","matInput",""],["formControlName","clubName","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(O(0,"form",0),se("ngSubmit",function(){return i.Saveuser()}),O(1,"h1",1),F(2),A(),O(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),F(6,"Golfer Id"),A(),te(7,"input",4),A(),O(8,"mat-form-field",3)(9,"mat-label"),F(10,"First Name"),A(),te(11,"input",5),A(),O(12,"mat-form-field",3)(13,"mat-label"),F(14,"Last Name"),A(),te(15,"input",6),A(),O(16,"mat-form-field",3)(17,"mat-label"),F(18,"Ghin Number"),A(),te(19,"input",7),A(),O(20,"mat-form-field",3)(21,"mat-label"),F(22,"Phone Number"),A(),te(23,"input",8),A(),O(24,"mat-form-field",3)(25,"mat-label"),F(26,"Email"),A(),te(27,"input",9),A(),O(28,"mat-form-field",3)(29,"mat-label"),F(30,"Nick Name"),A(),te(31,"input",10),A(),O(32,"mat-form-field",3)(33,"mat-label"),F(34,"Chinese Nick Name"),A(),te(35,"input",11),A(),O(36,"mat-form-field",3)(37,"mat-label"),F(38,"Handicap"),A(),te(39,"input",12),A(),O(40,"mat-form-field",3)(41,"mat-label"),F(42,"Club ID"),A(),te(43,"input",13),A(),O(44,"mat-form-field",3)(45,"mat-label"),F(46,"Club Name"),A(),te(47,"input",14),A()(),O(48,"div",15)(49,"button",16),F(50,"Save"),A(),O(51,"a",17),se("click",function(){return i.closepopup()}),F(52,"Close"),A()()()),2&e&&(j("formGroup",i.myform),N(2),Ct(i.inputdata.title))},dependencies:[Kc,Fl,$c,b_,ja,kx,Lx,Nx,Rl,ia,Es,Ol,Ds,td],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:25%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]}),n})(),txe=(()=>{class n{constructor(e,i,r){this.data=e,this.ref=i,this.service=r}ngOnInit(){this.inputdata=this.data,this.inputdata.code>0&&this.service.GetCustomerbycode(this.inputdata.code).subscribe(e=>{this.custdata=e})}closepopup(){this.ref.close("closing from detail")}}return n.\u0275fac=function(e){return new(e||n)(T(Wm),T(ap),T(K0))},n.\u0275cmp=we({type:n,selectors:[["app-userdetail"]],decls:22,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(O(0,"h1",0),F(1),A(),O(2,"div",1)(3,"h2"),F(4,"Customer Name : "),O(5,"b"),F(6),A()(),O(7,"h2"),F(8,"Customer Email : "),O(9,"b"),F(10),A()(),O(11,"h2"),F(12,"Customer Phone : "),O(13,"b"),F(14),A()(),O(15,"h2"),F(16,"Customer Status : "),O(17,"b"),F(18),A()()(),O(19,"div",2)(20,"button",3),se("click",function(){return i.closepopup()}),F(21,"Close"),A()()),2&e&&(N(1),Ct(i.inputdata.title),N(5),Ct(i.custdata.name),N(4),Ct(i.custdata.email),N(4),Ct(i.custdata.phone),N(4),Ct(i.custdata.status))},dependencies:[ja,kx,Lx,Nx]}),n})();function ixe(n,t){1&n&&(O(0,"th",15),F(1," Code"),A())}function nxe(n,t){if(1&n&&(O(0,"td",16),F(1),A()),2&n){const e=t.$implicit;N(1),Ct(e.id)}}function rxe(n,t){1&n&&(O(0,"th",15),F(1," Name"),A())}function oxe(n,t){if(1&n&&(O(0,"td",16),F(1),A()),2&n){const e=t.$implicit;N(1),Ct(e.name)}}function axe(n,t){1&n&&(O(0,"th",15),F(1," Email"),A())}function sxe(n,t){if(1&n&&(O(0,"td",16),F(1),A()),2&n){const e=t.$implicit;N(1),Ct(e.email)}}function lxe(n,t){1&n&&(O(0,"th",15),F(1," Phone"),A())}function cxe(n,t){if(1&n&&(O(0,"td",16),F(1),A()),2&n){const e=t.$implicit;N(1),Ct(e.phone)}}function uxe(n,t){1&n&&(O(0,"th",15),F(1," Status"),A())}function dxe(n,t){if(1&n&&(O(0,"td",16),F(1),A()),2&n){const e=t.$implicit;N(1),Ct(e.status)}}function hxe(n,t){1&n&&(O(0,"th",17),F(1," Action"),A())}function pxe(n,t){if(1&n){const e=Ei();O(0,"td",16)(1,"button",18),se("click",function(){const o=ut(e).$implicit;return dt(de().editcustomer(o.id))}),F(2,"Edit"),A(),O(3,"button",19),F(4,"Delete"),A(),O(5,"button",18),se("click",function(){const o=ut(e).$implicit;return dt(de().detailcustomer(o.id))}),F(6,"Detail"),A()()}}function fxe(n,t){1&n&&te(0,"tr",20)}function mxe(n,t){1&n&&te(0,"tr",21)}const gxe=function(){return[5,10,20]};let vxe=(()=>{class n{constructor(e,i){this.service=e,this.dialog=i,this.displayedColumns=["code","name","email","phone","status","action"],this.loadcustomer()}loadcustomer(){this.service.GetCustomer().subscribe(e=>{this.customerlist=e,this.dataSource=new I0e(this.customerlist),this.dataSource.paginator=this.paginatior,this.dataSource.sort=this.sort})}Filterchange(e){this.dataSource.filter=e.target.value}editcustomer(e){this.Openpopup(e,"Edit Customer",JI)}detailcustomer(e){this.Openpopup(e,"Customer Detail",txe)}addcustomer(){this.Openpopup(0,"Add Customer",JI)}Openpopup(e,i,r){this.dialog.open(r,{width:"40%",enterAnimationDuration:"1000ms",exitAnimationDuration:"1000ms",data:{title:i,code:e}}).afterClosed().subscribe(a=>{this.loadcustomer()})}}return n.\u0275fac=function(e){return new(e||n)(T(K0),T(D_))},n.\u0275cmp=we({type:n,selectors:[["app-table"]],viewQuery:function(e,i){if(1&e&&(Xe(Q8,5),Xe(FI,5)),2&e){let r;ye(r=_e())&&(i.paginatior=r.first),ye(r=_e())&&(i.sort=r.first)}},decls:31,vars:5,consts:[["matInput","","placeholder","Enter the text",3,"keyup"],["mat-raised-button","","color","primary",2,"margin-left","60%",3,"click"],["matSort","","mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","code"],["mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-sort-header","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(O(0,"mat-card")(1,"mat-card-header")(2,"mat-form-field")(3,"input",0),se("keyup",function(o){return i.Filterchange(o)}),A()(),O(4,"button",1),se("click",function(){return i.addcustomer()}),F(5,"Add User (+)"),A()(),O(6,"mat-card-content")(7,"table",2),La(8,3),ue(9,ixe,2,0,"th",4),ue(10,nxe,2,1,"td",5),Na(),La(11,6),ue(12,rxe,2,0,"th",4),ue(13,oxe,2,1,"td",5),Na(),La(14,7),ue(15,axe,2,0,"th",4),ue(16,sxe,2,1,"td",5),Na(),La(17,8),ue(18,lxe,2,0,"th",4),ue(19,cxe,2,1,"td",5),Na(),La(20,9),ue(21,uxe,2,0,"th",4),ue(22,dxe,2,1,"td",5),Na(),La(23,10),ue(24,hxe,2,0,"th",11),ue(25,pxe,7,0,"td",5),Na(),ue(26,fxe,1,0,"tr",12),ue(27,mxe,1,0,"tr",13),A()(),te(28,"br"),O(29,"mat-card-footer"),te(30,"mat-paginator",14),A()()),2&e&&(N(7),j("dataSource",i.dataSource),N(19),j("matHeaderRowDef",i.displayedColumns),N(1),j("matRowDefColumns",i.displayedColumns),N(3),j("pageSizeOptions",function xU(n,t,e){const i=$r()+n,r=pe();return r[i]===Et?bl(r,i,e?t.call(e):t()):function dy(n,t){return n[t]}(r,i)}(4,gxe)))},dependencies:[Kc,Fl,ja,ad,sd,_x,Bm,o6,$I,a6,KI,WI,s6,YI,qI,l6,c6,Q8,FI,o0e],styles:["mat-card[_ngcontent-%COMP%]{margin:2%}button[_ngcontent-%COMP%]{margin:2px}th[_ngcontent-%COMP%]{background-color:#000!important;color:#fff}"]}),n})();const yxe=["mat-calendar-body",""];function _xe(n,t){if(1&n&&(O(0,"tr",3)(1,"td",4),F(2),A()()),2&n){const e=de();N(1),Yr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),je("colspan",e.numCols),N(1),He(" ",e.label," ")}}function Cxe(n,t){if(1&n&&(O(0,"td",4),F(1),A()),2&n){const e=de(2);Yr("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),je("colspan",e._firstRowOffset),N(1),He(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function bxe(n,t){if(1&n){const e=Ei();O(0,"td",8)(1,"button",9),se("click",function(r){const a=ut(e).$implicit;return dt(de(2)._cellClicked(a,r))})("focus",function(r){const a=ut(e).$implicit;return dt(de(2)._emitActiveDateChange(a,r))}),O(2,"span",10),F(3),A(),te(4,"span",11),A()()}if(2&n){const e=t.$implicit,i=t.index,r=de().index,o=de();Yr("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),je("data-mat-row",r)("data-mat-col",i),N(1),Be("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),j("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),je("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),N(1),Be("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),N(1),He(" ",e.displayValue," ")}}function wxe(n,t){if(1&n&&(O(0,"tr",5),ue(1,Cxe,2,6,"td",6),ue(2,bxe,5,48,"td",7),A()),2&n){const e=t.$implicit,i=t.index,r=de();N(1),j("ngIf",0===i&&r._firstRowOffset),N(1),j("ngForOf",e)}}function Sxe(n,t){if(1&n&&(O(0,"th",5)(1,"span",6),F(2),A(),O(3,"span",7),F(4),A()()),2&n){const e=t.$implicit;N(2),Ct(e.long),N(2),Ct(e.narrow)}}const xxe=["*"];function Exe(n,t){}function Dxe(n,t){if(1&n){const e=Ei();O(0,"mat-month-view",5),se("activeDateChange",function(r){return ut(e),dt(de().activeDate=r)})("_userSelection",function(r){return ut(e),dt(de()._dateSelected(r))})("dragStarted",function(r){return ut(e),dt(de()._dragStarted(r))})("dragEnded",function(r){return ut(e),dt(de()._dragEnded(r))}),A()}if(2&n){const e=de();j("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Txe(n,t){if(1&n){const e=Ei();O(0,"mat-year-view",6),se("activeDateChange",function(r){return ut(e),dt(de().activeDate=r)})("monthSelected",function(r){return ut(e),dt(de()._monthSelectedInYearView(r))})("selectedChange",function(r){return ut(e),dt(de()._goToDateInView(r,"month"))}),A()}if(2&n){const e=de();j("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Mxe(n,t){if(1&n){const e=Ei();O(0,"mat-multi-year-view",7),se("activeDateChange",function(r){return ut(e),dt(de().activeDate=r)})("yearSelected",function(r){return ut(e),dt(de()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return ut(e),dt(de()._goToDateInView(r,"year"))}),A()}if(2&n){const e=de();j("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Axe(n,t){}const Oxe=["button"];function Rxe(n,t){1&n&&(Pa(),O(0,"svg",3),te(1,"path",4),A())}const Pxe=[[["","matDatepickerToggleIcon",""]]],Ixe=["[matDatepickerToggleIcon]"];let T_=(()=>{class n{constructor(){this.changes=new Oe,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eF{constructor(t,e,i,r,o={},a=t,s){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=a,this.rawValue=s}}let Fxe=1;const _6=Ts({passive:!1,capture:!0}),cd=Ts({passive:!0,capture:!0}),Vx=Ts({passive:!0});let $m=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=be(Qt),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new U,this.previewChange=new U,this.activeDateChange=new U,this.dragStarted=new U,this.dragEnded=new U,this._didDragSinceMouseDown=!1,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._touchmoveHandler=r=>{if(!this.isRange)return;const o=C6(r),a=o?this._getCellFromElement(o):null;o!==r.target&&(this._didDragSinceMouseDown=!0),iF(r.target)&&r.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:r}))},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&("blur"!==r.type&&(this._didDragSinceMouseDown=!0),r.target&&this._getCellFromElement(r.target)&&(!r.relatedTarget||!this._getCellFromElement(r.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r})))},this._mousedownHandler=r=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const o=r.target&&this._getCellFromElement(r.target);!o||!this._isInRange(o.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:o.rawValue,event:r})})},this._mouseupHandler=r=>{if(!this.isRange)return;const o=iF(r.target);o?o.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const a=this._getCellFromElement(o);this.dragEnded.emit({value:a?.rawValue??null,event:r})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:r})})},this._touchendHandler=r=>{const o=C6(r);o&&this._mouseupHandler({target:o})},this._id="mat-calendar-body-"+Fxe++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("touchmove",this._touchmoveHandler,_6),r.addEventListener("mouseenter",this._enterHandler,cd),r.addEventListener("focus",this._enterHandler,cd),r.addEventListener("mouseleave",this._leaveHandler,cd),r.addEventListener("blur",this._leaveHandler,cd),r.addEventListener("mousedown",this._mousedownHandler,Vx),r.addEventListener("touchstart",this._mousedownHandler,Vx),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,_6),e.removeEventListener("mouseenter",this._enterHandler,cd),e.removeEventListener("focus",this._enterHandler,cd),e.removeEventListener("mouseleave",this._leaveHandler,cd),e.removeEventListener("blur",this._leaveHandler,cd),e.removeEventListener("mousedown",this._mousedownHandler,Vx),e.removeEventListener("touchstart",this._mousedownHandler,Vx),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_i(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return nF(e,this.startValue,this.endValue)}_isRangeEnd(e){return rF(e,this.startValue,this.endValue)}_isInRange(e){return oF(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return nF(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const a=this.rows[i-1];o=a&&a[a.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const a=this.rows[i+1];o=a&&a[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return rF(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return oF(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return nF(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return rF(e,this.previewStart,this.previewEnd)}_isInPreview(e){return oF(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=iF(e);if(i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De))},n.\u0275cmp=we({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ri],attrs:yxe,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(ue(0,_xe,3,6,"tr",0),ue(1,wxe,3,2,"tr",1),O(2,"label",2),F(3),A(),O(4,"label",2),F(5),A()),2&e&&(j("ngIf",i._firstRowOffset<i.labelMinRequiredCells),N(1),j("ngForOf",i.rows),N(1),j("id",i._startDateLabelId),N(1),He(" ",i.startDateAccessibleName,"\n"),N(1),j("id",i._endDateLabelId),N(1),He(" ",i.endDateAccessibleName,"\n"))},dependencies:[Yu,Ba,Zr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function tF(n){return"TD"===n?.nodeName}function iF(n){let t;return tF(n)?t=n:tF(n.parentNode)?t=n.parentNode:tF(n.parentNode?.parentNode)&&(t=n.parentNode.parentNode),null!=t?.getAttribute("data-mat-row")?t:null}function nF(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function rF(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function oF(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}function C6(n){const t=n.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}class eo{constructor(t,e){this.start=t,this.end=e}}let ud=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Oe,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){vs()},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),kxe=(()=>{class n extends ud{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(K(br))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const b6={provide:ud,deps:[[new Fa,new gl,ud],br],useFactory:function Nxe(n,t){return n||new kxe(t)}},Gx=new J("MAT_DATE_RANGE_SELECTION_STRATEGY");let w6=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=a,this._rerenderSubscription=Rt.EMPTY,this.activeDrag=null,this.selectedChange=new U,this._userSelection=new U,this.dragStarted=new U,this.dragEnded=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,a;this._selected instanceof eo?(o=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):o=a=this._getDateInCurrentMonth(this._selected),(o!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Dn(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const r=i?i.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this.activeDrag&&r){const a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((a,s)=>({long:a,narrow:i[s]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),s=this._shouldEnableDate(a),l=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new eF(r+1,i[r],l,s,c,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof eo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(ep,8),T(br,8),T(an,8),T(Gx,8))},n.\u0275cmp=we({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&Xe($m,5),2&e){let r;ye(r=_e())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ri],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(O(0,"table",0)(1,"thead",1)(2,"tr"),ue(3,Sxe,5,2,"th",2),A(),O(4,"tr"),te(5,"th",3),A()(),O(6,"tbody",4),se("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("dragStarted",function(o){return i.dragStarted.emit(o)})("dragEnded",function(o){return i._dragEnded(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),A()()),2&e&&(N(3),j("ngForOf",i._weekdays),N(3),j("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[Ba,$m],encapsulation:2,changeDetection:0}),n})();const ra=24;let S6=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),x6(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new U,this.yearSelected=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-M_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<ra;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(a=>this._createCellForYear(a))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-M_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ra-M_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-ra:-ra);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*ra:ra);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return M_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new eF(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof eo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(br,8),T(an,8))},n.\u0275cmp=we({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&Xe($m,5),2&e){let r;ye(r=_e())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(O(0,"table",0)(1,"thead",1)(2,"tr"),te(3,"th",2),A()(),O(4,"tbody",3),se("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),A()()),2&e&&(N(4),j("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[$m],encapsulation:2,changeDetection:0}),n})();function x6(n,t,e,i,r){const o=n.getYear(t),a=n.getYear(e),s=E6(n,i,r);return Math.floor((o-s)/ra)===Math.floor((a-s)/ra)}function M_(n,t,e,i){return function Hxe(n,t){return(n%t+t)%t}(n.getYear(t)-E6(n,e,i),ra)}function E6(n,t,e){let i=0;return e?i=n.getYear(e)-ra+1:t&&(i=n.getYear(t)),i}let D6=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Rt.EMPTY,this.selectedChange=new U,this.monthSelected=new U,this.activeDateChange=new U,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_r(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new eF(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof eo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(ep,8),T(br,8),T(an,8))},n.\u0275cmp=we({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&Xe($m,5),2&e){let r;ye(r=_e())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(O(0,"table",0)(1,"thead",1)(2,"tr"),te(3,"th",2),A()(),O(4,"tbody",3),se("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),A()()),2&e&&(N(4),j("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[$m],encapsulation:2,changeDetection:0}),n})(),jxe=1,Uxe=(()=>{class n{constructor(e,i,r,o,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._id="mat-calendar-header-"+jxe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-ra)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:ra)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):x6(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-M_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+ra-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(T(T_),T(It(()=>lF)),T(br,8),T(ep,8),T(Ft))},n.\u0275cmp=we({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xxe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(Zt(),O(0,"div",0)(1,"div",1)(2,"button",2),se("click",function(){return i.currentPeriodClicked()}),O(3,"span",3),F(4),A(),Pa(),O(5,"svg",4),te(6,"polygon",5),A()(),Mh(),te(7,"div",6),Ge(8),O(9,"button",7),se("click",function(){return i.previousClicked()}),A(),O(10,"button",8),se("click",function(){return i.nextClicked()}),A()()(),O(11,"label",9),F(12),A()),2&e&&(N(2),je("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),N(2),Ct(i.periodButtonText),N(1),Be("mat-calendar-invert","month"!==i.calendar.currentView),N(4),j("disabled",!i.previousEnabled()),je("aria-label",i.prevButtonLabel),N(1),j("disabled",!i.nextEnabled()),je("aria-label",i.nextButtonLabel),N(1),j("id",i._periodButtonLabelId),N(1),Ct(i.periodButtonDescription))},dependencies:[ja,yx],encapsulation:2,changeDetection:0}),n})(),lF=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof eo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new U,this.yearSelected=new U,this.monthSelected=new U,this.viewChanged=new U(!0),this._userSelection=new U,this._userDragDrop=new U,this._activeDrag=null,this.stateChanges=new Oe,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Lm(this.headerComponent||Uxe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof eo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(T(T_),T(br,8),T(ep,8),T(Ft))},n.\u0275cmp=we({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(Xe(w6,5),Xe(D6,5),Xe(S6,5)),2&e){let r;ye(r=_e())&&(i.monthView=r.first),ye(r=_e())&&(i.yearView=r.first),ye(r=_e())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ne([b6]),ri],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(ue(0,Exe,0,0,"ng-template",0),O(1,"div",1),ue(2,Dxe,1,11,"mat-month-view",2),ue(3,Txe,1,6,"mat-year-view",3),ue(4,Mxe,1,6,"mat-multi-year-view",4),A()),2&e&&(j("cdkPortalOutlet",i._calendarHeaderPortal),N(1),j("ngSwitch",i.currentView),N(1),j("ngSwitchCase","month"),N(1),j("ngSwitchCase","year"),N(1),j("ngSwitchCase","multi-year"))},dependencies:[dm,s0,O5,od,w6,D6,S6],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const T6={transformPanel:Kn("transformPanel",[Jt("void => enter-dropdown",oi("120ms cubic-bezier(0, 0, 0.2, 1)",km([ze({opacity:0,transform:"scale(1, 0.8)"}),ze({opacity:1,transform:"scale(1, 1)"})]))),Jt("void => enter-dialog",oi("150ms cubic-bezier(0, 0, 0.2, 1)",km([ze({opacity:0,transform:"scale(0.7)"}),ze({transform:"none",opacity:1})]))),Jt("* => void",oi("100ms linear",ze({opacity:0})))]),fadeInCalendar:Kn("fadeInCalendar",[vi("void",ze({opacity:0})),vi("enter",ze({opacity:1})),Jt("void => *",oi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let zxe=0;const M6=new J("mat-datepicker-scroll-strategy"),$xe={provide:M6,deps:[Jr],useFactory:function Wxe(n){return()=>n.scrollStrategies.reposition()}},Kxe=Qh(class{constructor(n){this._elementRef=n}});let Yxe=(()=>{class n extends Kxe{constructor(e,i,r,o,a,s){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=o,this._rangeSelectionStrategy=a,this._subscriptions=new Rt,this._animationDone=new Oe,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=s.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,o=i instanceof eo;if(o&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(o||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating="start"===e.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(ud),T(br),T(Gx,8),T(T_))},n.\u0275cmp=we({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&Xe(lF,5),2&e){let r;ye(r=_e())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&IS("@transformPanel.start",function(o){return i._handleAnimationEvent(o)})("@transformPanel.done",function(o){return i._handleAnimationEvent(o)}),2&e&&(NS("@transformPanel",i._animationState),Be("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[me],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(O(0,"div",0)(1,"mat-calendar",1),se("yearSelected",function(o){return i.datepicker._selectYear(o)})("monthSelected",function(o){return i.datepicker._selectMonth(o)})("viewChanged",function(o){return i.datepicker._viewChanged(o)})("_userSelection",function(o){return i._handleUserSelection(o)})("_userDragDrop",function(o){return i._handleUserDragDrop(o)}),A(),ue(2,Axe,0,0,"ng-template",2),O(3,"button",3),se("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),F(4),A()()),2&e){let r;Be("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),je("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),N(1),j("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),N(1),j("cdkPortalOutlet",i._actionsPortal),N(1),Be("cdk-visually-hidden",!i._closeButtonFocused),j("color",i.color||"primary"),N(1),Ct(i._closeButtonText)}},dependencies:[Yu,ja,R_e,od,lF],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[T6.transformPanel,T6.fadeInCalendar]},changeDetection:0}),n})(),A6=(()=>{class n{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Te(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Te(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Te(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=c5(e)}get opened(){return this._opened}set opened(e){Te(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(e,i,r,o,a,s,l){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=s,this._model=l,this._inputStateChanges=Rt.EMPTY,this._document=be(tt),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new U,this.monthSelected=new U,this.viewChanged=new U(!0),this.openedStream=new U,this.closedStream=new U,this._opened=!1,this.id="mat-datepicker-"+zxe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Oe,this._scrollStrategy=o}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof v8&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=Om(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:o}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(_i(1)).subscribe(()=>{const a=this._document.activeElement;e&&(!a||a===this._document.activeElement||o.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Lm(Yxe,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new m_({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{const a=o.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&o.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(_i(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",o="above"===this.yPosition?"bottom":"top",a="top"===o?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:a}])}_getCloseStream(e){const i=["ctrlKey","shiftKey","metaKey"];return nn(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ui(r=>27===r.keyCode&&!Dn(r)||this.datepickerInput&&Dn(r,"altKey")&&38===r.keyCode&&i.every(o=>!Dn(r,o)))))}}return n.\u0275fac=function(e){return new(e||n)(T(Jr),T(De),T(Fi),T(M6),T(br,8),T(an,8),T(ud))},n.\u0275dir=Z({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ri]}),n})(),O6=(()=>{class n extends A6{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ne([b6,{provide:A6,useExisting:n}]),me],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class Bx{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let qxe=(()=>{class n{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Te(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Bx(this,this._elementRef.nativeElement)),this.dateChange.emit(new Bx(this,this._elementRef.nativeElement))}})}constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new U,this.dateInput=new U,this.stateChanges=new Oe,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Rt.EMPTY,this._localeSubscription=Rt.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMinDate();return!s||!a||this._dateAdapter.compareDate(s,a)<=0?null:{matDatepickerMin:{min:s,actual:a}}},this._maxValidator=o=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),s=this._getMaxDate();return!s||!a||this._dateAdapter.compareDate(s,a)>=0?null:{matDatepickerMax:{max:s,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function Xxe(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:o}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(o))return!0;if(!t.sameDate(r,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){Dn(e,"altKey")&&40===e.keyCode&&["ctrlKey","shiftKey","metaKey"].every(o=>!Dn(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new Bx(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Bx(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(br,8),T(ep,8))},n.\u0275dir=Z({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ri]}),n})();const Zxe={provide:Cr,useExisting:It(()=>Hx),multi:!0},Qxe={provide:ar,useExisting:It(()=>Hx),multi:!0};let Hx=(()=>{class n extends qxe{set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}constructor(e,i,r,o){super(e,i,r),this._formField=o,this._closedSubscription=Rt.EMPTY,this._validator=xs.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(br,8),T(ep,8),T(p_,8))},n.\u0275dir=Z({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&se("input",function(o){return i._onInput(o.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(o){return i._onKeydown(o)}),2&e&&(Fc("disabled",i.disabled),je("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ne([Zxe,Qxe,{provide:l8,useExisting:n}]),me]}),n})(),Jxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),R6=(()=>{class n{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Te(e)}constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Rt.EMPTY;const o=Number(r);this.tabIndex=o||0===o?o:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Ve(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Ve(),r=this.datepicker?nn(this.datepicker.openedStream,this.datepicker.closedStream):Ve();this._stateChanges.unsubscribe(),this._stateChanges=nn(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(T(T_),T(Ft),ml("tabindex"))},n.\u0275cmp=we({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,Jxe,5),2&e){let o;ye(o=_e())&&(i._customIcon=o.first)}},viewQuery:function(e,i){if(1&e&&Xe(Oxe,5),2&e){let r;ye(r=_e())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&se("click",function(o){return i._open(o)}),2&e&&(je("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),Be("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ri],ngContentSelectors:Ixe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(Zt(Pxe),O(0,"button",0,1),ue(2,Rxe,2,0,"svg",2),Ge(3),A()),2&e&&(j("disabled",i.disabled)("disableRipple",i.disableRipple),je("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),N(2),j("ngIf",!i._customIcon))},dependencies:[Zr,yx],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),iEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[T_,$xe],imports:[yr,RI,rp,c_,Vm,ht,qc]}),n})();const nEe=["input"],rEe=["*"];let I6=0;class F6{constructor(t,e){this.source=t,this.value=e}}const oEe={provide:Cr,useExisting:It(()=>uF),multi:!0},k6=new J("MatRadioGroup"),aEe=new J("mat-radio-default-options",{providedIn:"root",factory:function sEe(){return{color:"accent"}}});let lEe=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Te(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+I6++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new U}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new F6(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(T(Ft))},n.\u0275dir=Z({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class cEe{constructor(t){this._elementRef=t}}const uEe=Jh(uI(cEe));let dEe=(()=>{class n extends uEe{get checked(){return this._checked}set checked(e){const i=Te(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Te(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Te(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,a,s,l,c){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=a,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++I6,this.id=this._uniqueId,this.change=new U,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===s,c&&(this.tabIndex=gi(c,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new F6(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&Xe(nEe,5),2&e){let r;ye(r=_e())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[me]}),n})(),uF=(()=>{class n extends lEe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,dF,5),2&e){let o;ye(o=_e())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Ne([oEe,{provide:k6,useExisting:n}]),me]}),n})(),dF=(()=>{class n extends dEe{constructor(e,i,r,o,a,s,l,c){super(e,i,r,o,a,s,l,c)}}return n.\u0275fac=function(e){return new(e||n)(T(k6,8),T(Se),T(Ft),T(Uc),T(awe),T(Ii,8),T(aEe,8),ml("tabindex"))},n.\u0275cmp=we({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,i){1&e&&se("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(je("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Be("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[me],ngContentSelectors:rEe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(e,i){if(1&e&&(Zt(),O(0,"div",0,1)(2,"div",2)(3,"div",3),se("click",function(o){return i._onTouchTargetClick(o)}),A(),O(4,"input",4,5),se("change",function(o){return i._onInputInteraction(o)}),A(),O(6,"div",6),te(7,"div",7)(8,"div",8),A(),O(9,"div",9),te(10,"div",10),A()(),O(11,"label",11),Ge(12),A()()),2&e){const r=rn(1);Be("mdc-form-field--align-end","before"==i.labelPosition),N(2),Be("mdc-radio--disabled",i.disabled),N(2),j("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),je("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),N(5),j("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),N(2),j("for",i.inputId)}},dependencies:[zc],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),hEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,yr,rd,ht]}),n})();const pEe=["input"],fEe=["label"],mEe=["*"],gEe=new J("mat-checkbox-default-options",{providedIn:"root",factory:L6});function L6(){return{color:"accent",clickAction:"check-indeterminate"}}const vEe={provide:Cr,useExisting:It(()=>V6),multi:!0};class yEe{}let _Ee=0;const N6=L6(),CEe=uI(Qh(Jh(nd(class{constructor(n){this._elementRef=n}}))));let bEe=(()=>{class n extends CEe{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Te(e)}constructor(e,i,r,o,a,s,l){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=s,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new U,this.indeterminateChange=new U,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||N6,this.color=this.defaultColor=this._options.color||N6.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++_Ee}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Te(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Te(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Te(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){vs()},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&(Xe(pEe,5),Xe(fEe,5),Xe(zc,5)),2&e){let r;ye(r=_e())&&(i._inputElement=r.first),ye(r=_e())&&(i._labelElement=r.first),ye(r=_e())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[me]}),n})(),V6=(()=>{class n extends bEe{constructor(e,i,r,o,a,s){super("mat-mdc-checkbox-",e,i,r,o,a,s),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new yEe;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(De),ml("tabindex"),T(Ii,8),T(gEe,8))},n.\u0275cmp=we({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(Fc("id",i.id),je("tabindex",null)("aria-label",null)("aria-labelledby",null),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Ne([vEe]),me],ngContentSelectors:mEe,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(e,i){if(1&e&&(Zt(),O(0,"div",0),se("click",function(o){return i._preventBubblingFromLabel(o)}),O(1,"div",1,2)(3,"div",3),se("click",function(){return i._onTouchTargetClick()}),A(),O(4,"input",4,5),se("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(o){return i._onInteractionEvent(o)}),A(),te(6,"div",6),O(7,"div",7),Pa(),O(8,"svg",8),te(9,"path",9),A(),Mh(),te(10,"div",10),A(),te(11,"div",11),A(),O(12,"label",12,13),Ge(14),A()()),2&e){const r=rn(2);Be("mdc-form-field--align-end","before"==i.labelPosition),N(4),Be("mdc-checkbox--selected",i.checked),j("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),je("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),N(7),j("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),N(1),j("for",i.inputId)}},dependencies:[zc],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),G6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({}),n})(),xEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,rd,G6,ht,G6]}),n})();function EEe(n,t){if(1&n&&(O(0,"mat-option",21),F(1),A()),2&n){const e=t.$implicit;j("value",e),N(1),Ct(e)}}function DEe(n,t){if(1&n&&(O(0,"mat-option",21),F(1),A()),2&n){const e=t.$implicit;j("value",e),N(1),He(" ",e," ")}}let TEe=(()=>{class n{constructor(e){this.builder=e,this.countrylist=["India","USA","Singapore","UK"],this.termlist=["15days","30days","45days","60days"],this.customerform=this.builder.group({name:this.builder.control("",xs.required),email:this.builder.control("",xs.compose([xs.required,xs.required])),phone:this.builder.control("",xs.required),country:this.builder.control("",xs.required),address:this.builder.control("",xs.required),term:this.builder.control("",xs.required),dob:this.builder.control(new Date(2e3,3,25)),gender:this.builder.control("Male"),status:this.builder.control(!0)})}ngOnInit(){this.customerform.setValue({name:"Nihira Techiees",email:"nihiratechiees@gmail.com",phone:"77678899",country:"USA",term:"45days",address:"add1",dob:new Date(2001,2,3),gender:"Male",status:!0})}SaveCustomer(){console.log(this.customerform.value)}clearform(){this.customerform.reset()}}return n.\u0275fac=function(e){return new(e||n)(T(Tm))},n.\u0275cmp=we({type:n,selectors:[["app-formdesign"]],decls:54,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"mat-50"],["formControlName","name","matInput",""],["matInput","","formControlName","email"],["matInput","","formControlName","phone"],["formControlName","country"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","address"],["formControlName","term","matInput","",3,"matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],["matInput","","formControlName","dob",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["formControlName","gender","color","primary"],["value","Male"],["value","Female"],["formControlName","status","color","warn"],[2,"margin","2%","text-align","right"],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,i){if(1&e&&(O(0,"form",0),se("ngSubmit",function(){return i.SaveCustomer()}),O(1,"mat-card")(2,"mat-card-content")(3,"mat-form-field",1)(4,"mat-label"),F(5,"Name"),A(),te(6,"input",2),A(),O(7,"mat-form-field",1)(8,"mat-label"),F(9,"Email"),A(),te(10,"input",3),A(),O(11,"mat-form-field",1)(12,"mat-label"),F(13,"Phone"),A(),te(14,"input",4),A(),O(15,"mat-form-field",1)(16,"mat-label"),F(17,"Country"),A(),O(18,"mat-select",5),ue(19,EEe,2,2,"mat-option",6),A()(),O(20,"mat-form-field")(21,"mat-label"),F(22,"Address"),A(),te(23,"textarea",7),A(),O(24,"mat-form-field",1)(25,"mat-label"),F(26,"Term"),A(),te(27,"input",8),O(28,"mat-autocomplete",9,10),ue(30,DEe,2,2,"mat-option",6),A()(),O(31,"mat-form-field",1)(32,"mat-label"),F(33,"Date of Birth"),A(),te(34,"input",11)(35,"mat-datepicker-toggle",12),O(36,"mat-hint"),F(37,"dd/MM/yyyy"),A(),te(38,"mat-datepicker",null,13),A(),O(40,"div")(41,"mat-radio-group",14)(42,"mat-radio-button",15),F(43,"Male"),A(),O(44,"mat-radio-button",16),F(45,"Female"),A()(),O(46,"mat-checkbox",17),F(47,"Is Active"),A()()(),O(48,"mat-card-footer")(49,"div",18)(50,"button",19),F(51,"Save"),A(),O(52,"button",20),se("click",function(){return i.clearform()}),F(53,"Clear"),A()()()()()),2&e){const r=rn(29),o=rn(39);j("formGroup",i.customerform),N(19),j("ngForOf",i.countrylist),N(8),j("matAutocomplete",r),N(3),j("ngForOf",i.termlist),N(4),j("matDatepicker",o),N(1),j("for",o)}},dependencies:[Ba,Kc,Fl,$c,lx,J5,y_,ip,DI,fx,ja,ad,sd,_x,O6,Hx,R6,uF,dF,V6,Rl,ia,Es,Ol,Ds,td],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]}),n})();function MEe(n,t){if(1&n&&(O(0,"mat-option",8),F(1),A()),2&n){const e=t.$implicit;j("value",e.id),N(1),He(" ",e.name,"")}}function AEe(n,t){if(1&n&&(O(0,"mat-option",8),F(1),A()),2&n){const e=t.$implicit;j("value",e.code),N(1),Ct(e.name)}}function OEe(n,t){if(1&n){const e=Ei();O(0,"mat-card",9)(1,"mat-card-content")(2,"h1"),F(3),A(),O(4,"mat-form-field",1)(5,"mat-label"),F(6,"Title"),A(),te(7,"input",10),A(),O(8,"mat-form-field",1)(9,"mat-label"),F(10,"Coutry"),A(),O(11,"input",11),se("keyup",function(){const o=ut(e).index;return dt(de().autochange(o))}),A(),O(12,"mat-autocomplete",null,12),ue(14,AEe,2,2,"mat-option",3),QO(15,"async"),A()(),O(16,"mat-form-field")(17,"mat-label"),F(18,"Title"),A(),te(19,"textarea",13),A()()()}if(2&n){const e=t.index,i=rn(13),r=de();j("formGroupName",e),N(3),He("Address - ",e+1,""),N(8),j("matAutocomplete",i),N(3),j("ngForOf",JO(15,4,r.filteroptions))}}let REe=(()=>{class n{constructor(e,i){this.builder=e,this.service=i,this.myform=this.builder.group({id:this.builder.control(""),name:this.builder.control(""),address:this.builder.array([])})}ngOnInit(){this.LoadAssociate(),this.LoadCountry()}Saveassociate(){this.service.SaveAssociate(this.myform.value,this.myform.value.id).subscribe(e=>{alert("Saved")})}LoadAssociate(){this.service.GetAssociate().subscribe(e=>{this.associatellist=e})}LoadCountry(){this.service.GetCountry().subscribe(e=>{this.countrylist=e})}autochange(e){this.addressarray=this.myform.get("address");const r=this.addressarray.at(e).get("country");this.filteroptions=r.valueChanges.pipe(_r(""),ot(o=>this._Listfilter(r.value||"")))}_Listfilter(e){const i=e.toLocaleLowerCase();return this.countrylist.filter(r=>r.name.toLocaleLowerCase().includes(i)||r.code.toLocaleLowerCase().includes(i))}addaddress(){""!=this.myform.value.id?(this.addressarray=this.myform.get("address"),this.addressarray.push(this.createaddrow())):alert("Please choose associate")}createaddrow(){return this.builder.group({title:this.builder.control(""),country:this.builder.control(""),fulladdress:this.builder.control("")})}get getaddress(){return this.myform.get("address")}cuschange(e){this.service.GetAssociatebycode(e).subscribe(i=>{for(this.editdata=i,this.addressarray=this.myform.get("address");0!==this.addressarray.length;)this.addressarray.removeAt(0);for(let r=0;r<this.editdata.address.length;r++)this.addaddress();this.myform.setValue({id:this.editdata.id,name:this.editdata.name,address:this.editdata.address})})}}return n.\u0275fac=function(e){return new(e||n)(T(Tm),T(K0))},n.\u0275cmp=we({type:n,selectors:[["app-associate"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"mat-50"],["formControlName","id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["formArrayName","address"],["class","mat-elevation-z8",3,"formGroupName",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],[1,"mat-elevation-z8",3,"formGroupName"],["matInput","","formControlName","title"],["matInput","","formControlName","country",3,"matAutocomplete","keyup"],["auto",""],["matInput","","formControlName","fulladdress"]],template:function(e,i){1&e&&(O(0,"form",0),se("ngSubmit",function(){return i.Saveassociate()}),O(1,"mat-card")(2,"mat-card-content")(3,"mat-form-field",1)(4,"mat-label"),F(5,"Associate"),A(),O(6,"mat-select",2),se("selectionChange",function(o){return i.cuschange(o.value)}),ue(7,MEe,2,2,"mat-option",3),A()(),O(8,"a",4),se("click",function(){return i.addaddress()}),F(9,"Add Address"),A(),O(10,"div",5),ue(11,OEe,20,6,"mat-card",6),A()(),O(12,"mat-card-actions")(13,"button",7),F(14,"Save"),A()()()()),2&e&&(j("formGroup",i.myform),N(7),j("ngForOf",i.associatellist),N(4),j("ngForOf",i.getaddress.controls))},dependencies:[Ba,Kc,Fl,$c,y_,ip,DI,fx,b_,ja,ad,Gm,sd,Rl,ia,Es,Ol,Ds,td,B0,H0,zR],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]}),n})();function kl(n){return null==n||""===n?null:n}function ae(n,t){return void 0===t&&(t=!1),null!=n&&(""!==n||t)}function Qe(n){return!ae(n)}function oa(n){return null==n||0===n.length}function A_(n){return null!=n&&"function"==typeof n.toString?n.toString():null}function dd(n){if(void 0!==n){if(null===n||""===n)return null;if("number"==typeof n)return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function jx(n){if(void 0!==n)return null!==n&&""!==n&&("boolean"==typeof n?n:/true/i.test(n))}function hF(n,t){return(n?JSON.stringify(n):null)===(t?JSON.stringify(t):null)}function lp(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}var FEe=Object.freeze({__proto__:null,makeNull:kl,exists:ae,missing:Qe,missingOrEmpty:oa,toStringOrNull:A_,attrToNumber:dd,attrToBoolean:jx,attrToString:function PEe(n){if(null!=n&&""!==n)return n},jsonEquals:hF,defaultComparator:function IEe(n,t,e){void 0===e&&(e=!1);var i=null==n,r=null==t;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(a,s){return a>s?1:a<s?-1:0}if("string"!=typeof n||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}},values:lp}),kEe=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=A_(t);for(var i=0;;){var r=void 0;if(t?(r=t,0!==i&&(r+="_"+i)):e?(r=e,0!==i&&(r+="_"+i)):r=i,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);i++}},n}(),LEe=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NEe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function Lr(n,t){var e,i;if(null!=n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)t(r.toString(),n[r]);return}try{for(var o=LEe(Object.entries(n)),a=o.next();!a.done;a=o.next()){var s=NEe(a.value,2);t(s[0],s[1])}}catch(u){e={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}}function pF(n){for(var t={},e=Object.keys(n),i=0;i<e.length;i++){var r=e[i];t[r]=n[r]}return t}function Ux(n,t){if(n){var e=n,i={};return Object.keys(e).forEach(function(r){if(!(t&&t.indexOf(r)>=0)){var o=e[r],a=zx(o)&&o.constructor===Object;i[r]=a?Ux(o):o}}),i}}function hd(n){if(!n)return[];var t=Object;if("function"==typeof t.values)return t.values(n);var e=[];for(var i in n)n.hasOwnProperty(i)&&n.propertyIsEnumerable(i)&&e.push(n[i]);return e}function aa(n,t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),ae(t)&&Lr(t,function(r,o){var a=n[r];a!==o&&(i&&null==a&&null!=o&&"object"==typeof o&&o.constructor===Object&&(n[r]=a={}),zx(o)&&zx(a)&&!Array.isArray(a)?aa(a,o,e,i):(e||void 0!==o)&&(n[r]=o))})}function Km(n,t,e){if(t&&n){if(!e)return n[t];for(var i=t.split("."),r=n,o=0;o<i.length;o++){if(null==r)return;r=r[i[o]]}return r}}function B6(n,t,e){void 0===t&&(t=[]),Object.keys(n).forEach(function(a){"object"==typeof n[a]&&!t.includes(a)&&(n[a]=void 0)});var i=Object.getPrototypeOf(n),r={};Object.getOwnPropertyNames(i).forEach(function(a){"function"!=typeof i[a]||t.includes(a)||(r[a]={value:function(){console.warn(function(a){return"AG Grid: Grid API function ".concat(a,"() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(e)}(a))},writable:!0})}),Object.defineProperties(n,r)}function zx(n){return"object"==typeof n&&null!==n}var VEe=Object.freeze({__proto__:null,iterateObject:Lr,cloneObject:pF,deepCloneDefinition:Ux,getAllValuesInObject:hd,mergeDeep:aa,getValueUsingField:Km,removeAllReferences:B6,isNonNullObject:zx}),H6={};function cp(n,t){H6[t]||(n(),H6[t]=!0)}function We(n){cp(function(){return console.warn("AG Grid: "+n)},n)}function As(n){cp(function(){return console.error("AG Grid: "+n)},n)}function Wx(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&2===t.length?t[1].trim():null}function $x(n){return!!(n&&n.constructor&&n.call&&n.apply)}function j6(n){U6(n,400)}var fF=[],mF=!1;function gF(n){fF.push(n),!mF&&(mF=!0,window.setTimeout(function(){var t=fF.slice();fF.length=0,mF=!1,t.forEach(function(e){return e()})},0))}function U6(n,t){void 0===t&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function sa(n,t){var e;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){n.apply(o,i)},t)}}function vF(n,t){var e=0;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a=(new Date).getTime();a-e<t||(e=a,n.apply(this,i))}}function yF(n,t,e,i){void 0===e&&(e=100);var r=(new Date).getTime(),o=null,a=!1,s=function(){var l=(new Date).getTime()-r>e;(n()||l)&&(t(),a=!0,null!=o&&(window.clearInterval(o),o=null),l&&i&&console.warn(i))};s(),a||(o=window.setInterval(s,10))}var HEe=Object.freeze({__proto__:null,doOnce:cp,warnOnce:We,errorOnce:As,getFunctionName:Wx,isFunction:$x,executeInAWhile:j6,executeNextVMTurn:gF,executeAfter:U6,debounce:sa,throttle:vF,waitUntil:yF,compose:function GEe(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(i,r){return r(i)},e)}},noop:function(){}}),ie=(()=>((ie=ie||{}).CommunityCoreModule="@ag-grid-community/core",ie.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ie.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ie.CsvExportModule="@ag-grid-community/csv-export",ie.EnterpriseCoreModule="@ag-grid-enterprise/core",ie.RowGroupingModule="@ag-grid-enterprise/row-grouping",ie.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",ie.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ie.MenuModule="@ag-grid-enterprise/menu",ie.SetFilterModule="@ag-grid-enterprise/set-filter",ie.MultiFilterModule="@ag-grid-enterprise/multi-filter",ie.StatusBarModule="@ag-grid-enterprise/status-bar",ie.SideBarModule="@ag-grid-enterprise/side-bar",ie.RangeSelectionModule="@ag-grid-enterprise/range-selection",ie.MasterDetailModule="@ag-grid-enterprise/master-detail",ie.RichSelectModule="@ag-grid-enterprise/rich-select",ie.GridChartsModule="@ag-grid-enterprise/charts",ie.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ie.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ie.ExcelExportModule="@ag-grid-enterprise/excel-export",ie.ClipboardModule="@ag-grid-enterprise/clipboard",ie.SparklinesModule="@ag-grid-enterprise/sparklines",ie.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",ie.AngularModule="@ag-grid-community/angular",ie.ReactModule="@ag-grid-community/react",ie.VueModule="@ag-grid-community/vue",ie))(),O_=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},z6=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Ze=function(){function n(){}return n.register=function(t){n.__register(t,!0,void 0)},n.registerModules=function(t){n.__registerModules(t,!0,void 0)},n.__register=function(t,e,i){n.runVersionChecks(t),void 0!==i?(n.areGridScopedModules=!0,void 0===n.gridModulesMap[i]&&(n.gridModulesMap[i]={}),n.gridModulesMap[i][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(e)},n.__unRegisterGridModules=function(t){delete n.gridModulesMap[t]},n.__registerModules=function(t,e,i){n.setModuleBased(e),t&&t.forEach(function(r){return n.__register(r,e,i)})},n.isValidModuleVersion=function(t){var e=O_(t.version.split(".")||[],2),i=e[0],r=e[1],o=O_(n.currentModuleVersion.split(".")||[],2);return i===o[0]&&r===o[1]},n.runVersionChecks=function(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: ".concat(e.message))}},n.setModuleBased=function(t){void 0===n.moduleBased?n.moduleBased=t:n.moduleBased!==t&&cp(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(t,e,i){var r;if(this.__isRegistered(t,i))return!0;var a,o=e+t;if(n.isBundled)a="AG Grid: unable to use ".concat(e," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(n.moduleBased||void 0===n.moduleBased){var s=null===(r=Object.entries(ie).find(function(l){return O_(l,2)[1]===t}))||void 0===r?void 0:r[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(n.areGridScopedModules?" for gridId: ".concat(i):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(s," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(s," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else a="AG Grid: unable to use ".concat(e," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/");return cp(function(){console.warn(a)},o),!1},n.__warnEnterpriseChartDisabled=function(t){var i="ag-charts-enterprise:"+t,o="AG Grid: the '".concat(t,"' chart type is not supported in AG Charts Community. See ").concat("https://ag-grid.com/javascript-data-grid/integrated-charts/"," for more details.");cp(function(){console.warn(o)},i)},n.__isRegistered=function(t,e){var i;return!!n.globalModulesMap[t]||!(null===(i=n.gridModulesMap[e])||void 0===i||!i[t])},n.__getRegisteredModules=function(t){return z6(z6([],O_(lp(n.globalModulesMap)),!1),O_(lp(n.gridModulesMap[t]||{})),!1)},n.__getGridRegisteredModules=function(t){var e;return lp(null!==(e=n.gridModulesMap[t])&&void 0!==e?e:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),zEe=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return lp(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),ae(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Lr(this.beanWrappers,function(i,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,r.bean.name),s=new(r.bean.bind.apply(r.bean,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([null],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1)));r.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i;return i=t.prototype.constructor?Wx(t.prototype.constructor):""+t,void console.error("Context item ".concat(i," is not a bean"))}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(r,o){var a=r.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);i[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(r,o){Lr(r.autowireMethods,function(a,s){if("agConstructor"!==a){var l=e.getBeansForParameters(s,o);i[a].apply(i,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var r=i.constructor;r.hasOwnProperty("__agBeanMetaData")&&e(r.__agBeanMetaData,this.getBeanName(r)),i=Object.getPrototypeOf(i)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},n.prototype.getBeansForParameters=function(t,e){var i=this,r=[];return t&&Lr(t,function(o,a){var s=i.lookupBeanInstance(e,a);r[Number(o)]=s}),r},n.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(i||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},n.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach(function(r){return i.callLifeCycleMethodsOnBean(r,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var r={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=i&&(r[l]=!0)})}),Object.keys(r).forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Ze.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(i){e.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy"),"function"==typeof i.destroy&&i.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function Ym(n,t,e){var i=up(n.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function H(n,t,e){var i=up(n.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function Mi(n,t,e){var i=up(n.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function oe(n){return function(t){up(t).beanName=n}}function C(n){return function(t,e,i){W6(t,n,!1,0,e,null)}}function gt(n){return function(t,e,i){W6(t,n,!0,0,e,null)}}function W6(n,t,e,i,r,o){if(null!==t)if("number"!=typeof o){var a=up(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:r,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Ua(n){return function(t,e,i){var o,r="function"==typeof t?t:t.constructor;if("number"==typeof i){var a=void 0;e?(o=up(r),a=e):(o=up(r),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][i]=n}}}function up(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var $6=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Kx=function(n,t){return function(e,i){t(e,i,n)}},Ll=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,i,r){if(void 0===i&&(i=null),void 0===r&&(r=null),this.frameworkOverrides=e,this.gridOptionsService=t,i){var o=t.useAsyncEvents();this.addGlobalListener(i,o)}r&&this.addGlobalListener(r,!1)},n.prototype.setFrameworkOverrides=function(t){this.frameworkOverrides=t},n.prototype.getListeners=function(t,e,i){var r=e?this.allAsyncListeners:this.allSyncListeners,o=r.get(t);return!o&&i&&r.set(t,o=new Set),o},n.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},n.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i,!0).add(e)},n.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1);var r=this.getListeners(t,i,!1);r&&(r.delete(e),0===r.size)&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t)},n.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r,i=this,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var h,l=null!==(r=this.getListeners(o,e,!1))&&void 0!==r?r:new Set,c=new Set(l);c.size>0&&(h=l,c.forEach(function(p){if(h.has(p)){var f=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming(function(){return p(t)})}:function(){return p(t)};e?i.dispatchAsync(f):f()}})),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(d){var h=i.frameworkOverrides?function(){return i.frameworkOverrides.wrapIncoming(function(){return d(o,t)})}:function(){return d(o,t)};e?i.dispatchAsync(h):h()})},n.prototype.dispatchAsync=function(t){var e=this;this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(e.flushAsyncQueue.bind(e),0)}),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},$6([Kx(0,Ua("gridOptionsService")),Kx(1,Ua("frameworkOverrides")),Kx(2,Ua("globalEventListener")),Kx(3,Ua("globalSyncEventListener"))],n.prototype,"setBeans",null),$6([oe("eventService")],n)}(),_F=function(){function n(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return n.prototype.wrap=function(t){var e=this,i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=function(r){e.frameworkOverrides.wrapOutgoing(function(){return t(r)})},this.wrappedListeners.set(t,i)),i},n.prototype.wrapGlobal=function(t){var e=this,i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=function(r,o){e.frameworkOverrides.wrapOutgoing(function(){return t(r,o)})},this.wrappedGlobalListeners.set(t,i)),i},n.prototype.unwrap=function(t){var e;return null!==(e=this.wrappedListeners.get(t))&&void 0!==e?e:t},n.prototype.unwrapGlobal=function(t){var e;return null!==(e=this.wrappedGlobalListeners.get(t))&&void 0!==e?e:t},n}(),R_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WEe={resizable:!0,sortable:!0},$Ee=0;function K6(){return $Ee++}var bt=function(){function n(t,e,i,r){this.instanceId=K6(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Ll,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=r,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=t.sortIndex,i=t.initialSortIndex;void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var r=t.hide;this.visible=void 0!==r?!r:!t.initialHide,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var a=t.flex,s=t.initialFlex;void 0!==a?this.flex=a:void 0!==s&&(this.flex=s)},n.prototype.setColDef=function(t,e,i){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},n.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=ae(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=ae(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.initTooltip=function(){this.tooltipEnabled=ae(this.colDef.tooltipField)||ae(this.colDef.tooltipValueGetter)||ae(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(t){var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){return!(Qe(this.colDef)||Qe(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){return!!this.colDef.filter},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.addEventListener=function(t,e){var i,r;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new _F(this.frameworkOverrides));var o=null!==(r=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(e))&&void 0!==r?r:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var i,r,o=null!==(r=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e))&&void 0!==r?r:e;this.eventService.removeEventListener(t,o)},n.prototype.createColumnFunctionCallbackParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})},n.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},n.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},n.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},n.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},n.prototype.getColDefValue=function(t){var e;return null!==(e=this.colDef[t])&&void 0!==e?e:WEe[t]},n.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},n.prototype.setMoving=function(t,e){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},n.prototype.createColumnEvent=function(t,e){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:e})},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},n.prototype.isSortAscending=function(){return"asc"===this.sort},n.prototype.isSortDescending=function(){return"desc"===this.sort},n.prototype.isSortNone=function(){return Qe(this.sort)},n.prototype.isSorting=function(){return ae(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,i){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var r=this.createColumnEvent("filterChanged",e);i&&aa(r,i),this.eventService.dispatchEvent(r)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},n.prototype.setLastLeftPinned=function(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},n.prototype.isPinnedLeft=function(){return"left"===this.pinned},n.prototype.isPinnedRight=function(){return"right"===this.pinned},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},n.prototype.getColumnGroupPaddingInfo=function(){var t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,i=!0;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},n.prototype.createBaseColDefParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})},n.prototype.getColSpan=function(t){if(Qe(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},n.prototype.getRowSpan=function(t){if(Qe(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},n.prototype.setActualWidth=function(t,e,i){void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},n.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(t){ae(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},n.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},n.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},n.prototype.getMenuTabs=function(t){We("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var e=this.getColDef().menuTabs;return null==e&&(e=t),e},n.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:t})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",R_([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),R_([C("columnUtils")],n.prototype,"columnUtils",void 0),R_([C("columnHoverService")],n.prototype,"columnHoverService",void 0),R_([C("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),R_([H],n.prototype,"initialise",null),n}(),ei=function(){function n(t,e,i,r){this.localEventService=new Ll,this.expandable=!1,this.instanceId=K6(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=r}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED})},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof bt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(i){return i.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(i){return i.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,i=!1,r=this.findChildrenRemovingPadding(),o=0,a=r.length;o<a;o++){var s=r[o];if(s.isVisible()){var l=s.getColumnGroupShow();"open"===l?(t=!0,i=!0):"closed"===l?(e=!0,i=!0):(t=!0,e=!0)}}var c=t&&e&&i;this.expandable!==c&&(this.expandable=c,this.localEventService.dispatchEvent({type:n.EVENT_EXPANDABLE_CHANGED}))}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(i){i.forEach(function(r){r instanceof n&&r.isPadding()?e(r.children):t.push(r)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([Mi],n.prototype,"destroy",null),n}(),YEe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Ut(n){if(n&&n.length)return n[n.length-1]}function Qc(n,t,e){return null==n&&null==t||null!=n&&null!=t&&n.length===t.length&&n.every(function(i,r){return e?e(i,t[r]):t[r]===i})}function Y6(n){return n.sort(function(t,e){return t-e})}function CF(n,t){var e=n.indexOf(t);e>=0&&(n[e]=n[n.length-1],n.pop())}function wo(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function q6(n,t){for(var e=0;e<t.length;e++)CF(n,t[e])}function X6(n,t){for(var e=0;e<t.length;e++)wo(n,t[e])}function P_(n,t,e){n.splice(e,0,t)}function bF(n,t,e){X6(n,t),t.slice().reverse().forEach(function(i){return P_(n,i,e)})}function Os(n,t){return n.indexOf(t)>-1}function Z6(n){return[].concat.apply([],n)}function wF(n,t){null==t||null==n||t.forEach(function(e){return n.push(e)})}var tDe=Object.freeze({__proto__:null,existsAndNotEmpty:function qEe(n){return null!=n&&n.length>0},last:Ut,areEqual:Qc,shallowCompare:function XEe(n,t){return Qc(n,t)},sortNumerically:Y6,removeRepeatsFromArray:function ZEe(n,t){if(n)for(var e=n.length-2;e>=0;e--)n[e]===t&&n[e+1]===t&&n.splice(e+1,1)},removeFromUnorderedArray:CF,removeFromArray:wo,removeAllFromUnorderedArray:q6,removeAllFromArray:X6,insertIntoArray:P_,insertArrayIntoArray:function QEe(n,t,e){if(null!=n&&null!=t)for(var i=t.length-1;i>=0;i--)P_(n,t[i],e)},moveInArray:bF,includes:Os,flatten:Z6,pushAll:wF,toStrings:function JEe(n){return n.map(A_)},forEachReverse:function eDe(n,t){if(null!=n)for(var e=n.length-1;e>=0;e--)t(n[e],e)}}),Q6="__ag_Grid_Stop_Propagation",iDe=["touchstart","touchend","touchmove","touchcancel","scroll"],SF={};function Rs(n){n[Q6]=!0}function Ps(n){return!0===n[Q6]}var n,xF=(n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof SF[e])return SF[e];var i=document.createElement(n[e]||"div");return SF[e="on"+e]=e in i});function Yx(n,t,e){for(var i=t;i;){var r=n.getDomData(i,e);if(r)return r;i=i.parentElement}return null}function qx(n,t){return!(!t||!n)&&eK(t).indexOf(n)>=0}function J6(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function eK(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():J6(t)}function tK(n,t,e,i){var r=Os(iDe,e);n&&n.addEventListener&&n.addEventListener(t,e,i,r?{passive:!0}:void 0)}var nDe=Object.freeze({__proto__:null,stopPropagationForAgGrid:Rs,isStopPropagationForAgGrid:Ps,isEventSupported:xF,getCtrlForEventTarget:Yx,isElementInEventPath:qx,createEventPath:J6,getEventPath:eK,addSafePassiveEventListener:tK}),dp=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},z=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Ll),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,i){var r=this;if(!this.destroyed){t instanceof HTMLElement?tK(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var o=function(){return t.removeEventListener(e,i),r.destroyFunctions=r.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.setupGridOptionListener=function(t,e){var i=this;this.gridOptionsService.addEventListener(t,e);var r=function(){return i.gridOptionsService.removeEventListener(t,e),i.destroyFunctions=i.destroyFunctions.filter(function(o){return o!==r}),null};return this.destroyFunctions.push(r),r},n.prototype.addManagedPropertyListener=function(t,e){return this.destroyed?function(){return null}:this.setupGridOptionListener(t,e)},n.prototype.addManagedPropertyListeners=function(t,e){var i=this;if(!this.destroyed){var r=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===i.lastChangeSetIdLookup[r])return;i.lastChangeSetIdLookup[r]=a.changeSet.id}e({type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source})};t.forEach(function(a){return i.setupGridOptionListener(a,o)})}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},n.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var i=this;return t&&t.forEach(function(r){return i.destroyBean(r,e)}),[]},n.EVENT_DESTROYED="destroyed",dp([C("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),dp([C("context")],n.prototype,"context",void 0),dp([C("eventService")],n.prototype,"eventService",void 0),dp([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),dp([C("localeService")],n.prototype,"localeService",void 0),dp([C("environment")],n.prototype,"environment",void 0),dp([Mi],n.prototype,"destroy",null),n}(),rDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xx=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},oDe=function(n,t){return function(e,i){t(e,i,n)}},aDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rDe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,i,r,o){var a=new kEe,s=this.extractExistingTreeData(r),l=s.existingCols,c=s.existingGroups;a.addExistingKeys(s.existingColKeys);var d=this.recursivelyCreateColumns(e,0,i,l,a,c,o),h=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+h);var p=this.balanceColumnTree(d,0,h,a);return this.columnUtils.depthFirstOriginalTreeSearch(null,p,function(m,g){m instanceof ei&&m.setupExpandable(),m.setOriginalParent(g)}),{columnTree:p,treeDept:h}},t.prototype.extractExistingTreeData=function(e){var i=[],r=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof ei)r.push(a);else{var l=a;o.push(l.getId()),i.push(l)}}),{existingCols:i,existingGroups:r,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,i){var r=this;return e.map(function(o){return r.createAutoGroupTreeItem(i,o)})},t.prototype.createAutoGroupTreeItem=function(e,i){for(var r=this.findDepth(e),o=i,a=r-1;a>=0;a--){var s=new ei(null,"FAKE_PATH_".concat(i.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return 0===r&&i.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var i=0,r=e;r&&r[0]&&r[0]instanceof ei;)i++,r=r[0].getChildren();return i},t.prototype.balanceColumnTree=function(e,i,r,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof ei){var c=l,u=this.balanceColumnTree(c.getChildren(),i+1,r,o);c.setChildren(u),a.push(c)}else{for(var d=void 0,h=void 0,p=r-1;p>=i;p--){var f=o.getUniqueKey(null,null),m=this.createMergedColGroupDef(null),g=new ei(m,f,!0,i);this.createBean(g),h&&h.setChildren([g]),h=g,d||(d=h)}if(d&&h){if(a.push(d),e.some(function(y){return y instanceof ei})){h.setChildren([l]);continue}h.setChildren(e);break}a.push(l)}}return a},t.prototype.findMaxDept=function(e,i){for(var r=i,o=0;o<e.length;o++){var a=e[o];if(a instanceof ei){var l=this.findMaxDept(a.getChildren(),i+1);r<l&&(r=l)}}return r},t.prototype.recursivelyCreateColumns=function(e,i,r,o,a,s,l){if(!e)return[];for(var c=new Array(e.length),u=0;u<c.length;u++){var d=e[u];c[u]=this.isColumnGroup(d)?this.createColumnGroup(r,d,i,o,a,s,l):this.createColumn(r,d,o,a,l)}return c},t.prototype.createColumnGroup=function(e,i,r,o,a,s,l){var c=this.createMergedColGroupDef(i),u=a.getUniqueKey(c.groupId||null,null),d=new ei(c,u,!1,r);this.createBean(d);var h=this.findExistingGroup(i,s);h&&s.splice(h.idx,1);var p=h?.group;p&&d.setExpanded(p.isExpanded());var f=this.recursivelyCreateColumns(c.children,r+1,e,o,a,s,l);return d.setChildren(f),d},t.prototype.createMergedColGroupDef=function(e){var i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,e),i},t.prototype.createColumn=function(e,i,r,o,a){var s=this.findExistingColumn(i,r);s&&r?.splice(s.idx,1);var l=s?.column;if(l){var u=this.addColumnDefaultAndTypes(i,l.getColId());l.setColDef(u,i,a),this.applyColumnState(l,u,a)}else{var c=o.getUniqueKey(i.colId,i.field);u=this.addColumnDefaultAndTypes(i,c),l=new bt(u,i,c,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,i,r){var o=dd(i.flex);if(void 0!==o&&e.setFlex(o),e.getFlex()<=0){var s=dd(i.width);if(null!=s)e.setActualWidth(s,r);else{var l=e.getActualWidth();e.setActualWidth(l,r)}}void 0!==i.sort&&e.setSort("asc"==i.sort||"desc"==i.sort?i.sort:void 0,r);var c=dd(i.sortIndex);void 0!==c&&e.setSortIndex(c);var u=jx(i.hide);void 0!==u&&e.setVisible(!u,r),void 0!==i.pinned&&e.setPinned(i.pinned)},t.prototype.findExistingColumn=function(e,i){if(i)for(var r=0;r<i.length;r++){var o=i[r].getUserProvidedColDef();if(o){if(null!=e.colId){if(i[r].getId()===e.colId)return{idx:r,column:i[r]};continue}if(null!=e.field){if(o.field===e.field)return{idx:r,column:i[r]};continue}if(o===e)return{idx:r,column:i[r]}}}},t.prototype.findExistingGroup=function(e,i){if(null!=e.groupId)for(var o=0;o<i.length;o++){var a=i[o];if(a.getColGroupDef()&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,i){var r={};aa(r,this.gridOptionsService.get("defaultColDef"),!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(r,e,i);a&&this.assignColumnTypes(a,r),aa(r,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&aa(r,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},t.prototype.assignColumnTypes=function(e,i){if(e.length){var r=Object.assign({},YEe);Lr(this.gridOptionsService.get("columnTypes")||{},function(a,s){a in r?console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden.")):(s.type&&We("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[a]=s)}),e.forEach(function(a){var s=r[a.trim()];s?aa(i,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Xx([C("columnUtils")],t.prototype,"columnUtils",void 0),Xx([C("dataTypeService")],t.prototype,"dataTypeService",void 0),Xx([oDe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),Xx([oe("columnFactory")],t)}(z),Tn=function(){function n(t,e,i,r){this.displayedChildren=[],this.localEventService=new Ll,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=r}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof n&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Ut(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(i){t===i&&(e=!0),i instanceof n&&i.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof bt?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof bt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(r){if(!(r instanceof n)||r.displayedChildren&&r.displayedChildren.length)switch(r.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(r);break;default:t.displayedChildren.push(r)}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),x=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",n.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",n.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",n.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",n.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",n.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_STATE_UPDATED="stateUpdated",n.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ROW_COUNT_READY="rowCountReady",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",n}(),iK=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var i,e=this.existingIds[t];return this.existingIds[t]=i="number"!=typeof e?0:e+1,i},n}(),lDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EF=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pd="ag-Grid-AutoColumn",cDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return lDe(t,n),t.prototype.createAutoGroupColumns=function(e){var i=this,r=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){r.push(i.createOneAutoGroupColumn(s,l))}):r.push(this.createOneAutoGroupColumn()),r},t.prototype.updateAutoGroupColumns=function(e,i){var r=this;e.forEach(function(o,a){return r.updateOneAutoGroupColumn(o,a,i)})},t.prototype.createOneAutoGroupColumn=function(e,i){var r;r=e?"".concat(pd,"-").concat(e.getId()):pd;var o=this.createAutoGroupColDef(r,e,i);o.colId=r;var a=new bt(o,null,r,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,i,r){var o=e.getColDef(),a="string"==typeof o.showRowGroup?o.showRowGroup:void 0,s=null!=a?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,i);e.setColDef(l,null,r),this.columnFactory.applyColumnState(e,l,r)},t.prototype.createAutoGroupColDef=function(e,i,r){var o=this.createBaseColDef(i);return aa(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.addColumnDefaultAndTypes(o,e),this.gridOptionsService.get("treeData")||Qe(o.field)&&Qe(o.valueGetter)&&Qe(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1),r&&r>0&&(o.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(o.valueGetter||null!=o.field)&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var i=this.gridOptionsService.get("autoGroupColumnDef"),o={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(i&&(i.cellRenderer||i.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},EF([C("columnModel")],t.prototype,"columnModel",void 0),EF([C("columnFactory")],t.prototype,"columnFactory",void 0),EF([oe("autoGroupColService")],t)}(z),uDe=/[&<>"']/g,dDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Mn(n,t){if(null==n)return null;var e=n.toString().toString();return t?e:e.replace(uDe,function(i){return dDe[i]})}function nK(n){return n&&null!=n?n.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" "):null}function rK(n){return n.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var fDe=Object.freeze({__proto__:null,utf8_encode:function hDe(n){var t=String.fromCharCode;function r(d,h){return t(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&10!==d){var p=d.toString(16).toUpperCase().padStart(4,"0");return"_x".concat(p,"_")}if(!(4294967168&d))return t(d);var f="";return 4294965248&d?4294901760&d?4292870144&d||(f=t(d>>18&7|240),f+=r(d,12),f+=r(d,6)):(function i(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}(d),f=t(d>>12&15|224),f+=r(d,6)):f=t(d>>6&31|192),f+t(63&d|128)}for(var a=function e(d){var h=[];if(!d)return[];for(var m,g,p=d.length,f=0;f<p;)(m=d.charCodeAt(f++))>=55296&&m<=56319&&f<p?56320==(64512&(g=d.charCodeAt(f++)))?h.push(((1023&m)<<10)+(1023&g)+65536):(h.push(m),f--):h.push(m);return h}(n),s=a.length,l=-1,u="";++l<s;)u+=o(a[l]);return u},capitalise:function pDe(n){return n[0].toUpperCase()+n.substring(1).toLowerCase()},escapeString:Mn,camelCaseToHumanText:nK,camelCaseToHyphenated:rK});function fd(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}var vDe=Object.freeze({__proto__:null,convertToMap:fd,mapById:function mDe(n,t){var e=new Map;return n.forEach(function(i){return e.set(t(i),i)}),e},keys:function gDe(n){var t=[];return n.forEach(function(e,i){return t.push(i)}),t}}),yDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wr=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_De=function(n,t){return function(e,i){t(e,i,n)}},la=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},ca=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},DF=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.viewportRowLeft={},e.viewportRowRight={},e.viewportRowCenter={},e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.changeEventsDispatching=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return yDe(t,n),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var i=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(r){return e.buildAutoGroupColumns(qm(r.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(r){return e.onAutoGroupColumnDefChanged(qm(r.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(r){return e.onSharedColDefChanged(qm(r.source))}),this.addManagedPropertyListener("pivotMode",function(r){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),qm(r.source))}),this.addManagedListener(this.eventService,x.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))},t.prototype.onAutoGroupColumnDefChanged=function(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)},t.prototype.onSharedColDefChanged=function(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,i){var r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,i)},t.prototype.recreateColumnDefs=function(e){this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,i){var r={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){r[a.getInstanceId()]=a}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(a){r[a.getInstanceId()]=null});var o=Object.values(r).filter(function(a){return null!=a});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,i){var r=this,o=e?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,l=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,i);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return r.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(i,a),this.extractPivotColumns(i,a),this.extractValueColumns(i,a),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(i)},t.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},t.prototype.dispatchNewColumnsLoaded=function(e){this.eventService.dispatchEvent({type:x.EVENT_NEW_COLUMNS_LOADED,source:e}),"gridInitializing"===e&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,i=this.primaryColumns;if(i){var r=i.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return r.indexOf(a)<0});this.gridColumns=ca(ca([],la(o),!1),la(r),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var i=e,r=[];null!=i;)r.push(i),i=this.getDisplayedColAfter(i);return r},t.prototype.checkViewportColumns=function(e){void 0===e&&(e=!1),null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:x.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})},t.prototype.setViewportPosition=function(e,i,r){void 0===r&&(r=!1),(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,i){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,i){if(Qe(this.secondaryColumns))return null;var r=this.getPrimaryColumn(i),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn;Qc(s,e)&&l===r&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var i,r;this.gridOptionsService.get("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Ut(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Ut(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===i,e),o.setFirstRightPinned(o===r,e)})},t.prototype.autoSizeColumns=function(e){var i=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return i.autoSizeColumns(e)});else{var r=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,c=void 0===l?"api":l;this.animationFrameService.flushAllFrames();for(var u=[],d=-1,h=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),p=a??h;0!==d;)d=0,this.actionOnGridColumns(r,function(f){if(u.indexOf(f)>=0)return!1;var m=i.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(m>0){var g=i.normaliseColumnWidth(f,m);f.setActualWidth(g,c),u.push(f),d++}return!0},c);p||this.autoSizeColumnGroupsByColumns(r,c,s),this.dispatchColumnResizedEvent(u,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,i,r,o){void 0===o&&(o=null),e&&e.length&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:i,source:r})},t.prototype.dispatchColumnChangedEvent=function(e,i,r){this.eventService.dispatchEvent({type:e,columns:i,column:i&&1==i.length?i[0]:null,source:r})},t.prototype.dispatchColumnMovedEvent=function(e){var i=e.movedColumns;this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MOVED,columns:i,column:i&&1===i.length?i[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,i){if(e.length){var r=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()});this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:r,source:i})}},t.prototype.dispatchColumnVisibleEvent=function(e,i){if(e.length){var r=1===e.length?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()});this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:r,source:i})}},t.prototype.autoSizeColumn=function(e,i,r){e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,i,r){var o,a,s,l,d,c=new Set;this.getGridColumns(e).forEach(function(_){for(var b=_.getParent();b&&b!=r;)b.isPadding()||c.add(b),b=b.getParent()});try{for(var p=DF(c),f=p.next();!f.done;f=p.next()){var m=f.value;try{for(var g=(s=void 0,DF(this.ctrlsService.getHeaderRowContainerCtrls())),v=g.next();!v.done&&!(d=v.value.getHeaderCtrlForColumn(m));v=g.next());}catch(_){s={error:_}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(i)}}catch(_){o={error:_}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return[]},t.prototype.autoSizeAllColumns=function(e,i){var r=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return r.autoSizeAllColumns(e,i)});else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:i,source:e})}},t.prototype.getColumnsFromTree=function(e){var i=[],r=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof bt?i.push(s):s instanceof ei&&r(s.getChildren())}};return r(e),i},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,i,r,o){for(var c,a=[],s=null,l=function(d){var y,h=i[d],p=i.length-d,f=Math.min(h.getColSpan(e),p),m=[h];if(f>1){for(var g=f-1,v=1;v<=g;v++)m.push(i[d+v]);d+=g}r?(y=!1,m.forEach(function(b){r(b)&&(y=!0)})):y=!0,y&&(0===a.length&&s&&o&&o(h)&&a.push(s),a.push(h)),s=h,c=d},u=0;u<i.length;u++)l(u),u=c;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(a){var s=a.getLeft();return ae(s)&&s>i.viewportLeft})},t.prototype.isColumnAtEdge=function(e,i){var r=this.getAllDisplayedColumns();if(!r.length)return!1;var a,o="first"===i;if(e instanceof Tn){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:Ut(s)}else a=e;return(o?r[0]:Ut(r))===a},t.prototype.getAriaColumnIndex=function(e){var i;return i=e instanceof Tn?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(i)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var i=e.getLeft()||0,r=i+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200;return!(i<o&&r<o||i>a&&r>a)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,i,r,o,a,s){var l=this;if(e&&!oa(e)){var c=!1;e.forEach(function(d){if(d){var h=l.getPrimaryColumn(d);if(h){if(r){if(i.indexOf(h)>=0)return;i.push(h)}else{if(i.indexOf(h)<0)return;wo(i,h)}o(h),c=!0}}}),c&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:a,columns:i,column:1===i.length?i[0]:null,source:s}))}},t.prototype.setRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,x.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),i)},t.prototype.setRowGroupActive=function(e,i,r){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,r),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([i],!1,r),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([i],!0,r))},t.prototype.addRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumns=function(e,i){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.addPivotColumns=function(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,i)},x.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPivotColumns=function(e,i){this.setPrimaryColumnList(e,this.pivotColumns,x.EVENT_COLUMN_PIVOT_CHANGED,!0,function(r,o){o.setPivotActive(r,i)},i)},t.prototype.removePivotColumns=function(e,i){this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,i)},x.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPrimaryColumnList=function(e,i,r,o,a,s){var l=this;if(this.gridColumns){var c=new Map;i.forEach(function(u,d){return c.set(u,d)}),i.length=0,ae(e)&&e.forEach(function(u){var d=l.getPrimaryColumn(u);d&&i.push(d)}),i.forEach(function(u,d){var h=c.get(u);void 0!==h?o&&h!==d||c.delete(u):c.set(u,0)}),(this.primaryColumns||[]).forEach(function(u){var d=i.indexOf(u)>=0;a(d,u)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(r,ca([],la(c.keys()),!1),s)}},t.prototype.setValueColumns=function(e,i){this.setPrimaryColumnList(e,this.valueColumns,x.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),i)},t.prototype.setValueActive=function(e,i,r){if(e!==i.isValueActive()&&(i.setValueActive(e,r),e&&!i.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}},t.prototype.addValueColumns=function(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),x.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.removeValueColumns=function(e,i){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),x.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.normaliseColumnWidth=function(e,i){var r=e.getMinWidth();ae(r)&&i<r&&(i=r);var o=e.getMaxWidth();return ae(o)&&e.isGreaterThanMax(i)&&(i=o),i},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,i,r,o){var a=this,s=[];e.forEach(function(l){var c=a.getPrimaryOrGridColumn(l.key);if(c&&(s.push({width:l.newWidth,ratios:[1],columns:[c]}),"shift"===a.gridOptionsService.get("colResizeDefault")&&(i=!i),i)){var d=a.getDisplayedColAfter(c);if(!d)return;var h=c.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[d]})}}),0!==s.length&&this.resizeColumnSets({resizeSets:s,finished:r,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.width,o=0,a=0,s=!0;return e.columns.forEach(function(u){var d=u.getMinWidth();o+=d||0;var h=u.getMaxWidth();ae(h)&&h>0?a+=h:s=!1}),r>=o&&(!s||r<=a)},t.prototype.resizeColumnSets=function(e){var i=this,r=e.resizeSets,o=e.finished,a=e.source;if(!r||r.every(function(f){return i.checkMinAndMaxWidthsForSet(f)})){var c=[],u=[];r.forEach(function(f){var m=f.width,g=f.columns,v=f.ratios,y={},_={};g.forEach(function(P){return u.push(P)});for(var b=!0,w=0,E=function(){if(++w>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";b=!1;var P=[],I=0,k=m;g.forEach(function(B,Y){_[B.getId()]?k-=y[B.getId()]:(P.push(B),I+=v[Y])});var L=1/I;P.forEach(function(B,Y){var fe;Y===P.length-1?fe=k:(fe=Math.round(v[Y]*m*L),k-=fe);var W=B.getMinWidth(),$=B.getMaxWidth();ae(W)&&fe<W?(fe=W,_[B.getId()]=!0,b=!0):ae($)&&$>0&&fe>$&&(fe=$,_[B.getId()]=!0,b=!0),y[B.getId()]=fe})};b&&"break"!==E(););g.forEach(function(P){var I=y[P.getId()];P.getActualWidth()!==I&&(P.setActualWidth(I,a),c.push(P))})});var d=c.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:u,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var p=u.concat(h);(d||o)&&this.dispatchColumnResizedEvent(p,o,a,h)}else o&&this.dispatchColumnResizedEvent(r&&r.length>0?r[0].columns:null,o,a)},t.prototype.setColumnAggFunc=function(e,i,r){if(e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(i),this.dispatchColumnChangedEvent(x.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},t.prototype.moveRowGroupColumn=function(e,i,r){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,i);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,o),this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:1===a.length?a[0]:null,source:r})}},t.prototype.moveColumns=function(e,i,r,o){if(void 0===o&&(o=!0),this.gridColumns){if(this.columnAnimationService.start(),i>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var a=this.getGridColumns(e);!this.doesMovePassRules(a,i)||(bF(this.gridColumns,a,i),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:a,source:r,toIndex:i,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,i){var r=this.getProposedColumnOrder(e,i);return this.doesOrderPassRules(r)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,i){var r=this.gridColumns.slice();return bF(r,e,i),r},t.prototype.sortColumnsLikeGridColumns=function(e){var i=this;!e||e.length<=1||e.filter(function(o){return i.gridColumns.indexOf(o)<0}).length>0||e.sort(function(o,a){return i.gridColumns.indexOf(o)-i.gridColumns.indexOf(a)})},t.prototype.doesMovePassLockedPositions=function(e){var i=0,r=!0;return e.forEach(function(a){var s=function(a){return a?!0===a||"left"===a?0:2:1}(a.getColDef().lockPosition);s<i&&(r=!1),i=s}),r},t.prototype.doesMovePassMarryChildren=function(e){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof ei){var o=r,a=o.getColGroupDef();if(a&&a.marryChildren){var l=[];o.getLeafColumns().forEach(function(p){var f=e.indexOf(p);l.push(f)}),Math.max.apply(Math,l)-Math.min.apply(Math,l)>o.getLeafColumns().length-1&&(i=!1)}}}),i},t.prototype.moveColumnByIndex=function(e,i,r){this.gridColumns&&this.moveColumns([this.gridColumns[e]],i,r)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(r,o){return e.gridColumns.indexOf(r)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&i.sort(function(r,o){return e.lastPrimaryOrder.indexOf(r)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==r)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=r,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return null!==(e=this.gridColumns)&&void 0!==e?e:[]},t.prototype.isEmpty=function(){return oa(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return oa(this.rowGroupColumns)},t.prototype.setColumnsVisible=function(e,i,r){void 0===i&&(i=!1),this.applyColumnState({state:e.map(function(o){return{colId:"string"==typeof o?o:o.getColId(),hide:!i}})},r)},t.prototype.setColumnsPinned=function(e,i,r){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");var o;this.columnAnimationService.start(),o=!0===i||"left"===i?"left":"right"===i?"right":null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o&&(a.setPinned(o),!0)},r,function(){return{type:x.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r}}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,i,r,o){var a=this;if(!oa(e)){var s=[];if(e.forEach(function(c){if(c){var u=a.getGridColumn(c);u&&!1!==i(u)&&s.push(u)}}),s.length&&(this.updateDisplayedColumns(r),ae(o)&&o)){var l=o();l.columns=s,l.column=1===s.length?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r>0?i[r-1]:null},t.prototype.getDisplayedColAfter=function(e){var i=this.getAllDisplayedColumns(),r=i.indexOf(e);return r<i.length-1?i[r+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,i){for(var r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a="After"===i?Ut(o):o[0],s="getDisplayedCol".concat(i);;){var l=this[s](a);if(!l)return null;var c=this.getColumnGroupAtLevel(l,r);if(c!==e)return c}},t.prototype.getColumnGroupAtLevel=function(e,i){for(var r=e.getParent();!(r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel()<=i);)r=r.getParent();return r},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=null!=e.getSort()?e.getSort():null,s=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:r,flex:l}},t.prototype.getColumnState=function(){if(Qe(this.primaryColumns)||!this.isAlive())return[];var i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i},t.prototype.orderColumnStateList=function(e){var i=fd(this.gridColumns.map(function(r,o){return[r.getColId(),o]}));e.sort(function(r,o){return(i.has(r.colId)?i.get(r.colId):-1)-(i.has(o.colId)?i.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){var i=this;if(!oa(this.primaryColumns)){var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),r&&(l=l.concat(r)),l.forEach(function(c){var u=i.getColumnStateFromColDef(c);Qe(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=a++),Qe(u.pivotIndex)&&u.pivot&&(u.pivotIndex=s++),o.push(u)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var i=function(g,v){return g??v??null},r=e.getColDef(),o=i(r.sort,r.initialSort),a=i(r.sortIndex,r.initialSortIndex),s=i(r.hide,r.initialHide),l=i(r.pinned,r.initialPinned),c=i(r.width,r.initialWidth),u=i(r.flex,r.initialFlex),d=i(r.rowGroupIndex,r.initialRowGroupIndex),h=i(r.rowGroup,r.initialRowGroup);null==d&&(null==h||0==h)&&(d=null,h=null);var p=i(r.pivotIndex,r.initialPivotIndex),f=i(r.pivot,r.initialPivot);null==p&&(null==f||0==f)&&(p=null,f=null);var m=i(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:c,flex:u,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:m}},t.prototype.applyColumnState=function(e,i){var r=this;if(oa(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(c,u,d){var h=r.compareColumnStatesAndDispatchEvents(i);r.autoGroupsNeedBuilding=!0;var p=u.slice(),f={},m={},g=[],v=[],y=0,_=r.rowGroupColumns.slice(),b=r.pivotColumns.slice();c.forEach(function(P){var I=P.colId||"";if(I.startsWith(pd))return g.push(P),void v.push(P);var L=d(I);L?(r.syncColumnWithStateItem(L,P,e.defaultState,f,m,!1,i),wo(p,L)):(v.push(P),y+=1)});var w=function(P){return r.syncColumnWithStateItem(P,null,e.defaultState,f,m,!1,i)};p.forEach(w);var E=function(P,I,k,L){var B=P[k.getId()],Y=P[L.getId()],ne=null!=B,fe=null!=Y;if(ne&&fe)return B-Y;if(ne)return-1;if(fe)return 1;var W=I.indexOf(k),$=I.indexOf(L),X=W>=0;return X&&$>=0?W-$:X?-1:1};r.rowGroupColumns.sort(E.bind(r,f,_)),r.pivotColumns.sort(E.bind(r,m,b)),r.updateGridColumns();var M=r.groupAutoColumns?r.groupAutoColumns.slice():[];return g.forEach(function(P){var I=r.getAutoColumn(P.colId);wo(M,I),r.syncColumnWithStateItem(I,P,e.defaultState,null,null,!0,i)}),M.forEach(w),r.applyOrderAfterApplyState(e),r.updateDisplayedColumns(i),r.dispatchEverythingChanged(i),h(),{unmatchedAndAutoStates:v,unmatchedCount:y}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(c){return r.getPrimaryColumn(c)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||ae(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(c){return r.getSecondaryColumn(c)}).unmatchedCount),this.columnAnimationService.finish(),0===l},t.prototype.applyOrderAfterApplyState=function(e){var i=this;if(e.applyOrder&&e.state){var r=[],o={};e.state.forEach(function(s){if(s.colId&&!o[s.colId]){var l=i.gridColumnsMap[s.colId];l&&(r.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId();null!=o[l]||(l.startsWith(pd)?P_(r,s,a++):r.push(s))}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=r}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var i=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=i.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,_,b,w){if(!Qc(_.map(w),b.map(w))){var I=new Set(_);b.forEach(function(B){I.delete(B)||I.add(B)});var k=ca([],la(I),!1);i.eventService.dispatchEvent({type:y,columns:k,column:1===k.length?k[0]:null,source:e})}},c=function(y){var _=[];return s.forEach(function(b){var w=a[b.getColId()];w&&y(w,b)&&_.push(b)}),_},u=function(y){return y.getColId()};l(x.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,i.rowGroupColumns,u),l(x.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,i.pivotColumns,u);var h=c(function(y,_){var b=null!=y.aggFunc,w=b!=_.isValueActive(),E=b&&y.aggFunc!=_.getAggFunc();return w||E});h.length>0&&i.dispatchColumnChangedEvent(x.EVENT_COLUMN_VALUE_CHANGED,h,e),i.dispatchColumnResizedEvent(c(function(y,_){return y.width!=_.getActualWidth()}),!0,e),i.dispatchColumnPinnedEvent(c(function(y,_){return y.pinned!=_.getPinned()}),e),i.dispatchColumnVisibleEvent(c(function(y,_){return y.hide==_.isVisible()}),e);var v=c(function(y,_){return y.sort!=_.getSort()||y.sortIndex!=_.getSortIndex()});v.length>0&&i.sortController.dispatchSortChangedEvents(e,v),i.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,i){if(e&&0!=e.length){for(var r=i(e[0]),o=1;o<e.length;o++)if(r!==i(e[o]))return;return r}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,i){var r=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),c=o.filter(function(d){return s[d.colId]}),u=[];c.forEach(function(d,h){var p=l&&l[h];if(p&&p.colId!==d.colId){var f=r.getGridColumn(p.colId);f&&u.push(f)}}),u.length&&this.dispatchColumnMovedEvent({movedColumns:u,source:i,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,i,r,o,a,s,l){if(e){var c=function(P,I){var k={value1:void 0,value2:void 0},L=!1;return i&&(void 0!==i[P]&&(k.value1=i[P],L=!0),ae(I)&&void 0!==i[I]&&(k.value2=i[I],L=!0)),!L&&r&&(void 0!==r[P]&&(k.value1=r[P]),ae(I)&&void 0!==r[I]&&(k.value2=r[I])),k},u=c("hide").value1;void 0!==u&&e.setVisible(!u,l);var d=c("pinned").value1;void 0!==d&&e.setPinned(d);var h=this.columnUtils.calculateColMinWidth(e.getColDef()),p=c("flex").value1;if(void 0!==p&&e.setFlex(p),null==p){var f=c("width").value1;null!=f&&null!=h&&f>=h&&e.setActualWidth(f,l)}var m=c("sort").value1;void 0!==m&&e.setSort("desc"===m||"asc"===m?m:void 0,l);var g=c("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),!s&&e.isPrimary()){var v=c("aggFunc").value1;void 0!==v&&("string"==typeof v?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(ae(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),wo(this.valueColumns,e))));var y=c("rowGroup","rowGroupIndex"),_=y.value1,b=y.value2;(void 0!==_||void 0!==b)&&("number"==typeof b||_?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&"number"==typeof b&&(o[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),wo(this.rowGroupColumns,e)));var w=c("pivot","pivotIndex"),E=w.value1,M=w.value2;(void 0!==E||void 0!==M)&&("number"==typeof M||E?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&"number"==typeof M&&(a[e.getId()]=M)):e.isPivotActive()&&(e.setPivotActive(!1,l),wo(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,i){var r=[];return e&&e.forEach(function(o){var a=i(o);a&&r.push(a)}),r},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,i,r){if(!e||!r)return null;if("string"==typeof e&&r[e])return r[e];for(var o=0;o<i.length;o++)if(this.columnsMatch(i[o],e))return i[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var i=e.getColDef().showRowGroup;if(!i)return null;if(!0===i)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(i);return r?[r]:null},t.prototype.getAutoColumn=function(e){var i=this;return this.groupAutoColumns&&ae(this.groupAutoColumns)&&!Qe(this.groupAutoColumns)&&this.groupAutoColumns.find(function(r){return i.columnsMatch(r,e)})||null},t.prototype.columnsMatch=function(e,i){var r=e===i,o=e.getColDef()===i,a=e.getColId()==i;return r||o||a},t.prototype.getDisplayNameForColumn=function(e,i,r){if(void 0===r&&(r=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,i);return r?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,i,r){var o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,e,i,r):null},t.prototype.getDisplayNameForColumnGroup=function(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)},t.prototype.getHeaderName=function(e,i,r,o,a){var s=e.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:e,column:i,columnGroup:r,providedColumnGroup:o,location:a});return"function"==typeof s?s(l):"string"==typeof s?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?nK(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,i){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return i;var s,r=e.getColDef().pivotValueColumn,a=null;if(ae(r)){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,c=void 0!==e.getColDef().pivotTotalColumnIds;if(l&&!c)return i;a=r?r.getAggFunc():null,s=!0}else{var u=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();u&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var h="string"==typeof a?a:"func",f=this.localeService.getLocaleTextFunc()(h,h);return"".concat(f,"(").concat(i,")")}return i},t.prototype.getColumnGroup=function(e,i){if(!e)return null;if(e instanceof Tn)return e;var r=this.getAllDisplayedTrees(),o="number"==typeof i,a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(s){if(s instanceof Tn){var l=s;(o?e===l.getGroupId()&&i===l.getPartId():e===l.getGroupId())&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(r,o){return r.setValueActive(o,e)},function(){},function(){},function(r){var o=r.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},function(r){return null!=r.initialAggFunc&&""!=r.initialAggFunc}),this.valueColumns.forEach(function(r){var o=r.getColDef();null!=o.aggFunc&&""!=o.aggFunc?r.setAggFunc(o.aggFunc):r.getAggFunc()||r.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(r,o){return r.setRowGroupActive(o,e)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},t.prototype.extractColumns=function(e,i,r,o,a,s,l){void 0===e&&(e=[]),void 0===i&&(i=[]);var c=[],u=[];(this.primaryColumns||[]).forEach(function(p){var f=e.indexOf(p)<0,m=p.getColDef(),g=jx(s(m)),v=jx(l(m)),y=dd(o(m)),_=dd(a(m));(void 0!==g?g:void 0!==y?null!==y&&y>=0:f?void 0!==v?v:void 0!==_&&null!=_&&_>=0:i.indexOf(p)>=0)&&((f?null!=y||null!=_:null!=y)?c.push(p):u.push(p))});var d=function(p){var f=o(p.getColDef()),m=a(p.getColDef());return f??m};c.sort(function(p,f){var m=d(p),g=d(f);return m===g?0:m<g?-1:1});var h=[].concat(c);return i.forEach(function(p){u.indexOf(p)>=0&&h.push(p)}),u.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),i.forEach(function(p){h.indexOf(p)<0&&r(p,!1)}),h.forEach(function(p){i.indexOf(p)<0&&r(p,!0)}),h},t.prototype.extractPivotColumns=function(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(r,o){return r.setPivotActive(o,e)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(this.primaryColumnTree){var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof ei){var o=r.getColGroupDef(),a={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};i.push(a)}}),this.setColumnGroupState(i,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof ei&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,i){var r=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];e.forEach(function(s){var c=s.open,u=r.getProvidedColumnGroup(s.groupId);u&&u.isExpanded()!==c&&(r.logger.log("columnGroupOpened("+u.getGroupId()+","+c+")"),u.setExpanded(c),o.push(u))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),o.length&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===ei.length?o[0]:void 0,columnGroups:o}),this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,i,r){var o;o=e instanceof ei?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:i}],r)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof ei&&r.getId()===e&&(i=r)}),i},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&Qe(this.secondaryColumns)?this.gridColumns.filter(function(r){var o=e.groupAutoColumns&&Os(e.groupAutoColumns,r),a=e.valueColumns&&Os(e.valueColumns,r);return o||a}):this.gridColumns.filter(function(r){return e.groupAutoColumns&&Os(e.groupAutoColumns,r)||r.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var i=!1;return e.forEach(function(r){ae(r.getColDef().colSpan)&&(i=!0)}),i},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(function(r){var o=r.getColDef(),a=o.showRowGroup;o&&ae(a)&&(e.groupDisplayColumns.push(r),"string"==typeof a?e.groupDisplayColumnsMap[a]=r:!0===a&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=r}))})},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return ae(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,i){var r=this;if(this.gridColumns){var o=e&&e.length>0;if(o||!Qe(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,i);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return r.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var i=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(i||r){var o=function(a){a.forEach(function(s){if(ae(s.children)){var c=s;r&&r(c),o(c.children)}else i&&i(s)})};e&&o(e)}},t.prototype.updateGridColumns=function(){var a,e=this,i=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){var o=fd(this.groupAutoColumns.map(function(c){return[c,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(c){return!o.has(c)}),this.lastPrimaryOrder=ca(ca([],la(this.groupAutoColumns),!1),la(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(c){return!o.has(c)}),this.lastSecondaryOrder=ca(ca([],la(this.groupAutoColumns),!1),la(this.lastSecondaryOrder),!1))}if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(c){return void 0!==e.gridColumnsMap[c.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return e.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),Qc(i,this.gridBalancedTree)||this.eventService.dispatchEvent({type:x.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(i){return i.isAutoHeight()}).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||We("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))},t.prototype.orderGridColsLike=function(e){if(!Qe(e)){var i=fd(e.map(function(u,d){return[u,d]})),r=!0;if(this.gridColumns.forEach(function(u){i.has(u)&&(r=!1)}),!r){var o=fd(this.gridColumns.map(function(u){return[u,!0]})),a=e.filter(function(u){return o.has(u)}),s=fd(a.map(function(u){return[u,!0]})),l=this.gridColumns.filter(function(u){return!s.has(u)}),c=a.slice();l.forEach(function(u){var d=u.getOriginalParent();if(d){for(var h=[];!h.length&&d;)d.getLeafColumns().forEach(function(g){var v=c.indexOf(g)>=0,y=h.indexOf(g)<0;v&&y&&h.push(g)}),d=d.getOriginalParent();if(h.length){var f=h.map(function(g){return c.indexOf(g)}),m=Math.max.apply(Math,ca([],la(f),!1));P_(c,u,m+1)}else c.push(u)}else c.push(u)}),this.gridColumns=c}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,i=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(i=i.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?i:i.filter(function(r){return r.isVisible()||r.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var i=[],r=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;"right"===s?o.push(a):"left"===s||!0===s?i.push(a):r.push(a)}),ca(ca(ca([],la(i),!1),la(r),!1),la(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(Qe(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinColumnsAriaOrder=function(){var e,i,r=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=DF(r),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.getPinned();d?!0===d||"left"===d?o.push(u):s.push(u):a.push(u)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}this.ariaOrderColumns=o.concat(a).concat(s)},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var i=this;if(this.primaryColumns){var r=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=i.getWidthOfColsInList(a);a.forEach(function(c){s-=c.getActualWidth(),c.setLeft(s,e)})}else{var l=0;a.forEach(function(c){c.setLeft(l,e),l+=c.getActualWidth()})}q6(r,a)}),r.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(i){i instanceof Tn&&i.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(r){r instanceof bt&&i.push(r)})},t.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||0===this.viewportRight},t.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,i){var r;switch(e){case"left":r=this.viewportRowLeft[i];break;case"right":r=this.viewportRowRight[i];break;default:r=this.viewportRowCenter[i]}return Qe(r)&&(r=[]),r},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(r){return e[r.getId()]=!0});var i=function(r,o,a){for(var s=!1,l=0;l<r.length;l++){var c=r[l],u=!1;if(c instanceof bt)u=!0===e[c.getId()];else{var h=c.getDisplayedChildren();h&&(u=i(h,o,a+1))}u&&(s=!0,o[a]||(o[a]=[]),o[a].push(c))}return s};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var i=this.viewportColumns.map(function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")}).join("#"),r=this.viewportColumnsHash!==i;return r&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),r},t.prototype.refreshFlexedColumns=function(e){var i;void 0===e&&(e={});var r=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols)for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}var c=0,u=[],d=0,h=0;for(l=0;l<this.displayedColumnsCenter.length;l++)this.displayedColumnsCenter[l].getFlex()&&l>o?(u.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=null!==(i=this.displayedColumnsCenter[l].getMinWidth())&&void 0!==i?i:0):c+=this.displayedColumnsCenter[l].getActualWidth();if(!u.length)return[];var f=[];c+d>this.flexViewportWidth&&(u.forEach(function(P){var I;return P.setActualWidth(null!==(I=P.getMinWidth())&&void 0!==I?I:0,r)}),f=u,u=[]);var g,m=[];e:for(;;){var v=(g=this.flexViewportWidth-c)/h;for(l=0;l<u.length;l++){var y=u[l],_=v*y.getFlex(),b=0,w=y.getMinWidth(),E=y.getMaxWidth();if(ae(w)&&_<w?b=w:ae(E)&&_>E&&(b=E),b){y.setActualWidth(b,r),CF(u,y),h-=y.getFlex(),f.push(y),c+=y.getActualWidth();continue e}m[l]=Math.round(_)}break}var M=g;return u.forEach(function(P,I){P.setActualWidth(Math.min(m[I],M),r),f.push(P),M-=m[I]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,r,u),u},t.prototype.sizeColumnsToFit=function(e,i,r,o){var s,l,c,u,d,a=this;if(void 0===i&&(i="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,i,r,o)});else{var h={};o&&(null===(s=o?.columnLimits)||void 0===s||s.forEach(function($){var X=$.key,ce=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}($,["key"]);h["string"==typeof X?X:X.getColId()]=ce}));var p=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(p);if(!(e<=0||!p.length||f)){var m=[],g=[];p.forEach(function($){!0===$.getColDef().suppressSizeToFit?g.push($):m.push($)});var v=m.slice(0),y=!1,_=function($){wo(m,$),g.push($)};for(m.forEach(function($){var X,ce;$.resetActualWidth(i);var Ee=h?.[$.getId()],ke=null!==(X=Ee?.minWidth)&&void 0!==X?X:o?.defaultMinWidth,Ae=null!==(ce=Ee?.maxWidth)&&void 0!==ce?ce:o?.defaultMaxWidth,nt=$.getActualWidth();"number"==typeof ke&&nt<ke?$.setActualWidth(ke,i,!0):"number"==typeof Ae&&nt>Ae&&$.setActualWidth(Ae,i,!0)});!y;){y=!0;var b=e-this.getWidthOfColsInList(g);if(b<=0)m.forEach(function($){var X,ce,Ee=null!==(ce=null===(X=h?.[$.getId()])||void 0===X?void 0:X.minWidth)&&void 0!==ce?ce:o?.defaultMinWidth;"number"!=typeof Ee?$.setMinimum(i):$.setActualWidth(Ee,i,!0)});else for(var w=b/this.getWidthOfColsInList(m),E=b,M=m.length-1;M>=0;M--){var P=m[M],I=h?.[P.getId()],k=null!==(l=I?.minWidth)&&void 0!==l?l:o?.defaultMinWidth,L=null!==(c=I?.maxWidth)&&void 0!==c?c:o?.defaultMaxWidth,B=null!==(u=P.getMinWidth())&&void 0!==u?u:0,Y=null!==(d=P.getMaxWidth())&&void 0!==d?d:Number.MAX_VALUE,ne="number"==typeof k&&k>B?k:P.getMinWidth(),fe="number"==typeof L&&L<Y?L:P.getMaxWidth(),W=Math.round(P.getActualWidth()*w);ae(ne)&&W<ne?(W=ne,_(P),y=!1):ae(fe)&&W>fe?(W=fe,_(P),y=!1):0===M&&(W=E),P.setActualWidth(W,i,!0),E-=W}}v.forEach(function($){$.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(v,!0,i)}}},t.prototype.buildDisplayedTrees=function(e){var i=[],r=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":i.push(s);break;case"right":r.push(s);break;default:o.push(s)}});var a=new iK;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var i=function(r){e.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(i){i instanceof Tn&&i.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||r||i)this.groupAutoColumns=null;else{var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||e)return this.groupAutoColumns=s,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")},t.prototype.autoColsEqual=function(e,i){return Qc(e,i,function(r,o){return r.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(i,r){return i+r.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(var r=0;r<i.length;r++){var o=this[i[r]]();if(o.length)return e?Ut(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,i){e.setAutoHeaderHeight(i)&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,ca([e],la(i),!1))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.get("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,i){var r=e.getUserProvidedColDef();if(!r)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(o,r,i),!0},t.prototype.isColumnGroupingLocked=function(e){var i=this.gridOptionsService.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===i)&&(-1===i||i>this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()}))},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,i){var r=this,o={},a=function(s,l,c,u,d,h){if(!l.length||!r.primaryColumns)return[];for(var p=Object.keys(s),f=new Set(p),m=new Set(p),g=new Set(l.map(function(k){var L=k.getColId();return m.delete(L),L}).concat(p)),v=[],y={},_=0,b=0;b<r.primaryColumns.length;b++){var w=r.primaryColumns[b].getColId();g.has(w)&&(v.push(w),y[w]=_++)}var E=1e3,M=!1,P=0,I=function(k){for(var L=y[k],B=P;B<L;B++){var Y=v[B];m.has(Y)&&(s[Y][d]=E++,m.delete(Y))}P=L};l.forEach(function(k){var L=k.getColId();if(f.has(L))I(L),s[L][d]=E++;else{var B=k.getColDef();(null===B[d]||void 0===B[d]&&null==B[h])&&(M||(B[c]||void 0===B[c]&&B[u]?I(L):(m.forEach(function(fe){s[fe][d]=E+y[fe]}),E+=v.length,M=!0)),o[L]||(o[L]={colId:L}),o[L][d]=E++)}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(i,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,i=this.gridOptionsService.get("autoSizeStrategy");if(i){var r=i.type;setTimeout(function(){if("fitGridWidth"===r){var o=i.columnLimits,a=i.defaultMinWidth,s=i.defaultMaxWidth,l=o?.map(function(c){return{key:c.colId,minWidth:c.minWidth,maxWidth:c.maxWidth}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else"fitProvidedWidth"===r&&e.sizeColumnsToFit(i.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,i=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"===i?.type){var r=i.colIds,o=i.skipHeader;setTimeout(function(){r?e.autoSizeColumns({columns:r,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns("autosizeColumns",o)})}},wr([C("expressionService")],t.prototype,"expressionService",void 0),wr([C("columnFactory")],t.prototype,"columnFactory",void 0),wr([C("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),wr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),wr([C("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),wr([C("columnUtils")],t.prototype,"columnUtils",void 0),wr([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),wr([C("autoGroupColService")],t.prototype,"autoGroupColService",void 0),wr([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),wr([gt("valueCache")],t.prototype,"valueCache",void 0),wr([gt("animationFrameService")],t.prototype,"animationFrameService",void 0),wr([C("sortController")],t.prototype,"sortController",void 0),wr([C("columnDefFactory")],t.prototype,"columnDefFactory",void 0),wr([H],t.prototype,"init",null),wr([Mi],t.prototype,"destroyColumns",null),wr([_De(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),wr([oe("columnModel")],t)}(z);function qm(n){return"gridOptionsUpdated"===n?"gridOptionsChanged":n}var wDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return wDe(t,n),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var i=this.calculateColMinWidth(e),r=this.calculateColMaxWidth(e),a=dd(e.width),s=dd(e.initialWidth);return Math.max(Math.min(null!=a?a:null!=s?s:200,r),i)},t.prototype.getOriginalPathForColumn=function(e,i){var r=[],o=!1,a=function(s,l){for(var c=0;c<s.length;c++){if(o)return;var u=s[c];u instanceof ei?(a(u.getChildren(),l+1),r[l]=u):u===e&&(o=!0)}};return a(i,0),o?r:null},t.prototype.depthFirstOriginalTreeSearch=function(e,i,r){var o=this;i&&i.forEach(function(a){a instanceof ei&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),r),r(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,i){var r=this;e&&e.forEach(function(o){o instanceof Tn&&r.depthFirstAllColumnTreeSearch(o.getChildren(),i),i(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,i){var r=this;e&&e.forEach(function(o){o instanceof Tn&&r.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),i),i(o)})},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnUtils")],t),t}(z),EDe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TDe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return EDe(t,n),t.prototype.createDisplayedGroups=function(e,i,r,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],c=e,u=function(){var d=c;c=[];for(var h=0,p=function(w){var E=h;h=w;var M=d[E],I=(M instanceof Tn?M.getProvidedColumnGroup():M).getOriginalParent();if(null!=I){var L=a.createColumnGroup(I,i,s,r);for(k=E;k<w;k++)L.addChild(d[k]);c.push(L)}else for(var k=E;k<w;k++)l.push(d[k])},f=1;f<d.length;f++){var m=d[f],v=(m instanceof Tn?m.getProvidedColumnGroup():m).getOriginalParent(),y=d[h];v!==(y instanceof Tn?y.getProvidedColumnGroup():y).getOriginalParent()&&p(f)}h<d.length&&p(d.length)};c.length;)u();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,i,r,o){var a=e.getGroupId(),s=i.getInstanceIdForKey(a),c=r[Tn.createUniqueId(a,s)];return c&&c.getProvidedColumnGroup()!==e&&(c=null),ae(c)?c.reset():(c=new Tn(e,a,s,o),this.context.createBean(c)),c},t.prototype.mapOldGroupsById=function(e){var i={},r=function(o){o.forEach(function(a){if(a instanceof Tn){var s=a;i[a.getUniqueId()]=s,r(s.getChildren())}})};return e&&r(e),i},t.prototype.setupParentsIntoColumns=function(e,i){var r=this;e.forEach(function(o){if(o.setParent(i),o instanceof Tn){var a=o;r.setupParentsIntoColumns(a.getChildren(),a)}})},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("displayedGroupCreator")],t),t}(z),md=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},gd=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},MDe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Nl=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=gd(gd([],md(n.FUNCTIONAL_PROPERTIES),!1),md(n.CALLBACK_PROPERTIES),!1),n.ALL_PROPERTIES=gd(gd(gd(gd(gd(gd([],md(n.ARRAY_PROPERTIES),!1),md(n.OBJECT_PROPERTIES),!1),md(n.STRING_PROPERTIES),!1),md(n.NUMBER_PROPERTIES),!1),md(n.FUNCTION_PROPERTIES),!1),md(n.BOOLEAN_PROPERTIES),!1),n}(),TF=function(){return TF=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},TF.apply(this,arguments)},oK=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},aK=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Zx=function(){function n(){}var t;return n.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},n.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},n.combineAttributesAndGridOptions=function(e,i){"object"!=typeof e&&(e={});var r=TF({},e);return n.getGridOptionKeys().forEach(function(a){var s=i[a];typeof s<"u"&&s!==n.VUE_OMITTED_PROPERTY&&(r[a]=s)}),r},n.processOnChange=function(e,i){if(e){var r={},o=!1;if(Object.keys(e).filter(function(s){return n.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){r[s]=e[s],o=!0}),o){i.__internalUpdateGridOptions(r);var a={type:x.EVENT_COMPONENT_STATE_CHANGED};Lr(r,function(s,l){a[s]=l}),i.dispatchEvent(a)}}},t=n,n.EVENTS=lp(x),n.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",n.EXCLUDED_INTERNAL_EVENTS=[x.EVENT_SCROLLBAR_WIDTH_CHANGED,x.EVENT_CHECKBOX_CHANGED,x.EVENT_HEIGHT_SCALE_CHANGED,x.EVENT_BODY_HEIGHT_CHANGED,x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,x.EVENT_SCROLL_VISIBILITY_CHANGED,x.EVENT_COLUMN_HOVER_CHANGED,x.EVENT_FLASH_CELLS,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,x.EVENT_DISPLAYED_ROWS_CHANGED,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,x.EVENT_POPUP_TO_FRONT,x.EVENT_STORE_UPDATED,x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,x.EVENT_FILL_START,x.EVENT_FILL_END,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,x.EVENT_FULL_WIDTH_ROW_FOCUSED,x.EVENT_HEADER_HEIGHT_CHANGED,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,x.EVENT_CELL_FOCUS_CLEARED,x.EVENT_GRID_STYLES_CHANGED,x.EVENT_FILTER_DESTROYED,x.EVENT_ROW_DATA_UPDATE_STARTED,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,x.EVENT_DATA_TYPES_INFERRED,x.EVENT_FIELD_VALUE_CHANGED,x.EVENT_FIELD_PICKER_VALUE_SELECTED,x.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,x.EVENT_SUPPRESS_MENU_HIDE_CHANGED,x.EVENT_SUPPRESS_FIELD_DOT_NOTATION,x.EVENT_ROW_COUNT_READY,x.EVENT_SIDE_BAR_UPDATED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(e){return!Os(n.EXCLUDED_INTERNAL_EVENTS,e)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(e){return n.getCallbackForEvent(e)}),n.STRING_PROPERTIES=Nl.STRING_PROPERTIES,n.OBJECT_PROPERTIES=Nl.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=Nl.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=Nl.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=Nl.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=Nl.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=Nl.ALL_PROPERTIES,n.ALL_PROPERTIES_AND_CALLBACKS=aK(aK([],oK(t.ALL_PROPERTIES),!1),oK(t.EVENT_CALLBACKS),!1),n.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(n.ALL_PROPERTIES_AND_CALLBACKS),n}(),ADe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RDe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return ADe(t,n),t.prototype.setupComponents=function(e){var i=this;e&&e.forEach(function(r){return i.addComponent(r)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[r]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("agStackComponentsRegistry")],t),t}(z);function za(n,t,e){null==e||"string"==typeof e&&""==e?MF(n,t):Wa(n,t,e)}function Wa(n,t,e){n.setAttribute(sK(t),e.toString())}function MF(n,t){n.removeAttribute(sK(t))}function sK(n){return"aria-".concat(n)}function An(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function lK(n){return"asc"===n?"ascending":"desc"===n?"descending":"mixed"===n?"other":"none"}function cK(n){return parseInt(n.getAttribute("aria-posinset"),10)}function uK(n){return n.getAttribute("aria-label")}function vd(n,t){za(n,"label",t)}function Qx(n,t){za(n,"labelledby",t)}function AF(n,t){za(n,"live",t)}function dK(n,t){za(n,"atomic",t)}function hK(n,t){za(n,"relevant",t)}function pK(n,t){za(n,"level",t)}function OF(n,t){za(n,"disabled",t)}function Jx(n,t){za(n,"hidden",t)}function RF(n,t){za(n,"activedescendant",t)}function Jc(n,t){Wa(n,"expanded",t)}function fK(n){MF(n,"expanded")}function PF(n,t){Wa(n,"setsize",t)}function IF(n,t){Wa(n,"posinset",t)}function mK(n,t){Wa(n,"multiselectable",t)}function gK(n,t){Wa(n,"rowcount",t)}function FF(n,t){Wa(n,"rowindex",t)}function vK(n,t){Wa(n,"colcount",t)}function kF(n,t){Wa(n,"colindex",t)}function yK(n,t){Wa(n,"colspan",t)}function _K(n,t){Wa(n,"sort",t)}function CK(n){MF(n,"sort")}function Xm(n,t){za(n,"selected",t)}function LF(n,t){za(n,"controls",t.id),Qx(t,n.id)}function NF(n,t){return void 0===t?n("ariaIndeterminate","indeterminate"):!0===t?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var VF,eE,GF,BF,HF,jF,UF,zF,kDe=Object.freeze({__proto__:null,setAriaRole:An,getAriaSortState:lK,getAriaLevel:function PDe(n){return parseInt(n.getAttribute("aria-level"),10)},getAriaPosInSet:cK,getAriaLabel:uK,setAriaLabel:vd,setAriaLabelledBy:Qx,setAriaDescribedBy:function IDe(n,t){za(n,"describedby",t)},setAriaLive:AF,setAriaAtomic:dK,setAriaRelevant:hK,setAriaLevel:pK,setAriaDisabled:OF,setAriaHidden:Jx,setAriaActiveDescendant:RF,setAriaExpanded:Jc,removeAriaExpanded:fK,setAriaSetSize:PF,setAriaPosInSet:IF,setAriaMultiSelectable:mK,setAriaRowCount:gK,setAriaRowIndex:FF,setAriaColCount:vK,setAriaColIndex:kF,setAriaColSpan:yK,setAriaSort:_K,removeAriaSort:CK,setAriaSelected:Xm,setAriaChecked:function FDe(n,t){Wa(n,"checked",void 0===t?"mixed":t)},setAriaControls:LF,getAriaCheckboxStateName:NF});function Vl(){return void 0===VF&&(VF=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),VF}function WF(){if(void 0===eE)if(Vl()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(eE=null!=n[1]?parseFloat(n[1]):0)}else eE=0;return eE}function tE(){if(void 0===GF){var n=window;GF=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return GF}function $F(){return void 0===BF&&(BF=/(firefox)/i.test(navigator.userAgent)),BF}function KF(){return void 0===HF&&(HF=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),HF}function eu(){return void 0===jF&&(jF=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),jF}function YF(){return!Vl()||WF()>=15}function iE(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||$F())?t.toString():null}function bK(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var i=2*n;if(e.style.height=i+"px",i>t||e.clientHeight!==i)break;n=i}return document.body.removeChild(e),n}function wK(){var n,t,e;return null!==(t=null===(n=document.body)||void 0===n?void 0:n.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function SK(){var n,t,e;return null!==(t=null===(n=document.body)||void 0===n?void 0:n.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function xK(){return null==zF&&EK(),zF}function EK(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(zF=e,UF=0===e)}function qF(){return null==UF&&EK(),UF}var LDe=Object.freeze({__proto__:null,isBrowserSafari:Vl,getSafariVersion:WF,isBrowserChrome:tE,isBrowserFirefox:$F,isMacOsUserAgent:KF,isIOSUserAgent:eu,browserSupportsPreventScroll:YF,getTabIndex:iE,getMaxDivHeight:bK,getBodyWidth:wK,getBodyHeight:SK,getScrollbarWidth:xK,isInvisibleScrollbar:qF});function Zm(n,t){return n.toString().padStart(t,"0")}function DK(n,t){for(var e=[],i=n;i<=t;i++)e.push(i);return e}function XF(n,t,e){return"number"!=typeof n?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}var HDe=Object.freeze({__proto__:null,padStartWidthZeros:Zm,createArrayOfNumbers:DK,cleanNumber:function NDe(n){return"string"==typeof n&&(n=parseInt(n,10)),"number"==typeof n?Math.floor(n):null},decToHex:function VDe(n,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&n),n>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function GDe(n,t,e){return"number"!=typeof n?"":XF(Math.round(100*n)/100,t,e)},formatNumberCommas:XF,sum:function BDe(n){return null==n?null:n.reduce(function(t,e){return t+e},0)}}),ZF=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function $a(n,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!n)return null;var i=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(r){return Zm(r,2)}).join(e);return t&&(i+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(r){return Zm(r,2)}).join(":")),i}var QF=function(n){if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Qm(n,t){void 0===t&&(t="YYYY-MM-DD");var e=Zm(n.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(n.getFullYear())},MMMM:function(){return i[n.getMonth()]},MMM:function(){return i[n.getMonth()].slice(0,3)},MM:function(){return Zm(n.getMonth()+1,2)},Mo:function(){return"".concat(n.getMonth()+1).concat(QF(n.getMonth()+1))},M:function(){return"".concat(n.getMonth()+1)},Do:function(){return"".concat(n.getDate()).concat(QF(n.getDate()))},DD:function(){return Zm(n.getDate(),2)},D:function(){return"".concat(n.getDate())},dddd:function(){return r[n.getDay()]},ddd:function(){return r[n.getDay()].slice(0,3)},dd:function(){return r[n.getDay()].slice(0,2)},do:function(){return"".concat(n.getDay()).concat(QF(n.getDay()))},d:function(){return"".concat(n.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function So(n){if(!n)return null;var t=ZF(n.split(" "),2),e=t[0],i=t[1];if(!e)return null;var r=e.split("-").map(function(f){return parseInt(f,10)});if(3!==r.filter(function(f){return!isNaN(f)}).length)return null;var o=ZF(r,3),a=o[0],s=o[1],l=o[2],c=new Date(a,s-1,l);if(c.getFullYear()!==a||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!i||"00:00:00"===i)return c;var u=ZF(i.split(":").map(function(f){return parseInt(f,10)}),3),d=u[0],h=u[1],p=u[2];return d>=0&&d<24&&c.setHours(d),h>=0&&h<60&&c.setMinutes(h),p>=0&&p<60&&c.setSeconds(p),c}var nE,jDe=Object.freeze({__proto__:null,serialiseDate:$a,dateToFormattedString:Qm,parseDateTimeFromString:So}),zDe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o};function JF(n,t,e){for(var i=n.parentElement,r=i&&i.firstChild;r;)t&&r.classList.toggle(t,r===n),e&&r.classList.toggle(e,r!==n),r=r.nextSibling}var TK="[tabindex], input, select, button, textarea, [href]",ek="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function tk(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(n,"input, select, button, textarea"),r=t.call(n,ek),o=ua(n);return i&&!r&&o}function Nt(n,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;n.classList.toggle("ag-hidden",!t),i||Jx(n,!t)}function MK(n,t,e){void 0===e&&(e={});var i=e.skipAriaHidden;n.classList.toggle("ag-invisible",!t),i||Jx(n,!t)}function Jm(n,t){var e="disabled",i=t?function(r){return r.setAttribute(e,"")}:function(r){return r.removeAttribute(e)};i(n),lk(n.querySelectorAll("input"),function(r){return i(r)})}function hp(n,t,e){for(var i=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,"number"==typeof e){if(++i>e)break}else if(n===e)break}return!1}function yd(n){var t=window.getComputedStyle(n),i=t.width,r=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,c=t.paddingRight,u=t.paddingBottom,d=t.paddingLeft,h=t.marginTop,p=t.marginRight,f=t.marginBottom,m=t.marginLeft,g=t.boxSizing;return{height:parseFloat(t.height||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(c||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(m||"0"),boxSizing:g}}function I_(n){var t=yd(n);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function pp(n){var t=yd(n);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function ik(n){var t=yd(n);return Math.ceil(n.offsetHeight+(t.marginBottom+t.marginTop))}function F_(n){var t=yd(n);return Math.ceil(n.offsetWidth+(t.marginLeft+t.marginRight))}function nk(n){var t=n.getBoundingClientRect(),e=yd(n);return{top:t.top+(e.borderTopWidth||0),left:t.left+(e.borderLeftWidth||0),right:t.right+(e.borderRightWidth||0),bottom:t.bottom+(e.borderBottomWidth||0)}}function k_(){if("boolean"==typeof nE)return nE;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(n),n.scrollLeft=1,nE=0===Math.floor(n.scrollLeft),document.body.removeChild(n),nE}function L_(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),tE()&&!k_()&&(e=n.scrollWidth-n.clientWidth-e)),e}function N_(n,t,e){e&&(k_()?t*=-1:(Vl()||tE())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function Yn(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Gl(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function rk(n){return!!n.offsetParent}function ua(n){return n.checkVisibility?n.checkVisibility({checkVisibilityCSS:!0}):!(!rk(n)||"visible"!==window.getComputedStyle(n).visibility)}function xo(n){var t=document.createElement("div");return t.innerHTML=(n||"").trim(),t.firstChild}function ok(n,t,e){e&&e.nextSibling===t||(e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t))}function ak(n,t){for(var e=0;e<t.length;e++){var i=t[e],r=n.children[e];r!==i&&n.insertBefore(i,r)}}function AK(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function sk(n,t){var e,i;if(t)try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),o=r.next();!o.done;o=r.next()){var a=zDe(o.value,2),s=a[0],l=a[1];if(s&&s.length&&null!=l){var c=rK(s),u=l.toString(),d=u.replace(/\s*!important/g,"");n.style.setProperty(c,d,d.length!=u.length?"important":void 0)}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}function OK(n){return n.clientWidth<n.scrollWidth}function RK(n){return n.clientHeight<n.scrollHeight}function V_(n,t){"flex"===t?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Ka(n,t)}function Ka(n,t){t=rE(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function fp(n,t){t=rE(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function rE(n){return"number"==typeof n?"".concat(n,"px"):n}function G_(n){return n instanceof Node||n instanceof HTMLElement}function PK(n){if(null==n)return[];var t=[];return lk(n,function(e){return t.push(e)}),t}function IK(n,t){if(n)for(var e=0;e<n.length;e++){var i=n[e];t(i.name,i.value)}}function Bl(n,t,e){null==e?n.removeAttribute(t):n.setAttribute(t,e.toString())}function lk(n,t){if(null!=n)for(var e=0;e<n.length;e++)t(n[e])}function ck(n,t){n.then(function(e){var i=e.getGui();null!=i&&("object"==typeof i?t.appendChild(i):t.innerHTML=i)})}var $De=Object.freeze({__proto__:null,radioCssClass:JF,FOCUSABLE_SELECTOR:TK,FOCUSABLE_EXCLUDE:ek,isFocusableFormField:tk,setDisplayed:Nt,setVisible:MK,setDisabled:Jm,isElementChildOfClass:hp,getElementSize:yd,getInnerHeight:I_,getInnerWidth:pp,getAbsoluteHeight:ik,getAbsoluteWidth:F_,getElementRectWithOffset:nk,isRtlNegativeScroll:k_,getScrollLeft:L_,setScrollLeft:N_,clearElement:Yn,removeFromParent:Gl,isInDOM:rk,isVisible:ua,loadTemplate:xo,ensureDomOrder:ok,setDomChildOrder:ak,insertWithDomOrder:AK,addStylesToElement:sk,isHorizontalScrollShowing:OK,isVerticalScrollShowing:RK,setElementWidth:V_,setFixedWidth:Ka,setElementHeight:function WDe(n,t){"flex"===t?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):fp(n,t)},setFixedHeight:fp,formatSize:rE,isNodeOrElement:G_,copyNodeList:PK,iterateNamedNodeMap:IK,addOrRemoveAttribute:Bl,nodeListForEach:lk,bindCellRendererToHtmlElement:ck}),KDe=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function FK(n,t,e){var i={},r=n.filter(function(o){return!t.some(function(a){return a===o})});return r.length>0&&r.forEach(function(o){return i[o]=B_(o,e).values}),i}function B_(n,t,e,i){var r,o,a=t.map(function(f,m){return{value:f,relevance:YDe(n.toLowerCase(),f.toLocaleLowerCase()),idx:m}});if(a.sort(function(f,m){return m.relevance-f.relevance}),e&&(a=a.filter(function(f){return 0!==f.relevance})),a.length>0&&i&&i>0){var l=a[0].relevance*i;a=a.filter(function(f){return l-f.relevance<0})}var c=[],u=[];try{for(var d=KDe(a),h=d.next();!h.done;h=d.next()){var p=h.value;c.push(p.value),u.push(p.idx)}}catch(f){r={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return{values:c,indices:u}}function YDe(n,t){for(var e=n.replace(/\s/g,""),i=t.replace(/\s/g,""),r=0,o=-1,a=0;a<e.length;a++){var s=i.indexOf(e[a],o+1);-1!==s&&(r+=100-100*(o=s)/1e4*100)}return r}var qDe=Object.freeze({__proto__:null,fuzzyCheckStrings:FK,fuzzySuggestions:B_}),kK={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ya(n,t,e){var i=pn(n,t,e);if(i){var r=i.className;if("string"==typeof r&&r.indexOf("ag-icon")>-1||"object"==typeof r&&r["ag-icon"])return i}var o=document.createElement("span");return o.appendChild(i),o}function pn(n,t,e,i){var r=null,o=e&&e.getColDef().icons;if(o&&(r=o[n]),t&&!r){var a=t.get("icons");a&&(r=a[n])}if(!r){var l=document.createElement("span"),c=kK[n];return c||(i?c=n:(console.warn("AG Grid: Did not find icon ".concat(n)),c="")),l.setAttribute("class","ag-icon ag-icon-".concat(c)),l.setAttribute("unselectable","on"),An(l,"presentation"),l}var s=void 0;if("function"==typeof r)s=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");s=r}return"string"==typeof s?xo(s):G_(s)?s:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var XDe=Object.freeze({__proto__:null,iconNameClassMap:kK,createIcon:Ya,createIconNoSpan:pn}),G=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}();function oE(n){return!(n.altKey||n.ctrlKey||n.metaKey)&&1===n.key.length}function aE(n,t,e,i,r){var o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=n.addGridCommonParams({event:t,editing:r,column:i,node:e,data:e.data,colDef:i.getColDef()});return!(!o||!o(a))}function LK(n,t,e,i){var r=i.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;return!!ae(o)&&!!o(n.addGridCommonParams({colDef:r,column:i,headerRowIndex:e,event:t}))}function NK(n){var e;switch(n.keyCode){case 65:e=G.A;break;case 67:e=G.C;break;case 86:e=G.V;break;case 68:e=G.D;break;case 90:e=G.Z;break;case 89:e=G.Y;break;default:e=n.code}return e}function VK(n,t){return void 0===t&&(t=!1),n===G.DELETE||!t&&n===G.BACKSPACE&&KF()}var nTe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:oE,isUserSuppressingKeyboardEvent:aE,isUserSuppressingHeaderKeyboardEvent:LK,normaliseQwertyAzerty:NK,isDeleteKey:VK});function uk(n,t,e){if(0===e)return!1;var i=Math.abs(n.clientX-t.clientX),r=Math.abs(n.clientY-t.clientY);return Math.max(i,r)<=e}var rTe=Object.freeze({__proto__:null,areEventsNear:uk}),aTe=Object.freeze({__proto__:null,sortRowNodesByOrder:function oTe(n,t){if(!n)return!1;for(var e=function(s,l){var c=t[s.id],u=t[l.id],d=void 0!==c,h=void 0!==u;return d&&h?c-u:d||h?d?1:-1:s.__objectId-l.__objectId},o=!1,a=0;a<n.length-1;a++)if(e(n[a],n[a+1])>0){o=!0;break}return!!o&&(n.sort(e),!0)}});function dk(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var sTe=Object.freeze({__proto__:null,convertToSet:dk}),On=function(){return On=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},On.apply(this,arguments)},D=On(On(On(On(On(On(On(On(On(On(On(On(On(On(On(On(On(On({},kDe),tDe),LDe),jDe),$De),nDe),HEe),qDe),FEe),XDe),nTe),vDe),rTe),HDe),VEe),aTe),sTe),fDe),Nr=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}(),Is=(()=>((Is=Is||{})[Is.IN_PROGRESS=0]="IN_PROGRESS",Is[Is.RESOLVED=1]="RESOLVED",Is))(),vt=function(){function n(t){var e=this;this.status=Is.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(i){return e.onDone(i)},function(i){return e.onReject(i)})}return n.all=function(t){return new n(function(e){var i=t.length,r=new Array(i);t.forEach(function(o,a){o.then(function(s){r[a]=s,0==--i&&e(r)})})})},n.resolve=function(t){return void 0===t&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(i){e.status===Is.RESOLVED?i(t(e.resolution)):e.waiters.push(function(r){return i(t(r))})})},n.prototype.resolveNow=function(t,e){return this.status===Is.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=Is.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}(),cTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mp=function(){return mp=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mp.apply(this,arguments)},hk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sr=(()=>((sr=sr||{})[sr.NOTHING=0]="NOTHING",sr[sr.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",sr[sr.SHOWING=2]="SHOWING",sr))(),to=(()=>((to=to||{})[to.HOVER=0]="HOVER",to[to.FOCUS=1]="FOCUS",to))(),GK=function(n){function t(e,i,r){var o=n.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=i,o.tooltipHideDelayOverride=r,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=sr.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return cTe(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===to.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===to.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var i=this.gridOptionsService.get(e);return i<0&&We("".concat(e," should not be lower than 0")),Math.max(200,i)},t.prototype.getTooltipDelay=function(e){var i,r;return"show"===e?null!==(i=this.tooltipShowDelayOverride)&&void 0!==i?i:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(r=this.tooltipHideDelayOverride)&&void 0!==r?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?to.FOCUS:to.HOVER},t.prototype.onMouseEnter=function(e){var i=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!eu()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){i.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===sr.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var i,r=e.relatedTarget,o=this.parentComp.getGui(),a=null===(i=this.tooltipComp)||void 0===i?void 0:i.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&a?.contains(r)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=sr.NOTHING||t.isLocked)return!1;var i=0;return e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=sr.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===sr.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=sr.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=mp({},this.parentComp.getTooltipParams());if(ae(e.value)){this.state=sr.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var i={type:x.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=sr.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,i){if(this.state!==sr.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(i);else{var o=i.getGui();this.tooltipComp=i,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===to.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===to.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===to.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:x.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var i,r=this.parentComp.getGui(),o=null===(i=this.tooltipComp)||void 0===i?void 0:i.getGui(),a=e.relatedTarget;o?.contains(a)||(this.isInteractingWithTooltip=!1,r.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(mp(mp({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(mp(mp({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,r=this.tooltipComp;window.setTimeout(function(){i(),e.getContext().destroyBean(r)},this.tooltipTrigger===to.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,hk([C("popupService")],t.prototype,"popupService",void 0),hk([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),hk([H],t.prototype,"postConstruct",null),t}(z),uTe=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(a){return e.addCssClass(a)});else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},n.prototype.removeCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach(function(a){return e.removeCssClass(a)});else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},n.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},n.prototype.addOrRemoveCssClass=function(t,e){var i=this;if(t){if(t.indexOf(" ")>=0){var r=(t||"").split(" ");if(r.length>1)return void r.forEach(function(s){return i.addOrRemoveCssClass(s,e)})}if(this.cssClassStates[t]!==e&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},n}(),dTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hTe=new Nr,le=function(n){function t(e){var i=n.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=hTe.next(),i.cssClassManager=new uTe(function(){return i.eGui}),e&&i.setTemplate(e),i}return dTe(t,n),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,i,r){var o=this;this.tooltipText!=e&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new GK(o,i,r)))))},t.prototype.createChildComponentsFromTags=function(e,i){var r=this;PK(e.childNodes).forEach(function(a){if(a instanceof HTMLElement){var s=r.createComponentFromElement(a,function(c){c.getGui()&&r.copyAttributesFromNode(a,c.getGui())},i);if(s){if(s.addItems&&a.children.length){r.createChildComponentsFromTags(a,i);var l=Array.prototype.slice.call(a.children);s.addItems(l)}r.swapComponentForNode(s,e,a)}else a.childNodes&&r.createChildComponentsFromTags(a,i)}})},t.prototype.createComponentFromElement=function(e,i,r){var o=e.nodeName,a=r?r[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,i),l}return null},t.prototype.copyAttributesFromNode=function(e,i){IK(e.attributes,function(r,o){return i.setAttribute(r,o)})},t.prototype.swapComponentForNode=function(e,i,r){var o=e.getGui();i.replaceChild(o,r),i.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)},t.prototype.swapInComponentForQuerySelectors=function(e,i){var r=this;this.iterateOverQuerySelectors(function(o){r[o.attributeName]===i&&(r[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var i=Object.getPrototypeOf(this);null!=i;){var r=i.__agComponentMetaData,o=Wx(i.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach(function(a){return e(a)}),i=Object.getPrototypeOf(i)}},t.prototype.activateTabIndex=function(e){var i=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(r){return r.setAttribute("tabindex",i.toString())})},t.prototype.setTemplate=function(e,i){var r=xo(e);this.setTemplateFromElement(r,i)},t.prototype.setTemplateFromElement=function(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var i=this;this.iterateOverQuerySelectors(function(r){var o=function(l){return i[r.attributeName]=l};if(r.refSelector&&e.getAttribute("ref")===r.refSelector)o(e.eGui);else{var s=e.eGui.querySelector(r.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,i){null!=e&&(i||(i=this.eGui),G_(e)?i.appendChild(e):i.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,i){void 0===i&&(i={}),e!==this.visible&&(this.visible=e,MK(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}))},t.prototype.setDisplayed=function(e,i){void 0===i&&(i={}),e!==this.displayed&&(this.displayed=e,Nt(this.eGui,e,{skipAriaHidden:i.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,i,r){var o=this;this.eGui.addEventListener(e,i,r),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,i)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)},t.prototype.getAttribute=function(e){var i=this.eGui;return i?i.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",pk([C("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),pk([Ym],t.prototype,"preConstructOnComponent",null),pk([Ym],t.prototype,"createChildComponentsPreConstruct",null),t}(z);function V(n){return BK.bind(this,"[ref=".concat(n,"]"),n)}function BK(n,t,e,i,r){null!==n?"number"!=typeof r?function pTe(n,t,e){var i=function fTe(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}(n,Wx(n.constructor));i[t]||(i[t]=[]),i[t].push(e)}(e,"querySelectors",{attributeName:i,querySelector:n,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var mTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HK=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gTe=function(n){function t(){return n.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return mTe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(i," ").concat(r("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var i=this;null!=e?this.params.parentFilterInstance(function(r){if(r.getModelAsString){var o=r.getModelAsString(e);i.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.init(e)},HK([V("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),HK([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),jK=function(){function n(t,e,i,r){var o=this;this.alive=!0,this.context=t,this.eParent=r,e.getDateCompDetails(i).newAgStackInstance().then(function(l){o.alive?(o.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(l)})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){Nt(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},n.prototype.updateParams=function(t){var e,i,r=!1;null!==(e=this.dateComp)&&void 0!==e&&e.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(t)&&(r=!0),!r&&null!==(i=this.dateComp)&&void 0!==i&&i.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(t)&&We("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")},n.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},n}(),UK=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(o){return!!o.some(function(a){return null!=e[a]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[]);t.customFilterOptions[e.displayKey]=e}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}(),zK={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},vTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fk=function(){return fk=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},fk.apply(this,arguments)},WK=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tu=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;return r.eFocusableElement=e,r.callbacks=i,r.callbacks=fk({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},i),r}return vTe(t,n),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var i=this;this.addManagedListener(e,"keydown",function(r){if(!r.defaultPrevented&&!Ps(r)){if(i.callbacks.shouldStopEventPropagation(r))return void Rs(r);r.key===G.TAB?i.callbacks.onTabKeyDown(r):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(r)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",WK([C("focusService")],t.prototype,"focusService",void 0),WK([H],t.prototype,"postConstruct",null),t}(z),yTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$K="ag-resizer-wrapper",_Te='<div class="'.concat($K,'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),sE=function(n){function t(e,i){var r=n.call(this)||this;return r.element=e,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},i),r}return yTe(t,n),t.prototype.center=function(){var e=this.offsetParent,i=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,a=i/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,i=e.centered,r=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,c=e.x,u=e.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=ua(this.element);if(p){var f=this.findBoundaryElement(),m=window.getComputedStyle(f);if(null!=m.minWidth){var g=f.offsetWidth-this.element.offsetWidth;h=parseInt(m.minWidth,10)-g}if(null!=m.minHeight){var v=f.offsetHeight-this.element.offsetHeight;d=parseInt(m.minHeight,10)-v}}if(this.minHeight=s||d,this.minWidth=o||h,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),i)this.center();else if(c||u)this.offsetElement(c,u);else if(p&&r){var y=!0;if((f=this.boundaryEl)||(f=this.findBoundaryElement(),y=!1),f){var _=parseFloat(f.style.top),b=parseFloat(f.style.left);y?this.offsetElement(isNaN(b)?0:b,isNaN(_)?0:_):this.setPosition(b,_)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,i){if(this.config.popup&&e!==this.movable){this.movable=e;var r=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var i=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(r){var a=!!e[r],s=i.getResizerElement(r),l={dragStartPixels:0,eElement:s,onDragStart:function(c){return i.onResizeStart(c,r)},onDragging:i.onResize.bind(i),onDragStop:function(c){return i.onResizeEnd(c,r)}};(a||!i.isAlive()&&!a)&&(a?(i.dragService.addDragSource(l),i.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",i.resizable[r]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,i=e.height,r=e.width;-1!==r&&(this.element.style.width="".concat(r,"px")),-1!==i&&(this.element.style.height="".concat(i,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var i=this.config.popup,r=this.element,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))fp(r,e),e=ik(r),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):i?fp(r,e):(r.style.height="".concat(e,"px"),r.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,i=e.popup,r=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=i?this.position.y:a.top,c=i?0:s.top,u=0;if(r){var d=this.element.parentElement;d&&(u=d.getBoundingClientRect().bottom-a.bottom)}return o+c-l-u},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var i=this.element,r=this.config.popup,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Ka(i,e),e=F_(i),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=r?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Ka(i,e):(i.style.width="".concat(e,"px"),i.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:i}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var i=this;this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var o=i.getAvailableHeight();i.element.style.setProperty("max-height","".concat(o,"px"))}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},t.prototype.setPosition=function(e,i){this.position.x=e,this.position.y=i},t.prototype.updateDragStartPosition=function(e,i){this.dragStartPosition={x:e,y:i}},t.prototype.calculateMouseMovement=function(e){var i=e.e,o=e.isTop,s=e.topBuffer,l=i.clientX-this.dragStartPosition.x,c=i.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(i,!!e.isLeft,!!e.anywhereWithin,l)?0:l,movementY:this.shouldSkipY(i,!!o,s,c)?0:c}},t.prototype.shouldSkipX=function(e,i,r,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:a.left,u=c<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return!!u||(i?o<0&&e.clientX>c+s.left||o>0&&e.clientX<c+s.left:r?o<0&&e.clientX>l.right||o>0&&e.clientX<c+s.left:o<0&&e.clientX>l.right||o>0&&e.clientX<l.right)},t.prototype.shouldSkipY=function(e,i,r,o){void 0===r&&(r=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:a.top,u=c<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return!!u||(i?o<0&&e.clientY>c+s.top+r||o>0&&e.clientY<c+s.top:o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var r=(new DOMParser).parseFromString(_Te,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat($K));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var r=this.config;!r.popup&&!r.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],i=0,r=0,o=0;o<e.length;o++){var a=e[o];if(a!==this.element){var l=this.minHeight||0,c=this.minWidth||0;if(a.style.flex&&"0 0 auto"!==a.style.flex){var u=window.getComputedStyle(a);u.minHeight&&(l=parseInt(u.minHeight,10)),u.minWidth&&(c=parseInt(u.minWidth,10))}else l=a.offsetHeight,c=a.offsetWidth;i+=l,r+=c}}return{height:i,width:r}},t.prototype.applySizeToSiblings=function(e){var i=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var a=r[o];a!==i&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(i=r[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var i=this.config,r=i.popup,o=i.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,u=a.isLeft,d=a.isRight||u,h=a.isBottom||s,p=this.calculateMouseMovement({e,isLeft:u,isTop:s}),f=p.movementX,m=p.movementY,g=this.position.x,v=this.position.y,y=0,_=0;if(d&&f){var b=u?-1:1,w=this.getWidth(),E=w+f*b,M=!1;u&&(g+(y=w-E)<=0||E<=this.minWidth)&&(M=!0,y=0),M||this.setWidth(E)}if(h&&m){b=s?-1:1;var P=this.getHeight(),I=P+m*b,k=!1;s?(v+(_=P-I)<=0||I<=this.minHeight)&&(k=!0,_=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&P<I&&this.getMinSizeOfSiblings().height+I>this.element.parentElement.offsetHeight&&(k=!0),k||this.setHeight(I)}this.updateDragStartPosition(e.clientX,e.clientY),((r||o)&&y||_)&&this.offsetElement(g+y,v+_)}},t.prototype.onResizeEnd=function(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var a,i=this.position,r=i.x,o=i.y;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a});this.offsetElement(r+s.movementX,o+s.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},mk([C("popupService")],t.prototype,"popupService",void 0),mk([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),mk([C("dragService")],t.prototype,"dragService",void 0),t}(z),CTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gp=function(n){function t(e){var i=n.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i.buttonListeners=[],i}return CTe(t,n),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new tu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new sE(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);var r='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(r,e),(i=this.getGui())&&i.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var i=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var i=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,i=this.providedFilterParams.buttons,r=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Yn(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s?.()}),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),r){var o=document.createDocumentFragment();dk(i).forEach(function(s){return function(s){var l,c;switch(s){case"apply":l=e.translate("applyFilter"),c=function(h){return e.onBtApply(!1,!1,h)};break;case"clear":l=e.translate("clearFilter"),c=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),c=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),c=function(h){e.onBtCancel(h)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var d=xo('<button\n                    type="'.concat("apply"===s?"submit":"button",'"\n                    ref="').concat(s,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(l,"\n                </button>"));e.buttonListeners.push(e.addManagedListener(d,"click",c)),o.append(d)}(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)}else this.eButtonsPanel&&Gl(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,i=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=sa(this.checkApplyDebounce.bind(this),i);this.onBtApplyDebounce=function(){e.debouncePending=!0,r()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var i=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){i.updateUiVisibility(),i.applyModel("api")})},t.prototype.onBtCancel=function(e){var i=this;this.resetUiToActiveModel(this.getModel(),function(){i.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,i){var r=this,o=function(){r.onUiChanged(!1,"prevent"),i?.()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1),r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i,source:"columnFilter"}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!i&&this.close(r)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var o,r=e&&e.key;("Enter"===r||"Space"===r)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,i){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&Jm(o,!r)}e&&!i||"immediately"===i?this.onBtApply(e):(!this.applyActive&&!i||"debounce"===i)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var o=this.positionableFeature,a=this.gridOptionsService;"floatingFilter"===e||"columnFilter"===e?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,i){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:i},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,zK[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},gk([C("rowModel")],t.prototype,"rowModel",void 0),gk([V("eFilterBody")],t.prototype,"eFilterBody",void 0),gk([H],t.prototype,"postConstruct",null),t}(le),bTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vk=function(n){function t(e,i){var r=n.call(this,i)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=e||{},r}return bTe(t,n),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,i=e.labelSeparator,r=e.label,o=e.labelWidth,a=e.labelAlignment;null!=i&&this.setLabelSeparator(i),null!=r&&this.setLabel(r),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Yn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Nt(this.eLabel,!1),An(this.eLabel,"presentation")):(Nt(this.eLabel,!0),An(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var r=this.getGui().classList;return r.toggle("ag-label-align-left","left"===e),r.toggle("ag-label-align-right","right"===e),r.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||V_(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var i=this.getGui();return Jm(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(le),STe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KK=function(n){function t(e,i,r){var o=n.call(this,e,i)||this;return o.className=r,o}return STe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),i=this.getLabelId();null!==uK(e)?Qx(e,""):Qx(e,i??"")},t.prototype.setAriaLabel=function(e){return vd(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){return e(i.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Ka(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,i){return this.value===e||(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t}(vk),xTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),H_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yk=function(n){function t(e){var i=n.call(this,e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className)||this;if(i.isPickerDisplayed=!1,i.skipClick=!1,i.pickerGap=4,i.hideCurrentPicker=null,i.ariaRole=e?.ariaRole,i.onPickerFocusIn=i.onPickerFocusIn.bind(i),i.onPickerFocusOut=i.onPickerFocusOut.bind(i),!e)return i;var r=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return null!=r&&(i.pickerGap=r),i.variableWidth=!!a,null!=o&&i.setPickerMaxHeight(o),null!=s&&i.setPickerMinWidth(s),null!=l&&i.setPickerMaxWidth(l),i}return xTe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var i=this.getAriaElement();this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var r=this.config.pickerIcon;if(r){var o=pn(r,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Jc(e,!1),this.ariaRole&&An(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var i=this.getFocusableElement();if(i!==this.eWrapper&&e?.target===i)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case G.UP:case G.DOWN:case G.ENTER:case G.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case G.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,i=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,c=a.modalPicker,d={modal:void 0===c||c,eChild:r,closeOnEsc:!0,closedCallback:function(){var _=i.activeElement===i.body;e.beforeHidePicker(),_&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(a.pickerAriaLabelKey,a.pickerAriaLabelValue)},h=this.popupService.addPopup(d),p=this,f=p.maxPickerHeight,m=p.minPickerWidth,g=p.maxPickerWidth;p.variableWidth?(m&&(r.style.minWidth=m),r.style.width=rE(F_(this.eWrapper)),g&&(r.style.maxWidth=g)):V_(r,g??F_(this.eWrapper));var y=f??"".concat(I_(this.popupService.getPopupParent()),"px");return r.style.setProperty("max-height",y),r.style.position="absolute",this.alignPickerToComponent(),h.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,i=this.pickerGap,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:i})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(Jc(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var i;null!==(i=this.pickerComponent)&&void 0!==i&&i.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return V_(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},H_([C("popupService")],t.prototype,"popupService",void 0),H_([V("eLabel")],t.prototype,"eLabel",void 0),H_([V("eWrapper")],t.prototype,"eWrapper",void 0),H_([V("eDisplayField")],t.prototype,"eDisplayField",void 0),H_([V("eIcon")],t.prototype,"eIcon",void 0),t}(KK),DTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YK=function(n){function t(e){void 0===e&&(e="default");var i=n.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return DTe(t,n),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var i=e.key;switch(i){case G.ENTER:if(this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}else this.setValue(this.getValue());break;case G.DOWN:case G.UP:var o=i===G.DOWN,a=void 0;if(e.preventDefault(),this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}else a=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(a)}},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(r){return i.addOption(r)}),this},t.prototype.addOption=function(e){var i=e.value,o=Mn(e.text||i);return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(i,r){IF(i,r+1),PF(i,e.length)})},t.prototype.renderOption=function(e,i){var r=this,o=document.createElement("div");An(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(i,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return r.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(o,"click",function(){return r.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,i){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var r=this.options.findIndex(function(a){return a.value===e});if(-1!==r){var o=this.options[r];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var i=this.options.findIndex(function(r){return r.value===e.value});-1!==i&&this.highlightItem(this.itemEls[i])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){ua(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Xm(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!ua(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Xm(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"init",null),t}(le),MTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_k=function(){return _k=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},_k.apply(this,arguments)},iu=function(n){function t(e){return n.call(this,_k({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return MTe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new YK("select")),this.listComponent.setParentComponent(this);var i=this.listComponent.getAriaElement(),r="ag-select-list-".concat(this.listComponent.getCompId());i.setAttribute("id",r),LF(this.getAriaElement(),i),this.listComponent.addGuiEventListener("keydown",function(o){o.key===G.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,YK.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,x.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(r){return i.addOption(r)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,i,r){return this.value!==e&&this.listComponent?(r||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,i))):this},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(yk),ATe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ck=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_d=function(n){function t(e,i,r,o){void 0===r&&(r="text"),void 0===o&&(o="input");var a=n.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,">\n                </div>\n            </div>"),i)||this;return a.inputType=r,a.displayFieldTag=o,a}return ATe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,i=e.width,r=e.value;null!=i&&this.setWidth(i),null!=r&&this.setValue(r),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){return e.setValue(i.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return V_(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Bl(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return vd(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return Jm(this.eInput,e),n.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){return Bl(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this},Ck([V("eLabel")],t.prototype,"eLabel",void 0),Ck([V("eWrapper")],t.prototype,"eWrapper",void 0),Ck([V("eInput")],t.prototype,"eInput",void 0),t}(KK),OTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cd=function(n){function t(e,i,r){void 0===i&&(i="ag-checkbox"),void 0===r&&(r="checkbox");var o=n.call(this,e,i,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return OTe(t,n),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,i||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,i,r){this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:i,event:r});var o=this.getInputElement();this.eventService.dispatchEvent({type:x.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:i})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var i=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,i,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(_d),RTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bk=function(n){function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return RTe(t,n),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,x.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Cd),PTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wk=function(){function n(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}return n.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var i=null!=t.operator,r=this.localeService.getLocaleTextFunc();if(i){var o=t,a=o.conditions;a||(a=[o.condition1,o.condition2]);var c=a.map(function(v){return e.getModelAsString(v)}),u="AND"===o.operator?"andCondition":"orCondition";return c.join(" ".concat(r(u,zK[u])," "))}if(t.type===$i.BLANK||t.type===$i.NOT_BLANK)return r(t.type,t.type);var d=t,h=this.optionsFactory.getCustomOption(d.type),p=h||{},f=p.displayKey,m=p.displayName;return f&&m&&0===p.numberOfInputs?(r(f,m),m):this.conditionToString(d,h)},n.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},n.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(t??null))&&void 0!==e?e:"":String(t)},n}(),$i=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return PTe(t,n),t.prototype.getNumberOfInputs=function(e){var i=this.optionsFactory.getCustomOption(e);return i?i.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var i=this;this.eTypes.forEach(function(r,o){r.setValue(0===o?e:i.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,i){var r=this;if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;var o=!e.operator,a=!i.operator;return!(!o&&a||o&&!a)&&(o?this.areSimpleModelsEqual(e,i):e.operator===i.operator&&Qc(e.conditions,i.conditions,function(p,f){return r.areSimpleModelsEqual(p,f)}))},t.prototype.shouldRefresh=function(e){var i,r,o,a=this.getModel(),s=a?null!==(i=a.conditions)&&void 0!==i?i:[a]:null,l=null!==(o=null===(r=e.filterOptions)||void 0===r?void 0:r.map(function(u){return"string"==typeof u?u:u.displayKey}))&&void 0!==o?o:this.getDefaultFilterOptions();return!(s&&!s.every(function(u){return void 0!==l.find(function(d){return d===u.type})})||"number"==typeof e.maxNumConditions&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){return!!this.shouldRefresh(e)&&!!n.prototype.refresh.call(this,e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)},t.prototype.setModelIntoUi=function(e){var i=this;if(e.operator){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var c="OR"===o.operator;this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!c,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(c,!0)}),o.conditions.forEach(function(d,h){i.eTypes[h].setValue(d.type,!0),i.setConditionIntoUi(d,h)})}else{var u=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(u.type,!0),this.setConditionIntoUi(u,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),vt.resolve()},t.prototype.validateAndUpdateConditions=function(e){var i=e.length;return i>this.maxNumConditions&&(e.splice(this.maxNumConditions),We('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),i=this.maxNumConditions),i},t.prototype.doesFilterPass=function(e){var r,i=this,o=this.getModel();if(null==o)return!0;var a=o.operator,s=[];return a?s.push.apply(s,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(null!==(r=o.conditions)&&void 0!==r?r:[]),!1)):s.push(o),s[a&&"OR"===a?"some":"every"](function(u){return i.individualConditionPasses(e,u)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new UK,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var i,r;null!=e.suppressAndOrCondition&&We('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&We('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!==(i=e.maxNumConditions)&&void 0!==i?i:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(We('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(r=e.numAlwaysVisibleConditions)&&void 0!==r?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(We('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(We('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,i=this.createManagedBean(new iu);this.eTypes.push(i),i.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(i.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(i),this.resetType(i);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(i,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var i=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(i,o,a),this.resetJoinOperatorOr(r,o,a),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,i,r){var o=this.createManagedBean(new bk);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(r)),i.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,i=this.optionsFactory.getFilterOptions();this.filterListOptions=i.map(function(r){return"string"==typeof r?e.createBoilerplateListOption(r):e.createCustomListOption(r)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(i){e.addOption(i)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var i=e.displayKey,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,i=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?i=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var a=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(i<a){this.removeConditionsAndOperators(a+1);var s=i+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i},t.prototype.updateConditionStatusesAndValues=function(e,i){var r=this;this.eTypes.forEach(function(a,s){var l=r.isConditionDisabled(s,e);a.setDisabled(l||r.filterListOptions.length<=1),1===s&&(Jm(r.eJoinOperatorPanels[0],l),r.eJoinOperatorsAnd[0].setDisabled(l),r.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){Nt(a,r.isConditionBodyVisible(s))});var o="OR"===(i??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,c){r.setElementDisplayed(a,s<c),r.setElementDisabled(a,r.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,i){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,i),this.removeElements(this.eConditionBodies,e,i),this.removeValueElements(e,i);var r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}},t.prototype.removeElements=function(e,i,r){this.removeItems(e,i,r).forEach(function(a){return Gl(a)})},t.prototype.removeComponents=function(e,i,r){var o=this;this.removeItems(e,i,r).forEach(function(s){Gl(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,i,r){return null==r?e.splice(i):e.splice(i,r)},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var i=this.getInputs(0)[0];if(!i)return;i instanceof _d&&i.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var i=-1,r=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===i&&(i=s,r=s);else{var c=s<i;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||c)&&(this.removeConditionsAndOperators(s,1),o=!0,c&&r--)}var u=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),u=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),u=!0),u&&this.updateConditionStatusesAndValues(r,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},t.prototype.getPlaceholderText=function(e,i){var r=this.translate(e);if($x(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[i].getValue();r=o({filterOptionKey:a,filterOption:this.translate(a),placeholder:r})}else"string"==typeof this.filterPlaceholder&&(r=this.filterPlaceholder);return r},t.prototype.resetPlaceholder=function(){var e=this,i=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,o,a,s){if(r instanceof _d){var l=0===o&&s>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",c=0===o&&s>1?i("ariaFilterFromValue","Filter from value"):0===o?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(e.getPlaceholderText(l,a)),r.setInputAriaLabel(c)}})},t.prototype.setElementValue=function(e,i,r){e instanceof _d&&e.setValue(null!=i?String(i):null,!0)},t.prototype.setElementDisplayed=function(e,i){e instanceof le&&Nt(e.getGui(),i)},t.prototype.setElementDisabled=function(e,i){e instanceof le&&Jm(e.getGui(),i)},t.prototype.attachElementOnChange=function(e,i){e instanceof _d&&e.onValueChange(i)},t.prototype.forEachInput=function(e){var i=this;this.getConditionTypes().forEach(function(r,o){i.forEachPositionTypeInput(o,r,e)})},t.prototype.forEachPositionInput=function(e,i){var r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,i)},t.prototype.forEachPositionTypeInput=function(e,i,r){for(var o=this.getNumberOfInputs(i),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];null!=l&&r(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,i){return!!this.isReadOnly()||0!==e&&e>i+1},t.prototype.isConditionBodyVisible=function(e){var i=this.getConditionType(e);return this.getNumberOfInputs(i)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(r){return null==r}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&e.push(this.createCondition(i));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var i=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return i.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,o){return i.resetJoinOperatorAnd(r,o,i.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(r,o){return i.resetJoinOperatorOr(r,o,i.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(r){return i.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),vt.resolve()},t.prototype.resetType=function(e){var r=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},t.prototype.resetJoinOperatorOr=function(e,i,r){this.resetJoinOperator(e,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},t.prototype.resetJoinOperator=function(e,i,r,o,a){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),i)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(i,r){return e.updateJoinOperatorDisabled(i,r)}),this.eJoinOperatorsOr.forEach(function(i,r){return e.updateJoinOperatorDisabled(i,r)})},t.prototype.updateJoinOperatorDisabled=function(e,i){e.setDisabled(this.isReadOnly()||i>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,i){var r=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,c){l===i&&r.setElementValue(a,null!=o[s]?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var i=this;this.forEachInput(function(r,o,a,s){i.setElementValue(r,0===o&&0===a?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,i){var r=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(i,function(o){r.attachElementOnChange(o,r.listener)}))},t.prototype.individualConditionPasses=function(e,i){var r=this.getCellValue(e.node),o=this.mapValuesFromModel(i),a=this.optionsFactory.getCustomOption(i.type);return this.evaluateCustomFilter(a,o,r)??(null==r?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,r,i,e))},t.prototype.evaluateCustomFilter=function(e,i,r){if(null!=e){var o=e.predicate;if(null!=o&&!i.some(function(a){return null==a}))return o(i,r)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(gp),kTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rn=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kTe(t,n),t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,i,r){var o=this.comparator(),a=null!=e[0]?o(e[0],i):0;switch(r.type){case t.EQUALS:return 0===a;case t.NOT_EQUAL:return 0!==a;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:var s=o(e[1],i);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0;case t.BLANK:return this.isBlank(i);case t.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}($i),qK=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sk=function(){return Sk=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Sk.apply(this,arguments)},QK=function(n){function t(e,i,r){var o=n.call(this,i,r)||this;return o.dateFilterParams=e,o}return qK(t,n),t.prototype.conditionToString=function(e,i){var r=e.type,a=r==$i.IN_RANGE||2===(i||{}).numberOfInputs,s=So(e.dateFrom),l=So(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var u=null!==s?Qm(s,c):"null",d=null!==l?Qm(l,c):"null";return"".concat(u,"-").concat(d)}return null!=s?Qm(s,c):"".concat(r)},t.prototype.updateParams=function(e){n.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(wk),JK=function(n){function t(){var e=n.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e.minValidDate=null,e.maxValidDate=null,e}return qK(t,n),t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},r=i.dateFrom,o=i.dateTo,a=i.type;return[r&&So(r)||null,o&&So(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,i){return null==i||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,n.prototype.setParams.call(this,e);var i=function(r,o){if(null!=e[r]){if(!isNaN(e[r]))return null==e[r]?o:Number(e[r]);console.warn("AG Grid: DateFilter ".concat(r," is not a number"))}return o};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:So(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:So(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new QK(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var i=this,r=new jK(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return r.destroy()}),r},t.prototype.setElementValue=function(e,i){e.setDate(i)},t.prototype.setElementDisplayed=function(e,i){e.setDisplayed(i)},t.prototype.setElementDisabled=function(e,i){e.setDisabled(i)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,i,r,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),i.push(a),e.appendChild(a),r.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,i){this.removeDateComps(this.dateConditionFromComps,e,i),this.removeDateComps(this.dateConditionToComps,e,i),this.removeItems(this.eConditionPanelsFrom,e,i),this.removeItems(this.eConditionPanelsTo,e,i)},t.prototype.removeDateComps=function(e,i,r){this.removeItems(e,i,r).forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var i=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var r=!0;return this.forEachInput(function(o,a,s,l){s!==e||!r||a>=l||(r=r&&i.isValidDateValue(o.getDate()))}),r},t.prototype.areSimpleModelsEqual=function(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={},o=this.getValues(e);return o.length>0&&(r.dateFrom=$a(o[0])),o.length>1&&(r.dateTo=$a(o[1])),Sk({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(i),o.setInputAriaLabel(r)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var i=[];return this.forEachPositionInput(e,function(r,o,a,s){o<s&&i.push(r.getDate())}),i},t.prototype.translate=function(e){return n.prototype.translate.call(this,e===Rn.LESS_THAN?"before":e===Rn.GREATER_THAN?"after":e)},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[Rn.EQUALS,Rn.NOT_EQUAL,Rn.LESS_THAN,Rn.GREATER_THAN,Rn.IN_RANGE,Rn.BLANK,Rn.NOT_BLANK],function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Rn),NTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return NTe(t,n),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,i){void 0===i&&(i=!0),this.optionsFactory=new UK,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),i||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var r=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==r||1==r},t.prototype.isTypeEditable=function(e){var i=[$i.IN_RANGE,$i.EMPTY,$i.BLANK,$i.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0},t}(le),VTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},GTe=function(n){function t(){return n.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return VTe(t,n),t.prototype.getDefaultFilterOptions=function(){return JK.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new QK(this.filterParams,this.localeService,this.optionsFactory);var i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(i),i?(this.dateComp.setDate(e?So(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))},t.prototype.setEditable=function(e){Nt(this.eDateWrapper,e),Nt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(n.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,r=$a(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var a=So(r);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=gp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:sa(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new jK(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},xk([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),xk([V("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),xk([V("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(eY),BTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UTe=function(n){function t(){return n.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return BTe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this;this.params=e,this.setParams(e);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){i.eDateInput.isDisabled()||i.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===r.activeElement&&(i.eDateInput.isDisabled()||i.params.onDateChanged())})},t.prototype.setParams=function(e){var i=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Vl(),i.type=r?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,c=o.maxValidDate;if(l&&a&&We("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),c&&s&&We("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&c){var u=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([l,c].map(function(p){return p instanceof Date?p:So(p)}),2),d=u[0],h=u[1];d&&h&&d.getTime()>h.getTime()&&We("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?i.min=l instanceof Date?Qm(l):l:a&&(i.min="".concat(a,"-01-01")),c?i.max=c instanceof Date?Qm(c):c:s&&(i.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return So(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue($a(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:tE()||$F()||Vl()&&WF()>=14.1},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eDateInput")],t.prototype,"eDateInput",void 0),t}(le),zTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nu=function(n){function t(e,i,r){return void 0===i&&(i="ag-text-field"),void 0===r&&(r="text"),n.call(this,e,i,r)||this}return zTe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,i){return this.eInput.value!==e&&(this.eInput.value=ae(e)?e:""),n.prototype.setValue.call(this,e,i)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListener(this.eInput,"keydown",function(r){oE(r)&&r.key&&!e.test(r.key)&&r.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(r){var o,a=null===(o=r.clipboardData)||void 0===o?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&r.preventDefault()})},t}(_d),WTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lE=function(n){function t(e){return n.call(this,e,"ag-number-field","number")||this}return WTe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(e.eInput.value),r=isNaN(i)?"":e.normalizeValue(i.toString());e.value!==r&&e.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var i=parseFloat(e);return null!=this.min&&i<this.min?e=this.min.toString():null!=this.max&&i>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,i){if(null==this.precision)return e;if(i){var r=parseFloat(e).toFixed(this.precision);return parseFloat(r).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Bl(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Bl(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Bl(this.eInput,"step",e)),this},t.prototype.setValue=function(e,i){var r=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(r,o,i)},function(){return r},e)},t.prototype.setStartValue=function(e){var i=this;return this.setValueOrInputValue(function(r){return n.prototype.setValue.call(i,r,!0)},function(r){i.eInput.value=r},e)},t.prototype.setValueOrInputValue=function(e,i,r){if(ae(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return e(r);if(o||(o=(r=this.adjustPrecision(r))!=this.normalizeValue(r)),o)return i(r)}return e(r)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):n.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"==typeof e&&e.includes("e")},t}(nu),tY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tY(t,n),t.prototype.conditionToString=function(e,i){return e.type==$i.IN_RANGE||2===(i||{}).numberOfInputs?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)},t}(wk);function Ek(n){return(n??{}).allowedCharPattern??null}var nY=function(n){function t(){var e=n.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return tY(t,n),t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&n.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},o=i.filterTo,a=i.type;return[this.processValue(i.filter),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,i){return e===i?0:e<i?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,n.prototype.setParams.call(this,e),this.filterModelFormatter=new iY(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,i,r){var o=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;n.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=Ek(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),An(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",e),this.createFromToElement(i,this.eValuesTo,"to",e),i},t.prototype.createFromToElement=function(e,i,r,o){var a=this.createManagedBean(o?new nu({allowedCharPattern:o}):new lE);a.addCssClass("ag-filter-".concat(r)),a.addCssClass("ag-filter-filter"),i.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.getValues=function(e){var i=this,r=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&r.push(i.processValue(i.stringToFloat(o.getValue())))}),r},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var i=kl(e);return null!=i&&""===i.trim()&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):null==i||"-"===i.trim()?null:parseFloat(i)},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},o=this.getValues(e);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(i){i.getInputElement().validity.valid||(e=!0)}),e},t.DEFAULT_FILTER_OPTIONS=[Rn.EQUALS,Rn.NOT_EQUAL,Rn.GREATER_THAN,Rn.GREATER_THAN_OR_EQUAL,Rn.LESS_THAN,Rn.LESS_THAN_OR_EQUAL,Rn.IN_RANGE,Rn.BLANK,Rn.NOT_BLANK],t}(Rn),rY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cE=function(){return cE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},cE.apply(this,arguments)},oY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rY(t,n),t.prototype.conditionToString=function(e,i){return e.type==$i.IN_RANGE||2===(i||{}).numberOfInputs?"".concat(e.filter,"-").concat(e.filterTo):"".concat(null!=e.filter?e.filter:e.type)},t}(wk),j_=function(n){function t(){var e=n.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return rY(t,n),t.trimInput=function(e){var i=e&&e.trim();return""===i?e:i},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,n.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new oY(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(D.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(i){return e(i.filterOption,i.value,i.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var i=this.getConditionType(e),r={filterType:this.getFilterType(),type:i},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,i){var r=this,o=[];return this.forEachPositionInput(e,function(a,s,l,c){var u;if(s<c){var d=kl(a.getValue());i&&r.textFilterParams.trimInput&&(d=null!==(u=t.trimInput(d))&&void 0!==u?u:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),An(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,i,r){var o=this.createManagedBean(new nu);o.addCssClass("ag-filter-".concat(r)),o.addCssClass("ag-filter-filter"),i.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,i){this.removeComponents(this.eValuesFrom,e,i),this.removeComponents(this.eValuesTo,e,i)},t.prototype.mapValuesFromModel=function(e){var i=e||{};return[i.filter||null,i.filterTo||null].slice(0,this.getNumberOfInputs(i.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[$i.NOT_EQUAL,$i.NOT_CONTAINS,$i.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,i,r,o){var a=this,s=e.map(function(v){return a.formatter(v)})||[],l=this.formatter(i),c=this.textFilterParams,u=c.api,d=c.colDef,h=c.column,p=c.columnApi,f=c.context,m=c.textFormatter;if(r.type===$i.BLANK)return this.isBlank(i);if(r.type===$i.NOT_BLANK)return!this.isBlank(i);var g={api:u,colDef:d,column:h,columnApi:p,context:f,node:o.node,data:o.data,filterOption:r.type,value:l,textFormatter:m};return s.some(function(v){return a.matcher(cE(cE({},g),{filterText:v}))})},t.prototype.getModelAsString=function(e){var i;return null!==(i=this.filterModelFormatter.getModelAsString(e))&&void 0!==i?i:""},t.DEFAULT_FILTER_OPTIONS=[$i.CONTAINS,$i.NOT_CONTAINS,$i.EQUALS,$i.NOT_EQUAL,$i.STARTS_WITH,$i.ENDS_WITH,$i.BLANK,$i.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.value,o=e.filterText;if(null==o)return!1;switch(e.filterOption){case t.CONTAINS:return r.indexOf(o)>=0;case t.NOT_CONTAINS:return r.indexOf(o)<0;case t.EQUALS:return r===o;case t.NOT_EQUAL:return r!=o;case t.STARTS_WITH:return 0===r.indexOf(o);case t.ENDS_WITH:var a=r.lastIndexOf(o);return a>=0&&a===r.length-o.length;default:return!1}},t}($i),aY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sY=function(n){function t(e){var i=n.call(this)||this;return i.params=e,i.valueChangedListener=function(){},i}return aY(t,n),t.prototype.setupGui=function(e){var r,i=this;this.eFloatingFilterTextInput=this.createManagedBean(new nu(null===(r=this.params)||void 0===r?void 0:r.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return i.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return i.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,i){this.eFloatingFilterTextInput.setValue(e,i)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(z),lY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return aY(t,n),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),n.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var i;this.params=e;var r=null!==(i=e.browserAutoComplete)&&void 0!==i&&i;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=gp.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=gp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=sa(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var i=this.floatingFilterInputService.getValue();Yn(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(i,!0)},t.prototype.getAriaLabel=function(e){var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return"".concat(i," ").concat(r("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var i=this;if(!this.applyActive||e.key===G.ENTER){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=j_.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(i.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},Dk([C("columnModel")],t.prototype,"columnModel",void 0),Dk([V("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),Dk([H],t.prototype,"postConstruct",null),t}(eY),cY=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$Te=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return cY(t,n),t.prototype.setupGui=function(e){var i=this;this.eFloatingFilterNumberInput=this.createManagedBean(new lE),this.eFloatingFilterTextInput=this.createManagedBean(new nu),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(r),e.appendChild(o),this.setupListeners(r,function(a){return i.valueChangedListener(a)}),this.setupListeners(o,function(a){return i.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,i){this.getActiveInputElement().setValue(e,i)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,i){this.addManagedListener(e,"input",i),this.addManagedListener(e,"keydown",i)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(z),KTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return cY(t,n),t.prototype.init=function(e){var i;n.prototype.init.call(this,e),this.filterModelFormatter=new iY(this.localeService,this.optionsFactory,null===(i=e.filterParams)||void 0===i?void 0:i.numberFormatter)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){Ek(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return nY.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=Ek(e.filterParams),this.createManagedBean(this.allowedCharPattern?new sY({config:{allowedCharPattern:this.allowedCharPattern}}):new $Te)},t}(lY),YTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qTe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return YTe(t,n),t.prototype.init=function(e){n.prototype.init.call(this,e),this.filterModelFormatter=new oY(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return j_.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new sY)},t}(lY),Pn=function(){function n(t,e){void 0===e&&(e=!1);var i=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Ll,this.eElement=t,this.preventMouseClick=e;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",r,{passive:!0}),i.eElement.removeEventListener("touchmove",o,{passive:!0}),i.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===i&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},n.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!uk(e,this.touchStart,4)&&(this.moved=!0)}},n.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:n.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},n.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>n.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),XTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vp=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Tk=function(n){function t(e){var i=n.call(this)||this;return e||i.setTemplate(t.TEMPLATE),i}return XTe(t,n),t.prototype.attachCustomElements=function(e,i,r,o,a){this.eSortOrder=e,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,i){var r=this;void 0===i&&(i=!1),this.column=e,this.suppressOrder=i,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return r.updateIcons()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return r.updateIcons()}),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,i,r){if(null!=i){var o=pn(e,this.gridOptionsService,r);o&&i.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Nt(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&Nt(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");Nt(this.eSortNone,!o&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var i=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i&&(this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Nt(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var i,e=this;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=null!==(i=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==i?i:-1,a=r.some(function(l){var c;return null!==(c=e.sortController.getDisplaySortIndexForColumn(l))&&void 0!==c&&c});Nt(this.eSortOrder,o>=0&&a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():Yn(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',vp([V("eSortOrder")],t.prototype,"eSortOrder",void 0),vp([V("eSortAsc")],t.prototype,"eSortAsc",void 0),vp([V("eSortDesc")],t.prototype,"eSortDesc",void 0),vp([V("eSortMixed")],t.prototype,"eSortMixed",void 0),vp([V("eSortNone")],t.prototype,"eSortNone",void 0),vp([C("columnModel")],t.prototype,"columnModel",void 0),vp([C("sortController")],t.prototype,"sortController",void 0),t}(le),ZTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Eo=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Mk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return ZTe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e,i=null!==(e=this.params.template)&&void 0!==e?e:t.TEMPLATE;return i&&i.trim?i.trim():i},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var i=Mn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=i)}},t.prototype.addInIcon=function(e,i,r){if(null!=i){var o=pn(e,this.gridOptionsService,r);o&&i.appendChild(o)}},t.prototype.setupTap=function(){var e=this;if(!this.gridOptionsService.get("suppressTouch")){var r=new Pn(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&ae(this.eMenu),s=a?new Pn(this.eMenu,!0):r;if(this.params.enableMenu&&this.addManagedListener(s,Pn[a?"EVENT_TAP":"EVENT_LONG_TAP"],function(h){return e.params.showColumnMenuAfterMouseClick(h.touchStart)}),this.params.enableSorting&&this.addManagedListener(r,Pn.EVENT_TAP,function(h){var p,f,m=h.touchStart.target;o&&(null!==(p=e.eMenu)&&void 0!==p&&p.contains(m)||null!==(f=e.eFilterButton)&&void 0!==f&&f.contains(m))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){var d=new Pn(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return e.params.showFilter(e.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return r.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},t.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return Gl(this.eMenu),void(this.eMenu=void 0);var i=this.menuService.isLegacyMenuEnabled();this.addInIcon(i?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!i),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.params.showColumnMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.onMenuKeyboardShortcut=function(e){var i,r,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(e&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter(null!==(r=null!==(i=this.eFilterButton)&&void 0!==i?i:this.eMenu)&&void 0!==r?r:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!==(a=null!==(o=this.eMenu)&&void 0!==o?o:this.eFilterButton)&&void 0!==a?a:this.getGui()),!0;return!1},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Tk(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){this.addManagedListener(this.params.column,bt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(r){var o=e.params.column.isMoving(),a=(new Date).getTime();if(!(o||a-e.lastMovingChanged<50)){var c="ctrl"===e.gridOptionsService.get("multiSortKey");e.params.progressSort(c?r.ctrlKey||r.metaKey:r.shiftKey)}});var i=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var r=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=r?.every(function(s){return e.params.column.getSort()==s.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!o)}};this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},t.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},t.prototype.setupFilterButton=function(){var e=this;this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",function(){return e.params.showFilter(e.eFilterButton)}):this.eFilterButton=void 0)},t.prototype.configureFilter=function(e,i,r){if(!e)return Gl(i),!1;var o=this.params.column;return this.addInIcon("filter",i,o),this.addManagedListener(o,bt.EVENT_FILTER_CHANGED,r),r(),!0},t.prototype.onFilterChangedIcon=function(){var e=this.params.column.isFilterActive();Nt(this.eFilter,e,{skipAriaHidden:!0})},t.prototype.onFilterChangedButton=function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)},t.prototype.getAnchorElementForMenu=function(e){var i,r,o,a;return e?null!==(r=null!==(i=this.eFilterButton)&&void 0!==i?i:this.eMenu)&&void 0!==r?r:this.getGui():null!==(a=null!==(o=this.eMenu)&&void 0!==o?o:this.eFilterButton)&&void 0!==a?a:this.getGui()},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Eo([C("sortController")],t.prototype,"sortController",void 0),Eo([C("menuService")],t.prototype,"menuService",void 0),Eo([C("columnModel")],t.prototype,"columnModel",void 0),Eo([V("eFilter")],t.prototype,"eFilter",void 0),Eo([V("eFilterButton")],t.prototype,"eFilterButton",void 0),Eo([V("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Eo([V("eMenu")],t.prototype,"eMenu",void 0),Eo([V("eLabel")],t.prototype,"eLabel",void 0),Eo([V("eText")],t.prototype,"eText",void 0),Eo([V("eSortOrder")],t.prototype,"eSortOrder",void 0),Eo([V("eSortAsc")],t.prototype,"eSortAsc",void 0),Eo([V("eSortDesc")],t.prototype,"eSortDesc",void 0),Eo([V("eSortMixed")],t.prototype,"eSortMixed",void 0),Eo([V("eSortNone")],t.prototype,"eSortNone",void 0),t}(le),QTe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ak=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JTe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return QTe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&We("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(a){if(!Ps(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var r=function(a){Rs(a)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,ei.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,ei.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,i){var r=new Pn(e,!0);this.addManagedListener(r,Pn.EVENT_TAP,i),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(e,"click",i)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var i=this.params.columnGroup.isExpanded();Nt(this.eOpenIcon,i),Nt(this.eCloseIcon,!i)}else Nt(this.eOpenIcon,!1),Nt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,i){var r=pn(e,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Nt(this.eOpenIcon,!1),void Nt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,i=this.params,r=i.displayName,o=i.columnGroup;if(ae(r)){var a=Mn(r,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=o.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ak([C("columnModel")],t.prototype,"columnModel",void 0),Ak([V("agOpened")],t.prototype,"eOpenIcon",void 0),Ak([V("agClosed")],t.prototype,"eCloseIcon",void 0),t}(le),eMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bd=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return eMe(t,n),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(le),tMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nMe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return tMe(t,n),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ae(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var i=e.key;(i===G.LEFT||i===G.UP||i===G.RIGHT||i===G.DOWN||e.shiftKey&&i===G.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return ae(e)||ae(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eTextArea")],t.prototype,"eTextArea",void 0),t}(bd),rMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},oMe=function(n){function t(){var e=n.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return rMe(t,n),t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var i=this,r=i.eSelect,o=i.valueFormatterService,a=i.gridOptionsService,s=e.values,l=e.value,c=e.eventKey;if(Qe(s))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=c&&c===G.ENTER;var u=!1;s.forEach(function(f){var m={value:f},g=o.formatValue(e.column,null,f);m.text=null!=g?g:f,r.addOption(m),u=u||l===f}),u?r.setValue(e.value,!0):e.values.length&&r.setValue(e.values[0],!0);var d=e.valueListGap,h=e.valueListMaxWidth,p=e.valueListMaxHeight;null!=d&&r.setPickerGap(d),null!=p&&r.setPickerMaxHeight(p),null!=h&&r.setPickerMaxWidth(h),"fullRow"!==a.get("editType")&&this.addManagedListener(this.eSelect,iu.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},uY([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),uY([V("eSelect")],t.prototype,"eSelect",void 0),t}(bd),aMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uE=function(n){function t(e){var i=n.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"))||this;return i.cellEditorInput=e,i}return aMe(t,n),t.prototype.init=function(e){this.params=e;var r,i=this.eInput;if(this.cellEditorInput.init(i,e),e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===G.BACKSPACE||e.eventKey===G.DELETE?r="":o&&1===o.length?r=o:(r=this.cellEditorInput.getStartValue(),o!==G.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();null!=r&&i.setStartValue(r),this.addManagedListener(i.getGui(),"keydown",function(a){var s=a.key;(s===G.PAGE_UP||s===G.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,i,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){Vl()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():null===(i=(e=this.cellEditorInput).setCaret)||void 0===i||i.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,i=e.getFocusableElement(),r=e.getInputElement();i.focus(),r.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eInput")],t.prototype,"eInput",void 0),t}(bd),lMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cMe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},n.prototype.getValue=function(){var t=this.eInput.getValue();return ae(t)||ae(this.params.value)?this.params.parseValue(t):this.params.value},n.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var t=this.eInput.getValue(),e=ae(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},n}(),dY=function(n){function t(){return n.call(this,new cMe)||this}return lMe(t,n),t}(uE),uMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fMe=function(n){function t(){var e=n.call(this)||this;e.refreshCount=0;var i=document.createElement("span"),r=document.createElement("span");r.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),i.appendChild(r),i.appendChild(o),e.setTemplateFromElement(i),e}return uMe(t,n),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)},t.prototype.showDelta=function(e,i){var r=Math.abs(i),o=e.formatValue(r),a=ae(o)?o:r,s=i>=0;this.eDelta.textContent=s?"\u2191"+a:"\u2193"+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){i===e.refreshCount&&e.hideDeltaValue()},2e3)})},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Yn(this.eDelta)},t.prototype.refresh=function(e,i){void 0===i&&(i=!1);var r=e.value;return r!==this.lastValue&&(ae(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ae(e.value)?this.eValue.textContent=r:Yn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof r&&"number"==typeof this.lastValue&&this.showDelta(e,r-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),i||this.setTimerToRemoveDelta(),this.lastValue=r,!0)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),mMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vMe=function(n){function t(){var e=n.call(this)||this;e.refreshCount=0;var i=document.createElement("span"),r=document.createElement("span");return r.setAttribute("class","ag-value-slide-current"),i.appendChild(r),e.setTemplateFromElement(i),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return mMe(t,n),t.prototype.init=function(e){this.refresh(e,!0)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var r=document.createElement("span");r.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=r,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){i===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)})},t.prototype.refresh=function(e,i){void 0===i&&(i=!1);var r=e.value;return Qe(r)&&(r=""),r!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(i||this.addSlideAnimation(),this.lastValue=r,ae(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ae(e.value)?this.eCurrent.textContent=r:Yn(this.eCurrent),!0)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),eg=function(){return eg=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},eg.apply(this,arguments)},st=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(t,i,e);this.dispatchLocalEvent(r)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,i){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:i}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var i=ae(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);var o=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},n.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),e)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){var r=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},n.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var i=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(n.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],i=this;for(t&&(i=i.parent);i&&i.level>=0;)e.push(i.key),i=i.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!(!ae(this.rowTop)||!ae(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=sa(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=this,e=!1,i=!0,r=0,o=this.__autoHeights;if(null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(l){var c=o[l.getId()];if(null==c){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var u=[];switch(l.getPinned()){case"left":u=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":u=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:u=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(u.includes(l))return void(e=!0);c=-1}else i=!1;c>r&&(r=c)}),!e&&((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r!=this.rowHeight))){this.setRowHeight(r);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(x.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,i){var c,a="string"!=typeof t?t:null!==(c=this.beans.columnModel.getGridColumn(t))&&void 0!==c?c:this.beans.columnModel.getPrimaryColumn(t),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,i),!1;var l=this.beans.valueService.setValue(this,a,e,i);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,i&&o&&!a)},n.prototype.dispatchEventForSaveValueReadOnly=function(t,e,i,r){var o=this.beans.gridOptionsService.addGridCommonParams({type:x.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:e,newValue:i,value:i,source:r});this.beans.eventService.dispatchEvent(o)},n.prototype.setGroupValue=function(t,e){var i=this.beans.columnModel.getGridColumn(t);Qe(this.groupData)&&(this.groupData={});var r=i.getColId(),o=this.groupData[r];o!==e&&(this.groupData[r]=e,this.dispatchCellChangedEvent(i,e,o))},n.prototype.setAggData=function(t){var e=this,i=this.aggData;if(this.aggData=t,this.eventService){var r=function(a){var s=e.aggData?e.aggData[a]:void 0,l=i?i[a]:void 0;if(s!==l){var c=e.beans.columnModel.lookupGridColumn(a);c&&e.dispatchCellChangedEvent(c,s,l)}};for(var o in this.aggData)r(o);for(var o in t)o in this.aggData||r(o)}},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var i=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(i?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&oa(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,i){this.dispatchLocalEvent({type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:i})},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,i=!1,r=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(null===l)continue;s=l}switch(s){case!0:e=!0;break;case!1:i=!0;break;default:r=!0}}return r||e&&i?void 0:!!e||!i&&(this.selectable?this.selected:null)},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.selectThisNode=function(t,e,i){if(void 0===i&&(i="api"),!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var s=eg(eg({},this.createGlobalRowEvent(x.EVENT_ROW_SELECTED)),{event:e||null,source:i});return this.beans.eventService.dispatchEvent(s),!0},n.prototype.setSelected=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i="api"),"boolean"!=typeof i?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:i}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},n.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(eg(eg({},t),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.addEventListener=function(t,e){var i,r;this.eventService||(this.eventService=new Ll),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new _F(this.beans.frameworkOverrides));var o=null!==(r=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.wrap(e))&&void 0!==r?r:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var i,r;if(this.eventService){var o=null!==(r=null===(i=this.frameworkEventListenerService)||void 0===i?void 0:i.unwrap(e))&&void 0!==r?r:e;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,i=!0,r=!1,o=null;i&&!r;){var a=e.parent;ae(a)&&e.firstChild?a.rowGroupColumn===t&&(r=!0,o=a):i=!1,e=a}return r?o:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},n.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},n.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),i=new n(this.beans);Object.keys(this).forEach(function(r){e.has(r)||(i[r]=t[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),yMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dE=function(){return dE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},dE.apply(this,arguments)},hY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pY=function(n){function t(){return n.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return yMe(t,n),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onClicked=function(e,i,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:i,event:r,source:"checkboxSelected"})},t.prototype.init=function(e){var i=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Rs(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Rs(s);var l=i.gridOptionsService.get("groupSelectsFiltered"),c=i.eCheckbox.getValue();i.shouldHandleIndeterminateState(c,l)?0===i.onClicked(!0,l,s||{})&&i.onClicked(!1,l,s):c?i.onClicked(!1,l,s):i.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,st.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,st.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,i){return i&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,i,r,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if("function"==typeof s){var l=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,c=null===(i=this.column)||void 0===i?void 0:i.createColumnFunctionCallbackParams(this.rowNode);a=!!c&&s(dE(dE({},l),c))}else a=s??!1;if(null===(r=this.column)||void 0===r?void 0:r.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!a),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(a):this.setVisible(a)},t.prototype.getIsVisible=function(){var e,i;return this.overrides?this.overrides.isVisible:null===(i=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===i?void 0:i.checkboxSelection},hY([V("eCheckbox")],t.prototype,"eCheckbox",void 0),hY([H],t.prototype,"postConstruct",null),t}(le),Fs=(()=>((Fs=Fs||{})[Fs.Up=0]="Up",Fs[Fs.Down=1]="Down",Fs))(),lr=(()=>((lr=lr||{})[lr.Left=0]="Left",lr[lr.Right=1]="Right",lr))(),_Me=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yp=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hE=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},zt=(()=>((zt=zt||{})[zt.ToolPanel=0]="ToolPanel",zt[zt.HeaderCell=1]="HeaderCell",zt[zt.RowDrag=2]="RowDrag",zt[zt.ChartPanel=3]="ChartPanel",zt[zt.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",zt))(),Bt=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}var e;return _Me(t,n),e=t,t.prototype.init=function(){this.ePinnedIcon=Ya("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ya("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ya("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ya("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ya("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ya("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ya("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ya("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ya("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(i,r){void 0===r&&(r=!1);var o={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:r};this.dragSourceAndParamsList.push({params:o,dragSource:i}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(i){var r=this.dragSourceAndParamsList.find(function(o){return o.dragSource===i});r&&(this.dragService.removeDragSource(r.params),wo(this.dragSourceAndParamsList,r))},t.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(r){return i.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(i,r){this.dragging=!0,this.dragSource=i,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(i,r){var a,s,l,c,o=this,u=this.getHorizontalDirection(i),d=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var h=this.dropTargets.filter(function(m){return o.isMouseOnDropTarget(i,m)}),p=this.findCurrentDropTarget(i,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(i,u,d,r),null!==this.lastDropTarget&&null===p&&(null===(s=(a=this.dragSource).onGridExit)||void 0===s||s.call(a,this.dragItem)),null===this.lastDropTarget&&null!==p&&(null===(c=(l=this.dragSource).onGridEnter)||void 0===c||c.call(l,this.dragItem)),this.enterDragTargetIfExists(p,i,u,d,r),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,i,u,d,r);p.onDragging(f)}},t.prototype.getAllContainersFromDropTarget=function(i){var r=i.getSecondaryContainers?i.getSecondaryContainers():null,o=[[i.getContainer()]];return r?o.concat(r):o},t.prototype.allContainersIntersect=function(i,r){var o,a;try{for(var s=hE(r),l=s.next();!l.done;l=s.next()){var u=l.value.getBoundingClientRect();if(0===u.width||0===u.height)return!1;if(!(i.clientX>=u.left&&i.clientX<u.right&&i.clientY>=u.top&&i.clientY<u.bottom))return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(i,r){var o,a,s=this.getAllContainersFromDropTarget(r),l=!1;try{for(var c=hE(s),u=c.next();!u.done;u=c.next())if(this.allContainersIntersect(i,u.value)){l=!0;break}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return!(r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement))&&l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(i,r){var o,a,s,l,c=r.length;if(0===c)return null;if(1===c)return r[0];var d=this.gridOptionsService.getRootNode().elementsFromPoint(i.clientX,i.clientY);try{for(var h=hE(d),p=h.next();!p.done;p=h.next()){var f=p.value;try{for(var m=(s=void 0,hE(r)),g=m.next();!g.done;g=m.next()){var v=g.value;if(-1!==Z6(this.getAllContainersFromDropTarget(v)).indexOf(f))return v}}catch(_){s={error:_}}finally{try{g&&!g.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(i,r,o,a,s){if(i){if(i.onDragEnter){var l=this.createDropTargetEvent(i,r,o,a,s);i.onDragEnter(l)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(i,r,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,i,r,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(i){this.dropTargets.push(i)},t.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==i.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},t.prototype.findExternalZone=function(i){return this.dropTargets.filter(function(o){return o.external}).find(function(o){return o.getContainer()===i.getContainer()})||null},t.prototype.getHorizontalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientX,o=i.clientX;return r===o?null:r>o?lr.Left:lr.Right},t.prototype.getVerticalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientY,o=i.clientY;return r===o?null:r>o?Fs.Up:Fs.Down},t.prototype.createDropTargetEvent=function(i,r,o,a,s){var l=i.getContainer(),c=l.getBoundingClientRect(),u=this;return{event:r,x:r.clientX-c.left,y:r.clientY-c.top,vDirection:a,hDirection:o,dragSource:u.dragSource,fromNudge:s,dragItem:u.dragItem,api:u.gridApi,columnApi:u.columnApi,dropZoneTarget:l}},t.prototype.positionGhost=function(i){var r=this.eGhost;if(r){var a=r.getBoundingClientRect().height,s=wK()-2,l=SK()-2,c=nk(r.offsetParent),h=i.clientY-c.top-a/2,p=i.clientX-c.left-10,f=this.gridOptionsService.getDocument(),m=f.defaultView||window,g=m.pageYOffset||f.documentElement.scrollTop,v=m.pageXOffset||f.documentElement.scrollLeft;s>0&&p+r.clientWidth>s+v&&(p=s+v-r.clientWidth),p<0&&(p=0),l>0&&h+r.clientHeight>l+g&&(h=l+g-r.clientHeight),h<0&&(h=0),r.style.left="".concat(p,"px"),r.style.top="".concat(h,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=xo(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;$x(o)&&(o=o()),r.innerHTML=Mn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var l,a=this.gridOptionsService.getDocument(),s=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode()),l=s.querySelector("body")||(s instanceof ShadowRoot?s:s instanceof Document?s?.documentElement:s)}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(i,r){void 0===r&&(r=!1),Yn(this.eGhostIcon);var o=null;switch(i||(i=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),i){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),(o!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',yp([C("dragService")],t.prototype,"dragService",void 0),yp([C("mouseEventService")],t.prototype,"mouseEventService",void 0),yp([C("columnApi")],t.prototype,"columnApi",void 0),yp([C("gridApi")],t.prototype,"gridApi",void 0),yp([H],t.prototype,"init",null),yp([Mi],t.prototype,"clearDragSourceParamsList",null),e=yp([oe("dragAndDropService")],t)}(z),pE=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),U_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fE=function(n){function t(e,i,r,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=i,l.column=r,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return pE(t,n),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(pn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new bMe(this,this.beans,this.rowNode,this.column):new CMe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,i){this.setTemplateFromElement(e),this.addDragSource(i)},t.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];var i=this.beans.selectionService.getSelectedNodes();return-1!==i.indexOf(this.rowNode)?i:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&We("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var i=e.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var i=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var r=this.localeService.getLocaleTextFunc();this.dragSource={type:zt.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=i.getDragItem(),s=(null===(o=a.rowNodes)||void 0===o?void 0:o.length)||1,l=i.getRowDragText(i.column);return l?l(a,s):1===s?i.cellValueFn():"".concat(s," ").concat(r("rowDragRows","rows"))},getDragItem:function(){return i.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},U_([C("beans")],t.prototype,"beans",void 0),U_([H],t.prototype,"postConstruct",null),U_([Mi],t.prototype,"removeDragSource",null),t}(le),fY=function(n){function t(e,i,r){var o=n.call(this)||this;return o.parent=e,o.rowNode=i,o.column=r,o}return pE(t,n),t.prototype.setDisplayedOrVisible=function(e){var i={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,i);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=$x(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,i),this.parent.setVisible(r,i)):(this.parent.setDisplayed(r,i),this.parent.setVisible(!0,i))}},t}(z),CMe=function(n){function t(e,i,r,o){var a=n.call(this,e,r,o)||this;return a.beans=i,a}return pE(t,n),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},U_([H],t.prototype,"postConstruct",null),t}(fY),bMe=function(n){function t(e,i,r,o){var a=n.call(this,e,r,o)||this;return a.beans=i,a}return pE(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,x.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=i&&i.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(r&&!a||o)},U_([H],t.prototype,"postConstruct",null),t}(fY),wMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mE=function(){return mE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mE.apply(this,arguments)},z_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},SMe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return wMe(t,n),t.prototype.init=function(e,i,r,o,a,s,l){var c,u,d,h;this.params=l,this.eGui=i,this.eCheckbox=r,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var p=l.node,f=l.colDef,m=this.isTopLevelFooter();if(!m){if(this.isEmbeddedRowMismatch())return;if(p.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(f&&f.showRowGroup)!==(p.rowGroupColumn&&p.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!m){var _=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(k){var L;return k.getColId()===(null===(L=l.colDef)||void 0===L?void 0:L.showRowGroup)}),w="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||null!=l.node.rowGroupIndex&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(k){var L;return k.getColId()===(null===(L=l.colDef)||void 0===L?void 0:L.showRowGroup)})),E=!p.group&&((null===(c=this.params.colDef)||void 0===c?void 0:c.field)||(null===(u=this.params.colDef)||void 0===u?void 0:u.valueGetter)),M=this.isExpandable(),P=this.columnModel.isPivotMode()&&p.leafGroup&&(null===(d=p.rowGroupColumn)||void 0===d?void 0:d.getColId())===(null===(h=l.column)||void 0===h?void 0:h.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||M||E||w||_||P))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,i,r=null===(e=this.params.colDef)||void 0===e?void 0:e.cellAriaRole,o=null===(i=this.params.column)||void 0===i?void 0:i.getColDef().cellAriaRole;return r||o||"gridcell"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,i=e.node,r=e.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){Jc(r,!!i.expanded)};this.expandListener=this.addManagedListener(i,st.EVENT_EXPANDED_CHANGED,o)||null,o()}else fK(r)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var r=this.columnModel.getRowGroupColumns();return!r||0===r.length||r[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,i="right"===this.params.pinned,r=!e&&!i;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!i:!r:this.columnModel.isPinningLeft()?!e:!r},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var r=i.parent;null!=r;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}Qe(this.displayedGroupNode)&&(this.displayedGroupNode=i)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,i=this.params.column;if(this.gridOptionsService.get("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var s=null!=e.groupData[i.getId()];this.showingValueForOpenedParent=s}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,i=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(i),a=i.value,s=i.valueFormatted;if(null==s){var l=this.displayedGroupNode.rowGroupColumn&&(null===(e=this.params.column)||void 0===e?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));s=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&l?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):a??null}this.comp.setInnerRenderer(r,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(null!=i&&!i.isRowGroupDisplayed(e.getId()))return this.params;var a=this.params,s=this.params,u=this.valueFormatterService.formatValue(e,s.node,s.value);return mE(mE({},a),{valueFormatted:u})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,i="";if(e){var r=pF(this.params);r.value=this.params.value,"function"==typeof e?i=e(r):"string"==typeof e?i=this.expressionService.evaluate(e,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,i)},t.prototype.getInnerCompDetails=function(e){var i=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var r=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(u){return u&&u.componentClass==i.compClass};if(r&&!o(r))return r;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,st.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var i=this.params.column;return null==i||i.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e,i=this.params,r=pn("groupExpanded",this.gridOptionsService,null),o=pn("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var a=i.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(i.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,st.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,st.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,st.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,st.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,st.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Ps(e)||(Rs(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var i=this.displayedGroupNode,r=!i.expanded;!r&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(r,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||i)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.displayedGroupNode,o=e.columnModel,a=e.params.node,s=this.isExpandable();if(s){var l=!!this.showingValueForOpenedParent||a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var c=o.isPivotMode(),u=c&&r.leafGroup,d=s&&!u,h=a.footer&&-1===a.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),c?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",u):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,st.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,i=e.node,r=!!e.colDef,o=this.gridOptionsService.get("treeData"),s=!r||o||!0===e.colDef.showRowGroup?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var i=new fE(function(){return e.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,i=this.displayedGroupNode,r=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(r){var o=new pY;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(r)},t.prototype.onKeyDown=function(e){e.key!==G.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){Ps(e)||qx(this.eExpanded,e)||qx(this.eContracted,e)||this.onExpandOrContract(e)},z_([C("expressionService")],t.prototype,"expressionService",void 0),z_([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),z_([C("columnModel")],t.prototype,"columnModel",void 0),z_([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),z_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(z),xMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),W_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mY=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return xMe(t,n),t.prototype.init=function(e){var i=this,r={setInnerRenderer:function(l,c){return i.setRenderDetails(l,c)},setChildCount:function(l){return i.eChildCount.textContent=l},addOrRemoveCssClass:function(l,c){return i.addOrRemoveCssClass(l,c)},setContractedDisplayed:function(l){return Nt(i.eContracted,l)},setExpandedDisplayed:function(l){return Nt(i.eExpanded,l)},setCheckboxVisible:function(l){return i.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new SMe),a=!e.colDef,s=this.getGui();o.init(r,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&An(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,i){var r=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return r.context.destroyBean(a)};r.isAlive()?(r.eValue.appendChild(a.getGui()),r.addDestroyFunc(s)):s()}})}else this.eValue.innerText=i},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',W_([V("eExpanded")],t.prototype,"eExpanded",void 0),W_([V("eContracted")],t.prototype,"eContracted",void 0),W_([V("eCheckbox")],t.prototype,"eCheckbox",void 0),W_([V("eValue")],t.prototype,"eValue",void 0),W_([V("eChildCount")],t.prototype,"eChildCount",void 0),t}(le),EMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DMe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return EMe(t,n),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=pn("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',gY([V("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),gY([V("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(le),TMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MMe=function(n){function t(){return n.call(this)||this}return TMe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,r=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(r??t.DEFAULT_LOADING_OVERLAY_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){i.getGui().textContent=o("loadingOoo","Loading...")})}},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',t}(le),AMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OMe=function(n){function t(){return n.call(this)||this}return AMe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,r=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(r??t.DEFAULT_NO_ROWS_TEMPLATE),!r){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){i.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',t}(le),RMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PMe=function(n){function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return RMe(t,n),t.prototype.init=function(e){var i=e.value;this.getGui().textContent=Mn(i,!0)},t}(bd),IMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FMe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);var i=t.getInputElement();e.preventStepping?t.addManagedListener(i,"keydown",this.preventStepping):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")},n.prototype.preventStepping=function(t){(t.key===G.UP||t.key===G.DOWN)&&t.preventDefault()},n.prototype.getValue=function(){var t=this.eInput.getValue();if(!ae(t)&&!ae(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},n.prototype.getStartValue=function(){return this.params.value},n}(),kMe=function(n){function t(){return n.call(this,new FMe)||this}return IMe(t,n),t}(uE),LMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NMe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.eInput.getDate();return ae(t)||ae(this.params.value)?t??null:this.params.value},n.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return $a(t,!1)},n}(),VMe=function(n){function t(){return n.call(this,new NMe)||this}return LMe(t,n),t}(uE),GMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HMe=function(){function n(t){this.getDataTypeService=t}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return ae(t)||ae(this.params.value)?this.params.parseValue(t??""):this.params.value},n.prototype.getStartValue=function(){var t,e;return $a(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},n.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)},n.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)},n}(),jMe=function(n){function t(){var e=n.call(this,new HMe(function(){return e.dataTypeService}))||this;return e}return GMe(t,n),function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(uE),UMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WMe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return UMe(t,n),t.prototype.init=function(e){var i=this;this.params=e,this.updateCheckbox(e);var r=this.eCheckbox.getInputElement();r.setAttribute("tabindex","-1"),AF(r,"polite"),this.addManagedListener(r,"click",function(a){if(Rs(a),!i.eCheckbox.isDisabled()){var s=i.eCheckbox.getValue();i.onCheckboxChanged(s)}}),this.addManagedListener(r,"dblclick",function(a){Rs(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===G.SPACE&&!i.eCheckbox.isDisabled()){i.params.eGridCell===o.activeElement&&i.eCheckbox.toggle();var s=i.eCheckbox.getValue();i.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var i,r,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(pd)?a=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[l]?a=null!==(i=e.value)&&void 0!==i?i:void 0:s=!1}else a=null!==(r=e.value)&&void 0!==r?r:void 0;if(s){this.eCheckbox.setValue(a);var c=null!=e.disabled?e.disabled:!(null!==(o=e.column)&&void 0!==o&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(c);var u=this.localeService.getLocaleTextFunc(),d=NF(u,a),h=c?d:"".concat(u("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(h)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var i=this.params,r=i.column,o=i.node,a=i.rowIndex,s=i.value,l={type:x.EVENT_CELL_EDITING_STARTED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var c=this.params.node.setDataValue(this.params.column,e,"edit"),u={type:x.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:c};this.eventService.dispatchEvent(u)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(le),$Me=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YMe=function(n){function t(){return n.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return $Me(t,n),t.prototype.init=function(e){var r,i=this;this.params=e;var o=null!==(r=e.value)&&void 0!==r?r:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,x.EVENT_FIELD_VALUE_CHANGED,function(s){return i.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var i=this.localeService.getLocaleTextFunc(),r=NF(i,e),o=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(bd),qMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vY=function(n){function t(){var e=n.call(this)||this;return e.setTemplate("<div></div>"),e}return qMe(t,n),t.prototype.init=function(e){var i;this.params=e,this.cssClassPrefix=null!==(i=this.params.cssClassPrefix)&&void 0!==i?i:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},t.prototype.configureDefaults=function(){return!0},t.prototype.addIcon=function(){if(!this.params.isCompact){var e=xo('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(pn("check",this.gridOptionsService)):this.params.icon&&(G_(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){var e=xo('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)},t.prototype.addShortcut=function(){if(!this.params.isCompact){var e=xo('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){var e=xo('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),i=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Jc(i,!1),e.appendChild(pn(r,this.gridOptionsService))}i.appendChild(e)},t.prototype.getClassName=function(e){return"".concat(this.cssClassPrefix,"-").concat(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(le),XMe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ok=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yY=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},_Y=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},ZMe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:UTe,agColumnHeader:Mk,agColumnGroupHeader:JTe,agSortIndicator:Tk,agTextColumnFloatingFilter:qTe,agNumberColumnFloatingFilter:KTe,agDateColumnFloatingFilter:GTe,agReadOnlyFloatingFilter:gTe,agAnimateShowChangeCellRenderer:fMe,agAnimateSlideCellRenderer:vMe,agGroupCellRenderer:mY,agGroupRowRenderer:mY,agLoadingCellRenderer:DMe,agCheckboxCellRenderer:WMe,agCellEditor:dY,agTextCellEditor:dY,agNumberCellEditor:kMe,agDateCellEditor:VMe,agDateStringCellEditor:jMe,agSelectCellEditor:oMe,agLargeTextCellEditor:nMe,agCheckboxCellEditor:YMe,agTextColumnFilter:j_,agNumberColumnFilter:nY,agDateColumnFilter:JK,agLoadingOverlay:MMe,agNoRowsOverlay:OMe,agTooltipComponent:PMe,agMenuItem:vY},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:ie.SetFilterModule,agSetColumnFloatingFilter:ie.SetFilterModule,agMultiColumnFilter:ie.MultiFilterModule,agMultiColumnFloatingFilter:ie.MultiFilterModule,agGroupColumnFilter:ie.RowGroupingModule,agGroupColumnFloatingFilter:ie.RowGroupingModule,agRichSelect:ie.RichSelectModule,agRichSelectCellEditor:ie.RichSelectModule,agDetailCellRenderer:ie.MasterDetailModule,agSparklineCellRenderer:ie.SparklinesModule},e.jsComps={},e}return XMe(t,n),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Lr(this.gridOptions.components,function(i,r){return e.registerJsComponent(i,r)})},t.prototype.registerDefaultComponent=function(e,i){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=i},t.prototype.registerJsComponent=function(e,i){this.jsComps[e]=i},t.prototype.retrieve=function(e,i){var r=this,o=function(d,h){return{componentFromFramework:h,component:d}},a=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(null!=a)return o(a,!0);var s=this.jsComps[i];if(s)return o(s,this.getFrameworkOverrides().isFrameworkComponent(s));var c=this.agGridDefaults[i];if(c)return o(c,!1);var u=this.enterpriseAgDefaultCompsModule[i];return u?Ze.__assertRegistered(u,"AG Grid '".concat(e,"' component: ").concat(i),this.context.getGridId()):cp(function(){r.warnAboutMissingComponent(e,i)},"MissingComp"+i),null},t.prototype.warnAboutMissingComponent=function(e,i){var o=B_(i,_Y(_Y([],yY(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),yY(Object.keys(this.jsComps)),!1),!0,.8).values;console.warn("AG Grid: Could not find '".concat(i,"' component. It was configured as \"").concat(e,": '").concat(i,"'\" but it wasn't found in the list of registered components.")),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},Ok([C("gridOptions")],t.prototype,"gridOptions",void 0),Ok([H],t.prototype,"init",null),Ok([oe("userComponentRegistry")],t)}(z),QMe={propertyName:"dateComponent",cellRenderer:!1},JMe={propertyName:"headerComponent",cellRenderer:!1},eAe={propertyName:"headerGroupComponent",cellRenderer:!1},CY={propertyName:"cellRenderer",cellRenderer:!0},tAe={propertyName:"cellEditor",cellRenderer:!1},bY={propertyName:"innerRenderer",cellRenderer:!0},iAe={propertyName:"loadingOverlayComponent",cellRenderer:!1},nAe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},rAe={propertyName:"tooltipComponent",cellRenderer:!1},Rk={propertyName:"filter",cellRenderer:!1},oAe={propertyName:"floatingFilterComponent",cellRenderer:!1},aAe={propertyName:"toolPanel",cellRenderer:!1},sAe={propertyName:"statusPanel",cellRenderer:!1},lAe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},cAe={propertyName:"loadingCellRenderer",cellRenderer:!0},uAe={propertyName:"groupRowRenderer",cellRenderer:!0},dAe={propertyName:"detailCellRenderer",cellRenderer:!0},hAe={propertyName:"menuItem",cellRenderer:!1},pAe=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),fAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mAe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fAe(t,n),t.prototype.getHeaderCompDetails=function(e,i){return this.getCompDetails(e,JMe,"agColumnHeader",i)},t.prototype.getHeaderGroupCompDetails=function(e){var i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,eAe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,lAe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,cAe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,uAe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,dAe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,i){return this.getCompDetails(e,bY,null,i)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,i){return this.getCompDetails(e,bY,null,i)},t.prototype.getCellRendererDetails=function(e,i){return this.getCompDetails(e,CY,null,i)},t.prototype.getCellEditorDetails=function(e,i){return this.getCompDetails(e,tAe,"agCellEditor",i,!0)},t.prototype.getFilterDetails=function(e,i,r){return this.getCompDetails(e,Rk,r,i,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,QMe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,iAe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,nAe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,rAe,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,i){return this.getCompDetails(e,CY,null,i)},t.prototype.getFloatingFilterCompDetails=function(e,i,r){return this.getCompDetails(e,oAe,r,i)},t.prototype.getToolPanelCompDetails=function(e,i){return this.getCompDetails(e,aAe,null,i,!0)},t.prototype.getStatusPanelCompDetails=function(e,i){return this.getCompDetails(e,sAe,null,i,!0)},t.prototype.getMenuItemCompDetails=function(e,i){return this.getCompDetails(e,hAe,"agMenuItem",i,!0)},t.prototype.getCompDetails=function(e,i,r,o,a){var s=this;void 0===a&&(a=!1);var l=i.propertyName,c=i.cellRenderer,u=this.getCompKeys(e,i,o),d=u.compName,h=u.jsComp,p=u.fwComp,f=u.paramsFromSelector,m=u.popupFromSelector,g=u.popupPositionFromSelector,v=function(w){var E=s.userComponentRegistry.retrieve(l,w);E&&(h=E.componentFromFramework?void 0:E.component,p=E.componentFromFramework?E.component:void 0)};if(null!=d&&v(d),null==h&&null==p&&null!=r&&v(r),h&&c&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),h||p){var y=this.mergeParamsWithApplicationProvidedParams(e,i,o,f),_=null==h,b=h||p;return{componentFromFramework:_,componentClass:b,params:y,type:i,popupFromSelector:m,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(b,_,y,i)}}}a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"))},t.prototype.getCompKeys=function(e,i,r){var s,l,c,u,d,h,o=this,a=i.propertyName;if(e){var p=e,f=p[a+"Selector"],m=f?f(r):null,g=function(v){"string"==typeof v?s=v:null!=v&&!0!==v&&(o.getFrameworkOverrides().isFrameworkComponent(v)?c=v:l=v)};m?(g(m.component),u=m.params,d=m.popup,h=m.popupPosition):g(p[a])}return{compName:s,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}},t.prototype.newAgStackInstance=function(e,i,r,o){var l;if(i){var c=this.componentMetadataProvider.retrieve(o.propertyName);l=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,o)}else l=new e;var u=this.initComponent(l,r);return null==u?vt.resolve(l):u.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,i,r,o){void 0===o&&(o=null);var a=this.gridOptionsService.getGridCommonParams();aa(a,r);var l=e&&e[i.propertyName+"Params"];return"function"==typeof l?aa(a,l(r)):"object"==typeof l&&aa(a,l),aa(a,o),a},t.prototype.initComponent=function(e,i){if(this.context.createBean(e),null!=e.init)return e.init(i)},t.prototype.getDefaultFloatingFilterType=function(e,i){if(null==e)return null;var r=null,o=this.getCompKeys(e,Rk),a=o.compName,s=o.jsComp,l=o.fwComp;return a?r=pAe.getFloatingFilterType(a):null==s&&null==l&&!0===e.filter&&(r=i()),r},tg([C("gridOptions")],t.prototype,"gridOptions",void 0),tg([C("agComponentUtils")],t.prototype,"agComponentUtils",void 0),tg([C("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),tg([C("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),tg([gt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),tg([oe("userComponentFactory")],t)}(z),gAe=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}(),ks=(()=>((ks=ks||{})[ks.SINGLE_SHEET=0]="SINGLE_SHEET",ks[ks.MULTI_SHEET=1]="MULTI_SHEET",ks))(),vAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yAe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return vAe(t,n),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var i=e.dragSource.eElement;i.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&i.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var i=this.dragSources.find(function(r){return r.dragSource===e});i&&(this.removeListener(i),wo(this.dragSources,i))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var i=this,r=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",r);var l=null,c=this.gridOptionsService.get("suppressTouch");a&&!c&&o.addEventListener("touchstart",l=function(u){tk(u.target)||(u.cancelable&&(u.preventDefault(),s&&u.stopPropagation()),i.onTouchStart(e,u))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:r,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,i){var r=this;this.currentDragParams=e,this.dragging=!1;var o=i.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return r.onTouchUp(d,e.eElement)},c=i.target,u=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(d){d.cancelable&&d.preventDefault()},options:{passive:!1}},{target:c,type:"touchmove",listener:function(d){return r.onTouchMove(d,e.eElement)},options:{passive:!0}},{target:c,type:"touchend",listener:s,options:{passive:!0}},{target:c,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(u),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,i){var r=this,o=i;if(!(e.skipMouseEvent&&e.skipMouseEvent(i)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==i.button))){this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;var c=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:c,type:"mousemove",listener:function(d){return r.onMouseMove(d,e.eElement)}},{target:c,type:"mouseup",listener:function(d){return r.onMouseUp(d,e.eElement)}},{target:c,type:"contextmenu",listener:function(d){return d.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(i,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(i){i.target.addEventListener(i.type,i.listener,i.options)}),this.dragEndFunctions.push(function(){e.forEach(function(i){i.target.removeEventListener(i.type,i.listener,i.options)})})},t.prototype.isEventNearStartEvent=function(e,i){var r=this.currentDragParams.dragStartPixels;return uk(e,i,ae(r)?r:4)},t.prototype.getFirstActiveTouch=function(e){for(var i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null},t.prototype.onCommonMove=function(e,i,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0,this.eventService.dispatchEvent({type:x.EVENT_DRAG_STARTED,target:r}),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,i){var r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,i)},t.prototype.onMouseMove=function(e,i){var r;Vl()&&(null===(r=this.gridOptionsService.getDocument().getSelection())||void 0===r||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)},t.prototype.shouldPreventMouseEvent=function(e){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var i=e.target,r=i?.tagName.toLocaleLowerCase();return!!r?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,i){var r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,i)},t.prototype.onMouseUp=function(e,i){this.onUpCommon(e,i)},t.prototype.onUpCommon=function(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:x.EVENT_DRAG_STOPPED,target:i})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},Pk([C("mouseEventService")],t.prototype,"mouseEventService",void 0),Pk([Mi],t.prototype,"removeAllListeners",null),Pk([oe("dragService")],t)}(z),gE=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){void 0===e&&(e=!1);var i=e||this.shouldSkipVerticalScroll();if(!i||!this.shouldSkipHorizontalScroll()){var r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<r.left+o,this.tickRight=t.clientX>r.right-o,this.tickUp=t.clientY<r.top+o&&!i,this.tickDown=t.clientY>r.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-t),this.tickRight&&this.setHorizontalPosition(i+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),_Ae=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ik="ag-list-item-hovered",SY=function(n){function t(e,i,r){var o=n.call(this)||this;return o.comp=e,o.virtualList=i,o.params=r,o.currentDragValue=null,o.lastHoveredListItem=null,o}return _Ae(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(r){return r===e.params.dragSourceType},getIconName:function(){return e.moveBlocked?Bt.ICON_PINNED:Bt.ICON_MOVE},getContainer:function(){return e.comp.getGui()},onDragging:function(r){return e.onDragging(r)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new gE({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},t.prototype.onDragging=function(e){if(this.currentDragValue&&!this.moveBlocked){var i=this.getListDragItem(e),r=this.virtualList.getComponentAt(i.rowIndex);if(r){var o=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===i.rowIndex&&this.lastHoveredListItem.position===i.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=i,JF(o,Ik),JF(o,"ag-item-highlight-".concat(i.position)))}}},t.prototype.getListDragItem=function(e){var i=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(i).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-r+a)/o),l=this.params.getNumRows(this.comp)-1,c=0|Math.min(l,s);return{rowIndex:c,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(c)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll(".".concat(Ik)).forEach(function(i){[Ik,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(r){i.classList.remove(r)})}),this.lastHoveredListItem=null},wY([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),wY([H],t.prototype,"postConstruct",null),t}(z),Do=(()=>((Do=Do||{})[Do.Above=0]="Above",Do[Do.Below=1]="Below",Do))(),kt=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function _p(n){return null!=n&&null!=n.getFrameworkComponentInstance?n.getFrameworkComponentInstance():n}var xY=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.__getModel=function(){return this.rowModel},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;Lr(this.detailGridInfoMap,function(i,r){ae(r)&&(t(r,e),e++)})},n.prototype.getDataAsCsv=function(t){if(Ze.__assertRegistered(ie.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){Ze.__assertRegistered(ie.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},n.prototype.assertNotExcelMultiSheet=function(t,e){return!(!Ze.__assertRegistered(ie.ExcelExportModule,"api."+t,this.context.getGridId())||this.excelCreator.getFactoryMode()===ks.MULTI_SHEET&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))},n.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},n.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},n.prototype.getSheetDataForExcel=function(t){if(Ze.__assertRegistered(ie.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(ks.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},n.prototype.getMultipleSheetsAsExcel=function(t){if(Ze.__assertRegistered(ie.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){Ze.__assertRegistered(ie.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setGridAriaProperty=function(t,e){if(t){var i=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-".concat(t);null===e?i.removeAttribute(r):i.setAttribute(r,e)}},n.prototype.logMissingRowModel=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},n.prototype.logDeprecation=function(t,e,i,r){We("Since ".concat(t," api.").concat(e," is deprecated. Please use ").concat(i," instead. ").concat(r))},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.refreshCells=function(t){var e=this;void 0===t&&(t={}),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.refreshCells(t)})},n.prototype.flashCells=function(t){var e=this;void 0===t&&(t={});var i=function(r){return We("Since v31.1 api.flashCells parameter '".concat(r,"Delay' is deprecated. Please use '").concat(r,"Duration' instead."))};ae(t.fadeDelay)&&i("fade"),ae(t.flashDelay)&&i("flash"),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.flashCells(t)})},n.prototype.redrawRows=function(t){var e=this;void 0===t&&(t={});var i=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.redrawRows(i)})},n.prototype.refreshHeader=function(){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return We("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},n.prototype.setRowNodeExpanded=function(t,e,i){this.expansionService.setRowNodeExpanded(t,e,i)},n.prototype.onGroupExpandedOrCollapsed=function(){Qe(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()},n.prototype.refreshClientSideRowModel=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.getAdvancedFilterModel=function(){return Ze.__assertRegistered(ie.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},n.prototype.showAdvancedFilterBuilder=function(){Ze.__assertRegistered(ie.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(t){t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==s.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)})&&this.selectionService.setNodesSelected({nodes:t.nodes,source:t.source??"api",newValue:t.newValue})},n.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},n.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},n.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},n.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return Qe(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},n.prototype.setServerSideSelectionState=function(t){Qe(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")},n.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(!Qe(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(t,e){var i=this;void 0===e&&(e="auto"),this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},"ensureVisible")},n.prototype.ensureIndexVisible=function(t,e){var i=this;this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},"ensureVisible")},n.prototype.ensureNodeVisible=function(t,e){var i=this;void 0===e&&(e=null),this.frameworkOverrides.wrapIncoming(function(){return i.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},"ensureVisible")},n.prototype.forEachLeafNode=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},n.prototype.forEachNodeAfterFilter=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){Qe(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){return We("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)},n.prototype.getColumnFilterInstance=function(t){return this.filterManager.getColumnFilterInstance(t)},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},n.prototype.getStatusPanel=function(t){if(Ze.__assertRegistered(ie.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return _p(this.statusBarService.getStatusPanel(t))},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.filterManager.setFilterModel(t)})},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getColumnFilterModel=function(t){return this.filterManager.getColumnFilterModel(t)},n.prototype.setColumnFilterModel=function(t,e){return this.filterManager.setColumnFilterModel(t,e)},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.assertSideBarLoaded=function(t){return Ze.__assertRegistered(ie.SideBarModule,"api."+t,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},n.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},n.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},n.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},n.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return _p(this.sideBarService.getSideBarComp().getToolPanelInstance(t))},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},n.prototype.resetRowHeights=function(){if(ae(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},n.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var i=this.columnModel.getPrimaryColumn(t);return Qe(i)&&(i=this.columnModel.getGridColumn(t)),Qe(i)?null:this.valueService.getValue(i,e)},n.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},n.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},n.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},n.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:x.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy(),B6(this,["isDestroyed"],t)}},n.prototype.isDestroyed=function(){return this.destroyCalled},n.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Ze.__assertRegistered(ie.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):Ze.__assertRegistered(ie.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Ze.__assertRegistered(ie.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.assertChart=function(t,e){if(Ze.__assertRegistered(ie.GridChartsModule,"api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return e()})},n.prototype.getChartModels=function(){var t=this;return this.assertChart("getChartModels",function(){return t.chartService.getChartModels()})},n.prototype.getChartRef=function(t){var e=this;return this.assertChart("getChartRef",function(){return e.chartService.getChartRef(t)})},n.prototype.getChartImageDataURL=function(t){var e=this;return this.assertChart("getChartImageDataURL",function(){return e.chartService.getChartImageDataURL(t)})},n.prototype.downloadChart=function(t){var e=this;return this.assertChart("downloadChart",function(){return e.chartService.downloadChart(t)})},n.prototype.openChartToolPanel=function(t){var e=this;return this.assertChart("openChartToolPanel",function(){return e.chartService.openChartToolPanel(t)})},n.prototype.closeChartToolPanel=function(t){var e=this;return this.assertChart("closeChartToolPanel",function(){return e.chartService.closeChartToolPanel(t.chartId)})},n.prototype.createRangeChart=function(t){var e=this;return this.assertChart("createRangeChart",function(){return e.chartService.createRangeChart(t)})},n.prototype.createPivotChart=function(t){var e=this;return this.assertChart("createPivotChart",function(){return e.chartService.createPivotChart(t)})},n.prototype.createCrossFilterChart=function(t){var e=this;return this.assertChart("createCrossFilterChart",function(){return e.chartService.createCrossFilterChart(t)})},n.prototype.updateChart=function(t){var e=this;return this.assertChart("updateChart",function(){return e.chartService.updateChart(t)})},n.prototype.restoreChart=function(t,e){var i=this;return this.assertChart("restoreChart",function(){return i.chartService.restoreChart(t,e)})},n.prototype.assertClipboard=function(t,e){Ze.__assertRegistered(ie.ClipboardModule,"api"+t,this.context.getGridId())&&e()},n.prototype.copyToClipboard=function(t){var e=this;this.assertClipboard("copyToClipboard",function(){return e.clipboardService.copyToClipboard(t)})},n.prototype.cutToClipboard=function(t){var e=this;this.assertClipboard("cutToClipboard",function(){return e.clipboardService.cutToClipboard(t)})},n.prototype.copySelectedRowsToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return e.clipboardService.copySelectedRowsToClipboard(t)})},n.prototype.copySelectedRangeToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return e.clipboardService.copySelectedRangeToClipboard(t)})},n.prototype.copySelectedRangeDown=function(){var t=this;this.assertClipboard("copySelectedRangeDown",function(){return t.clipboardService.copyRangeDown()})},n.prototype.pasteFromClipboard=function(){var t=this;this.assertClipboard("pasteFromClipboard",function(){return t.clipboardService.pasteFromClipboard()})},n.prototype.showColumnMenuAfterButtonClick=function(t,e){We("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var i=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:i,buttonElement:e,positionBy:"button"})},n.prototype.showColumnMenuAfterMouseClick=function(t,e){We("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuService.showColumnMenu({column:i,mouseEvent:e,positionBy:"mouse"}):console.error("AG Grid: column '".concat(t,"' not found"))},n.prototype.showColumnChooser=function(t){this.menuService.showColumnChooser({chooserParams:t})},n.prototype.showColumnFilter=function(t){var e=this.columnModel.getGridColumn(t);e?this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"}):console.error("AG Grid: column '".concat(t,"' not found"))},n.prototype.showColumnMenu=function(t){var e=this.columnModel.getGridColumn(t);e?this.menuService.showColumnMenu({column:e,positionBy:"auto"}):console.error("AG Grid: column '".concat(t,"' not found"))},n.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},n.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(_p)},n.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(_p)},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);var o=this.navigationService.getCellByPosition(i);o&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),o.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for ".concat(t.colKey))},n.prototype.addAggFunc=function(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},n.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},n.prototype.applyServerSideRowData=function(t){var e,i,r=null!==(e=t.startRow)&&void 0!==e?e:0,o=null!==(i=t.route)&&void 0!==i?i:[];r<0?console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0")):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,r,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},n.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},n.prototype.applyTransaction=function(t){var e=this;if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.updateRowData(t)});this.logMissingRowModel("applyTransaction","clientSide")},n.prototype.applyTransactionAsync=function(t,e){var i=this;this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(function(){return i.clientSideRowModel.batchUpdateRowData(t,e)}):this.logMissingRowModel("applyTransactionAsync","clientSide")},n.prototype.flushAsyncTransactions=function(){var t=this;this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.flushAsyncTransactions()}):this.logMissingRowModel("flushAsyncTransactions","clientSide")},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},n.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},n.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.sizeColumnsToFit=function(t){"number"==typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.setColumnWidth=function(t,e,i,r){void 0===i&&(i=!0),void 0===r&&(r="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,r)},n.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i="api"),this.columnModel.setColumnWidths(t,!1,e,i)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns("api",t)},n.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getState=function(){return this.stateService.getState()},n.prototype.getGridOption=function(t){return this.gos.get(t)},n.prototype.setGridOption=function(t,e){var i;this.updateGridOptions(((i={})[t]=e,i))},n.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},n.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},n.prototype.deprecatedUpdateGridOption=function(t,e){We("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},n.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},n.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},n.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},n.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},n.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},n.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},n.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},n.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},n.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},n.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},n.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},n.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},n.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},n.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},n.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},n.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},n.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},n.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},n.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},n.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},n.prototype.setQuickFilter=function(t){We("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},n.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},n.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},n.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},n.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),We("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},n.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),We("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},n.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),We("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},n.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),We("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},n.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},n.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},n.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},n.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},n.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},n.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},n.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},n.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},n.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},n.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},n.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},n.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},n.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},n.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},n.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},n.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},n.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},n.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},n.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},n.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},n.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},n.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},n.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},n.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},n.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},n.prototype.setGetRowId=function(t){We("getRowId is a static property and can no longer be updated.")},n.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},n.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},n.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},n.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},n.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},n.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},n.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},n.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},n.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},n.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},n.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},n.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},n.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},n.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},n.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},n.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},n.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},n.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},n.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},n.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},n.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},n.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},kt([gt("csvCreator")],n.prototype,"csvCreator",void 0),kt([gt("excelCreator")],n.prototype,"excelCreator",void 0),kt([C("rowRenderer")],n.prototype,"rowRenderer",void 0),kt([C("navigationService")],n.prototype,"navigationService",void 0),kt([C("filterManager")],n.prototype,"filterManager",void 0),kt([C("columnModel")],n.prototype,"columnModel",void 0),kt([C("selectionService")],n.prototype,"selectionService",void 0),kt([C("gridOptionsService")],n.prototype,"gos",void 0),kt([C("valueService")],n.prototype,"valueService",void 0),kt([C("alignedGridsService")],n.prototype,"alignedGridsService",void 0),kt([C("eventService")],n.prototype,"eventService",void 0),kt([C("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),kt([C("context")],n.prototype,"context",void 0),kt([C("rowModel")],n.prototype,"rowModel",void 0),kt([C("sortController")],n.prototype,"sortController",void 0),kt([C("paginationProxy")],n.prototype,"paginationProxy",void 0),kt([C("focusService")],n.prototype,"focusService",void 0),kt([C("dragAndDropService")],n.prototype,"dragAndDropService",void 0),kt([gt("rangeService")],n.prototype,"rangeService",void 0),kt([gt("clipboardService")],n.prototype,"clipboardService",void 0),kt([gt("aggFuncService")],n.prototype,"aggFuncService",void 0),kt([C("menuService")],n.prototype,"menuService",void 0),kt([C("valueCache")],n.prototype,"valueCache",void 0),kt([C("animationFrameService")],n.prototype,"animationFrameService",void 0),kt([gt("statusBarService")],n.prototype,"statusBarService",void 0),kt([gt("chartService")],n.prototype,"chartService",void 0),kt([gt("undoRedoService")],n.prototype,"undoRedoService",void 0),kt([gt("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),kt([gt("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),kt([C("ctrlsService")],n.prototype,"ctrlsService",void 0),kt([C("overlayService")],n.prototype,"overlayService",void 0),kt([gt("sideBarService")],n.prototype,"sideBarService",void 0),kt([C("stateService")],n.prototype,"stateService",void 0),kt([C("expansionService")],n.prototype,"expansionService",void 0),kt([C("apiEventService")],n.prototype,"apiEventService",void 0),kt([C("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),kt([H],n.prototype,"init",null),kt([oe("gridApi")],n)}(),CAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EY=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.quickFilter=null,i.quickFilterParts=null,i}var e;return CAe(t,n),e=t,t.prototype.postConstruct=function(){var i=this;this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){i.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||i.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return i.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return i.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return i.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassQuickFilter=function(i){var r=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,i):this.quickFilterParts.every(function(a){return o?r.doesRowPassQuickFilterCache(i,a):r.doesRowPassQuickFilterNoCache(i,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var r=this.quickFilter,o=this.parser;this.quickFilterParts=r?o?o(r):r.split(" "):null},t.prototype.parseQuickFilter=function(i){return ae(i)?this.gridOptionsService.isRowModelType("clientSide")?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(i){if(null==i||"string"==typeof i){var r=this.parseQuickFilter(i);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof i))},t.prototype.setQuickFilterParserAndMatcher=function(){var i=this.gridOptionsService.get("quickFilterParser"),r=this.gridOptionsService.get("quickFilterMatcher"),o=i!==this.parser||r!==this.matcher;this.parser=i,this.matcher=r,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(i,r){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(s){var l=o.getQuickFilterTextForColumn(s,i);return ae(l)&&l.indexOf(r)>=0})},t.prototype.doesRowPassQuickFilterCache=function(i,r){return this.checkGenerateQuickFilterAggregateText(i),i.quickFilterAggregateText.indexOf(r)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(i,r){var o;return i?(this.checkGenerateQuickFilterAggregateText(r),o=r.quickFilterAggregateText):o=this.getQuickFilterAggregateText(r),(0,this.matcher)(this.quickFilterParts,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(i){i.quickFilterAggregateText||(i.quickFilterAggregateText=this.getQuickFilterAggregateText(i))},t.prototype.getQuickFilterTextForColumn=function(i,r){var o=this.valueService.getValue(i,r,!0),a=i.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:r,data:r.data,column:i,colDef:a});o=a.getQuickFilterText(s)}return ae(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(i){var r=this,o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(function(s){var l=r.getQuickFilterTextForColumn(s,i);ae(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)},t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR="\n",$_([C("valueService")],t.prototype,"valueService",void 0),$_([C("columnModel")],t.prototype,"columnModel",void 0),$_([C("rowModel")],t.prototype,"rowModel",void 0),$_([H],t.prototype,"postConstruct",null),e=$_([oe("quickFilterService")],t)}(z),bAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hl=function(){return Hl=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Hl.apply(this,arguments)},jl=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},wAe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return bAe(t,n),t.prototype.init=function(){var i,r,o,e=this;this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return e.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){return e.onAdvancedFilterEnabledChanged(a.enabled)}),this.addManagedListener(this.eventService,x.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,EY.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=Hl({},null!==(o=null===(r=null===(i=this.gridOptionsService.get("initialState"))||void 0===i?void 0:i.filter)||void 0===r?void 0:r.filterModel)&&void 0!==o?o:{})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var i=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof i&&i(e)},t.prototype.setFilterModel=function(e,i){var r=this;if(void 0===i&&(i="api"),this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push({model:e,source:i});else{var o=[],a=this.getFilterModel();if(e){var s=dk(Object.keys(e));this.allColumnFilters.forEach(function(l,c){o.push(r.setModelOnFilterWrapper(l.filterPromise,e[c])),s.delete(c)}),s.forEach(function(l){var c=r.columnModel.getPrimaryColumn(l)||r.columnModel.getGridColumn(l);if(c)if(c.isFilterAllowed()){var u=r.getOrCreateFilterWrapper(c,"NO_UI");u?o.push(r.setModelOnFilterWrapper(u.filterPromise,e[l])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+l)})}else this.allColumnFilters.forEach(function(l){o.push(r.setModelOnFilterWrapper(l.filterPromise,null))});vt.all(o).then(function(){var l=r.getFilterModel(),c=[];r.allColumnFilters.forEach(function(u,d){D.jsonEquals(a?a[d]:null,l?l[d]:null)||c.push(u.column)}),c.length>0&&r.onFilterChanged({columns:c,source:i})})}},t.prototype.setModelOnFilterWrapper=function(e,i){return new vt(function(r){e.then(function(o){"function"!=typeof o.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(o.setModel(i)||vt.resolve()).then(function(){return r()})})})},t.prototype.getFilterModel=function(){var e=this,i={};return this.allColumnFilters.forEach(function(r,o){var a=e.getModelFromFilterWrapper(r);ae(a)&&(i[o]=a)}),i},t.prototype.getModelFromFilterWrapper=function(e){var i,o=e.filterPromise.resolveNow(null,function(a){return a});return null==o?null!==(i=this.initialFilterModel[e.column.getColId()])&&void 0!==i?i:null:"function"!=typeof o.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var r,i=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return i.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):null!==(r=this.advancedFilterService)&&void 0!==r&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,i){return this.doColumnFiltersPass(e,i,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(a){return!!a&&(a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},r=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,i)){var s=a.filterPromise.resolveNow(null,function(l){return l});!function(a){if(!a.isPrimary())return!0;var l=!e.columnModel.isPivotActive();return!(!a.isValueActive()||!l)&&(!!e.columnModel.isPivotMode()||r)}(a.column)?e.activeColumnFilters.push(s):e.activeAggregateFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,i){this.allColumnFilters.forEach(function(r){var o=r.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});r.column.setFilterActive(o,e,i)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.doColumnFiltersPass=function(e,i,r){for(var s=r?this.activeAggregateFilters:this.activeColumnFilters,l=r?e.aggData:e.data,c=0;c<s.length;c++){var u=s[c];if(null!=u&&u!==i){if("function"!=typeof u.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var i=this,r=function(){return i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var i=e.source,r=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(c){c&&c!==r&&c.onAnyFilterChanged&&c.onAnyFilterChanged()})});var s={source:i,type:x.EVENT_FILTER_CHANGED,columns:a||[]};o&&aa(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e;return!(null!==(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var i=this;return function(r){return i.valueService.getValue(e,r.node,!0)}},t.prototype.createGetValue=function(e){var i=this;return function(r,o){var a=o?i.columnModel.getGridColumn(o):e;return a?i.valueService.getValue(a,r,!0):void 0}},t.prototype.getFilterComponent=function(e,i,r){var o;if(void 0===r&&(r=!0),r)return(null===(o=this.getOrCreateFilterWrapper(e,i))||void 0===o?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var i=this.cachedFilter(e);return!!i&&i.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,i){if(!e.isFilterAllowed())return null;var r=this.cachedFilter(e);return r?"NO_UI"!==i&&this.putIntoGui(r,i):(r=this.createFilterWrapper(e,i),this.setColumnFilterWrapper(e,r)),r},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var i;if(Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()))i="agSetColumnFilter";else{var r=this.dataTypeService.getBaseDataType(e);i="number"===r?"agNumberColumnFilter":"date"===r||"dateString"===r?"agDateColumnFilter":"agTextColumnFilter"}return i},t.prototype.getDefaultFloatingFilter=function(e){var i;if(Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()))i="agSetColumnFloatingFilter";else{var r=this.dataTypeService.getBaseDataType(e);i="number"===r?"agNumberColumnFloatingFilter":"date"===r||"dateString"===r?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return i},t.prototype.createFilterInstance=function(e){var a,i=this,r=this.getDefaultFilter(e),o=e.getColDef(),s=Hl(Hl({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return i.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(c){return i.filterChangedCallbackFactory(a,e)(c)},doesRowPassOtherFilter:function(c){return i.doesRowPassOtherFilters(a,c)}}),l=this.userComponentFactory.getFilterDetails(o,s,r);return l?{filterPromise:function(){var c=l.newAgStackInstance();return c&&c.then(function(u){return a=u}),c},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,i){return this.gridOptionsService.addGridCommonParams({column:e,colDef:pF(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}})},t.prototype.createFilterWrapper=function(e,i){var r,o={column:e,filterPromise:null,compiledElement:null,guiPromise:vt.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=null!==(r=s?.())&&void 0!==r?r:null,o.compDetails=l,s&&this.putIntoGui(o,i),o},t.prototype.putIntoGui=function(e,i){var r=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new vt(function(a){e.filterPromise.then(function(s){var l=s.getGui();ae(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),"string"==typeof l&&(l=xo(l)),o.appendChild(l),a(o),r.eventService.dispatchEvent({type:x.EVENT_FILTER_OPENED,column:e.column,source:i,eGui:o})})})},t.prototype.onColumnsChanged=function(){var e=this,i=[];this.allColumnFilters.forEach(function(r,o){!(r.column.isPrimary()?e.columnModel.getPrimaryColumn(o):e.columnModel.getGridColumn(o))&&(i.push(r.column),e.disposeFilterWrapper(r,"columnChanged"),e.disposeColumnListener(o))}),i.length>0?this.onFilterChanged({columns:i,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,i=this.columnModel.getGroupAutoColumns();i?.forEach(function(r){"agGroupColumnFilter"===r.getColDef().filter&&e.getOrCreateFilterWrapper(r,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var i,r;if(this.isAdvancedFilterEnabled())return!1;if(!e.isFilterAllowed())return!1;var a=this.allColumnFilters.get(e.getColId());return null===(r=null===(i=a?.filterPromise)||void 0===i?void 0:i.resolveNow(!0,function(s){return"function"!=typeof s?.isFilterAllowed||s?.isFilterAllowed()}))||void 0===r||r},t.prototype.getFloatingFilterCompDetails=function(e,i){var r=this,o=function(d){var h=r.getFilterComponent(e,"NO_UI");h?.then(function(p){d(_p(p))})},a=e.getColDef(),s=Hl(Hl({},this.createFilterParams(e,a)),{filterChangedCallback:function(){return o(function(d){return r.filterChangedCallbackFactory(d,e)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,Rk,s),c=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return r.getDefaultFloatingFilter(e)});return null==c&&(c="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(a,{column:e,filterParams:l,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:o,showParentFilter:i,suppressFilterButton:!1},c)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var i=this.getFilterComponent(e,"NO_UI",!1);return i?i.resolveNow(null,function(r){return r&&r.getModel()}):null},t.prototype.destroyFilter=function(e,i){void 0===i&&(i="api");var r=e.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],o&&(this.disposeFilterWrapper(o,i),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var i=this.allColumnListeners.get(e);i&&(this.allColumnListeners.delete(e),i())},t.prototype.disposeFilterWrapper=function(e,i){var r=this;e.filterPromise.then(function(o){r.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(e.column.getColId()),r.eventService.dispatchEvent({type:x.EVENT_FILTER_DESTROYED,source:i,column:e.column})})},t.prototype.filterModifiedCallbackFactory=function(e,i){var r=this;return function(){r.eventService.dispatchEvent({type:x.EVENT_FILTER_MODIFIED,column:i,filterInstance:e})}},t.prototype.filterChangedCallbackFactory=function(e,i){var r=this;return function(o){var a,s=null!==(a=o?.source)&&void 0!==a?a:"api";r.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:o,columns:[i],source:s})}},t.prototype.checkDestroyFilter=function(e){var i=this,r=this.allColumnFilters.get(e);if(r){var o=r.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(r.compDetails,a))return void this.destroyFilter(o,"paramsUpdated");var s=o.getColDef().filterParams;if(!r.filterPromise)return void this.destroyFilter(o,"paramsUpdated");r.filterPromise.then(function(l){!1===(!l?.refresh||l.refresh(Hl(Hl(Hl({},i.createFilterParams(o,o.getColDef())),{filterModifiedCallback:i.filterModifiedCallbackFactory(l,o),filterChangedCallback:i.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(u){return i.doesRowPassOtherFilters(l,u)}}),s)))&&i.destroyFilter(o,"paramsUpdated")})}},t.prototype.setColumnFilterWrapper=function(e,i){var r=this,o=e.getColId();this.allColumnFilters.set(o,i),this.allColumnListeners.set(o,this.addManagedListener(e,bt.EVENT_COL_DEF_CHANGED,function(){return r.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,i){if(!i||!e)return!0;var r=e.componentClass,o=i.componentClass;return!(r===o||r?.render&&o?.render&&r.render===o.render)},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(function(i){return i.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,i){if(!this.isAdvancedFilterEnabled()){var r=this.getFilterInstanceImpl(e,function(a){if(i){var s=_p(a);i(s)}});return _p(r)}this.warnAdvancedFilters()},t.prototype.getColumnFilterInstance=function(e){var i=this;return new Promise(function(r){i.getFilterInstance(e,function(o){r(o)})})},t.prototype.getFilterInstanceImpl=function(e,i){var r=this.columnModel.getPrimaryColumn(e);if(r){var o=this.getFilterComponent(r,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(i,0,a):o&&o.then(function(s){i(s)}),a}},t.prototype.warnAdvancedFilters=function(){We("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var i;null===(i=this.advancedFilterService)||void 0===i||i.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(i){return e.setFilterModel(i.model,i.source)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(i){var a=i.resolve;e.setColumnFilterModel(i.key,i.model).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(i){return e.setAdvancedFilterModel(i)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.getColumnFilterModel=function(e){var i=this.getFilterWrapper(e);return i?this.getModelFromFilterWrapper(i):null},t.prototype.setColumnFilterModel=function(e,i){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var r=function(){},o=new Promise(function(c){r=c});return this.columnFilterModelUpdateQueue.push({key:e,model:i,resolve:r}),o}var c,a=this.columnModel.getPrimaryColumn(e),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null;return s?(c=this.setModelOnFilterWrapper(s.filterPromise,i),new Promise(function(u){c.then(function(d){return u(d)})})):Promise.resolve()},t.prototype.getFilterWrapper=function(e){var i,r=this.columnModel.getPrimaryColumn(e);return r&&null!==(i=this.cachedFilter(r))&&void 0!==i?i:null},t.prototype.destroy=function(){var e=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return e.disposeFilterWrapper(i,"gridDestroyed")}),this.allColumnListeners.clear()},jl([C("valueService")],t.prototype,"valueService",void 0),jl([C("columnModel")],t.prototype,"columnModel",void 0),jl([C("rowModel")],t.prototype,"rowModel",void 0),jl([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),jl([C("rowRenderer")],t.prototype,"rowRenderer",void 0),jl([C("dataTypeService")],t.prototype,"dataTypeService",void 0),jl([C("quickFilterService")],t.prototype,"quickFilterService",void 0),jl([gt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),jl([H],t.prototype,"init",null),jl([oe("filterManager")],t)}(z),SAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fk=function(n){function t(e,i){var r=n.call(this,e)||this;return r.ctrl=i,r}return SAe(t,n),t.prototype.getCtrl=function(){return this.ctrl},t}(le),xAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),K_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EAe=function(n){function t(e){return n.call(this,t.TEMPLATE,e)||this}return xAe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return Nt(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return i.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}},i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var i=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(r){return i.afterCompCreated(r)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',K_([V("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),K_([V("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),K_([V("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),K_([H],t.prototype,"postConstruct",null),K_([Mi],t.prototype,"destroyFloatingFilterComp",null),t}(Fk),DAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ki=(()=>((Ki=Ki||{}).AUTO_HEIGHT="ag-layout-auto-height",Ki.NORMAL="ag-layout-normal",Ki.PRINT="ag-layout-print",Ki))(),kk=function(n){function t(e){var i=n.call(this)||this;return i.view=e,i}return DAe(t,n),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),i={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(i.autoHeight?Ki.AUTO_HEIGHT:i.print?Ki.PRINT:Ki.NORMAL,i)},t.prototype.getDomLayout=function(){var e,i=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(i)?(We("".concat(i," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):i},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(z),MAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vE=function(){return vE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},vE.apply(this,arguments)},wd=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fn=(()=>((fn=fn||{})[fn.Vertical=0]="Vertical",fn[fn.Horizontal=1]="Horizontal",fn))(),In=(()=>((In=In||{})[In.Container=0]="Container",In[In.FakeContainer=1]="FakeContainer",In))(),AAe=function(n){function t(e){var i=n.call(this)||this;return i.lastScrollSource=[null,null],i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.lastOffsetHeight=-1,i.lastScrollTop=-1,i.eBodyViewport=e,i.resetLastHScrollDebounced=sa(function(){return i.lastScrollSource[fn.Horizontal]=null},500),i.resetLastVScrollDebounced=sa(function(){return i.lastScrollSource[fn.Vertical]=null},500),i}return MAe(t,n),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.get("debounceVerticalScrollbar"),o=r?sa(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=r?sa(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),i.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-r),s.setContainerTranslateX(r),o.setContainerTranslateX(r),a.setContainerTranslateX(r);var u=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[fn.Horizontal]===In.Container;e=Math.abs(e),d?l.setScrollPosition(e):N_(u,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,i){return null==this.lastScrollSource[i]?(this.lastScrollSource[i]=e,!0):this.lastScrollSource[i]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(In.FakeContainer,fn.Horizontal)&&this.onHScrollCommon(In.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(In.Container,fn.Horizontal)&&this.onHScrollCommon(In.Container)},t.prototype.onHScrollCommon=function(e){var o,i=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate(fn.Horizontal,i.scrollLeft,!0)||(o=e===In.Container?L_(i,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){this.isControllingScroll(In.FakeContainer,fn.Vertical)&&this.onVScrollCommon(In.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(In.Container,fn.Vertical)&&this.onVScrollCommon(In.Container)},t.prototype.onVScrollCommon=function(e){var i;i=e===In.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(fn.Vertical,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,e===In.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var i=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===i||(this.scrollLeft=e,this.fireScrollEvent(fn.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var i=this,r={type:x.EVENT_BODY_SCROLL,direction:e===fn.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=vE(vE({},r),{type:x.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,i,r){return void 0===r&&(r=!1),!(r&&!eu())&&(e===fn.Vertical?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i))},t.prototype.shouldBlockVerticalScroll=function(e){var i=I_(this.eBodyViewport);return e<0||e+i>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var i=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&k_()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+i>r},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(fn.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(In.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,i){void 0===i&&(i=!1);var o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(fn.Horizontal,e)&&(e=this.enableRtl&&k_()?e>0?0:o:Math.min(Math.max(e,0),o)),N_(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}},t.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,i){void 0===i&&(i=null);for(var r=this.rowModel.getRowCount(),o=-1,a=0;a<r;a++){var s=this.rowModel.getRow(a);if("function"==typeof e){if(s&&e(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,i)},t.prototype.ensureIndexVisible=function(e,i){var r=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=o)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);var s=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||r.paginationProxy.goToPageWithIndex(e);var d,c=r.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),u=r.paginationProxy.getRow(e);do{var h=u.rowTop,p=u.rowHeight,f=r.paginationProxy.getPixelOffset(),m=u.rowTop-f,g=m+u.rowHeight,v=r.getVScrollPosition(),y=r.heightScaler.getDivStretchOffset(),_=v.top+y,b=v.bottom+y,w=b-_,E=r.heightScaler.getScrollPositionForPixel(m),M=r.heightScaler.getScrollPositionForPixel(g-w),P=Math.min((E+M)/2,m),L=null;"top"===i?L=E:"bottom"===i?L=M:"middle"===i?L=P:_+c>m?L=E-c:b<g&&(L=M),null!==L&&(r.setVerticalScrollPosition(L),r.rowRenderer.redraw({afterScroll:!0})),d=h!==u.rowTop||p!==u.rowHeight}while(d);r.animationFrameService.flushAllFrames()})}},t.prototype.ensureColumnVisible=function(e,i){var r=this;void 0===i&&(i="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,i);this.getFrameworkOverrides().wrapIncoming(function(){null!==a&&r.centerRowContainerCtrl.setCenterViewportScrollLeft(a),r.centerRowContainerCtrl.onHorizontalViewportChanged(),r.animationFrameService.flushAllFrames()})}},t.prototype.setScrollPosition=function(e,i){var r=this;this.getFrameworkOverrides().wrapIncoming(function(){r.centerRowContainerCtrl.setCenterViewportScrollLeft(i),r.setVerticalScrollPosition(e),r.rowRenderer.redraw({afterScroll:!0}),r.animationFrameService.flushAllFrames()})},t.prototype.getPositionedHorizontalScroll=function(e,i){var r=this.isColumnOutsideViewport(e),o=r.columnBeforeStart,a=r.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),c=this.enableRtl,u=(c?o:a)||s,d=c?a:o;"auto"!==i&&(u="start"===i,d="end"===i);var h="middle"===i;if(u||d||h){var p=this.getColumnBounds(e),f=p.colLeft,g=p.colRight;return h?p.colMiddle-l/2:u?c?g:f:c?f-l:g-l}return null},t.prototype.isColumnOutsideViewport=function(e){var i=this.getViewportBounds(),r=i.start,o=i.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,c=this.enableRtl;return{columnBeforeStart:c?r>l:o<l,columnAfterEnd:c?o<s:r>s}},t.prototype.getColumnBounds=function(e){var i=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=i?-1:1,l=i?r-a:a;return{colLeft:l,colMiddle:l+o/2*s,colRight:l+o*s}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:i,end:e+i,width:e}},wd([C("ctrlsService")],t.prototype,"ctrlsService",void 0),wd([C("animationFrameService")],t.prototype,"animationFrameService",void 0),wd([C("paginationProxy")],t.prototype,"paginationProxy",void 0),wd([C("rowModel")],t.prototype,"rowModel",void 0),wd([C("rowContainerHeightService")],t.prototype,"heightScaler",void 0),wd([C("rowRenderer")],t.prototype,"rowRenderer",void 0),wd([C("columnModel")],t.prototype,"columnModel",void 0),wd([H],t.prototype,"postConstruct",null),t}(z),OAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Lk=function(){return Lk=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Lk.apply(this,arguments)},qa=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IAe=function(n){function t(e){var i=n.call(this)||this;return i.isMultiRowDrag=!1,i.eContainer=e,i}return OAe(t,n),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new gE({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(r){return i.getScrollFeature().setVerticalScrollPosition(r)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===zt.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?Bt.ICON_NOT_ALLOWED:Bt.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return!!this.columnModel.getRowGroupColumns().length||!!this.filterManager.isAnyFilterPresent()||!!this.sortController.isSortActive()},t.prototype.getRowNodes=function(e){var i=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var r=this.gridOptionsService.get("rowDragMultiRow"),o=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return null==s.rowIndex||null==l.rowIndex?0:i.getRowIndexNumber(s)-i.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return r&&-1!==o.indexOf(a)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(x.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,i){var r=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],i):this.moveRows(a,i))},t.prototype.getRowIndexNumber=function(e){return parseInt(Ut(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var i=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===Do.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var c=this.gridOptionsService.getCallback("getRowId"),u=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===Do.Above&&u--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!i.clientSideRowModel.getRowNode(c?c({data:d,level:0}):d.id)}),addIndex:u})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,i,r){void 0===r&&(r=0),this.clientSideRowModel.ensureRowsAtPixel(e,i,r)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var i=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var r={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,r=e):(e.onDragEnter&&(r.onDragEnter=function(o){e.onDragEnter(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(r.onDragLeave=function(o){e.onDragLeave(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(r.onDragging=function(o){e.onDragging(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(r.onDragStop=function(o){e.onDragStop(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(Lk({isInterestedIn:function(o){return o===zt.RowDrag},getIconName:function(){return Bt.ICON_MOVE},external:!0},r))}else We("addRowDropZone - A container target needs to be provided")},t.prototype.getRowDropZone=function(e){var i=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:r,onDragEnter:e.onDragEnter?function(c){o(c),e.onDragEnter(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_ENTER,c))}:o,onDragLeave:e.onDragLeave?function(c){a(c),e.onDragLeave(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_LEAVE,c))}:a,onDragging:e.onDragging?function(c){s(c),e.onDragging(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_MOVE,c))}:s,onDragStop:e.onDragStop?function(c){l(c),e.onDragStop(i.draggingToRowDragEvent(x.EVENT_ROW_DRAG_END,c))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,i){var s,l,r=this.mouseEventService.getNormalisedPosition(i).y,a=-1;switch(r>this.paginationProxy.getCurrentPageHeight()||(a=this.rowModel.getRowIndexAtPixel(r),s=this.rowModel.getRow(a)),i.vDirection){case Fs.Down:l="down";break;case Fs.Up:l="up";break;default:l=null}return this.gridOptionsService.addGridCommonParams({type:e,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:a,overNode:s,y:r,vDirection:l})},t.prototype.dispatchGridEvent=function(e,i){var r=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(r)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(x.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(i){i.setDragging(!1)})},qa([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),qa([C("rowModel")],t.prototype,"rowModel",void 0),qa([C("paginationProxy")],t.prototype,"paginationProxy",void 0),qa([C("columnModel")],t.prototype,"columnModel",void 0),qa([C("focusService")],t.prototype,"focusService",void 0),qa([C("sortController")],t.prototype,"sortController",void 0),qa([C("filterManager")],t.prototype,"filterManager",void 0),qa([C("selectionService")],t.prototype,"selectionService",void 0),qa([C("mouseEventService")],t.prototype,"mouseEventService",void 0),qa([C("ctrlsService")],t.prototype,"ctrlsService",void 0),qa([gt("rangeService")],t.prototype,"rangeService",void 0),qa([H],t.prototype,"postConstruct",null),t}(z),FAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),To=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ru=(()=>((ru=ru||{}).ANIMATION_ON="ag-row-animation",ru.ANIMATION_OFF="ag-row-no-animation",ru))(),DY="ag-force-vertical-scroll",NAe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return FAe(t,n),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,i,r,o,a,s){var l=this;this.comp=e,this.eGridBody=i,this.eBodyViewport=r,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(c){return l.setCellTextSelection(c.currentValue)}),this.createManagedBean(new kk(this.comp)),this.bodyScrollFeature=this.createManagedBean(new AAe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var i=this;e.forEach(function(r){i.addManagedListener(r,"focusin",function(o){var s=hp(o.target,"ag-root",r);r.classList.toggle("ag-has-focus",!s)}),i.addManagedListener(r,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=r.contains(s),c=hp(s,"ag-root",r);hp(a,"ag-root",r)||(!l||c)&&r.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss("ag-selectable",e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i),this.setStickyTopWidth(i);var r=i&&this.gridOptionsService.getScrollbarWidth()||0,o=qF()?16:0,a="calc(100% + ".concat(r+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var i=function(o){var a=o.relatedTarget;if(null!==iE(a)){var s=r.some(function(c){return c.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(c){return c.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(o){return e.addManagedListener(o,"focusout",i)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===i?-1:e+i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),i=e?DY:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,e),e||r&&RK(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,i=function(){var r=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(r?ru.ANIMATION_ON:ru.ANIMATION_OFF,r)};i(),this.addManagedListener(this.eventService,x.EVENT_HEIGHT_SCALE_CHANGED,i),this.addManagedPropertyListener("animateRows",i)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,i=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");i&&r&&this.addManagedListener(i,"wheel",function(o){return e.onFullWidthContainerWheel(o,r)})},t.prototype.onFullWidthContainerWheel=function(e,i){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),i.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,i,r){if(e||r){this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();var a=(e||i).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}},t.prototype.mockContextMenuForIPad=function(e){if(eu()){var i=new Pn(this.eBodyViewport);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new IAe(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,i=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(i),this.comp.setBottomHeight(r),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(i,"px)"))}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var i=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i+1),r>0&&(o+=r+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,i){var r=this,a=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,l=pp(this.eGridBody)-a;l>0?this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e):void 0===i?window.setTimeout(function(){r.sizeColumnsToFit(e,100)},0):100===i?window.setTimeout(function(){r.sizeColumnsToFit(e,500)},100):500===i?window.setTimeout(function(){r.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},To([C("animationFrameService")],t.prototype,"animationFrameService",void 0),To([C("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),To([C("ctrlsService")],t.prototype,"ctrlsService",void 0),To([C("columnModel")],t.prototype,"columnModel",void 0),To([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),To([C("menuService")],t.prototype,"menuService",void 0),To([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),To([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),To([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),To([C("rowRenderer")],t.prototype,"rowRenderer",void 0),To([C("popupService")],t.prototype,"popupService",void 0),To([C("mouseEventService")],t.prototype,"mouseEventService",void 0),To([C("rowModel")],t.prototype,"rowModel",void 0),To([C("filterManager")],t.prototype,"filterManager",void 0),t}(z),da=(()=>((da=da||{})[da.FILL=0]="FILL",da[da.RANGE=1]="RANGE",da))(),cr=(()=>((cr=cr||{})[cr.VALUE=0]="VALUE",cr[cr.DIMENSION=1]="DIMENSION",cr))(),Y_="ag-cell-range-selected",$Ae=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Y_,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Y_,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Y_,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Y_,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Y_,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Xm(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(i){return Os([cr.DIMENSION,cr.VALUE],i.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var d,h,t=this,e=this.beans.gridOptionsService.get("enableRtl"),i=!1,r=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,c=l.rangeService,u=l.columnModel;e?(d=u.getDisplayedColAfter(s),h=u.getDisplayedColBefore(s)):(d=u.getDisplayedColBefore(s),h=u.getDisplayedColAfter(s));var p=c.getCellRanges().filter(function(y){return c.isCellInSpecificRange(t.cellCtrl.getCellPosition(),y)});d||(a=!0),h||(r=!0);for(var f=0;f<p.length&&!(i&&r&&o&&a);f++){var m=p[f],g=c.getRangeStartRow(m),v=c.getRangeEndRow(m);!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&m.columns.indexOf(d)<0&&(a=!0),!r&&h&&m.columns.indexOf(h)<0&&(r=!0)}return{top:i,right:r,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(this.beans.rangeService&&!this.beans.context.isDestroyed()){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=t.rangeService,r=i.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var a=Ut(r),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=e.get("enableRangeHandle"),u=1===o&&!this.cellCtrl.isEditing()&&(l||c);if(this.hasChartRange){var h=r[0].type===cr.DIMENSION&&i.isCellInSpecificRange(s,r[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",h),u=a.type===cr.VALUE}return u&&null!=a.endRow&&i.isContiguousRange(a)&&i.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=Ut(t.rangeService.getCellRanges()).type,a=e.get("enableFillHandle")&&Qe(r)?da.FILL:da.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),KAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YAe=function(n){function t(e,i){var r=n.call(this)||this;return r.cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return KAe(t,n),t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Qc(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,i){return e+i.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),i=[];if(1===e)i.push(this.column);else for(var r=this.column,o=this.column.getPinned(),a=0;r&&a<e&&(i.push(r),(r=this.beans.columnModel.getDisplayedColAfter(r))&&!Qe(r)&&o===r.getPinned());a++);return i},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ut(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+(e||0):i+(e||0)},t.prototype.applyRowSpan=function(e){if(1!==this.rowSpan||e){var i=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height="".concat(i*this.rowSpan,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(z),qAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XAe=function(n){function t(e,i){var r=n.call(this)||this;return r.staticClasses=[],r.cellCtrl=e,r.beans=i,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r}return qAe(t,n),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,i=this.column.getColDef(),r=i.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(r===this.cellClassRules?void 0:this.cellClassRules,r,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=r},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var i;if("function"==typeof e.cellStyle){var r=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});i=(0,e.cellStyle)(r)}else i=e.cellStyle;i&&this.cellComp.setUserStyles(i)}},t.prototype.applyClassesFromColDef=function(){var e=this,i=this.column.getColDef(),r=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:i,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,r),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(z),ZAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ls=function(n){function t(e,i){var r=n.call(this)||this;return r.ctrl=e,r.beans=i,r}return ZAe(t,n),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var i="title";null!=e&&""!=e?this.eGui.setAttribute(i,e):this.eGui.removeAttribute(i)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var i,r,o,a,e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new GK({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}},null===(r=(i=this.ctrl).getTooltipShowDelayOverride)||void 0===r?void 0:r.call(i),null===(a=(o=this.ctrl).getTooltipHideDelayOverride)||void 0===a?void 0:a.call(o)),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,i=this.ctrl,r=i.getColumn?i.getColumn():void 0,o=i.getColDef?i.getColDef():void 0,a=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:o,column:r,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(z),pt=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},TY=function(){function n(){}return n.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},pt([C("resizeObserverService")],n.prototype,"resizeObserverService",void 0),pt([C("paginationProxy")],n.prototype,"paginationProxy",void 0),pt([C("context")],n.prototype,"context",void 0),pt([C("columnApi")],n.prototype,"columnApi",void 0),pt([C("gridApi")],n.prototype,"gridApi",void 0),pt([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),pt([C("expressionService")],n.prototype,"expressionService",void 0),pt([C("environment")],n.prototype,"environment",void 0),pt([C("rowRenderer")],n.prototype,"rowRenderer",void 0),pt([C("templateService")],n.prototype,"templateService",void 0),pt([C("valueService")],n.prototype,"valueService",void 0),pt([C("eventService")],n.prototype,"eventService",void 0),pt([C("columnModel")],n.prototype,"columnModel",void 0),pt([C("headerNavigationService")],n.prototype,"headerNavigationService",void 0),pt([C("navigationService")],n.prototype,"navigationService",void 0),pt([C("columnAnimationService")],n.prototype,"columnAnimationService",void 0),pt([gt("rangeService")],n.prototype,"rangeService",void 0),pt([C("focusService")],n.prototype,"focusService",void 0),pt([C("popupService")],n.prototype,"popupService",void 0),pt([C("valueFormatterService")],n.prototype,"valueFormatterService",void 0),pt([C("stylingService")],n.prototype,"stylingService",void 0),pt([C("columnHoverService")],n.prototype,"columnHoverService",void 0),pt([C("userComponentFactory")],n.prototype,"userComponentFactory",void 0),pt([C("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),pt([C("animationFrameService")],n.prototype,"animationFrameService",void 0),pt([C("dragService")],n.prototype,"dragService",void 0),pt([C("dragAndDropService")],n.prototype,"dragAndDropService",void 0),pt([C("sortController")],n.prototype,"sortController",void 0),pt([C("filterManager")],n.prototype,"filterManager",void 0),pt([C("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),pt([C("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),pt([C("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),pt([C("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),pt([C("selectionService")],n.prototype,"selectionService",void 0),pt([gt("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),pt([C("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),pt([C("rowModel")],n.prototype,"rowModel",void 0),pt([C("ctrlsService")],n.prototype,"ctrlsService",void 0),pt([C("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),pt([C("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),pt([C("valueCache")],n.prototype,"valueCache",void 0),pt([C("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),pt([C("localeService")],n.prototype,"localeService",void 0),pt([C("valueParserService")],n.prototype,"valueParserService",void 0),pt([C("syncService")],n.prototype,"syncService",void 0),pt([C("ariaAnnouncementService")],n.prototype,"ariaAnnouncementService",void 0),pt([H],n.prototype,"postConstruct",null),pt([oe("beans")],n)}(),QAe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JAe=function(n){function t(e,i,r){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=i,o.column=r,o}return QAe(t,n),t.prototype.onMouseEvent=function(e,i){if(!Ps(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i)}},t.prototype.onCellClicked=function(e){var i=this;if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var r=this.beans,o=r.eventService,a=r.rangeService,s=r.gridOptionsService;a&&(e.ctrlKey||e.metaKey)&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var c=this.cellCtrl.createEvent(e,x.EVENT_CELL_CLICKED);o.dispatchEvent(c);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){u.onCellClicked(c)})},0),(s.get("singleClickEdit")||u.singleClickEdit)&&!s.get("suppressClickEdit")&&(!e.shiftKey||0==a?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!eu()||xF("dblclick"))return!1;var e=(new Date).getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i},t.prototype.onCellDoubleClicked=function(e){var i=this,r=this.column.getColDef(),o=this.cellCtrl.createEvent(e,x.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"==typeof r.onCellDoubleClicked&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){r.onCellDoubleClicked(o)})},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var i=e.ctrlKey,r=e.metaKey,o=e.shiftKey,a=e.target,l=this.cellCtrl,c=this.beans,u=c.eventService,d=c.rangeService,h=c.focusService;if(!this.isRightClickInExistingRange(e)){var p=d&&0!=d.getCellRanges().length;if(!o||!p){var f=Vl()&&!l.isEditing()&&!tk(a);l.focusCell(f)}if(o&&p&&!h.isCellFocused(l.getCellPosition())){e.preventDefault();var m=h.getFocusedCell();if(m){var g=m.column,v=m.rowIndex,y=m.rowPinned,_=c.rowRenderer.getRowByPosition({rowIndex:v,rowPinned:y}),b=_?.getCellCtrl(g);b?.isEditing()&&b.stopEditing(),h.setFocusedCell({column:g,rowIndex:v,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var w=this.cellCtrl.getCellPosition();o?d.extendLatestRangeToCell(w):d.setRangeToCell(w,i||r)}u.dispatchEvent(this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var i=this.beans.rangeService;if(i){var r=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&o)return!0}return!1},t.prototype.containsWidget=function(e){return hp(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,x.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var i=this.cellCtrl.getGui(),r=i.contains(e.target),o=i.contains(e.relatedTarget);return r&&o},t.prototype.destroy=function(){},t}(TY),eOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tOe=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=i,s.rowNode=o,s.rowCtrl=a,s}return eOe(t,n),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var i=e.key;switch(i){case G.ENTER:this.onEnterKeyDown(e);break;case G.F2:this.onF2KeyDown(e);break;case G.ESCAPE:this.onEscapeKeyDown(e);break;case G.TAB:this.onTabKeyDown(e);break;case G.BACKSPACE:case G.DELETE:this.onBackspaceOrDeleteKeyDown(i,e);break;case G.DOWN:case G.UP:case G.RIGHT:case G.LEFT:this.onNavigationKeyDown(e,i)}},t.prototype.onNavigationKeyDown=function(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,i){var r=this,o=r.cellCtrl,a=r.beans,s=r.rowNode,l=a.gridOptionsService,c=a.rangeService,u=a.eventService;o.isEditing()||(u.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),VK(e,l.get("enableCellEditingOnBackspace"))?c&&l.get("enableRangeSelection")?c.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,i),u.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?G.UP:G.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(G.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(G.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var i=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!i.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});void 0===r&&0===s&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(z),iOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rOe=function(n){function t(e,i,r){var o=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=i,o.eCell=r,o}return iOe(t,n),t.prototype.postConstruct=function(){this.getGui().appendChild(pn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var i=this,r=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),r?r(this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e})):function(){try{var s=JSON.stringify(i.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(le),Cp=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,i,r){return Qe(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,r)},n.getToolPanelClassesFromColDef=function(t,e,i,r){return Qe(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,r)},n.refreshFirstAndLastStyles=function(t,e,i){t.addOrRemoveCssClass("ag-column-first",i.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",i.isColumnAtEdge(e,"last"))},n.getClassParams=function(t,e,i,r){return e.addGridCommonParams({colDef:t,column:i,columnGroup:r})},n.getColumnClassesFromCollDef=function(t,e,i,r,o){return Qe(t)?[]:"string"==typeof(a="function"==typeof t?t(this.getClassParams(e,i,r,o)):t)?[a]:Array.isArray(a)?function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1):[];var a},n}(),cOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yE=function(){return yE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},yE.apply(this,arguments)},_Oe=0,Sd=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=i,a.beans=r,a.rowCtrl=o,a.instanceId=e.getId()+"-"+_Oe++,a.colIdSanitised=Mn(a.column.getId()),r.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return cOe(t,n),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new YAe(this,this.beans),this.addDestroyFunc(function(){var r;null===(r=e.cellPositionFeature)||void 0===r||r.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new XAe(this,this.beans),this.addDestroyFunc(function(){var r;null===(r=e.cellCustomStyleFeature)||void 0===r||r.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new JAe(this,this.beans,this.column),this.addDestroyFunc(function(){var r;null===(r=e.cellMouseListenerFeature)||void 0===r||r.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new tOe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;null===(r=e.cellKeyboardListenerFeature)||void 0===r||r.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new $Ae(this.beans,this),this.addDestroyFunc(function(){var r;null===(r=e.cellRangeFeature)||void 0===r||r.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this;this.tooltipFeature=new Ls({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&ae(a))return Km(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(e.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted})):null},getValueFormatted:function(){return e.valueFormatted}},this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,i,r,o,a){var s,l,c,u;this.cellComp=e,this.eGui=i,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(s=this.cellPositionFeature)||void 0===s||s.setComp(i),null===(l=this.cellCustomStyleFeature)||void 0===l||l.setComp(e),null===(c=this.tooltipFeature)||void 0===c||c.setComp(i),null===(u=this.cellKeyboardListenerFeature)||void 0===u||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var i=this;if(this.isAutoHeight=this.column.isAutoHeight(),this.isAutoHeight&&e){var r=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(c){if(!i.editing&&i.isAlive()){var u=yd(r),v=e.offsetHeight+(u.paddingTop+u.paddingBottom+u.borderBottomWidth+u.borderTopWidth);if(c<5){var y=i.beans.gridOptionsService.getDocument();if(!y||!y.contains(e)||0==v)return void window.setTimeout(function(){return a(c+1)},0)}var w=Math.max(v,o);i.rowNode.setRowAutoHeight(w,i.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},t.prototype.getCellAriaRole=function(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isCellRenderer=function(){var e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var r,i=this.getValueToDisplay();if(this.isCellRenderer()){var o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,i,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||r||o},t.prototype.startEditing=function(e,i,r){var o=this;if(void 0===e&&(e=null),void 0===i&&(i=!1),void 0===r&&(r=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,i,r)});var a=this.createCellEditorParams(e,i),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var c=null!=l?.popupFromSelector?l.popupFromSelector:!!s.cellEditorPopup,u=null!=l?.popupPositionFromSelector?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,c,u,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(r,x.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var i={newValueExists:!1};if(e)return i;var r=this.cellComp.getCellEditor();return r?r.isCancelAfterEnd&&r.isCancelAfterEnd()?i:{newValue:r.getValue(),newValueExists:!0}:i},t.prototype.saveNewValue=function(e,i){if(i===e)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var i=this.takeValueFromCellEditor(e),r=i.newValue,o=i.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,r,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,i,r){var o=yE(yE({},this.createEvent(null,x.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,i){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:i,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},t.prototype.createCellRendererParams=function(){var e=this;return this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(r){return e.beans.valueService.setValue(e.rowNode,e.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,o,a,s){return e.registerRowDragger(r,o,s)}})},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var i;this.refreshShouldDestroy()?null===(i=this.rowCtrl)||void 0===i||i.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var i,r,o;if(!this.suppressRefreshCell&&!this.editing){var a=this.column.getColDef(),s=null!=e&&!!e.newData,l=null!=e&&!!e.suppressFlash||!!a.suppressCellFlash,u=e&&e.forceRefresh||null==a.field&&null==a.valueGetter&&null==a.showRowGroup||s,d=!!this.cellComp,h=this.updateAndFormatValue(d);if(d){if(u||h){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash)&&this.flashCell(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyUserStyles(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(i)},t.prototype.navigateAfterEdit=function(e){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?G.UP:G.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){var i,r,o=null!==(i=e?.flashDuration)&&void 0!==i?i:e?.flashDelay,a=null!==(r=e?.fadeDuration)&&void 0!==r?r:e?.fadeDelay;this.animateCell("data-changed",o,a)},t.prototype.animateCell=function(e,i,r){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;i||(i=l.get("cellFlashDuration")),ae(r)||(r=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(r,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},r))},i)})}},t.prototype.onFlashCells=function(e){if(this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var i;return null!==(i=this.callValueFormatter(e))&&void 0!==i?i:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var i=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r},t.prototype.valuesAreEqual=function(e,i){var r=this.column.getColDef();return r.equals?r.equals(e,i):e===i},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,i=this.getGui();this.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,i){return this.beans.gridOptionsService.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})},t.prototype.processCharacter=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.processCharacter(e)},t.prototype.onKeyDown=function(e){var i;null===(i=this.cellKeyboardListenerFeature)||void 0===i||i.onKeyDown(e)},t.prototype.onMouseEvent=function(e,i){var r;null===(r=this.cellMouseListenerFeature)||void 0===r||r.onMouseEvent(e,i)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;Cp.refreshFirstAndLastStyles(e.cellComp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);kF(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,i){var r=this;void 0===i&&(i=null),this.cellComp?"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i):this.onCellCompAttachedFuncs.push(function(){r.startRowOrCellEdit(e,i)})},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(i&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o="fullRow"===this.beans.gridOptionsService.get("editType");!i&&!o&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:kl(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){var e,i;if(this.cellComp)if(this.column.isAutoHeight()!==this.isAutoHeight&&(null===(e=this.rowCtrl)||void 0===e||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature(),null===(i=this.tooltipFeature)||void 0===i||i.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing){var a=this.getCellEditor();if(a?.refresh){var s=this.editCompDetails.params,u=this.createCellEditorParams(s.eventKey,s.cellStartedEdit),d=this.column.getColDef(),h=this.beans.userComponentFactory.getCellEditorDetails(d,u);a.refresh(h.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var i=this,r=this.column.getColDef(),o=this.createEvent(e,x.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),r.onCellContextMenu&&window.setTimeout(function(){i.beans.frameworkOverrides.wrapOutgoing(function(){r.onCellContextMenu(o)})},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new pY;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new rOe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,i,r){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,i);else{var a=this.createRowDragComp(e,i,r);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,i,r){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l)return void We("managed row dragging is only allowed in the Client Side Row Model");if(a)return void We("managed row dragging is not possible when doing pagination")}var c=new fE(function(){return o.value},this.rowNode,this.column,e,i,r);return this.beans.context.createBean(c),c},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(z),COe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nk=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Vk=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},io=(()=>(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"}(io||(io={})),io))(),wOe=0,bp=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=i,s.gridOptionsService=i.gridOptionsService,s.rowNode=e,s.paginationPage=i.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=e.id+"-"+wOe++,s.rowId=Mn(e.id),s.initRowBusinessKey(),s.rowFocused=i.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=i.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(r),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return COe(t,n),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"==typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Mn(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i,r){var o={rowComp:e,element:i,containerType:r};this.allRowGuis.push(o),r===Yi.LEFT?this.leftGui=o:r===Yi.RIGHT?this.rightGui=o:r===Yi.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(i){return i.containerType!==e}),e){case Yi.LEFT:this.leftGui=void 0;break;case Yi.RIGHT:this.rightGui=void 0;break;case Yi.FULL_WIDTH:this.fullWidthGui=void 0;break;case Yi.CENTER:this.centerGui=void 0}},t.prototype.isCacheable=function(){return this.rowType===io.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var i=e?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=i})},t.prototype.initialiseRowComp=function(e){var i=this,r=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Jc(e.element,1==this.rowNode.expanded),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){i.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=Mn(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var i=this,r=e.containerType;this.slideInAnimation[r]&&(gF(function(){i.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(gF(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection"))We("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");else{var i=this.beans.localeService.getLocaleTextFunc(),r=new fE(function(){return"1 ".concat(i("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(r,this.beans.context);this.rowDragComps.push(o)}},t.prototype.setupFullWidth=function(e){var i=this.getPinnedForContainer(e.containerType),r=this.createFullWidthParams(e.element,i);if(this.rowType!=io.FullWidthDetail||Ze.__assertRegistered(ie.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case io.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case io.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case io.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r)}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderers=function(){var e,i;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(r){var o;return null===(o=r?.rowComp)||void 0===o?void 0:o.getFullWidthCellRenderer()}):[null===(i=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===i?void 0:i.getFullWidthCellRenderer()]},t.prototype.getCellElement=function(e){var i=this.getCellCtrl(e);return i?i.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&i&&r},t.prototype.setRowType=function(){var e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=e?io.FullWidthLoading:r?io.FullWidthDetail:i?io.FullWidth:s?io.FullWidthGroup:io.Normal},t.prototype.updateColumnLists=function(e,i){var r=this;if(void 0===e&&(e=!1),void 0===i&&(i=!1),!this.isFullWidth()){if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(i);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,i,r){var o=this;void 0===r&&(r=null);var a={list:[],map:{}},s=function(l,c){a.list.push(c),a.map[l]=c};return i.forEach(function(l){var c=l.getInstanceId(),u=e.map[c];u||(u=new Sd(l,o.rowNode,o.beans,o)),s(c,u)}),e.list.forEach(function(l){if(null==a.map[l.getColumn().getInstanceId()]){if(!o.isCellEligibleToBeRemoved(l,r))return void s(l.getColumn().getInstanceId(),l);l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var i=this;this.allRowGuis.forEach(function(r){var o=i.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case Yi.LEFT:return this.leftCellCtrls.list;case Yi.RIGHT:return this.rightCellCtrls.list;case Yi.FULL_WIDTH:return[];case Yi.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: ".concat(e))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,i){var r=!0;if(e.getColumn().getPinned()!=i)return r;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||l){var u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)&&r}return r},t.prototype.getDomOrder=function(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var i=this,r=function(){e.rowComp.setDomOrder(i.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var i=ae(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.isFullWidth=function(){return this.rowType!==io.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,i=function(c,u){return!c||c.rowComp.refreshFullWidth(function(){return e.createFullWidthParams(c.element,u)})},r=i(this.fullWidthGui,null),o=i(this.centerGui,null),a=i(this.leftGui,"left"),s=i(this.rightGui,"right");return r&&o&&a&&s},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,st.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,st.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,st.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,st.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,st.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,x.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,x.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,x.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,x.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,x.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(i,x.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){e.gridOptionsService.get("rowDragEntireRow")?e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)}):(e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[])}),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,st.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,st.EVENT_CELL_CHANGED,function(i){e.getAllCellCtrls().forEach(function(r){return r.onCellChanged(i)})})},t.prototype.onRowNodeDataChanged=function(e){var i=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){i.setRowCompRowId(a.rowComp),i.updateRowBusinessKey(),i.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss())},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var o=e===Do.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Do.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),Jc(r.element,e&&i)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:kl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var i=this.allRowGuis.find(function(c){return c.element.contains(e.target)});if((i?i.element:null)===e.target){var a=this.rowNode,s=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Ps(e)){var i=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),r=i?i.element:null,o=r===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var i,r=this.rowNode,o=!!e&&this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned,a=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,i){var r={list:[],map:{}};return e.list.forEach(function(o){o!==i&&(r.list.push(o),r.map[o.getInstanceId()]=o)}),r},t.prototype.onMouseEvent=function(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}},t.prototype.createRowEvent=function(e,i){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})},t.prototype.createRowEventWithSource=function(e,i){var r=this.createRowEvent(e,i);return r.source=this,r},t.prototype.onRowDblClick=function(e){if(!Ps(e)){var i=this.createRowEventWithSource(x.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=hp(e.target,"ag-row-drag",3),this.isFullWidth()){var i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!Ps(e)&&!this.lastMouseDownOnDragger){var r=this.createRowEventWithSource(x.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);var o=e.ctrlKey||e.metaKey,a=e.shiftKey;if(!(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),c=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";this.rowNode.isSelected()?l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):o?c&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!l&&!o,rangeSelect:a,event:e,source:u})}}},t.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},t.prototype.setupDetailRowAutoHeight=function(e){var i=this;if(this.rowType===io.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var r=function(){var a=e.clientHeight;null!=a&&a>0&&window.setTimeout(function(){i.rowNode.setRowHeight(a),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc(o),r()}},t.prototype.createFullWidthParams=function(e,i){var r=this;return this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,c){return r.addFullWidthRowDragging(a,s,l,c)}})},t.prototype.addFullWidthRowDragging=function(e,i,r,o){if(void 0===r&&(r=""),this.isFullWidth()){var a=new fE(function(){return r},this.rowNode,void 0,e,i,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var i="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(i,!0),o.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},t.prototype.stopEditing=function(e){var i,r;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next()){var d=c.value.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}if(s){var h=this.createRowEvent(x.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var i=this.createRowEvent(e?x.EVENT_ROW_EDITING_STARTED:x.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},t.prototype.startRowEditing=function(e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.editingRow||this.getAllCellCtrls().reduce(function(a,s){var l=s===i;return s.startEditing(l?e:null,l,r),!!a||s.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:Vk(Vk(Vk([],Nk(this.centerCellCtrls.list),!1),Nk(this.leftCellCtrls.list),!1),Nk(this.rightCellCtrls.list),!1)},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(function(r){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(i){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!0)})},function(i){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!1)})})},t.prototype.setStylesFromGridOptions=function(e,i){var r=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,function(o){return o.rowComp.setUserStyles(r.rowStyles)})},t.prototype.getPinnedForContainer=function(e){return e===Yi.LEFT?"left":e===Yi.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var i=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var r,i=this.gridOptionsService.getCallback("getRowStyle");return i&&(r=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),r||e?Object.assign({},e,r):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var i=this,r=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(e,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),Xm(a.element,o),a.element.contains(r.activeElement)&&(a===i.centerGui||a===i.fullWidthGui)&&i.announceDescription()})},t.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsService.get("suppressRowDeselection")){var r=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(r)}}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var i=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,st.EVENT_MOUSE_ENTER,function(){!i.beans.dragService.isDragging()&&!i.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),i.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,st.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),i.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),r=this.applyPaginationOffset(i.top,!0)-100,o=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(r,e),o)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,i){e?i(e):this.allRowGuis.forEach(i)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),a=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(r,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(i,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,i){n.prototype.addEventListener.call(this,e,i)},t.prototype.removeEventListener=function(e,i){n.prototype.removeEventListener.call(this,e,i)},t.prototype.destroyFirstPass=function(e){if(void 0===e&&(e=!1),this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)});this.rowNode.setHovered(!1);var o=this.createRowEvent(x.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),n.prototype.destroy.call(this)},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(i){return i.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var i=this;this.forEachGui(e,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,i){return void 0===i&&(i=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&ae(e)){var i=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return i+"px"},t.prototype.setRowTopStyle=function(e){var i=this;this.allRowGuis.forEach(function(r){return i.suppressRowTransform?r.rowComp.setTop(e):r.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var i=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==e&&(i=r)}),null!=i||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(e)>=0&&(i=r)}),i},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,a=r+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(i),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),FF(s.element,a)})},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(z),SOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ha=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EOe=function(n){function t(e){var i=n.call(this)||this;return i.element=e,i}return SOe(t,n),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",i=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,i)},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",xF("touchstart")?"touchstart":"mousedown"].forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,i){if(this.mouseEventService.isEventFromThisGrid(i)&&!Ps(i)){var r=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);"contextmenu"===e?this.handleContextMenuMouseEvent(i,void 0,r,o):(o&&o.onMouseEvent(e,i),r&&r.onMouseEvent(e,i))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(eu()){var i=new Pn(this.element);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.getRowForEvent=function(e){for(var i=e.target;i;){var r=this.gridOptionsService.getDomData(i,bp.DOM_DATA_KEY_ROW_CTRL);if(r)return r;i=i.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,i,r,o){var a=r?r.getRowNode():null,s=o?o.getColumn():null,l=null;s&&(o.dispatchCellContextMenuEvent((e||i)??null),l=this.valueService.getValue(s,a));var u=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():u.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,rowNode:a,column:s,value:l,anchorToElement:d})},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Yx(this.gridOptionsService,e,Sd.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Yx(this.gridOptionsService,e,bp.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,i){var r=this.getControlsForEventTarget(i.target),o=r.cellCtrl,a=r.rowCtrl;i.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,i):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,i))},t.prototype.processCellKeyboardEvent=function(e,i,r){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing();if(aE(this.gridOptionsService,r,o,a,s)||"keydown"!==i||(!s&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),oE(r)&&e.processCharacter(r)),"keydown"===i){var u=e.createEvent(r,x.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(u)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,i,r){var o=e.getRowNode(),a=this.focusService.getFocusedCell();if(!aE(this.gridOptionsService,r,o,a&&a.column,!1)&&"keydown"===i)switch(r.key){case G.PAGE_HOME:case G.PAGE_END:case G.PAGE_UP:case G.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case G.UP:case G.DOWN:e.onKeyboardNavigate(r);break;case G.TAB:e.onTabKeyDown(r)}if("keydown"===i){var u=e.createRowEvent(x.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(u)}},t.prototype.doGridOperations=function(e,i){if((e.ctrlKey||e.metaKey)&&!i&&this.mouseEventService.isEventFromThisGrid(e)){var r=NK(e);if(r===G.A)return this.onCtrlAndA(e);if(r===G.C)return this.onCtrlAndC(e);if(r===G.D)return this.onCtrlAndD(e);if(r===G.V)return this.onCtrlAndV(e);if(r===G.X)return this.onCtrlAndX(e);if(r===G.Y)return this.onCtrlAndY();if(r===G.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var i=this,r=i.pinnedRowModel,a=i.rangeService;if(a&&i.paginationProxy.isRowsToRender()){var s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([r.isEmpty("top"),r.isEmpty("bottom")],2),u=s[0]?null:"top",d=void 0,h=void 0;s[1]?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=r.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(oa(p))return;a.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:h,rowEndPinned:d,columnStart:p[0],columnEnd:Ut(p)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")){var i=this.getControlsForEventTarget(e.target),r=i.cellCtrl,o=i.rowCtrl;r?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")&&!this.gridOptionsService.get("suppressCutToClipboard")){var i=this.getControlsForEventTarget(e.target),r=i.cellCtrl,o=i.rowCtrl;r?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var i=this.getControlsForEventTarget(e.target),r=i.cellCtrl,o=i.rowCtrl;r?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ha([C("mouseEventService")],t.prototype,"mouseEventService",void 0),ha([C("valueService")],t.prototype,"valueService",void 0),ha([C("menuService")],t.prototype,"menuService",void 0),ha([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ha([C("navigationService")],t.prototype,"navigationService",void 0),ha([C("focusService")],t.prototype,"focusService",void 0),ha([C("undoRedoService")],t.prototype,"undoRedoService",void 0),ha([C("columnModel")],t.prototype,"columnModel",void 0),ha([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ha([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ha([gt("rangeService")],t.prototype,"rangeService",void 0),ha([gt("clipboardService")],t.prototype,"clipboardService",void 0),ha([H],t.prototype,"postConstruct",null),t}(z),DOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),q_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},MY=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},AY=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},TOe=function(n){function t(e){var i=n.call(this)||this;return i.centerContainerCtrl=e,i}return DOe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,i=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(i),this.gridBodyCtrl.registerBodyViewportResizeListener(i)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var i=pp(this.gridBodyCtrl.getBodyViewportElement());if(!(i<=50)){var r=this.getPinnedColumnsOverflowingViewport(i-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");r.length&&(o&&(r=o({columns:r,viewportWidth:i})),this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature"))}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var o=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(o<e)return[];for(var a=AY([],MY(this.columnModel.getDisplayedLeftColumns()),!1),s=AY([],MY(this.columnModel.getDisplayedRightColumns()),!1),l=0,c=0,d=[],h=o-0-e;(c<a.length||l<s.length)&&h>0;){var p;l<s.length&&(h-=(p=s[l++]).getActualWidth(),d.push(p)),c<a.length&&h>0&&(h-=(p=a[c++]).getActualWidth(),d.push(p))}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var i=I_(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:x.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},q_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),q_([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),q_([C("columnModel")],t.prototype,"columnModel",void 0),q_([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),q_([H],t.prototype,"postConstruct",null),t}(z),MOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AOe=function(n){function t(e){var i=n.call(this)||this;return i.element=e,i}return MOe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();Nt(this.element,e>0),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},OY([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),OY([H],t.prototype,"postConstruct",null),t}(z),OOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ROe=function(n){function t(e){var i=n.call(this)||this;return i.element=e,i}return OOe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();Nt(this.element,e>0),Ka(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},RY([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),RY([H],t.prototype,"postConstruct",null),t}(z),POe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IY=function(n){function t(e,i){var r=n.call(this)||this;return r.eContainer=e,r.eViewport=i,r}return POe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),i=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)},PY([C("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),PY([H],t.prototype,"postConstruct",null),t}(z),IOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},FOe=function(n){function t(e){var i=n.call(this)||this;return i.eContainer=e,i}return IOe(t,n),t.prototype.postConstruct=function(){var e=this;Qe(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(r){r.currentValue?e.enableFeature():e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()}),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Gk([gt("rangeService")],t.prototype,"rangeService",void 0),Gk([C("dragService")],t.prototype,"dragService",void 0),Gk([H],t.prototype,"postConstruct",null),t}(z),kOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hk=function(n){function t(e,i){void 0===i&&(i=!1);var r=n.call(this)||this;return r.callback=e,r.addSpacer=i,r}return kOe(t,n),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var s,e=this.columnModel,i=this.gridOptionsService.isDomLayout("print"),r=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth();i?s=r+o+a:(s=r,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?o:a)&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)},Bk([C("columnModel")],t.prototype,"columnModel",void 0),Bk([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Bk([H],t.prototype,"postConstruct",null),t}(z),LOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ig=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_E=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},CE=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},q=(()=>((q=q||{}).LEFT="left",q.RIGHT="right",q.CENTER="center",q.FULL_WIDTH="fullWidth",q.TOP_LEFT="topLeft",q.TOP_RIGHT="topRight",q.TOP_CENTER="topCenter",q.TOP_FULL_WIDTH="topFullWidth",q.STICKY_TOP_LEFT="stickyTopLeft",q.STICKY_TOP_RIGHT="stickyTopRight",q.STICKY_TOP_CENTER="stickyTopCenter",q.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",q.BOTTOM_LEFT="bottomLeft",q.BOTTOM_RIGHT="bottomRight",q.BOTTOM_CENTER="bottomCenter",q.BOTTOM_FULL_WIDTH="bottomFullWidth",q))(),Yi=(()=>((Yi=Yi||{}).LEFT="left",Yi.RIGHT="right",Yi.CENTER="center",Yi.FULL_WIDTH="fullWidth",Yi))(),VOe=fd([[q.CENTER,"ag-center-cols-container"],[q.LEFT,"ag-pinned-left-cols-container"],[q.RIGHT,"ag-pinned-right-cols-container"],[q.FULL_WIDTH,"ag-full-width-container"],[q.TOP_CENTER,"ag-floating-top-container"],[q.TOP_LEFT,"ag-pinned-left-floating-top"],[q.TOP_RIGHT,"ag-pinned-right-floating-top"],[q.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[q.STICKY_TOP_CENTER,"ag-sticky-top-container"],[q.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[q.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[q.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[q.BOTTOM_CENTER,"ag-floating-bottom-container"],[q.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[q.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[q.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),GOe=fd([[q.CENTER,"ag-center-cols-viewport"],[q.TOP_CENTER,"ag-floating-top-viewport"],[q.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[q.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),FY=function(n){function t(e){var i=n.call(this)||this;return i.visible=!0,i.EMPTY_CTRLS=[],i.name=e,i.isFullWithContainer=i.name===q.TOP_FULL_WIDTH||i.name===q.STICKY_TOP_FULL_WIDTH||i.name===q.BOTTOM_FULL_WIDTH||i.name===q.FULL_WIDTH,i}return LOe(t,n),t.getRowContainerCssClasses=function(e){return{container:VOe.get(e),viewport:GOe.get(e)}},t.getPinned=function(e){switch(e){case q.BOTTOM_LEFT:case q.TOP_LEFT:case q.STICKY_TOP_LEFT:case q.LEFT:return"left";case q.BOTTOM_RIGHT:case q.TOP_RIGHT:case q.STICKY_TOP_RIGHT:case q.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([q.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new TOe(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case q.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case q.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case q.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case q.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case q.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case q.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case q.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case q.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case q.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case q.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case q.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case q.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,i){e.indexOf(this.name)>=0&&i()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,i,r){var o=this;this.comp=e,this.eContainer=i,this.eViewport=r,this.createManagedBean(new EOe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[q.STICKY_TOP_CENTER,q.STICKY_TOP_LEFT,q.STICKY_TOP_RIGHT],l=[q.BOTTOM_CENTER,q.BOTTOM_LEFT,q.BOTTOM_RIGHT],c=[q.CENTER,q.LEFT,q.RIGHT],u=CE(CE(CE(CE([],_E([q.TOP_CENTER,q.TOP_LEFT,q.TOP_RIGHT]),!1),_E(l),!1),_E(c),!1),_E(s),!1),d=[q.CENTER,q.LEFT,q.RIGHT,q.FULL_WIDTH],h=[q.CENTER,q.TOP_CENTER,q.STICKY_TOP_CENTER,q.BOTTOM_CENTER],f=[q.RIGHT,q.BOTTOM_RIGHT,q.TOP_RIGHT,q.STICKY_TOP_RIGHT];this.forContainers([q.LEFT,q.BOTTOM_LEFT,q.TOP_LEFT,q.STICKY_TOP_LEFT],function(){o.pinnedWidthFeature=o.createManagedBean(new AOe(o.eContainer)),o.addManagedListener(o.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new ROe(o.eContainer)),o.addManagedListener(o.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new IY(o.eContainer,o.name===q.CENTER?r:void 0))}),this.forContainers(u,function(){return o.createManagedBean(new FOe(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new Hk(function(m){return o.comp.setContainerWidth("".concat(m,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_ROWS_CHANGED,function(i){return e.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([q.STICKY_TOP_CENTER,q.STICKY_TOP_LEFT,q.STICKY_TOP_RIGHT,q.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([q.TOP_CENTER,q.STICKY_TOP_CENTER,q.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([q.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([q.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,i=function(r){e.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",i)})},t.prototype.onHorizontalViewportChanged=function(e){void 0===e&&(e=!1);var i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,e)},t.prototype.getCenterWidth=function(){return pp(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return L_(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return i()})},t.prototype.isViewportInTheDOMTree=function(){return rk(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return L_(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||OK(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){N_(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var i=this;if(void 0===e&&(e=!1),this.visible){var r=this.gridOptionsService.isDomLayout("print"),a=this.gridOptionsService.get("embedFullWidthRows")||r,s=this.getRowCtrls().filter(function(l){var c=l.isFullWidth();return i.isFullWithContainer?!a&&c:a||!c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}else this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS})},t.prototype.getRowCtrls=function(){switch(this.name){case q.TOP_CENTER:case q.TOP_LEFT:case q.TOP_RIGHT:case q.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case q.STICKY_TOP_CENTER:case q.STICKY_TOP_LEFT:case q.STICKY_TOP_RIGHT:case q.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case q.BOTTOM_CENTER:case q.BOTTOM_LEFT:case q.BOTTOM_RIGHT:case q.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},ig([C("dragService")],t.prototype,"dragService",void 0),ig([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ig([C("columnModel")],t.prototype,"columnModel",void 0),ig([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ig([C("rowRenderer")],t.prototype,"rowRenderer",void 0),ig([H],t.prototype,"postConstruct",null),t}(z),BOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ou=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},HOe='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'.concat(q.TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="').concat(q.TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="').concat(q.TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="').concat(q.TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="').concat(q.LEFT,'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="').concat(q.CENTER,'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="').concat(q.RIGHT,'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="').concat(q.FULL_WIDTH,'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="').concat(q.STICKY_TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="').concat(q.STICKY_TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="').concat(q.STICKY_TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="').concat(q.STICKY_TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="').concat(q.BOTTOM_LEFT,'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="').concat(q.BOTTOM_CENTER,'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="').concat(q.BOTTOM_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="').concat(q.BOTTOM_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>'),jOe=function(n){function t(){return n.call(this,HOe)||this}return BOe(t,n),t.prototype.init=function(){var e=this,i=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},r={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return vK(e.getGui(),o)},setRowCount:function(o){return gK(e.getGui(),o)},setTopHeight:function(o){return i(o,e.eTop)},setBottomHeight:function(o){return i(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){[e.eBodyViewport.classList,e.eBody.classList].forEach(function(l){l.toggle(Ki.AUTO_HEIGHT,a.autoHeight),l.toggle(Ki.NORMAL,a.normal),l.toggle(Ki.PRINT,a.print)}),e.addOrRemoveCssClass(Ki.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Ki.NORMAL,a.normal),e.addOrRemoveCssClass(Ki.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(DY,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new NAe),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&mK(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,i){var r=this.eBodyViewport.classList;r.toggle(ru.ANIMATION_ON,i),r.toggle(ru.ANIMATION_OFF,!i)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},ou([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ou([gt("rangeService")],t.prototype,"rangeService",void 0),ou([V("eBodyViewport")],t.prototype,"eBodyViewport",void 0),ou([V("eStickyTop")],t.prototype,"eStickyTop",void 0),ou([V("eTop")],t.prototype,"eTop",void 0),ou([V("eBottom")],t.prototype,"eBottom",void 0),ou([V("gridHeader")],t.prototype,"headerRootComp",void 0),ou([V("eBody")],t.prototype,"eBody",void 0),ou([H],t.prototype,"init",null),t}(le),UOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zOe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return UOe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){e.columnAnimationService.executeLaterVMTurn(function(){return e.updateImpl()})}):this.updateImpl()},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e&&!this.columnAnimationService.isActive()){var i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:x.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},bE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),bE([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),bE([H],t.prototype,"postConstruct",null),bE([oe("scrollVisibleService")],t)}(z),WOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$Oe=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.gridInstanceId=e.gridInstanceSequence.next(),i}var e;return WOe(t,n),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(i){return Yx(this.gridOptionsService,i.target,Sd.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(i){return this.isElementInThisGrid(i.target)},t.prototype.isElementInThisGrid=function(i){for(var r=i;r;){var o=r[e.GRID_DOM_KEY];if(ae(o))return o===this.gridInstanceId;r=r.parentElement}return!1},t.prototype.getCellPositionForEvent=function(i){var r=this.getRenderedCellForEvent(i);return r?r.getCellPosition():null},t.prototype.getNormalisedPosition=function(i){var a,s,r=this.gridOptionsService.isDomLayout("normal");if(null!=i.clientX||null!=i.clientY?(a=i.clientX,s=i.clientY):(a=i.x,s=i.y),r){var l=this.ctrlsService.getGridBodyCtrl(),c=l.getScrollFeature().getVScrollPosition();a+=l.getScrollFeature().getHScrollPosition().left,s+=c.top}return{x:a,y:s}},t.gridInstanceSequence=new Nr,t.GRID_DOM_KEY="__ag_grid_instance",kY([C("ctrlsService")],t.prototype,"ctrlsService",void 0),e=kY([oe("mouseEventService")],t)}(z),KOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wE=function(){return wE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},wE.apply(this,arguments)},Mo=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},YOe=function(n){function t(){var e=n.call(this)||this;return e.onPageDown=vF(e.onPageDown,100),e.onPageUp=vF(e.onPageUp,100),e}return KOe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,i){void 0===i&&(i=!1);var r=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),c=!1;switch(r){case G.PAGE_HOME:case G.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(r),c=!0);break;case G.LEFT:case G.RIGHT:case G.UP:case G.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(r,l),c=!0);break;case G.PAGE_DOWN:case G.PAGE_UP:!a&&!o&&(c=this.handlePageUpDown(r,l,i))}return c&&e.preventDefault(),c},t.prototype.handlePageUpDown=function(e,i,r){return r&&(i=this.focusService.getFocusedCell()),!!i&&(e===G.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0)},t.prototype.navigateTo=function(e){var i=e.scrollIndex,r=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;ae(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ae(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:null,column:s})},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRowIndexAtPixel(r.top+o+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=this.paginationProxy.getRowIndexAtPixel(r.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,i,r){void 0===r&&(r=!1);var f,o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(e.rowIndex),u=r?c?.rowHeight-o-l:o-l,h=this.paginationProxy.getRowIndexAtPixel(c?.rowTop+u+l);h===e.rowIndex&&(i=h=e.rowIndex+(r?-1:1)),r?(f="bottom",h<a&&(h=a),i<a&&(i=a)):(f="top",h>s&&(h=s),i>s&&(i=s)),this.isRowTallerThanView(h)&&(i=h,f="top"),this.navigateTo({scrollIndex:i,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,i,r){var o=this;void 0===r&&(r=!1),this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,r);o.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,i){var r;void 0===i&&(i=!1);for(var o=i?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,c=e.rowIndex;c>=0&&c<=s;){var u=this.paginationProxy.getRow(c);if(u){var d=null!==(r=u.rowHeight)&&void 0!==r?r:0;if(l+d>a)break;l+=d}c+=o}return Math.max(0,Math.min(c,s))},t.prototype.getViewportHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},t.prototype.isRowTallerThanView=function(e){var i=this.paginationProxy.getRow(e);if(!i)return!1;var r=i.rowHeight;return"number"==typeof r&&r>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,i){var r=this.cellNavigationService.getNextCellToFocus(e,i,!0),o=r.rowIndex,a=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var i=e===G.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=i?r[0]:Ut(r),a=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,i){var r=i.shiftKey;if(this.tabToNextCellCommon(e,r,i))i.preventDefault();else if(r){var a=e.getRowPosition(),s=a.rowIndex;(a.rowPinned?0===s:s===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else e instanceof Sd&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&i.preventDefault()},t.prototype.tabToNextCell=function(e,i){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!!(o||(o=this.rowRenderer.getRowByPosition(r),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,i)},t.prototype.tabToNextCellCommon=function(e,i,r){var o=e.isEditing();if(!o&&e instanceof Sd){var s=e.getRowCtrl();s&&(o=s.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,i,r):this.moveToNextEditingCell(e,i,r):this.moveToNextCellNotEditing(e,i))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,i,r){void 0===r&&(r=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,i,!0);return null!=a&&(a.startEditing(null,!0,r),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,i,r){void 0===r&&(r=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,i,!0);if(null==a)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),c=this.isCellEditable(s),u=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;return l&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),a.getRowCtrl().startRowEditing(void 0,void 0,r)),c?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,i){var o,r=this.columnModel.getAllDisplayedColumns();o=e instanceof bp?wE(wE({},e.getRowPosition()),{column:i?r[0]:Ut(r)}):e.getCellPosition();var a=this.findNextCellToFocusOn(o,i,!1);if(a instanceof Sd)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),i);return ae(a)},t.prototype.findNextCellToFocusOn=function(e,i,r){for(var o=e;;){e!==o&&(e=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);var a=this.gridOptionsService.getCallback("tabToNextCell");if(ae(a)){var l=a({backwards:i,editing:r,previousCellPosition:e,nextCellPosition:o||null});ae(l)?(l.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+o.rowIndex,column:o.column},fromCell:!0}),null}var u="fullRow"===this.gridOptionsService.get("editType");if(!r||u||this.isCellEditable(o)){this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||r)continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}}},t.prototype.isCellEditable=function(e){var i=this.lookupRowNodeForCell(e);return!!i&&e.column.isCellEditable(i)},t.prototype.getCellByPosition=function(e){var i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,i,r,o){for(var a=r,s=!1;a&&(a===r||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?i===G.LEFT&&(a=this.getLastCellOfColSpan(a)):i===G.RIGHT&&(a=this.getLastCellOfColSpan(a)),s=Qe(a=this.cellNavigationService.getNextCellToFocus(i,a));if(s&&e&&e.key===G.UP&&(a={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(ae(l)){var u=l({key:i,previousCellPosition:r,nextCellPosition:a||null,event:e});ae(u)?(u.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),a={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:r.column},event:e||void 0,fromCell:!0})}var h=this.getNormalisedPosition(a);h?this.focusPosition(h):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,i){void 0===i&&(i=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Ut(r):r[0])};this.focusPosition(s);var l=null!=a&&this.rowPositionUtils.before(s,a);return this.eventService.dispatchEvent({type:x.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var i=this.getCellByPosition(e);if(!i)return e;var r=i.getColSpanningList();return 1===r.length?e:{rowIndex:e.rowIndex,column:Ut(r),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var i=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex);!(i&&r?.sticky)&&Qe(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Mo([C("mouseEventService")],t.prototype,"mouseEventService",void 0),Mo([C("paginationProxy")],t.prototype,"paginationProxy",void 0),Mo([C("focusService")],t.prototype,"focusService",void 0),Mo([gt("rangeService")],t.prototype,"rangeService",void 0),Mo([C("columnModel")],t.prototype,"columnModel",void 0),Mo([C("rowModel")],t.prototype,"rowModel",void 0),Mo([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Mo([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Mo([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Mo([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Mo([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Mo([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Mo([H],t.prototype,"postConstruct",null),Mo([oe("navigationService")],t)}(z),qOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ZOe=function(n){function t(e){var i=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=e,i}return qOe(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,i=this.getGui(),r=this.params;this.addManagedListener(i,"keydown",function(a){aE(e.gridOptionsService,a,r.node,r.column,!0)||r.onKeyDown(a)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(bd),QOe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JOe=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=i.getColumn(),s.rowNode=i.getRowNode(),s.rowCtrl=i.getRowCtrl(),s.eRow=o,s.cellCtrl=i;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var c=s.getGui();s.forceWrapper=i.isForceWrapper(),s.refreshWrapper(!1);var u=function(p,f){null!=f&&""!=f?c.setAttribute(p,f):c.removeAttribute(p)};An(c,i.getCellAriaRole()),u("col-id",i.getColumnIdSanitised());var d=i.getTabIndex();return void 0!==d&&u("tabindex",d.toString()),i.setComp({addOrRemoveCssClass:function(p,f){return s.addOrRemoveCssClass(p,f)},setUserStyles:function(p){return sk(c,p)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,f,m){return s.setRenderDetails(p,f,m)},setEditDetails:function(p,f,m){return s.setEditDetails(p,f,m)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}},s.getGui(),s.eCellWrapper,r,a),s}return QOe(t,n),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,i,r){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var a=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!r&&!a&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(i))}},t.prototype.setEditDetails=function(e,i,r){e?this.createCellEditorInstance(e,i,r):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,o=r&&null==this.eCellWrapper;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!r&&null!=this.eCellWrapper;s&&(Gl(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var l=!e&&r,c=l&&null==this.eCellValue;if(c){var u=document.createElement("span");u.setAttribute("role","presentation"),u.setAttribute("class","ag-cell-value"),this.eCellValue=u,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&null!=this.eCellValue;d&&(Gl(this.eCellValue),this.eCellValue=void 0);var h=o||s||c||d;return h&&this.removeControls(),e||i&&this.addControls(),h},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,i,r){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(u){return o.afterCellEditorCreated(a,u,l,i,r)}),Qe(this.cellEditor)&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var i=this.getParentOfValue();Yn(i);var r=null!=e?Mn(e,!0):null;null!=r&&(i.textContent=r)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Gl(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Gl(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var i=this.cellRenderer.refresh(e.params);return!0===i||void 0===i},t.prototype.createCellRendererInstance=function(e){var i=this,r=this.beans.gridOptionsService.get("suppressAnimationFrame"),a=this.rendererVersion,s=e.componentClass,l=function(){if(i.rendererVersion===a&&i.isAlive()){var u=e.newAgStackInstance(),d=i.afterCellRendererCreated.bind(i,a,s);u&&u.then(d)}};!r&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,i,r){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var a=this.getParentOfValue();Yn(a),a.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(r)},t.prototype.afterCellEditorCreated=function(e,i,r,o,a){if(e!==this.editorVersion)this.beans.context.destroyBean(i);else{if(i.isCancelBeforeStart&&i.isCancelBeforeStart())return this.beans.context.destroyBean(i),void this.cellCtrl.stopEditing(!0);if(!i.getGui)return console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),void this.beans.context.destroyBean(i);this.cellEditor=i,this.cellEditorGui=i.getGui();var c=o||void 0!==i.isPopup&&i.isPopup();c?this.addPopupCellEditor(r,a):this.addInCellEditor(),this.refreshEditStyles(!0,c),i.afterGuiAttached&&i.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!i),null===(r=this.rowCtrl)||void 0===r||r.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,i){var r=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new ZOe(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),c=i??(o.getPopupPosition?o.getPopupPosition():"over"),u=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:c,alignSide:u?"right":"left",keepWithinBounds:!0},h=s.positionPopupByComponent.bind(s,d),p=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),i=this.beans.gridOptionsService.getDocument();e.contains(i.activeElement)&&YF()&&e.focus({preventScroll:!0}),Yn(this.getParentOfValue())},t}(le),eRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tRe=function(n){function t(e,i,r){var o=n.call(this)||this;o.cellComps={},o.beans=i,o.rowCtrl=e;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(r)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),An(s,"row");var c=o.rowCtrl.getTabIndex();return null!=c&&s.setAttribute("tabindex",c.toString()),e.setComp({setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,h){return o.addOrRemoveCssClass(d,h)},setUserStyles:function(d){return sk(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}},o.getGui(),r),o.addDestroyFunc(function(){e.unsetComp(r)}),o}return eRe(t,n),t.prototype.getInitialStyle=function(e){var i=this.rowCtrl.getInitialTransform(e);return i?"transform: ".concat(i):"top: ".concat(this.rowCtrl.getInitialRowTop(e))},t.prototype.showFullWidth=function(e){var i=this,o=e.newAgStackInstance();o&&o.then(function(a){if(i.isAlive()){var s=a.getGui();i.getGui().appendChild(s),i.rowCtrl.setupDetailRowAutoHeight(s),i.setFullWidthRowComp(a)}else i.beans.context.destroyBean(a)})},t.prototype.setCellCtrls=function(e){var i=this,r=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId();null==i.cellComps[s]?i.newCellComp(a):r[s]=null});var o=hd(r).filter(function(a){return null!=a});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var i=this;if(this.domOrder){var r=[];e.forEach(function(o){var a=i.cellComps[o.getInstanceId()];a&&r.push(a.getGui())}),ak(this.getGui(),r)}},t.prototype.newCellComp=function(e){var i=new JOe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=hd(this.cellComps).filter(function(i){return null!=i});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var i=this;e.forEach(function(r){if(r){var o=r.getCtrl().getInstanceId();i.cellComps[o]===r&&(r.detach(),r.destroy(),i.cellComps[o]=null)}})},t.prototype.refreshFullWidth=function(e){var i=this.fullWidthCellRenderer;if(!i||!i.refresh)return!1;var r=e();return i.refresh(r)},t}(le),iRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jk=function(){return jk=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},jk.apply(this,arguments)},X_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},rRe=function(n){function t(){var e=n.call(this,function nRe(){var n=le.elementGettingCreated.getAttribute("name"),t=FY.getRowContainerCssClasses(n);return n===q.CENTER||n===q.TOP_CENTER||n===q.STICKY_TOP_CENTER||n===q.BOTTOM_CENTER?'<div class="'.concat(t.viewport,'" ref="eViewport" role="presentation">\n                <div class="').concat(t.container,'" ref="eContainer"></div>\n            </div>'):'<div class="'.concat(t.container,'" ref="eContainer"></div>')}())||this;return e.rowComps={},e.name=le.elementGettingCreated.getAttribute("name"),e.type=function NOe(n){switch(n){case q.CENTER:case q.TOP_CENTER:case q.STICKY_TOP_CENTER:case q.BOTTOM_CENTER:return Yi.CENTER;case q.LEFT:case q.TOP_LEFT:case q.STICKY_TOP_LEFT:case q.BOTTOM_LEFT:return Yi.LEFT;case q.RIGHT:case q.TOP_RIGHT:case q.STICKY_TOP_RIGHT:case q.BOTTOM_RIGHT:return Yi.RIGHT;case q.FULL_WIDTH:case q.TOP_FULL_WIDTH:case q.STICKY_TOP_FULL_WIDTH:case q.BOTTOM_FULL_WIDTH:return Yi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return iRe(t,n),t.prototype.postConstruct=function(){var e=this,i={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o.rowCtrls)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}};this.createManagedBean(new FY(this.name)).setComp(i,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var i=this,r=jk({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(a){var s=a.getInstanceId(),l=r[s];if(l)i.rowComps[s]=l,delete r[s],i.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var c=new tRe(a,i.beans,i.type);i.rowComps[s]=c,i.appendRow(c.getGui())}}),hd(r).forEach(function(a){i.eContainer.removeChild(a.getGui()),a.destroy()}),An(this.eContainer,"rowgroup")},t.prototype.appendRow=function(e){this.domOrder?AK(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(ok(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},X_([C("beans")],t.prototype,"beans",void 0),X_([V("eViewport")],t.prototype,"eViewport",void 0),X_([V("eContainer")],t.prototype,"eContainer",void 0),X_([H],t.prototype,"postConstruct",null),X_([Mi],t.prototype,"preDestroy",null),t}(le),LY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},oRe=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var i=t.dragItem.columns;i&&i.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?e.columnsToAggregate.push(r):r.isAllowRowGroup()?e.columnsToGroup.push(r):r.isAllowPivot()&&e.columnsToPivot.push(r)))})}},n.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Bt.ICON_PINNED:Bt.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},LY([C("columnModel")],n.prototype,"columnModel",void 0),LY([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),wp=function(){function n(){}return n.attemptMoveColumns=function(t){var e=t.isFromHeader,i=t.hDirection,r=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,c=t.columnModel,u=i===lr.Left,d=i===lr.Right,h=t.allMovingColumns;if(e){var p=[];h.forEach(function(L){for(var B,Y=null,ne=L.getParent();null!=ne&&1===ne.getDisplayedLeafColumns().length;)Y=ne,ne=ne.getParent();null!=Y?(null!==(B=Y.getColGroupDef())&&void 0!==B&&B.marryChildren?Y.getProvidedColumnGroup().getLeafColumns():Y.getLeafColumns()).forEach(function($){p.includes($)||p.push($)}):p.includes(L)||p.push(L)}),h=p}var f=h.slice();c.sortColumnsLikeGridColumns(f);var m=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:r,pinned:s,gridOptionsService:l,columnModel:c}),g=this.calculateOldIndex(f,c);if(0!==m.length){var v=m[0],y=null!==g&&!o;if(e&&(y=null!==g),!y||a||!(u&&v>=g||d&&v<=g)){for(var _=c.getAllDisplayedColumns(),b=[],w=null,E=0;E<m.length;E++){var M=m[E],P=c.getProposedColumnOrder(f,M);if(c.doesOrderPassRules(P)){var I=P.filter(function(L){return _.includes(L)});if(null===w)w=I;else if(!Qc(I,w))break;var k=this.groupFragCount(P);b.push({move:M,fragCount:k})}}if(0!==b.length)return b.sort(function(L,B){return L.fragCount-B.fragCount}),this.moveColumns(h,b[0].move,"uiColumnMoved",!1,c)}}},n.moveColumns=function(t,e,i,r,o){return o.moveColumns(t,e,i,r),r?null:{columns:t,toIndex:e}},n.calculateOldIndex=function(t,e){var i=e.getAllGridColumns(),r=Y6(t.map(function(c){return i.indexOf(c)})),o=r[0];return Ut(r)-o!=r.length-1?null:o},n.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();null!=l;)s.push(l),l=l.getOriginalParent();return s}for(var i=0,r=function(a){var s,l=e(t[a]),c=e(t[a+1]);s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(l.length>c.length?[l,c]:[c,l],2),c=s[1],(l=s[0]).forEach(function(u){-1===c.indexOf(u)&&i++})},o=0;o<t.length-1;o++)r(o);return i},n.calculateValidMoves=function(t){var e=t.movingCols,i=t.draggingRight,r=t.xPosition,o=t.pinned,s=t.columnModel;if(t.gridOptionsService.get("suppressMovableColumns")||e.some(function(L){return L.getColDef().suppressMovable}))return[];var _,c=s.getDisplayedColumns(o),u=s.getAllGridColumns(),d=c.filter(function(L){return Os(e,L)}),h=c.filter(function(L){return!Os(e,L)}),p=u.filter(function(L){return!Os(e,L)}),f=0,m=r;if(i){var g=0;d.forEach(function(L){return g+=L.getActualWidth()}),m-=g}if(m>0){for(var v=0;v<h.length&&!((m-=h[v].getActualWidth())<0);v++)f++;i&&f++}f>0?_=p.indexOf(h[f-1])+1:-1===(_=p.indexOf(h[0]))&&(_=0);var w=[_],E=function(L,B){return L-B};if(i){for(var M=_+1,P=u.length-1;M<=P;)w.push(M),M++;w.sort(E)}else{P=u.length-1;for(var I=u[M=_];M<=P&&c.indexOf(I)<0;)M++,w.push(M),I=u[M];for(M=_-1;M>=0;)w.push(M),M--;w.sort(E).reverse()}return w},n.normaliseX=function(t,e,i,r,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();return i&&(t-=a.getBoundingClientRect().left),r.get("enableRtl")&&(t=a.clientWidth-t),null==e&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n}(),Z_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sRe=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!ae(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?Bt.ICON_PINNED:Bt.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===zt.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var r=t.dragItem.visibleState,o=(e||[]).filter(function(a){return r[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(t,e,i){if(t){var r=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,e,i)}},n.prototype.setColumnsPinned=function(t,e,i){if(t){var r=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,e,i)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e,i,r){var a,o=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),r){if(this.lastMovedInfo){var s=this.lastMovedInfo;wp.moveColumns(s.columns,s.toIndex,"uiColumnMoved",!0,this.columnModel)}}else if(this.lastDraggingEvent=t,!Qe(t.hDirection)){var u=wp.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(u);var d=this.normaliseDirection(t.hDirection),h=t.dragSource.type,p=(null===(a=t.dragSource.getDragItem().columns)||void 0===a?void 0:a.filter(function(m){return!m.getColDef().lockPinned||m.getPinned()==o.pinned}))||[],f=wp.attemptMoveColumns({allMovingColumns:p,isFromHeader:h===zt.HeaderCell,hDirection:d,xPosition:u,pinned:this.pinned,fromEnter:e,fakeEvent:i,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},n.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case lr.Left:return lr.Right;case lr.Right:return lr.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Bt.ICON_LEFT:Bt.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Bt.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(s){return!s.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(Bt.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(o,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Z_([C("columnModel")],n.prototype,"columnModel",void 0),Z_([C("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Z_([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Z_([C("ctrlsService")],n.prototype,"ctrlsService",void 0),Z_([H],n.prototype,"init",null),n}(),lRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Q_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},cRe=function(n){function t(e,i){var r=n.call(this)||this;return r.pinned=e,r.eContainer=i,r}return lRe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){switch(e.pinned){case"left":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===zt.HeaderCell||e===zt.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new sRe(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new oRe(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===zt.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Q_([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Q_([C("columnModel")],t.prototype,"columnModel",void 0),Q_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Q_([H],t.prototype,"postConstruct",null),Q_([H],t.prototype,"init",null),t}(z),uRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},dRe=function(n){function t(e){var i=n.call(this,t.TEMPLATE,e)||this;return i.headerCompVersion=0,i.column=e.getColumnGroupChild(),i.pinned=e.getPinned(),i}return uRe(t,n),t.prototype.postConstruct=function(){var s,l,e=this,i=this.getGui();s="col-id",null!=(l=this.column.getColId())&&""!=l?i.setAttribute(s,l):i.removeAttribute(s);var o={setWidth:function(s){return i.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?_K(i,s):CK(i)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var i=this;this.headerCompVersion++;var r=this.headerCompVersion;e.newAgStackInstance().then(function(o){return i.afterCompCreated(r,o)})},t.prototype.afterCompCreated=function(e,i){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(i)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',SE([V("eResize")],t.prototype,"eResize",void 0),SE([V("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),SE([H],t.prototype,"postConstruct",null),SE([Mi],t.prototype,"destroyHeaderComp",null),t}(Fk),hRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pRe=function(n){function t(e){return n.call(this,t.TEMPLATE,e)||this}return hRe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.getGui();i.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return Nt(e.eResize,a)},setWidth:function(a){return i.style.width=a},setAriaExpanded:function(a){return function(a,s){return null!=s?i.setAttribute(a,s):i.removeAttribute(a)}("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}},i,this.eResize)},t.prototype.setUserCompDetails=function(e){var i=this;e.newAgStackInstance().then(function(r){return i.afterHeaderCompCreated(r)})},t.prototype.afterHeaderCompCreated=function(e){var i=this,r=function(){return i.destroyBean(e)};if(this.isAlive()){var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(r),this.headerGroupComp=e,this.ctrl.setDragSource(o)}else r()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',NY([V("eResize")],t.prototype,"eResize",void 0),NY([H],t.prototype,"postConstruct",null),t}(Fk),fRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mn=(()=>((mn=mn||{}).COLUMN_GROUP="group",mn.COLUMN="column",mn.FLOATING_FILTER="filter",mn))(),mRe=function(n){function t(e){var i=n.call(this)||this;return i.headerComps={},i.ctrl=e,i.setTemplate('<div class="'.concat(i.ctrl.getHeaderRowClass(),'" role="row"></div>')),i}return fRe(t,n),t.prototype.init=function(){var e=this;FF(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:function(r){return e.getGui().style.height=r},setTop:function(r){return e.getGui().style.top=r},setHeaderCtrls:function(r,o){return e.setHeaderCtrls(r,o)},setWidth:function(r){return e.getGui().style.width=r}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,i){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var c=l.getInstanceId(),u=o[c];delete o[c],null==u&&(u=r.createHeaderComp(l),r.getGui().appendChild(u.getGui())),r.headerComps[c]=u}),Lr(o,function(l,c){r.getGui().removeChild(c.getGui()),r.destroyBean(c)}),i){var a=hd(this.headerComps);a.sort(function(l,c){return l.getCtrl().getColumnGroupChild().getLeft()-c.getCtrl().getColumnGroupChild().getLeft()});var s=a.map(function(l){return l.getGui()});ak(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var i;switch(this.ctrl.getType()){case mn.COLUMN_GROUP:i=new pRe(e);break;case mn.FLOATING_FILTER:i=new EAe(e);break;default:i=new dRe(e)}return this.createBean(i),i.setParentComponent(this),i},VY([H],t.prototype,"init",null),VY([Mi],t.prototype,"destroyHeaderCtrls",null),t}(le),gRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sp=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vRe=0,xE=function(n){function t(e,i,r){var o=n.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=r,o.beans=i,o.instanceId=e.getUniqueId()+"-"+vRe++,o}return gRe(t,n),t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return e.refreshTabIndex()})},t.prototype.shouldStopEventPropagation=function(e){var i=this.focusService.getFocusedHeader();return LK(this.gridOptionsService,e,i.headerRowIndex,i.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;Cp.refreshFirstAndLastStyles(e.comp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var o=this.beans.columnModel.getAriaColumnIndex(this.column);kF(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.refreshTabIndex=function(){this.gridOptionsService.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},t.prototype.onGuiKeyDown=function(e){var i,o=this.gridOptionsService.getDocument().activeElement,a=e.key===G.LEFT||e.key===G.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),o===this.eGui&&(e.shiftKey||e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),a)){var s=e.key===G.LEFT!==this.gridOptionsService.get("enableRtl"),l=lr[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var c=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(c,e.shiftKey),null===(i=this.resizeFeature)||void 0===i||i.toggleColumnResizing(!0)}else this.moveHeader(l)}},t.prototype.getViewportAdjustedResizeDiff=function(e){var i=this.getResizeDiff(e);if(this.column.getPinned()){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=pp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+i>s){if(!(s>o+a))return 0;i=s-o-a}}return i},t.prototype.getResizeDiff=function(e){var i=e.key===G.LEFT!==this.gridOptionsService.get("enableRtl"),r=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return r&&o!==("right"===r)&&(i=!i),(i?-1:1)*this.resizeMultiplier},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var i;null===(i=e.resizeFeature)||void 0===i||i.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var i=this.getWrapperHasFocus();switch(e.key){case G.PAGE_DOWN:case G.PAGE_UP:case G.PAGE_HOME:case G.PAGE_END:i&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,i=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,i,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.handleContextMenuMouseEvent=function(e,i,r){var o=e??i;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=r instanceof bt?r:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,e,i),this.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CONTEXT_MENU,r)},t.prototype.dispatchColumnMouseEvent=function(e,i){this.eventService.dispatchEvent({type:e,column:i})},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Sp([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Sp([C("focusService")],t.prototype,"focusService",void 0),Sp([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sp([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Sp([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Sp([C("menuService")],t.prototype,"menuService",void 0),Sp([H],t.prototype,"postConstruct",null),t}(z),yRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Uk=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=i,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=r,a}return yRe(t,n),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ut(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),i=ae(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,i=this.getColumnOrGroup(),r=i.getLeft(),o=i.getOldLeft(),a=this.modifyLeftForPrintLayout(i,o),s=this.modifyLeftForPrintLayout(i,r);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,i){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return i;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+i:o+i},t.prototype.setLeft=function(e){if(ae(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof bt);else{var r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&yK(this.ariaEl,r.length)}},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(z),CRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),GY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zk=function(n){function t(e,i){var r=n.call(this)||this;return r.columns=e,r.element=i,r}return CRe(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},GY([C("columnHoverService")],t.prototype,"columnHoverService",void 0),GY([H],t.prototype,"postConstruct",null),t}(z),bRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wRe=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.iconCreated=!1,o.column=e,o}return bRe(t,n),t.prototype.setComp=function(e,i,r,o){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=o,this.setGui(i),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=pn("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new tu(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();vd(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void a.focus();var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var i=this.beans.columnModel,r=this.column;do{if(!(r=e?i.getDisplayedColBefore(r):i.getDisplayedColAfter(r)))break}while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();switch(e.key){case G.UP:case G.DOWN:i||e.preventDefault();case G.LEFT:case G.RIGHT:if(i)return;e.stopPropagation();case G.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case G.ESCAPE:i||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&hp(e.relatedTarget,"ag-floating-filter");if(r&&o&&e.target===this.eGui){var a=this.lastFocusEvent;a&&a&&a.key===G.TAB&&this.focusService.focusInto(this.eGui,a.shiftKey)}var c=this.getRowIndex();this.beans.focusService.setFocusedHeader(c,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new zk([this.column],this.eGui));var i=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var r=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupLeft=function(){var e=new Uk(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},t.prototype.setupUserComp=function(){var e=this;if(this.active){var i=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});i&&this.setCompDetails(i)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var i=this.beans.filterManager,r=function(o){var a=e.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=i.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,r),i.isFilterActive(this.column)&&r(null)}},t.prototype.setupWidth=function(){var e=this,i=function(){var r="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(r)};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},t.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},t.prototype.onColDefChanged=function(){var i,r,e=this,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&(null===(i=this.destroySyncListener)||void 0===i||i.call(this),null===(r=this.destroyFilterChangedListener)||void 0===r||r.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();l&&s?l.then(function(c){var u;!c||e.beans.filterManager.areFilterCompsDifferent(null!==(u=e.userCompDetails)&&void 0!==u?u:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)}):this.updateCompDetails(s,a)},t.prototype.updateCompDetails=function(e,i){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},t.prototype.updateFloatingFilterParams=function(e){var i;if(e){var r=e.params;null===(i=this.comp.getFloatingFilterComp())||void 0===i||i.then(function(o){var a=!1;o?.refresh&&"function"==typeof o.refresh&&null!==o.refresh(r)&&(a=!0),!a&&o?.onParamsUpdated&&"function"==typeof o.onParamsUpdated&&null!==o.onParamsUpdated(r)&&We("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},t}(xE),SRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),J_=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xRe=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=i,s.eResize=r,s.comp=o,s.ctrl=a,s}return SRe(t,n),t.prototype.postConstruct=function(){var r,o,e=this,i=[],s=function(){i.forEach(function(c){return c()}),i.length=0},l=function(){var c=e.column.isResizable(),u=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize;(c!==r||u!==o)&&(r=c,o=u,s(),function(){if(Nt(e.eResize,r),r){var c=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(i.push(c),o){var u=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,"uiColumnResized",u)};e.eResize.addEventListener("dblclick",d);var h=new Pn(e.eResize);h.addEventListener(Pn.EVENT_DOUBLE_TAP,d),i.push(function(){e.eResize.removeEventListener("dblclick",d),h.removeEventListener(Pn.EVENT_DOUBLE_TAP,d),h.destroy()})}}}())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,i){var r=this,o=r.column,a=r.lastResizeAmount,s=r.resizeStartWidth,l=this.normaliseResizeAmount(i),u=[{key:o,newWidth:s+l}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(l-a)>pp(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=l,this.columnModel.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var i=e,r="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?r&&(i*=-1):o&&(i*=-1),i},J_([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),J_([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),J_([C("ctrlsService")],t.prototype,"ctrlsService",void 0),J_([C("columnModel")],t.prototype,"columnModel",void 0),J_([H],t.prototype,"postConstruct",null),t}(z),ERe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DRe=function(n){function t(e){var i=n.call(this)||this;return i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e,i}return ERe(t,n),t.prototype.onSpaceKeyDown=function(e){var i=this.cbSelectAll,r=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(r.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Cd),this.cbSelectAll.addCssClass("ag-header-select-all"),An(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,x.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Jx(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var i=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?"".concat(o," (").concat(r,")"):null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(r,")")),this.headerCellCtrl.announceAriaDescription()},t.prototype.checkSelectionType=function(e){return!("multiple"!==this.gridOptionsService.get("rowSelection")&&(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),1))},t.prototype.checkRightRowModelType=function(e){var i=this.rowModel.getType();return!("clientSide"!==i&&"serverSide"!==i&&(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(i,".")),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),i=this.isFilteredOnly(),r=this.isCurrentPageOnly(),o="uiSelectAll";r?o="uiSelectAllCurrentPage":i&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:i,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e(this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},BY([C("rowModel")],t.prototype,"rowModel",void 0),BY([C("selectionService")],t.prototype,"selectionService",void 0),t}(z),TRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MRe=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return TRe(t,n),t.prototype.setComp=function(e,i,r,o){var a=this;this.comp=e,this.setGui(i),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new xRe(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new zk([this.column],i)),this.createManagedBean(new Uk(this.column,i,this.beans)),this.createManagedBean(new tu(i,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,i){var r,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=null!==(r=this.column.getMinWidth())&&void 0!==r?r:0,l=null!==(o=this.column.getMaxWidth())&&void 0!==o?o:Number.MAX_SAFE_INTEGER,c=Math.min(Math.max(a+e,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:c}],i,!0,"uiColumnResized")}},t.prototype.moveHeader=function(e){var i=this,r=i.eGui,o=i.column,a=i.gridOptionsService,s=i.ctrlsService,l=this.getPinned(),c=r.getBoundingClientRect().left,u=o.getActualWidth(),d=a.get("enableRtl"),p=wp.normaliseX(e===lr.Left!==d?c-20:c+u+20,l,!0,a,s);wp.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:p,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)},t.prototype.createParams=function(){var e=this;return this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(r){e.menuService.showColumnMenu({column:e.column,buttonElement:r,positionBy:"button"})},showColumnMenuAfterMouseClick:function(r){e.menuService.showColumnMenu({column:e.column,mouseEvent:r,positionBy:"mouse"})},showFilter:function(r){e.menuService.showFilterMenu({column:e.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:function(r){e.beans.sortController.progressSort(e.column,!!r,"uiColumnSorted")},setSort:function(r,o){e.beans.sortController.setSortForColumn(e.column,r,!!o,"uiColumnSorted")},eGridHeader:this.getGui()})},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new DRe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e),e.key===G.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===G.ENTER&&this.onEnterKeyDown(e),e.key===G.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)},t.prototype.onEnterKeyDown=function(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted")},t.prototype.showMenuOnKeyPress=function(e,i){var r=this.comp.getUserCompInstance();!r||!(r instanceof Mk)||r.onMenuKeyboardShortcut(i)&&e.preventDefault()},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r=this.createManagedBean(new Ls({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));r.setComp(this.eGui),this.refreshFunctions.push(function(){return r.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,i=function(){var r=e.column.getColDef(),o=Cp.getHeaderClassesFromColDef(r,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(i),i()},t.prototype.setDragSource=function(e){var i=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var r=this,o=r.column,s=r.displayName,l=r.dragAndDropService,c=r.gridOptionsService,u=r.beans.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:zt.HeaderCell,eElement:e,getDefaultIconName:function(){return d?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return i.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!c.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(p){var f;if(d){var m=(null===(f=p?.columns)||void 0===f?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];u.setColumnsVisible(m,!0,"uiColumnMoved")}},onGridExit:function(p){var f;if(d){var m=(null===(f=p?.columns)||void 0===f?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];u.setColumnsVisible(m,!1,"uiColumnMoved")}}};l.addDragSource(h,!0)}},t.prototype.createDragItem=function(e){var i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}},t.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var i=this.comp.getUserCompInstance();return!(!i||!i.refresh)&&i.refresh(e)},t.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,i=function(){var r=e.column.getActualWidth();e.comp.setWidth("".concat(r,"px"))};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupMovingCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,bt.EVENT_MOVING_CHANGED,i),i()},t.prototype.setupMenuClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,bt.EVENT_MENU_VISIBLE_CHANGED,i),i()},t.prototype.setupSortableClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};i(),this.addRefreshFunction(i),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,i=function(){var r=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),e.refreshAria()};this.addManagedListener(this.column,bt.EVENT_FILTER_ACTIVE_CHANGED,i),i()},t.prototype.setupWrapTextClass=function(){var e=this,i=function(){var r=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};i(),this.addRefreshFunction(i)},t.prototype.onDisplayedColumnsChanged=function(){n.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,i=e.eGui,o=e.comp,a=e.beans;if(!e.column.isSpanHeaderHeight())return i.style.removeProperty("top"),i.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),void o.addOrRemoveCssClass("ag-header-span-total",!1);var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,c=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var u=a.columnModel,d=u.getColumnHeaderRowHeight();if(0===l)return o.addOrRemoveCssClass("ag-header-span-total",!1),i.style.setProperty("top","0px"),void i.style.setProperty("height","".concat(d,"px"));o.addOrRemoveCssClass("ag-header-span-total",c);var f=l*(u.isPivotMode()?u.getPivotGroupHeaderHeight():u.getGroupHeaderHeight());i.style.setProperty("top","".concat(-f,"px")),i.style.setProperty("height","".concat(d+f,"px"))},t.prototype.setupAutoHeight=function(e){var c,i=this,r=this.beans,o=r.columnModel,a=r.resizeObserverService,s=function(p){if(i.isAlive()){var f=yd(i.getGui()),w=e.offsetHeight+(f.paddingTop+f.paddingBottom+f.borderBottomWidth+f.borderTopWidth);if(p<5){var E=i.beans.gridOptionsService.getDocument();if(!E||!E.contains(e)||0==w)return void window.setTimeout(function(){return s(p+1)},0)}o.setColumnHeaderHeight(i.column,w)}},l=!1,u=function(){var p=i.column.isAutoHeaderHeight();p&&!l&&d(),!p&&l&&h()},d=function(){l=!0,s(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),c=a.observeResize(e,function(){return s(0)})},h=function(){l=!1,c&&c(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),c=void 0};u(),this.addDestroyFunc(function(){return h()}),this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(u)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),i=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(lK(i)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),i=this.column.isFilterActive();this.setAriaDescriptionProperty("filter",i?e("ariaColumnFiltered","Column Filtered"):null)},t.prototype.setAriaDescriptionProperty=function(e,i){null!=i?this.ariaDescriptionProperties.set(e,i):this.ariaDescriptionProperties.delete(e)},t.prototype.announceAriaDescription=function(){var e=this,i=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(i.activeElement)){var r=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return"filter"===o?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return e.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(r)}},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},t.prototype.addColumnHoverListener=function(){var e=this,i=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var r=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,i=function(a){return e.handleMouseOverChange("mouseenter"===a.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i),this.addManagedListener(this.getGui(),"click",function(){return e.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CLICKED,e.column)}),this.addManagedListener(this.getGui(),"contextmenu",function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column)})},t.prototype.handleMouseOverChange=function(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?x.EVENT_COLUMN_HEADER_MOUSE_OVER:x.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.getAnchorElementForMenu=function(e){var i=this.comp.getUserCompInstance();return i instanceof Mk?i.getAnchorElementForMenu(e):this.getGui()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},t}(xE),ARe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ORe=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.eResize=i,a.comp=e,a.pinned=r,a.columnGroup=o,a}return ARe(t,n),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsService.get("suppressAutoSize")){var r=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:r,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var i=this.getInitialValues(e);this.storeLocalValues(i),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,i,r){void 0===r&&(r="uiColumnResized");var o=this.normaliseDragChange(i);this.resizeColumnsFromLocalValues(this.resizeStartWidth+o,r,e)},t.prototype.getInitialValues=function(e){var i=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(i),a={columnsToResize:i,resizeStartWidth:r,resizeRatios:this.getSizeRatiosOfColumns(i,r)},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),c=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),u=a.groupAfterStartWidth=this.getInitialSizeOfColumns(c);a.groupAfterRatios=this.getSizeRatiosOfColumns(c,u)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var r=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=e.columnsToResize,this.resizeStartWidth=r,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();i>r.resizeStartWidth&&this.resizeColumns(r,i,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,i,r){var o,a,s;if(void 0===r&&(r=!0),this.resizeCols&&this.resizeRatios){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(o=this.resizeTakeFromCols)&&void 0!==o?o:void 0,groupAfterStartWidth:null!==(a=this.resizeTakeFromStartWidth)&&void 0!==a?a:void 0,groupAfterRatios:null!==(s=this.resizeTakeFromRatios)&&void 0!==s?s:void 0};this.resizeColumns(l,e,i,r)}},t.prototype.resizeColumns=function(e,i,r,o){void 0===o&&(o=!0);var s=e.resizeStartWidth,c=e.groupAfterColumns,u=e.groupAfterStartWidth,d=e.groupAfterRatios,h=[];h.push({columns:e.columnsToResize,ratios:e.resizeRatios,width:i}),c&&h.push({columns:c,ratios:d,width:u-(i-s)}),this.columnModel.resizeColumnSets({resizeSets:h,finished:o,source:r}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){return this.columnGroup.getDisplayedLeafColumns().filter(function(i){return i.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(i,r){return i+r.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,i){return e.map(function(r){return r.getActualWidth()/i})},t.prototype.normaliseDragChange=function(e){var i=e;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(i*=-1):"right"===this.pinned&&(i*=-1),i},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.clearLocalValues()},EE([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),EE([C("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),EE([C("columnModel")],t.prototype,"columnModel",void 0),EE([H],t.prototype,"postConstruct",null),t}(z),RRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IRe=function(n){function t(e,i){var r=n.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=i,r.comp=e,r}return RRe(t,n),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Tn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",i),r.addEventListener("visibleChanged",i),e.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",i),r.removeEventListener("visibleChanged",i)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(z),FRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DE=function(){return DE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},DE.apply(this,arguments)},kRe=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=e,o}return FRe(t,n),t.prototype.setComp=function(e,i,r){this.comp=e,this.setGui(i),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new zk(a,i)),this.createManagedBean(new Uk(this.column,i,this.beans)),this.createManagedBean(new IRe(e,this.column)),this.resizeFeature=this.createManagedBean(new ORe(e,r,o,this.column)),this.createManagedBean(new tu(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(x.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,i){if(this.resizeFeature){var r=this.resizeFeature.getInitialValues(i);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var i=this,r=i.beans,o=i.eGui,a=i.column,s=i.gridOptionsService,l=i.ctrlsService,c=s.get("enableRtl"),u=e===lr.Left,d=this.getPinned(),h=o.getBoundingClientRect(),p=h.left,m=wp.normaliseX(u!==c?p-20:p+h.width+20,d,!0,s,l),g=a.getGroupId(),v=this.focusService.getFocusedHeader();wp.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:m,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:r.columnModel});var y=a.getDisplayedLeafColumns(),_=u?y[0]:Ut(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(_,"auto"),!this.isAlive()&&v&&this.restoreFocus(g,a,v)},t.prototype.restoreFocus=function(e,i,r){var o=i.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:DE(DE({},r),{column:s})})}}},t.prototype.findGroupWidthId=function(e,i){for(;e;){if(e.getGroupId()===i)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,i=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")}}),r=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(r)},t.prototype.addHeaderMouseListeners=function(){var e=this,i=function(a){return e.handleMouseOverChange("mouseenter"===a.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i),this.addManagedListener(this.getGui(),"click",function(){return e.dispatchColumnMouseEvent(x.EVENT_COLUMN_HEADER_CLICKED,e.column.getProvidedColumnGroup())}),this.addManagedListener(this.getGui(),"contextmenu",function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column.getProvidedColumnGroup())})},t.prototype.handleMouseOverChange=function(e){var r={type:e?x.EVENT_COLUMN_HEADER_MOUSE_OVER:x.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)},t.prototype.setupTooltip=function(){var e=this,i=this.column.getColGroupDef(),r={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(r.getColDef=function(){return i}),this.createManagedBean(new Ls(r,this.beans)).setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,ei.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,ei.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var i=e.isExpanded();this.comp.setAriaExpanded(this.expandable?i?"true":"false":void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,i=this.column.getColGroupDef(),r=Cp.getHeaderClassesFromColDef(i,this.gridOptionsService,null,this.column);this.column.isPadding()?(r.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(function(a){return a.isSpanHeaderHeight()})&&r.push("ag-header-span-height")):r.push("ag-header-group-cell-with-group"),r.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.column.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};r.forEach(function(a){e.addManagedListener(a,bt.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.column)}},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();if(this.expandable&&i&&e.key===G.ENTER){var r=this.column,o=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var i=this;if(this.isAlive()&&!this.isSuppressMoving()&&(this.removeDragSource(),e)){var r=this,a=r.column,s=r.displayName,l=r.gridOptionsService,c=r.dragAndDropService,u=r.beans.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),h=!l.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:zt.HeaderCell,eElement:e,getDefaultIconName:function(){return h?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return i.getDragItemForGroup(a)},onDragStarted:function(){h=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var m;if(h){var g=(null===(m=f?.columns)||void 0===m?void 0:m.filter(function(v){return!v.getColDef().lockVisible}))||[];u.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var m;if(h){var g=(null===(m=f?.columns)||void 0===m?void 0:m.filter(function(v){return!v.getColDef().lockVisible}))||[];u.setColumnsVisible(g,!1,"uiColumnMoved")}}};c.addDragSource(p,!0)}},t.prototype.getDragItemForGroup=function(e){var i=e.getProvidedColumnGroup().getLeafColumns(),r={};i.forEach(function(a){return r[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){i.indexOf(a)>=0&&(o.push(a),wo(i,a))}),i.forEach(function(a){return o.push(a)}),{columns:o,visibleState:r}},t.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")},t}(xE),LRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jY=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NRe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},VRe=0,Wk=function(n){function t(e,i,r){var o=n.call(this)||this;return o.instanceId=VRe++,o.rowIndex=e,o.pinned=i,o.type=r,o.headerRowClass="ag-header-row ".concat(r==mn.COLUMN_GROUP?"ag-header-row-column-group":r==mn.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column"),o}return LRe(t,n),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i){void 0===i&&(i=!0),this.comp=e,i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_VIRTUAL_COLUMNS_CHANGED,function(i){return e.onVirtualColumnsChanged(i.afterScroll)}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(i){return e.isEnsureDomOrder=i.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return lp(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){var e=this.beans.columnModel;return this.isPrintLayout?null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),r=e.rowHeight;this.comp.setTop(e.topOffset+"px"),this.comp.setHeight(r+"px")},t.prototype.getTopAndHeight=function(){var e=this.beans,i=e.columnModel,r=e.filterManager,o=i.getHeaderRowCount(),a=[],s=0;r.hasFloatingFilters()&&(o++,s=1);for(var l=i.getColumnGroupHeaderRowHeight(),c=i.getColumnHeaderRowHeight(),d=o-(1+s),h=0;h<d;h++)a.push(l);for(a.push(c),h=0;h<s;h++)a.push(i.getFloatingFiltersHeight());var p=0;for(h=0;h<this.rowIndex;h++)p+=a[h];return{topOffset:p,rowHeight:a[this.rowIndex]}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){void 0===e&&(e=!1);var i=this.getHeaderCtrls();this.comp.setHeaderCtrls(i,this.isEnsureDomOrder||this.isPrintLayout,e)},t.prototype.getHeaderCtrls=function(){var e,i,r,o,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var b,w,M,l=this.getColumnsInViewport();try{for(var c=jY(l),u=c.next();!u.done;u=c.next())this.recycleAndCreateHeaderCtrls(u.value,s)}catch(b){e={error:b}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}if(s)try{for(var p=jY(s),f=p.next();!f.done;f=p.next()){var m=NRe(f.value,2),g=m[0],v=m[1];w=void 0,M=void 0,M=(w=this.beans).columnModel,w.focusService.isHeaderWrapperFocused(b=v)&&M.isDisplayed(b.getColumnGroupChild())?this.headerCellCtrls.set(g,v):this.destroyBean(v)}}catch(b){r={error:b}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}return Array.from(this.headerCellCtrls.values())},t.prototype.recycleAndCreateHeaderCtrls=function(e,i){if(this.headerCellCtrls&&!e.isEmptyGroup()){var o,r=e.getUniqueId();if(i&&(o=i.get(r),i.delete(r)),o&&o.getColumnGroupChild()!=e&&(this.destroyBean(o),o=void 0),null==o)switch(this.type){case mn.FLOATING_FILTER:o=this.createBean(new wRe(e,this.beans,this));break;case mn.COLUMN_GROUP:o=this.createBean(new kRe(e,this.beans,this));break;default:o=this.createBean(new MRe(e,this.beans,this))}this.headerCellCtrls.set(r,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){if(null!=this.pinned)return[];var e=[],i=this.getActualDepth(),r=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=r.getVirtualHeaderGroupRow(o,i);e=e.concat(a)}),e},t.prototype.getActualDepth=function(){return this.type==mn.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,i){if(!this.headerCellCtrls)return!1;var o=Array.from(this.headerCellCtrls.values()).find(function(a){return a.getColumnGroupChild()==e});return!!o&&o.focus(i)},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(i){e.destroyBean(i)}),this.headerCellCtrls=void 0,n.prototype.destroy.call(this)},HY([C("beans")],t.prototype,"beans",void 0),HY([H],t.prototype,"postConstruct",null),t}(z),GRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ng=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jRe=function(n){function t(e){var i=n.call(this)||this;return i.hidden=!1,i.includeFloatingFilter=!1,i.groupsRowCtrls=[],i.pinned=e,i}return GRe(t,n),t.prototype.setComp=function(e,i){this.comp=e,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var i=new cRe(this.pinned,e);this.createManagedBean(i)},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!1);var u,d,r=new Nr,o=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var u=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var d=0;d<u;d++){var h=i.createBean(new Wk(r.next(),i.pinned,mn.COLUMN_GROUP));i.groupsRowCtrls.push(h)}})(),u=r.next(),((d=!(i.hidden||null!=i.columnsRowCtrl&&e&&i.columnsRowCtrl.getRowIndex()===u))||i.hidden)&&(i.columnsRowCtrl=i.destroyBean(i.columnsRowCtrl)),d&&(i.columnsRowCtrl=i.createBean(new Wk(u,i.pinned,mn.COLUMN))),function(){i.includeFloatingFilter=i.filterManager.hasFloatingFilters()&&!i.hidden;var u=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(i.includeFloatingFilter){var d=r.next();if(i.filtersRowCtrl){var h=i.filtersRowCtrl.getRowIndex()!==d;(!e||h)&&u()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new Wk(d,i.pinned,mn.FLOATING_FILTER)))}else u()}();var c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new Hk(function(i){return e.comp.setCenterWidth("".concat(i,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var i="left"===this.pinned,r="right"===this.pinned;this.hidden=!0;var o=function(){var a=i?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=a){var s=0==a,l=e.hidden!==s,c=e.gridOptionsService.get("enableRtl"),u=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(c&&i||!c&&r);e.comp.setPinnedContainerWidth("".concat(d?a+u:a,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,x.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,x.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof bt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var i=0;i<this.groupsRowCtrls.length;i++){var r=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(r)return r}},t.prototype.getHtmlElementForColumnHeader=function(e){var i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls()[e];return r?r.getType():void 0},t.prototype.focusHeader=function(e,i,r){var a=this.getAllCtrls()[e];return!!a&&a.focusHeader(i,r)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},ng([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ng([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ng([C("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),ng([C("columnModel")],t.prototype,"columnModel",void 0),ng([C("focusService")],t.prototype,"focusService",void 0),ng([C("filterManager")],t.prototype,"filterManager",void 0),t}(z),URe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$k=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Kk=function(n){function t(e){var i=n.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=e,i}return URe(t,n),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var i={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}};this.createManagedBean(new jRe(this.pinned)).setComp(i,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var o,i=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(s){var l=s.getInstanceId(),c=r[l];delete r[l];var u=c||i.createBean(new mRe(s));i.headerRowComps[l]=u,i.rowCompsList.push(u),function(s){var l=s.getGui();l.parentElement!=i.eRowContainer&&i.eRowContainer.appendChild(l),o&&ok(i.eRowContainer,l,o),o=l}(u)}),hd(r).forEach(function(s){return i.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',$k([V("eCenterContainer")],t.prototype,"eCenterContainer",void 0),$k([H],t.prototype,"init",null),$k([Mi],t.prototype,"destroyRowComps",null),t}(le),zRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qn=(()=>((qn=qn||{})[qn.UP=0]="UP",qn[qn.DOWN=1]="DOWN",qn[qn.LEFT=2]="LEFT",qn[qn.RIGHT=3]="RIGHT",qn))(),WRe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.currentHeaderRowWithoutSpan=-1,e}return zRe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl});var i=this.gridOptionsService.getDocument();this.addManagedListener(i,"mousedown",function(){return e.setCurrentHeaderRowWithoutSpan(-1)})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,i,r){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var o=i.headerRowIndex,a=i.column,s=this.getHeaderRowCount(),c=e===qn.UP?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),u=c.headerRowIndex,d=c.column,h=c.headerRowIndexWithoutSpan,p=!1;return u<0&&(u=0,d=a,p=!0),u>=s?(u=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==h&&(this.currentHeaderRowWithoutSpan=h),!(!p&&!d)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:r})},t.prototype.setCurrentHeaderRowWithoutSpan=function(e){this.currentHeaderRowWithoutSpan=e},t.prototype.navigateHorizontally=function(e,i,r){void 0===i&&(i=!1);var l,c,o=this.focusService.getFocusedHeader(),a=e===qn.LEFT,s=this.gridOptionsService.get("enableRtl");return-1!==this.currentHeaderRowWithoutSpan?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,(l=this.headerPositionUtils.findHeader(o,c=a!==s?"Before":"After"))||!i?this.focusService.focusHeaderPosition({headerPosition:l,direction:c,fromTab:i,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,c,r)},t.prototype.focusNextHeaderRow=function(e,i,r){var s,o=e.headerRowIndex,a=null;if("Before"===i?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:l.column,headerRowIndex:l.headerRowIndex},direction:i,fromTab:!0,allowUserOverride:!0,event:r})},t.prototype.scrollToColumn=function(e,i){if(void 0===i&&(i="After"),!e.getPinned()){var r;if(e instanceof Tn){var o=e.getDisplayedLeafColumns();r="Before"===i?Ut(o):o[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},eC([C("focusService")],t.prototype,"focusService",void 0),eC([C("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),eC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),eC([H],t.prototype,"postConstruct",null),eC([oe("headerNavigationService")],t)}(z),$Re=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},KRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return $Re(t,n),t.prototype.setComp=function(e,i,r){this.comp=e,this.eGui=i,this.createManagedBean(new tu(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var o,e=this.columnModel,i=0,r=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(r++,i=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=r-(1+i);if(o=i*e.getFloatingFiltersHeight(),o+=u*s,this.headerHeight!==(o+=l)){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:x.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.getAllDisplayedColumns().some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)},t.prototype.onTabKeyDown=function(e){var i=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==i?qn.LEFT:qn.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var i=null;switch(e.key){case G.LEFT:i=qn.LEFT;case G.RIGHT:ae(i)||(i=qn.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case G.UP:i=qn.UP;case G.DOWN:ae(i)||(i=qn.DOWN),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var i=this.gridOptionsService.getDocument(),r=e.relatedTarget;!r&&this.eGui.contains(i.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},t.prototype.onHeaderContextMenu=function(e,i,r){if((e||r)&&this.menuService.isHeaderContextMenuEnabled()){var o=(e??i).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,r)}},t.prototype.mockContextMenuForIPad=function(e){if(eu()){var i=new Pn(this.eGui);this.addManagedListener(i,Pn.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return i.destroy()})}},rg([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),rg([C("focusService")],t.prototype,"focusService",void 0),rg([C("columnModel")],t.prototype,"columnModel",void 0),rg([C("ctrlsService")],t.prototype,"ctrlsService",void 0),rg([C("filterManager")],t.prototype,"filterManager",void 0),rg([C("menuService")],t.prototype,"menuService",void 0),t}(z),YRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XRe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return YRe(t,n),t.prototype.postConstruct=function(){var e=this,i={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}};this.createManagedBean(new KRe).setComp(i,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new Kk("left")),o(new Kk(null)),o(new Kk("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(le),ZRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},QRe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ZRe(t,n),t.prototype.addResizeBar=function(e){var i=this,r={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(r),function(){return i.dragService.removeDragSource(r)}},t.prototype.onDragStart=function(e,i){this.dragStartX=i.clientX,this.setResizeIcons();var r=i instanceof MouseEvent&&!0===i.shiftKey;e.onResizeStart(r)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Yk([C("dragService")],t.prototype,"dragService",void 0),Yk([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Yk([oe("horizontalResizeService")],t)}(z),JRe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),og=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ePe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return JRe(t,n),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,i,r){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:i,ePopup:a})},r,i.target,this.menuService.isLegacyMenuEnabled())},t.prototype.showMenuAfterButtonClick=function(e,i,r){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var c=l?void 0:4*a,u=l?void 0:4;this.showPopup(e,function(d){o.popupService.positionPopupByComponent({type:r,eventSource:i,ePopup:d,nudgeX:c,nudgeY:u,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,i,l)},t.prototype.showPopup=function(e,i,r,o,a){var s=this,l=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!l||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var c=document.createElement("div");An(c,"presentation"),c.classList.add("ag-menu"),a||c.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(c,"keydown",function(v){return s.trapFocusWithin(v,c)}),l.guiPromise.then(function(v){return c.appendChild(v)});var u,h=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,f=this.localeService.getLocaleTextFunc(),m=a&&"columnFilter"!==r?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(v){e.setMenuVisible(!1,"contextMenu");var y=v instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),y&&o&&ua(o)){var _=s.focusService.findTabbableParent(o);_&&_.focus()}(function(){var v;null===(v=l.filterPromise)||void 0===v||v.then(function(y){var _;return null===(_=y?.afterGuiDetached)||void 0===_?void 0:_.call(y)})})(),s.dispatchVisibleChangedEvent(!1,r,e)},positionCallback:function(){return i(c)},anchorToElement:h,ariaLabel:m});g&&(this.hidePopup=u=g.hideFunc),l.filterPromise.then(function(v){i(c),v.afterGuiAttached&&v.afterGuiAttached({container:r,hidePopup:u})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)},t.prototype.trapFocusWithin=function(e,i){e.key!==G.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))},t.prototype.dispatchVisibleChangedEvent=function(e,i,r){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:i,column:r??null})},t.prototype.isMenuEnabled=function(e){var i;return e.isFilterAllowed()&&(null!==(i=e.getColDef().menuTabs)&&void 0!==i?i:["filterMenuTab"]).includes("filterMenuTab")},t.prototype.showMenuAfterContextMenuEvent=function(){},og([C("filterManager")],t.prototype,"filterManager",void 0),og([C("popupService")],t.prototype,"popupService",void 0),og([C("focusService")],t.prototype,"focusService",void 0),og([C("ctrlsService")],t.prototype,"ctrlsService",void 0),og([C("menuService")],t.prototype,"menuService",void 0),og([oe("filterMenuFactory")],t)}(z),tPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ul=(()=>((Ul=Ul||{}).TAB_GUARD="ag-tab-guard",Ul.TAB_GUARD_TOP="ag-tab-guard-top",Ul.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",Ul))(),iPe=function(n){function t(e){var i=n.call(this)||this;i.skipTabGuardFocus=!1,i.forcingFocusOut=!1;var o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,c=e.focusInnerElement,u=e.onFocusIn,d=e.onFocusOut,h=e.shouldStopEventPropagation,p=e.onTabKeyDown,f=e.handleKeyDown,m=e.eFocusableElement;return i.comp=e.comp,i.eTopGuard=o,i.eBottomGuard=a,i.providedFocusInnerElement=c,i.eFocusableElement=m,i.focusTrapActive=!!s,i.forceFocusOutWhenTabGuardsAreEmpty=!!l,i.providedFocusIn=u,i.providedFocusOut=d,i.providedShouldStopEventPropagation=h,i.providedOnTabKeyDown=p,i.providedHandleKeyDown=f,i}return tPe(t,n),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new tu(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return e.addManagedListener(i,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);var r=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(r):this.focusInnerElement(r)}},t.prototype.findNextElementOutsideAndFocus=function(e){var i=this.gridOptionsService.getDocument(),r=this.focusService.findFocusableElements(i.body,null,!0),o=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1!==o){var a,s;e?(a=0,s=o):(a=o+1,s=r.length);var l=r.slice(a,s),c=this.gridOptionsService.get("tabIndex");l.sort(function(u,d){var h=parseInt(u.getAttribute("tabindex")||"0"),p=parseInt(d.getAttribute("tabindex")||"0");return p===c?1:h===c?-1:0===h?1:0===p?-1:h-p}),l[e?l.length-1:0].focus()}},t.prototype.onFocusIn=function(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())},t.prototype.onFocusOut=function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.onTabKeyDown=function(e){var i=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!this.focusTrapActive&&!e.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);r&&setTimeout(function(){return i.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){var i=this;if(void 0===e&&(e=!1),!this.forcingFocusOut){var r=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,r.focus(),window.setTimeout(function(){i.forcingFocusOut=!1,i.activateTabGuards()})}},t.prototype.isTabGuard=function(e){return e===this.eTopGuard||e===this.eBottomGuard},UY([C("focusService")],t.prototype,"focusService",void 0),UY([H],t.prototype,"postConstruct",null),t}(z),nPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xd=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return nPe(t,n),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(o){i.forEach(function(a){return null!=o?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new iPe({comp:r,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))},t.prototype.createTabGuard=function(e){var i=document.createElement("div");return i.classList.add(Ul.TAB_GUARD,"top"===e?Ul.TAB_GUARD_TOP:Ul.TAB_GUARD_BOTTOM),An(i,"presentation"),i},t.prototype.addTabGuards=function(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Yn(this.getFocusableElement()),this.addTabGuards.apply(this,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,i){G_(e)||(e=e.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,i)},t}(le),aPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zY=function(n){function t(e){var i=n.call(this,t.getTemplate(e.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=e,e.items&&e.items.forEach(function(r){return i.addItem(r)}),i}return aPe(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var i,r,o;return null===(o=null===(r=null===(i=e.activeItem)||void 0===i?void 0:i.tabbedItem)||void 0===r?void 0:r.afterDetachedCallback)||void 0===o?void 0:o.call(r)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ').concat(e?"".concat(e,"-header"):"",'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ').concat(e?"".concat(e,"-body"):"",'"></div>\n        </div>')},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsService.getDocument();switch(e.key){case G.RIGHT:case G.LEFT:if(!this.eHeader.contains(i.activeElement))return;var r=e.key===G.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=r!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case G.UP:case G.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var i=this,r=i.focusService,o=i.eHeader,a=i.eBody,s=i.activeItem,c=this.gridOptionsService.getDocument().activeElement,u=e.target;if(e.preventDefault(),o.contains(c))return void this.focusBody(e.shiftKey);var d=null;r.isTargetUnderManagedComponent(a,u)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,u)),d||(d=s.eHeaderButton)),!d&&a.contains(c)&&((d=r.findNextFocusableElement(a,!1,e.shiftKey))||this.focusHeader()),d&&d.focus()}},t.prototype.focusInnerElement=function(e){e?this.focusHeader():this.focusBody(!0)},t.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},t.prototype.focusBody=function(e){this.focusService.focusInto(this.eBody,e)},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var i=document.createElement("span");An(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),vd(i,e.titleLabel);var r={tabbedItem:e,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))},t.prototype.showItem=function(e){var i=this.items.find(function(r){return r.tabbedItem===e});i&&this.showItemWrapper(i)},t.prototype.showItemWrapper=function(e){var r,o,a,s,l,c,i=this,u=e.tabbedItem,d=e.eHeaderButton;null===(o=(r=this.params).onItemClicked)||void 0===o||o.call(r,{item:u}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Yn(this.eBody),u.bodyPromise.then(function(h){i.eBody.appendChild(h);var p=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,p),u.afterAttachedCallback&&u.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var f=u.getScrollableContainer&&u.getScrollableContainer()||h;i.lastScrollListener=i.addManagedListener(f,"scroll",function(){i.tabbedItemScrollMap.set(u.name,f.scrollTop)});var m=i.tabbedItemScrollMap.get(u.name);void 0!==m&&setTimeout(function(){f.scrollTop=m},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(c=(l=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===c||c.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=e):null===(s=(a=this.params).onActiveItemClicked)||void 0===s||s.call(a)},TE([C("focusService")],t.prototype,"focusService",void 0),TE([V("eHeader")],t.prototype,"eHeader",void 0),TE([V("eBody")],t.prototype,"eBody",void 0),TE([H],t.prototype,"postConstruct",null),t}(xd),sPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uPe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return sPe(t,n),t.prototype.observeResize=function(e,i){var u,r=this,o=this.gridOptionsService.getWindow(),l=this.gridOptionsService.get("suppressBrowserResizeObserver");return o.ResizeObserver&&!l?((u=new o.ResizeObserver(i)).observe(e),function(){return u.disconnect()}):this.getFrameworkOverrides().wrapIncoming(function(){return function(){var u,d,h=null!==(u=e?.clientWidth)&&void 0!==u?u:0,p=null!==(d=e?.clientHeight)&&void 0!==d?d:0,f=!0,m=function(){var g,v;if(f){var y=null!==(g=e?.clientWidth)&&void 0!==g?g:0,_=null!==(v=e?.clientHeight)&&void 0!==v?v:0;(y!==h||_!==p)&&(h=y,p=_,i()),r.doNextPolyfillTurn(m)}};return m(),function(){return f=!1}}()},"resize-observer")},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(function(){var r=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],r.forEach(function(o){return o()})},50))},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("resizeObserverService")],t),t}(z),dPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ME=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hPe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return dPe(t,n),t.prototype.setScrollTop=function(e){var i=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,i&&0===e){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,i,r){this.verifyAnimationFrameOn(r);var o={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,i){e.list.push(i),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var i=this.scrollGoingDown?1:-1;e.list.sort(function(r,o){return r.index!==o.index?i*(o.index-r.index):o.createOrder-r.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,r=i.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=(new Date).getTime(),c=(new Date).getTime()-l,u=e<=0,d=this.ctrlsService.getGridBodyCtrl();u||c<e;){if(!d.getScrollFeature().scrollGridIfNeeded()){var p=void 0;if(r.length)this.sortTaskList(i),p=r.pop().task;else if(a.length)this.sortTaskList(o),p=a.pop().task;else{if(!s.length){this.cancelledTasks.clear();break}p=s.pop()}this.cancelledTasks.has(p)||p()}c=(new Date).getTime()-l}r.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var i=this.gridOptionsService.getWindow();i.requestAnimationFrame?i.requestAnimationFrame(e):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(e):i.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var i=this,r=!1;return function(){i.isOn()?r||(r=!0,i.addDestroyTask(function(){r=!1,e()})):window.setTimeout(e,0)}},ME([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ME([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ME([H],t.prototype,"init",null),ME([oe("animationFrameService")],t)}(z),ft=(()=>((ft=ft||{}).EVERYTHING="group",ft.FILTER="filter",ft.SORT="sort",ft.MAP="map",ft.AGGREGATE="aggregate",ft.FILTER_AGGREGATES="filter_aggregates",ft.PIVOT="pivot",ft.NOTHING="nothing",ft))(),pPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return pPe(t,n),t.prototype.postConstruct=function(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var i=new Set(e);this.rowModel.forEachNode(function(r){r.id&&i.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(i){var o=i.id;i.expanded&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,i,r){e&&(r&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,i,r),e.setExpanded(i))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:ft.MAP})},qk([C("rowModel")],t.prototype,"rowModel",void 0),qk([H],t.prototype,"postConstruct",null),qk([oe("expansionService")],t)}(z),fPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),au=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mPe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fPe(t,n),t.prototype.postConstruct=function(){var e;this.activeMenuFactory=null!==(e=this.enterpriseMenuFactory)&&void 0!==e?e:this.filterMenuFactory},t.prototype.showColumnMenu=function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")},t.prototype.showFilterMenu=function(e){var i=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(i,e,e.containerType,!0)},t.prototype.showHeaderContextMenu=function(e,i,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,i,r)},t.prototype.showContextMenu=function(e){var i,r,o;null===(i=this.contextMenuFactory)||void 0===i||i.onContextMenu(null!==(r=e.mouseEvent)&&void 0!==r?r:null,null!==(o=e.touchEvent)&&void 0!==o?o:null,e.rowNode??null,e.column??null,e.value,e.anchorToElement)},t.prototype.showColumnChooser=function(e){var i;null===(i=this.columnChooserFactory)||void 0===i||i.showColumnChooser(e)},t.prototype.hidePopupMenu=function(){var e;null===(e=this.contextMenuFactory)||void 0===e||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},t.prototype.hideColumnChooser=function(){var e;null===(e=this.columnChooserFactory)||void 0===e||e.hideActiveColumnChooser()},t.prototype.isColumnMenuInHeaderEnabled=function(e){var i=e.getColDef();return!(i.suppressHeaderMenuButton??i.suppressMenu)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},t.prototype.isFilterMenuInHeaderEnabled=function(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)},t.prototype.isHeaderContextMenuEnabled=function(e){return!e?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()},t.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},t.prototype.isHeaderMenuButtonEnabled=function(){var e=!this.isSuppressMenuHide();return!(eu()&&e)},t.prototype.isHeaderFilterButtonEnabled=function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isFilterMenuItemEnabled=function(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},t.prototype.areAdditionalColumnMenuItemsEnabled=function(){return"new"===this.getColumnMenuType()},t.prototype.isLegacyMenuEnabled=function(){return"legacy"===this.getColumnMenuType()},t.prototype.isFloatingFilterButtonEnabled=function(e){var i,r=e.getColDef(),o=null===(i=r.floatingFilterComponentParams)||void 0===i?void 0:i.suppressFilterButton;return null!=o&&We("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==r.suppressFloatingFilterButton?!o:!r.suppressFloatingFilterButton},t.prototype.getColumnMenuType=function(){var e;return null!==(e=this.gridOptionsService.get("columnMenu"))&&void 0!==e?e:"legacy"},t.prototype.isFloatingFilterButtonDisplayed=function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)},t.prototype.isSuppressMenuHide=function(){var e=this.gridOptionsService.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gridOptionsService.exists("suppressMenuHide")||e},t.prototype.showColumnMenuCommon=function(e,i,r,o){var a=this,s=i.column,l=i.positionBy;"button"===l?e.showMenuAfterButtonClick(s,i.buttonElement,r,o):"mouse"===l?e.showMenuAfterMouseEvent(s,i.mouseEvent,r,o):s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),r,!0)}))},au([gt("enterpriseMenuFactory")],t.prototype,"enterpriseMenuFactory",void 0),au([C("filterMenuFactory")],t.prototype,"filterMenuFactory",void 0),au([gt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),au([C("ctrlsService")],t.prototype,"ctrlsService",void 0),au([C("animationFrameService")],t.prototype,"animationFrameService",void 0),au([gt("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),au([C("filterManager")],t.prototype,"filterManager",void 0),au([H],t.prototype,"postConstruct",null),au([oe("menuService")],t)}(z),gPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vPe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return gPe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCtrl=i.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,i){var r=this.getHeaderCellForColumn(e);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return i||o.push(r),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var i=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return i.cloneItemIntoDummy(l,r)}),o.appendChild(r);var a=r.offsetWidth;return o.removeChild(r),a+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var o=r.getHtmlElementForColumnHeader(e);null!=o&&(i=o)}),i},t.prototype.cloneItemIntoDummy=function(e,i){var r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),a=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(h){return r.classList.contains(h)})?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){if(["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)})){for(var u=0;u<l.classList.length;u++){var d=l.classList[u];"ag-row-position-absolute"!=d&&a.add(d)}break}l=l.parentElement}o.appendChild(r),i.appendChild(o)},tC([C("rowRenderer")],t.prototype,"rowRenderer",void 0),tC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),tC([C("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),tC([H],t.prototype,"postConstruct",null),tC([oe("autoWidthCalculator")],t)}(z),yPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),AE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},wPe=function(n){function t(e,i){var r=n.call(this)||this;return r.createRowCon=e,r.destroyRowCtrls=i,r.stickyRowCtrls=[],r.containerHeight=0,r}return yPe(t,n),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(i){e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,i=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],i);for(var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var m,g,v,y;if(r.push(f),e.isClientSide){for(var _=f;_.isExpandable()&&_.expanded;)if(_.master)_=_.detailNode;else if(_.childrenAfterSort){if(0===_.childrenAfterSort.length)break;_=Ut(_.childrenAfterSort)}y=_.rowTop+_.rowHeight}else if(f.master)y=f.detailNode.rowTop+f.detailNode.rowHeight;else{var b=null===(m=f.childStore)||void 0===m?void 0:m.getStoreBounds();y=(null!==(g=b?.heightPx)&&void 0!==g?g:0)+(null!==(v=b?.topPx)&&void 0!==v?v:0)}var w=o+i+f.rowHeight;f.stickyRowTop=y<w?i+(y-w):i,i=0,r.forEach(function(E){var M=E.stickyRowTop+E.rowHeight;i<M&&(i=M)})},s=0;;){var l=o+i,c=this.rowModel.getRowIndexAtPixel(l),u=this.rowModel.getRow(c);if(null==u||u.level<0||100==s++)break;for(var d=[],h=u.parent;h.level>=0;)d.push(h),h=h.parent;var p=d.reverse().find(function(f){return r.indexOf(f)<0&&f.displayed});if(p)a(p);else{if(!(u.isExpandable()&&u.expanded&&u.rowTop<l))break;a(u)}}return this.refreshNodesAndContainerHeight(r,i)},t.prototype.refreshStickyNode=function(e){for(var i=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==e&&i.push(o)}this.refreshNodesAndContainerHeight(i,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,i){var r,o,a,s=this,l=!1,c=this.stickyRowCtrls.filter(function(g){return-1===e.indexOf(g.getRowNode())}),u=e.filter(function(g){return-1===s.stickyRowCtrls.findIndex(function(v){return v.getRowNode()===g})});(c.length||u.length)&&(l=!0);var d={};c.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(v){return v!==g})});try{for(var h=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(d)),p=h.next();!p.done;p=h.next())p.value.getRowNode().sticky=!1}catch(g){r={error:g}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var m=u.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(m),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,v){return v.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),l=!0),l},AE([C("rowModel")],t.prototype,"rowModel",void 0),AE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),AE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),AE([H],t.prototype,"postConstruct",null),t}(z),SPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ns=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ed=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Dd=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},EPe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var i=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},r=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(x.EVENT_RANGE_SELECTION_CHANGED,i),e.eventService.addEventListener(x.EVENT_COLUMN_MOVED,r),e.eventService.addEventListener(x.EVENT_COLUMN_PINNED,r),e.eventService.addEventListener(x.EVENT_COLUMN_VISIBLE,r)},a=function(){e.eventService.removeEventListener(x.EVENT_RANGE_SELECTION_CHANGED,i),e.eventService.removeEventListener(x.EVENT_COLUMN_MOVED,r),e.eventService.removeEventListener(x.EVENT_COLUMN_PINNED,r),e.eventService.removeEventListener(x.EVENT_COLUMN_VISIBLE,r)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){l.currentValue?o():a()}),e.gridOptionsService.get("enableRangeSelection")&&o()},e}return SPe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var i=this.rowModel.getType();("clientSide"===i||"serverSide"===i)&&(this.stickyRowFeature=this.createManagedBean(new wPe(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new DPe(e??3)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=hd(this.rowCtrlsByRowIndex),i=hd(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=i.length>0||r.length>0?Dd(Dd(Dd([],Ed(e),!1),Ed(i),!1),Ed(r),!1):e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(i){return i.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(i){return i.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUSED,function(i){e.onCellFocusChanged(i)}),this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,x.EVENT_FLASH_CELLS,function(i){e.getAllCellCtrls().forEach(function(r){return r.onFlashCells(i)})}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(function(r){var o=function(d){e.getAllCellCtrls().forEach(function(h){h.getColumn()===r&&d(h)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},c=function(){o(function(d){return d.onLastLeftPinnedChanged()})},u=function(){o(function(d){return d.onColDefChanged()})};r.addEventListener("leftChanged",a),r.addEventListener("widthChanged",s),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",c),r.addEventListener("colDefChanged",u),e.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",a),r.removeEventListener("widthChanged",s),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",c),r.removeEventListener("colDefChanged",u)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e||this.gridOptionsService.get("embedFullWidthRows"),r=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var i=[];return this.getAllRowCtrls().forEach(function(r){var o=r.getCellElement(e);o&&i.push(o)}),i},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,i){var r=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,i&&i.forEach(function(o){var a=new bp(o,r.beans,!1,!1,r.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.redrawRow=function(e,i){var o,r=this;if(void 0===i&&(i=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(null!==(o=this.cachedRowCtrls)&&void 0!==o&&o.has(e))return void this.cachedRowCtrls.removeRow(e);var a=function(s){var l=s[e.rowIndex];l&&l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=r.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var i=this;if(null!=e)return e?.forEach(function(o){return i.redrawRow(o,!0)}),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var i=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==i)return null;var o=this.gridOptionsService.getDocument().activeElement,a=this.gridOptionsService.getDomData(o,Sd.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,bp.DOM_DATA_KEY_ROW_CTRL);return a||s?i:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var r=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=i&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var i=e.newData||e.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");i&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],i=this.getAllRowCtrls(),r=i.length,o=0;o<r;o++)for(var a=i[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,i,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Dd(Dd(Dd([],Ed(this.topRowCtrls),!1),Ed(this.bottomRowCtrls),!1),Ed(r),!1);try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next())o.push(this.rowCtrlsByRowIndex[s.value])}catch(c){e={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,i,r){var o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(e,r)},t.prototype.flashCells=function(e){void 0===e&&(e={}),this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){return i.flashCell(e)})},t.prototype.refreshCells=function(e){var i=this;void 0===e&&(e={});var r={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(r)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){o.isFullWidth()&&(o.refreshFullWidth()||i.redrawRow(o.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var r,i=this,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l});if(null!==(r=e.columns)&&void 0!==r&&r.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if((!s||i.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var c=l.getFullWidthCellRenderers(),u=0;u<c.length;u++){var d=c[u];null!=d&&a.push(d)}}),Dd(Dd([],Ed(a),!1),Ed(o),!1)},t.prototype.getCellEditorInstances=function(e){var i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){var o=r.getCellEditor();o&&i.push(o)}),i},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var r=i.getCellPosition();e.push(r)}}),e},t.prototype.mapRowNodes=function(e){if(e){var i={top:{},bottom:{},normal:{}};return e.forEach(function(r){var o=r.id;"top"===r.rowPinned?i.top[o]=r:"bottom"===r.rowPinned?i.bottom[o]=r:i.normal[o]=r}),i}},t.prototype.isRowInMap=function(e,i){var r=e.id,o=e.rowPinned;return"bottom"===o?null!=i.bottom[r]:"top"===o?null!=i.top[r]:null!=i.normal[r]},t.prototype.getRowCtrls=function(e){var i=this,r=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&r?o.filter(function(a){var s=a.getRowNode();return i.isRowInMap(s,r)}):o},t.prototype.getCellCtrls=function(e,i){var o,r=this;ae(i)&&(o={},i.forEach(function(s){var l=r.columnModel.getGridColumn(s);ae(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var c=l.getColumn().getId();o&&!o[c]||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];Lr(this.rowCtrlsByRowIndex,function(r,o){null==o.getRowNode().id&&e.push(r)}),this.removeRowCtrls(e);var i={};return Lr(this.rowCtrlsByRowIndex,function(r,o){var a=o.getRowNode();i[a.id]=o}),this.rowCtrlsByRowIndex={},i},t.prototype.removeRowCtrls=function(e,i){var r=this;void 0===i&&(i=!1),e.forEach(function(o){var a=r.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(i),a.destroySecondPass()),delete r.rowCtrlsByRowIndex[o]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var r,i=e.afterScroll;this.stickyRowFeature&&YF()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;if(this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows()),(!i||s||this.firstRenderedRow!==o||this.lastRenderedRow!==a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!s),null!=r)){var c=this.getCellToRestoreFocusToAfterRefresh();null!=r&&null==c&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},t.prototype.removeRowCompsNotToDraw=function(e,i){var r={};e.forEach(function(s){return r[s]=!0});var a=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!r[s]});this.removeRowCtrls(a,i)},t.prototype.calculateIndexesToDraw=function(e){var i=this,r=DK(this.firstRenderedRow,this.lastRenderedRow),o=function(u,d){var h=d.getRowNode().rowIndex;null!=h&&(h<i.firstRenderedRow||h>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(d)&&r.push(h)};Lr(this.rowCtrlsByRowIndex,o),Lr(e,o),r.sort(function(u,d){return u-d});for(var a=[],s=0;s<r.length;s++){var l=r[s],c=this.paginationProxy.getRow(l);c&&!c.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=!1);var a=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(i=!1),this.removeRowCompsNotToDraw(a,!i),a.forEach(function(l){ae(o.createOrUpdateRowCtrl(l,e,i,r))}),e&&(!r||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,i):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,i),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:x.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(i){var r=i.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var i=this,r=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(null!=r&&!i.isRowInMap(a,r))})},t.prototype.createOrUpdateRowCtrl=function(e,i,r,o){var a,s=this.rowCtrlsByRowIndex[e];if(s||ae(a=this.paginationProxy.getRow(e))&&ae(i)&&i[a.id]&&a.alreadyRendered&&(s=i[a.id],i[a.id]=null),!s){if(a||(a=this.paginationProxy.getRow(e)),!ae(a))return;s=this.createRowCon(a,r,o)}return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,i){var r=this,o=[];Lr(e,function(a,s){if(s){if(r.cachedRowCtrls&&s.isCacheable())return void r.cachedRowCtrls.addRow(s);s.destroyFirstPass(!i),i?(r.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete r.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),i&&(o.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),j6(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,i;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,c=void 0;do{var u=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),m=o.getScrollFeature().getVScrollPosition(),g=m.top,v=m.bottom;a?(l=h+f,c=p+f):(l=Math.max(g+u-r,h)+f,c=Math.min(v+u+r,p)+f),this.firstVisibleVPixel=Math.max(g+u,h)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,c)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(l),_=this.paginationProxy.getRowIndexAtPixel(c),b=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();y<b&&(y=b),_>w&&(_=w),e=y,i=_}else e=0,i=-1;var E=this.gridOptionsService.isDomLayout("normal"),M=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),P=Math.max(this.getRowBuffer(),500);E&&!M&&i-e>P&&(i=e+P),(e!==this.firstRenderedRow||i!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=i,this.eventService.dispatchEvent({type:x.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:i}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var i={type:x.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(i)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,i){var r=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return r&&this.updateContainerHeights(),r},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing();return!!(a||s||o.detail)&&!!this.paginationProxy.isRowPresent(o)},t.prototype.createRowCon=function(e,i,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame");return new bp(e,this.beans,i,r&&!a&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(i){return e[i].getRowNode()})},t.prototype.getRowByPosition=function(e){var i,r=e.rowIndex;switch(e.rowPinned){case"top":i=this.topRowCtrls[r];break;case"bottom":i=this.bottomRowCtrls[r];break;default:(i=this.rowCtrlsByRowIndex[r])||(i=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===r})||null)}return i},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,i){return!(null==e||null==i||i<this.firstRenderedRow||e>this.lastRenderedRow)},Ns([C("animationFrameService")],t.prototype,"animationFrameService",void 0),Ns([C("paginationProxy")],t.prototype,"paginationProxy",void 0),Ns([C("columnModel")],t.prototype,"columnModel",void 0),Ns([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ns([C("rowModel")],t.prototype,"rowModel",void 0),Ns([C("focusService")],t.prototype,"focusService",void 0),Ns([C("beans")],t.prototype,"beans",void 0),Ns([C("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Ns([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Ns([H],t.prototype,"postConstruct",null),Ns([oe("rowRenderer")],t)}(z),DPe=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},n.prototype.has=function(t){return null!=this.entriesMap[t.id]},n.prototype.removeRow=function(t){var e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],wo(this.entriesList,i)},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],wo(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}(),TPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$Y=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},MPe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return TPe(t,n),t.prototype.formatValue=function(e,i,r,o,a){void 0===a&&(a=!0);var l,s=null,c=e.getColDef();if(o?l=o:a&&(l=c.valueFormatter),l){var u=this.gridOptionsService.addGridCommonParams({value:r,node:i,data:i?i.data:null,colDef:c,column:e});s="function"==typeof l?l(u):this.expressionService.evaluate(l,u)}else if(c.refData)return c.refData[r]||"";return null==s&&Array.isArray(r)&&(s=r.join(", ")),s},$Y([C("expressionService")],t.prototype,"expressionService",void 0),$Y([oe("valueFormatterService")],t)}(z),APe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},OPe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return APe(t,n),t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){return oa("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,i){var r="top"===i?this.pinnedTopRows:this.pinnedBottomRows;if(oa(r))return 0;for(var o=0;o<r.length;o++){var a=r[o];if(a.rowTop+a.rowHeight-1>=e)return o}return r.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:x.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:x.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,i){var r=this,o=[];if(e){var a=0;e.forEach(function(s,l){var c=new st(r.beans);c.data=s,c.id=(i?st.ID_PREFIX_TOP_PINNED:st.ID_PREFIX_BOTTOM_PINNED)+l,c.rowPinned=i?"top":"bottom",c.setRowTop(a),c.setRowHeight(r.gridOptionsService.getRowHeightForNode(c).height),c.setRowIndex(l),a+=c.rowHeight,o.push(c)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){oa(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){oa(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var i=Ut(e);return i.rowTop+i.rowHeight},Xk([C("beans")],t.prototype,"beans",void 0),Xk([H],t.prototype,"init",null),Xk([oe("pinnedRowModel")],t)}(z),Bi=(()=>((Bi=Bi||{}).Applied="Applied",Bi.StoreNotFound="StoreNotFound",Bi.StoreLoading="StoreLoading",Bi.StoreWaitingToLoad="StoreWaitingToLoad",Bi.StoreLoadingFailed="StoreLoadingFailed",Bi.StoreWrongType="StoreWrongType",Bi.Cancelled="Cancelled",Bi.StoreNotStarted="StoreNotStarted",Bi))(),iC=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var o=t.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,i):i&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},i++,e=e.parent;return i},n.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach(function(o){return i.nodeIdsToColumns[r.id][o.getId()]=!0}),r=r.parent},n.prototype.linkPathItems=function(t,e){for(var i=t,r=0;r<e;r++){var o=this.mapToItems[i.id],a=this.mapToItems[i.parent.id];a.children||(a.children=[]),a.children.push(o),i=i.parent}},n.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter(function(o){return i[o.getId()]})},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter(function(o){return!i[o.getId()]})},n}(),RPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),su=function(n){function t(e){var i=n.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=e,i}return RPe(t,n),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,i){this.successCommon(e,i)},t.prototype.pageLoaded=function(e,i,r){this.successCommon(e,{rowData:i,rowCount:r})},t.prototype.isRequestMostRecentAndLive=function(e){var i=e===this.version,r=this.isAlive();return i&&r},t.prototype.successCommon=function(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(i))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(z),PPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IPe=function(n,t){return function(e,i){t(e,i,n)}},KY=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}var e;return PPe(t,n),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsService.get("blockLoadDebounceMillis");i&&i>0&&(this.checkBlockToLoadDebounce=D.debounce(this.performCheckBlocksToLoad.bind(this),i))},t.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var i=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==i?2:i<=0?void 0:i},t.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(su.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(i){D.removeFromArray(this.blocks,i)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var i=this.getAvailableLoadingCount(),r=this.blocks.filter(function(o){return o.getState()===su.STATE_WAITING_TO_LOAD}).slice(0,i);this.registerLoads(r.length),r.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var r={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson();r[a.id]=a.state}),r},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(i){this.activeBlockLoadsCount+=i},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",OE([C("rowModel")],t.prototype,"rowModel",void 0),OE([H],t.prototype,"postConstruct",null),OE([IPe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),e=OE([oe("rowNodeBlockLoader")],t)}(z),FPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kPe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return FPe(t,n),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,i,r,o){var a=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return Qe(this.topRowBounds)||Qe(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var i=this.getPageFirstRow(),r=this.getPageLastRow(),o=i;o<=r;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var i=this.getPageForIndex(e);this.goToPage(i)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return ae(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ae(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ae(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ae(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(void 0!==this.pageSizeAutoCalculated){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,i){var r=this.pageSize;switch(i){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}r!==this.pageSize&&this.onModelUpdated({type:x.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ae(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:x.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Zk([C("rowModel")],t.prototype,"rowModel",void 0),Zk([H],t.prototype,"postConstruct",null),Zk([oe("paginationProxy")],t)}(z),LPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},NPe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return LPe(t,n),t.prototype.processAllCellClasses=function(e,i,r,o){this.processClassRules(void 0,e.cellClassRules,i,r,o),this.processStaticCellClasses(e,i,r)},t.prototype.processClassRules=function(e,i,r,o,a){if(null!=i||null!=e){var s={},l={},c=function(f,m){f.split(" ").forEach(function(g){""!=g.trim()&&m(g)})};if(i)for(var u=Object.keys(i),d=function(f){var v,m=u[f],g=i[m];"string"==typeof g?v=h.expressionService.evaluate(g,r):"function"==typeof g&&(v=g(r)),c(m,function(y){v?s[y]=!0:l[y]=!0})},h=this,p=0;p<u.length;p++)d(p);e&&a&&Object.keys(e).forEach(function(f){return c(f,function(m){s[m]||(l[m]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,i){var o,r=e.cellClass;return r?("string"==typeof(o="function"==typeof r?r(i):r)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,i,r){this.getStaticCellClasses(e,i).forEach(function(a){r(a)})},YY([C("expressionService")],t.prototype,"expressionService",void 0),YY([oe("stylingService")],t)}(z),VPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qk=function(n){function t(e){return n.call(this,e,"ag-toggle-button")||this}return VPe(t,n),t.prototype.setValue=function(e,i){return n.prototype.setValue.call(this,e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Cd),GPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BPe=function(n){function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return GPe(t,n),t.prototype.setValue=function(e,i){var r=n.prototype.setValue.call(this,e,i);return this.eInput.value=e,r},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(_d),HPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qY=function(n){function t(e){return n.call(this,e,"ag-date-field","date")||this}return HPe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var i=Vl();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||i||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var i,r=e instanceof Date?null!==(i=$a(e??null,!1))&&void 0!==i?i:void 0:e;return this.min===r||(this.min=r,Bl(this.eInput,"min",r)),this},t.prototype.setMax=function(e){var i,r=e instanceof Date?null!==(i=$a(e??null,!1))&&void 0!==i?i:void 0:e;return this.max===r||(this.max=r,Bl(this.eInput,"max",r)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Bl(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=So(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,i){this.setValue($a(e??null,!1),i)},t}(nu),jPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UPe=function(n){function t(e){return n.call(this,e,"ag-range-field","range")||this}return jPe(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,i=e.min,r=e.max,o=e.step;null!=i&&this.setMinValue(i),null!=r&&this.setMaxValue(r),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){e.setValue(i.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var r=n.prototype.setValue.call(this,e,i);return this.eInput.value=e,r},t}(_d),zPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WPe=function(n){function t(e,i){var r=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=e,r.wrapperEl=i,r}return zPe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},t.prototype.setState=function(e){var i="";this.params.valueFormatter&&(i=this.params.valueFormatter(e)),this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.value=e},t.prototype.highlightString=function(e){var i=this.parsedValue;if(!this.params.cellRenderer&&ae(i)){var r=ae(e);if(r){var o=i?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=Mn(i.slice(0,o),!0),l=Mn(i.slice(o,a),!0),c=Mn(i.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(c))}else r=!1}r||this.renderValueWithoutRenderer(i)}},t.prototype.updateHighlighted=function(e){var i,r=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());null===(i=r.parentElement)||void 0===i||i.setAttribute("id",o),e&&(RF(this.getParentComponent().getAriaElement(),o),this.wrapperEl.setAttribute("data-active-option",o)),Xm(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,i){var r=this.gridOptionsService.getDocument(),o=this.getGui(),a=r.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=Mn(ae(i)?i:e,!0);this.parsedValue=ae(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var i=this.getGui().querySelector("span");i&&(i.innerHTML=ae(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,i){var o,a,r=this;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:i})),a&&(o=a.newAgStackInstance()),o&&ck(o,this.getGui()),!!o&&(o.then(function(s){r.addDestroyFunc(function(){r.getContext().destroyBean(s)})}),!0)},t.prototype.onClick=function(){var e=this.getParentComponent(),i={type:x.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(i)},XY([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),XY([H],t.prototype,"postConstruct",null),t}(le),$Pe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ag=function(n){function t(e){var i=n.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;i.renderedRows=new Map,i.rowHeight=20;var r=e||{},o=r.cssIdentifier,s=r.ariaRole,l=void 0===s?"listbox":s,c=r.listName;return i.cssIdentifier=void 0===o?"default":o,i.ariaRole=l,i.listName=c,i}return $Pe(t,n),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)},focusInnerElement:function(i){return e.focusInnerElement(i)},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var i=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),r=this.eContainer;An(r,this.ariaRole),vd(r,i)},t.prototype.addResizeObserver=function(){var e=this,r=this.resizeObserverService.observeResize(this.getGui(),function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})});this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var i=e.target;i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=cK(i)-1)},t.prototype.onFocusOut=function(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.key){case G.UP:case G.DOWN:this.navigate(e.key===G.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Rs(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var i=this.lastFocusedRowIndex+(e?-1:1);return!(i<0||i>=this.model.getRowCount()||(this.focusRow(i),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var i=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(i.isAlive()){var r=i.renderedRows.get(e);r&&r.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var i=this.renderedRows.get(e);return i&&i.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(i,r){return e(i.rowComponent,r)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-').concat(e,'-virtual-list-container" ref="eContainer"></div>\n            </div>')},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,i){void 0===i&&(i=!0);var r=this.model.getRowCount();if("number"!=typeof e||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,c=s.offsetHeight,d=i?0:this.rowHeight,p=l+c<a-d;return l>o+d?(s.scrollTop=o,!0):!!p&&(s.scrollTop=a-c,!0)},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var i=this;if(null!=this.model&&this.isAlive()){var r=this.model.getRowCount();this.eContainer.style.height="".concat(r*this.rowHeight,"px"),yF(function(){return i.eContainer.clientHeight>=r*i.rowHeight},function(){i.isAlive()&&(i.canSoftRefresh(e)?i.drawVirtualRows(!0):(i.clearVirtualRows(),i.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(i,r){return e.removeRow(r)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var i=this.getGui(),r=i.scrollTop,o=r+i.offsetHeight,a=Math.floor(r/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,i,r){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>i)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),r&&this.refreshRows();for(var a=e;a<=i;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var i=this,r=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),An(o,"tree"===this.ariaRole?"treeitem":"option"),PF(o,this.model.getRowCount()),IF(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(r,o);a.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:r})},t.prototype.removeRow=function(e){var i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,i=this.model.getRowCount();this.renderedRows.forEach(function(r,o){var a,s;if(o>=i)e.removeRow(o);else{var l=e.model.getRow(o);null!==(s=(a=e.model).areRowsEqual)&&void 0!==s&&s.call(a,r.value,l)?e.componentUpdater(l,r.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},RE([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),RE([C("animationFrameService")],t.prototype,"animationFrameService",void 0),RE([V("eContainer")],t.prototype,"eContainer",void 0),RE([H],t.prototype,"postConstruct",null),t}(xd),KPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PE=function(){return PE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},PE.apply(this,arguments)},ZY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IE=function(n){function t(e){var r,o,i=this;(i=n.call(this,PE(PE({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(r=e?.template)&&void 0!==r?r:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(o=e?.maxPickerHeight)&&void 0!==o?o:"calc(var(--ag-row-height) * 6.5)"}))||this).searchString="",i.highlightedItem=-1,i.lastRowHovered=-1,i.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,c=a.valueList,u=a.searchStringCreator;return null!=s&&(i.cellRowHeight=s),void 0!==l&&(i.value=l),null!=c&&(i.values=c),u&&(i.searchStringCreator=u),i}return KPe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var i=this.config,r=i.allowTyping,o=i.placeholder;r?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay;this.clearSearchString=sa(this.clearSearchString,void 0===a?300:a),this.renderSelectedValue(),r&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),i=this.localeService.getLocaleTextFunc(),r=e.createElement("div");r.classList.add("ag-loading-text"),r.innerText=i("loadingOoo","Loading..."),this.eLoading=r},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new ag({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater(function(u,d){}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){e.onListValueSelected(u.value,u.fromEnterKey)});var r=this.cellRowHeight;r&&this.listComponent.setRowHeight(r);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(u){return u.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s),vd(a,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),LF(this.eWrapper,a)},t.prototype.renderSelectedValue=function(){var d,h,e=this,i=this,r=i.value,o=i.eDisplayField,a=i.config,s=this.config,l=s.allowTyping,c=s.initialInputValue,u=this.config.valueFormatter?this.config.valueFormatter(r):r;if(l)this.eInput.setValue(c??u);else if(a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:u})),d&&(h=d.newAgStackInstance()),h)Yn(o),ck(h,o),h.then(function(f){e.addDestroyFunc(function(){return e.getContext().destroyBean(f)})});else if(ae(this.value))o.innerText=u,o.classList.remove("ag-display-as-placeholder");else{var p=a.placeholder;ae(p)?(o.innerHTML="".concat(Mn(p)),o.classList.add("ag-display-as-placeholder")):Yn(o)}},t.prototype.getCurrentValueIndex=function(){var i=this.currentList,r=this.value;if(null==r||!i)return-1;for(var o=0;o<i.length;o++)if(i[o]===r)return o;return-1},t.prototype.highlightFilterMatch=function(){var i,e=this;null===(i=this.listComponent)||void 0===i||i.forEachRenderedRow(function(r,o){r.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var r,i=this;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null===(r=this.listComponent)||void 0===r||r.forEachRenderedRow(function(o,a){o.updateHighlighted(-1!==e&&i.highlightedItem===a)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var i=e.valueList,r=e.refresh;this.listComponent&&this.currentList!==i&&(this.currentList=i,this.listComponent.setModel({getRowCount:function(){return i.length},getRow:function(o){return i[o]},areRowsEqual:function(o,a){return o===a}}),r&&(this.values?this.listComponent.refresh(!0):(this.values=i,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,i;if(this.listComponent){if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!==(e=this.eLoading)&&void 0!==e&&e.offsetParent&&(null===(i=this.eLoading.parentElement)||void 0===i||i.removeChild(this.eLoading));var r=this.getCurrentValueIndex();-1!==r?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var i=e.key;if(i===G.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!oE(e))return;e.preventDefault(),this.searchTextFromCharacter(i)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){null==e&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var o,i=this.config.valueFormatter,r=void 0===i?function(a){return a}:i;return"number"==typeof e[0]||"string"==typeof e[0]?o=e.map(function(a){return r(a)}):"object"==typeof e[0]&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,i){var r=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,c=void 0===l?"fuzzy":l,u=s.filterList;if("fuzzy"===c){var d=B_(this.searchString,i,!0);o=d.values;var h=d.indices;if(u&&h.length)for(var p=0;p<h.length;p++)a.push(this.values[h[p]])}else o=i.filter(function(f,m){var g=f.toLocaleLowerCase(),v=r.searchString.toLocaleLowerCase(),y="match"===c?g.startsWith(v):-1!==g.indexOf(v);return u&&y&&a.push(r.values[m]),y});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){this.config.filterList&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,i,r=this.values,o=this.buildSearchStrings(r);if(o){var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,c=this.config,d=c.highlightMatch,h=c.searchType,p=void 0===h?"fuzzy":h,f=l.length,m=!(!c.filterList||""===this.searchString);if(this.filterListModel(m?l:r),s.length){var g=m?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!m||f)null===(e=this.listComponent)||void 0===e||e.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");var v=null===(i=this.listComponent)||void 0===i?void 0:i.getAriaElement();v&&RF(v,null)}d&&"fuzzy"!==p&&this.highlightFilterMatch(),this.displayOrHidePicker()}else this.highlightSelectedValue(-1)},t.prototype.displayOrHidePicker=function(){var e,i=null===(e=this.listComponent)||void 0===e?void 0:e.getGui(),r=!!this.currentList&&0===this.currentList.length;i?.classList.toggle("ag-hidden",r)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,i){!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!i)&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))},t.prototype.setValue=function(e,i,r){var o=this.currentList?this.currentList.indexOf(e):-1;return-1===o?this:(this.value=e,r||this.selectListItem(o),this.renderSelectedValue(),n.prototype.setValue.call(this,e,i))},t.prototype.createRowComponent=function(e){var i=new WPe(this.config,this.eWrapper);i.setParentComponent(this.listComponent),this.getContext().createBean(i),i.setState(e);var r=this.config,a=r.searchType;return r.highlightMatch&&"fuzzy"!==(void 0===a?"fuzzy":a)&&i.highlightString(this.searchString),i},t.prototype.getRowForMouseEvent=function(e){var i=this.listComponent;if(!i)return-1;var r=i?.getGui(),o=r.getBoundingClientRect(),a=i.getScrollTop();return Math.floor((e.clientY-o.top+a)/i.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var i=this.getRowForMouseEvent(e);-1!==i&&i!=this.lastRowHovered&&(this.lastRowHovered=i,this.selectListItem(i,!0))}},t.prototype.onNavigationKeyDown=function(e,i){e.preventDefault();var r=i===G.DOWN;if(this.isPickerDisplayed||!r){var o=this.highlightedItem;this.selectListItem(-1===o?0:o+(r?1:-1))}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,i){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,i),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,i){this.dispatchEvent({type:x.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:i,value:e})},t.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var i=e.key,r=this.config.allowTyping;switch(i){case G.LEFT:case G.RIGHT:case G.PAGE_HOME:case G.PAGE_END:r||e.preventDefault();break;case G.PAGE_UP:case G.PAGE_DOWN:e.preventDefault();break;case G.DOWN:case G.UP:this.onNavigationKeyDown(e,i);break;case G.ESCAPE:this.isPickerDisplayed&&(ua(this.listComponent.getGui())&&(e.preventDefault(),Rs(e)),this.hidePicker());break;case G.ENTER:this.onEnterKeyDown(e);break;case G.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},ZY([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ZY([V("eInput")],t.prototype,"eInput",void 0),t}(yk),qPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Xa=function(n){function t(e){var i=n.call(this,e,t.TEMPLATE)||this;return i.labelAlignment="top",i}return qPe(t,n),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var i=this,r=x.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,function(){var o=parseFloat(i.eText.getValue());i.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,r,function(){var o=i.eSlider.getValue();i.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',FE([V("eLabel")],t.prototype,"eLabel",void 0),FE([V("eSlider")],t.prototype,"eSlider",void 0),FE([V("eText")],t.prototype,"eText",void 0),FE([H],t.prototype,"init",null),t}(vk),XPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Td=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Vs=function(n){function t(e){void 0===e&&(e={});var i=n.call(this,t.getTemplate(e))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return i.title=e.title,i.cssIdentifier=e.cssIdentifier||"default",i.enabled=o??!0,i.items=a||[],i.alignItems=e.alignItems||"center",null!=s&&(i.suppressEnabledCheckbox=s),null!=l&&(i.suppressOpenCloseIcons=l),i}return XPe(t,n),t.getTemplate=function(e){var i=e.cssIdentifier||"default",r=e.direction||"vertical";return'<div class="ag-group ag-'.concat(i,'-group" role="presentation">\n            <div class="ag-group-title-bar ag-').concat(i,'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-').concat(i,'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-').concat(i,'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-').concat(i,'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-').concat(r," ag-").concat(i,'-group-container"></div>\n        </div>')},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var i=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Ya("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ya("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case G.ENTER:case G.SPACE:i.preventDefault(),e.toggleGroupExpand();break;case G.RIGHT:case G.LEFT:i.preventDefault(),e.toggleGroupExpand(i.key===G.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Jc(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Nt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Nt(this.eGroupOpenedIcon,e&&this.expanded),Nt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var i="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(i),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Nt(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Nt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var i=this;e.forEach(function(r){return i.addItem(r)})},t.prototype.prependItem=function(e){this.insertItem(e,this.eContainer.firstChild)},t.prototype.addItem=function(e){this.insertItem(e,null)},t.prototype.insertItem=function(e,i){var r=this.eContainer,o=e instanceof le?e.getGui():e;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),r.insertBefore(o,i),this.items.push(o)},t.prototype.hideItem=function(e,i){Nt(this.items[i],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,i){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),i||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var i=this;return this.cbGroupEnabled.onValueChange(function(r){i.setEnabled(r,!0),e(r)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Td([V("eTitleBar")],t.prototype,"eTitleBar",void 0),Td([V("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Td([V("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Td([V("eToolbar")],t.prototype,"eToolbar",void 0),Td([V("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Td([V("eTitle")],t.prototype,"eTitle",void 0),Td([V("eContainer")],t.prototype,"eContainer",void 0),Td([H],t.prototype,"postConstruct",null),t}(le),ZPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QY=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kE=function(n){function t(e,i){void 0===e&&(e=0);var r=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=e,r.menuItems=[],r.params=i??{column:null,node:null,value:null},r}return ZPe(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.handleFocusIn(i)},onFocusOut:function(i){return e.handleFocusOut(i)}})},t.prototype.onTabKeyDown=function(e){var i=this.getParentComponent(),r=i&&i.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case G.UP:case G.RIGHT:case G.DOWN:case G.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case G.ESCAPE:this.closeIfIsChild()&&Rs(e)}},t.prototype.handleFocusIn=function(e){var i,r,o=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||null!==(r=null===(i=this.activeMenuItem)||void 0===i?void 0:i.getSubMenuGui())&&void 0!==r&&r.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},t.prototype.handleFocusOut=function(e){var i,r=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(r)||null!==(i=this.activeMenuItem.getSubMenuGui())&&void 0!==i&&i.contains(r)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var i=this;null!=e&&vt.all(e.map(function(r){return"separator"===r?vt.resolve({eGui:i.createSeparator()}):"string"==typeof r?(console.warn("AG Grid: unrecognised menu item ".concat(r)),vt.resolve({eGui:null})):i.addItem(r)})).then(function(r){r.forEach(function(o){o?.eGui&&(i.appendChild(o.eGui),o.comp&&i.menuItems.push(o.comp))})})},t.prototype.addItem=function(e){var i=this,r=this.createManagedBean(new Gs);return r.init({menuItemDef:e,isAnotherSubMenuOpen:function(){return i.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return r.setParentComponent(i),i.addManagedListener(r,Gs.EVENT_CLOSE_MENU,function(o){i.dispatchEvent(o)}),i.addManagedListener(r,Gs.EVENT_MENU_ITEM_ACTIVATED,function(o){i.activeMenuItem&&i.activeMenuItem!==o.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=o.menuItem}),{comp:r,eGui:r.getGui()}})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(i){return!i.isDisabled()})[0];e&&e.activate()},t.prototype.createSeparator=function(){return xo('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')},t.prototype.handleNavKey=function(e){switch(e){case G.UP:case G.DOWN:var i=this.findNextItem(e===G.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsService.get("enableRtl")?G.RIGHT:G.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var i=this.getParentComponent();return!!(i&&i instanceof Gs)&&(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus(),!0)},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var i=this.menuItems.filter(function(l){return!l.isDisabled()});if(i.length){if(!this.activeMenuItem)return e?Ut(i):i[0];e&&i.reverse();for(var r,o=!1,a=0;a<i.length;a++){var s=i[a];if(o){r=s;break}s===this.activeMenuItem&&(o=!0)}return o&&!r?i[0]:r||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},QY([C("focusService")],t.prototype,"focusService",void 0),QY([H],t.prototype,"postConstruct",null),t}(xd),QPe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eIe=function(n){function t(e){var i=n.call(this)||this;return i.wrappedComponent=e,i.setTemplateFromElement(e.getGui()),i}return QPe(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.handleKeyDown=function(e){e.key===G.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(xd),tIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nC=function(){return nC=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},nC.apply(this,arguments)},Jk=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Gs=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.isActive=!1,e.subMenuIsOpen=!1,e.subMenuIsOpening=!1,e.suppressRootStyles=!0,e.suppressAria=!0,e.suppressFocus=!0,e}return tIe(t,n),t.prototype.init=function(e){var r,o,i=this,a=e.menuItemDef,s=e.isAnotherSubMenuOpen,l=e.level,c=e.childComponent,u=e.contextParams;return this.params=e.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=c,this.contextParams=u,this.cssClassPrefix=null!==(o=null===(r=this.params.menuItemParams)||void 0===r?void 0:r.cssClassPrefix)&&void 0!==o?o:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,nC(nC({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(h){return i.openSubMenu(h)},closeSubMenu:function(){return i.closeSubMenu()},closeMenu:function(h){return i.closeMenu(h)},updateTooltip:function(h){return i.updateTooltip(h)},onItemActivated:function(){return i.onItemActivated()}})).newAgStackInstance().then(function(h){var p;i.menuItemComp=h;var f=null===(p=h.configureDefaults)||void 0===p?void 0:p.call(h);f&&i.configureDefaults(!0===f?void 0:f)})},t.prototype.addListeners=function(e,i){var r=this;i?.suppressClick||this.addManagedListener(e,"click",function(o){return r.onItemSelected(o)}),i?.suppressKeyboardSelect||this.addManagedListener(e,"keydown",function(o){(o.key===G.ENTER||o.key===G.SPACE)&&(o.preventDefault(),r.onItemSelected(o))}),i?.suppressMouseDown||this.addManagedListener(e,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),i?.suppressMouseOver||(this.addManagedListener(e,"mouseenter",function(){return r.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.onMouseLeave()}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r,o,i=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){this.subMenuIsOpening=!0;var a=xo('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){i.subMenuIsOpening=!1};if(this.childComponent){var c=this.createBean(new eIe(this.childComponent));c.setParentComponent(this);var u=c.getGui(),d="mouseenter",h=function(){return i.cancelDeactivate()};u.addEventListener(d,h),s=function(){return u.removeEventListener(d,h)},a.appendChild(u),this.childComponent.afterGuiAttached&&(l=function(){i.childComponent.afterGuiAttached(),i.subMenuIsOpening=!1})}else if(this.params.subMenu){var p=this.createBean(new kE(this.level+1,this.contextParams));p.setParentComponent(this),p.addMenuItems(this.params.subMenu),a.appendChild(p.getGui()),this.addManagedListener(p,t.EVENT_CLOSE_MENU,function(v){return i.dispatchEvent(v)}),p.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),s=function(){return i.destroyBean(p)},e&&(l=function(){p.activateFirstItem(),i.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),m=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:m("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var v,y;g&&g.hideFunc(),i.subMenuIsOpen=!1,i.setAriaExpanded(!1),s(),null===(y=(v=i.menuItemComp).setExpanded)||void 0===y||y.call(v,!1),i.eSubMenuGui=void 0},null===(o=(r=this.menuItemComp).setExpanded)||void 0===o||o.call(r,!0)}},t.prototype.setAriaExpanded=function(e){this.suppressAria||Jc(this.eGui,e)},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},t.prototype.activate=function(e){var r,o,i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),null===(o=(r=this.menuItemComp).setActive)||void 0===o||o.call(r,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){var e,i;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),null===(i=(e=this.menuItemComp).setActive)||void 0===i||i.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.getGui=function(){return this.menuItemComp.getGui()},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getSubMenuGui=function(){return this.eSubMenuGui},t.prototype.onItemSelected=function(e){var r,o,i=this;null===(o=(r=this.menuItemComp).select)||void 0===o||o.call(r),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return i.params.action(i.gridOptionsService.addGridCommonParams(nC({},i.contextParams)))}):this.openSubMenu(e&&"keydown"===e.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)},t.prototype.closeMenu=function(e){this.dispatchEvent({type:t.EVENT_CLOSE_MENU,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.configureDefaults=function(e){var r,o,a,i=this;if(this.tooltip=this.params.tooltip,this.menuItemComp){var s=this.menuItemComp.getGui(),l=null===(o=(r=this.menuItemComp).getRootElement)||void 0===o?void 0:o.call(r);l&&(e?.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!e?.suppressRootStyles,this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),null===(a=this.params.cssClasses)||void 0===a||a.forEach(function(c){return s.classList.add(c)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),e?.suppressTooltip||this.setTooltip(),this.suppressAria=!!e?.suppressAria,this.suppressAria||(An(s,"treeitem"),pK(s,this.level+1),this.params.disabled&&OF(s,!0)),e?.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!e?.suppressFocus}else setTimeout(function(){return i.configureDefaults(e)})},t.prototype.updateTooltip=function(e){this.tooltip=e,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},t.prototype.setTooltip=function(){var e=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new Ls({getGui:function(){return e.getGui()},getTooltipValue:function(){return e.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},t.EVENT_CLOSE_MENU="closeMenu",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,Jk([C("popupService")],t.prototype,"popupService",void 0),Jk([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Jk([C("beans")],t.prototype,"beans",void 0),t}(z),iIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JY=function(n){function t(e){var i=n.call(this,t.getTemplate(e))||this;return i.config=e,i.closable=!0,i}return iIe(t,n),t.getTemplate=function(e){var i=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(i,'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-').concat(i,'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-').concat(i,'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-').concat(i,'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-').concat(i,'-panel-content-wrapper"></div>\n        </div>')},t.prototype.postConstruct=function(){var e=this,i=this.config,r=i.component,o=i.closable,a=i.hideTitleBar,s=i.title,l=i.minWidth,c=void 0===l?250:l,u=i.width,d=i.minHeight,h=void 0===d?250:d,p=i.height,f=i.centered,m=i.popup,g=i.x,v=i.y;this.positionableFeature=new sE(this.getGui(),{minWidth:c,width:u,minHeight:h,height:p,centered:f,x:g,y:v,popup:m,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();r&&this.setBodyComponent(r),a?Nt(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(_){var b=e.gridOptionsService.getDocument();if(y.contains(_.relatedTarget)||y.contains(b.activeElement)||e.eTitleBarButtons.contains(_.target))_.preventDefault();else{var w=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");w&&w.focus()}}),(!m||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var i=this.closeButtonComp=new le(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var r=i.getGui(),o=pn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(o),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((r=this.closeButtonComp.getGui()).parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,i){var r=this.eTitleBarButtons,o=r.children,a=o.length;null==i&&(i=a),i=Math.max(0,Math.min(i,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();0===i?r.insertAdjacentElement("afterbegin",s):i===a?r.insertAdjacentElement("beforeend",s):o[i-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return I_(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return pp(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&ua(e)&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',rC([V("eContentWrapper")],t.prototype,"eContentWrapper",void 0),rC([V("eTitleBar")],t.prototype,"eTitleBar",void 0),rC([V("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),rC([V("eTitle")],t.prototype,"eTitle",void 0),rC([H],t.prototype,"postConstruct",null),t}(le),nIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LE=function(){return LE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},LE.apply(this,arguments)},sg=function(n){function t(e){var i=n.call(this,LE(LE({},e),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return nIe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),r=this.config,o=r.movable,a=r.resizable,s=r.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(l){i.contains(l.relatedTarget)||e.popupService.bringPopupToFront(i)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),i=this.config,r=i.alwaysOnTop,o=i.modal,a=i.title,s=i.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:r,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});c&&(this.close=c.hideFunc)},t.prototype.onClosed=function(e){var i,r;this.destroy(),null===(r=(i=this.config).closedCallback)||void 0===r||r.call(i,e)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,r=i.x,o=i.y,s=i.height;this.setWidth(i.width),this.setHeight(s),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Nt(this.maximizeIcon,!this.isMaximized),Nt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var i=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var r=this.eTitleBar;if(r&&e!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new le('<div class="ag-dialog-button"></span>')),i=e.getGui();return this.maximizeIcon=pn("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=pn("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("popupService")],t.prototype,"popupService",void 0),t}(JY),oIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NE=function(){return NE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},NE.apply(this,arguments)},oC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},e7=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},t7=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},i7=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},pa=(()=>((pa=pa||{})[pa.vertical=0]="vertical",pa[pa.horizontal=1]="horizontal",pa))(),aIe=0,sIe=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.popupList=[],i}var e;return oIe(t,n),e=t,t.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(r){i.gridCtrl=r.gridCtrl}),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(i){var r=i.eventSource,o=i.ePopup,a=this.getPopupIndex(o);-1!==a&&(this.popupList[a].alignedToElement=r);var l=r.getBoundingClientRect(),c=this.getParentRect(),u=this.keepXYWithinBounds(o,l.top-c.top,pa.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var f,p=c.right-c.left-d;function m(){return l.right-c.left-2}function g(){return l.left-c.left-d}this.gridOptionsService.get("enableRtl")?((f=g())<0&&(f=m(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):((f=m())>p&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(u,"px")},t.prototype.positionPopupUnderMouseEvent=function(i){var r=this;this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,keepWithinBounds:!0,skipObserver:i.skipObserver,updatePosition:function(){return r.calculatePointerAlign(i.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)}})},t.prototype.calculatePointerAlign=function(i){var r=this.getParentRect();return{x:i.clientX-r.left,y:i.clientY-r.top}},t.prototype.positionPopupByComponent=function(i){var r=this,o=i.ePopup,a=i.nudgeX,s=i.nudgeY,l=i.keepWithinBounds,c=i.eventSource,u=i.alignSide,d=void 0===u?"left":u,h=i.position,p=void 0===h?"over":h,f=i.column,m=i.rowNode,g=i.type,v=c.getBoundingClientRect(),y=this.getParentRect(),_=this.getPopupIndex(o);-1!==_&&(this.popupList[_].alignedToElement=c),this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:function(){var M,E=v.left-y.left;return"right"===d&&(E-=o.offsetWidth-v.width),"over"===p?(M=v.top-y.top,r.setAlignedStyles(o,"over")):(r.setAlignedStyles(o,"under"),M="under"===r.shouldRenderUnderOrAbove(o,v,y,i.nudgeY||0)?v.top-y.top+v.height:v.top-o.offsetHeight-2*(s||0)-y.top),{x:E,y:M}},postProcessCallback:function(){return r.callPostProcessPopup(g,o,c,null,f,m)}})},t.prototype.shouldRenderUnderOrAbove=function(i,r,o,a){var s=o.bottom-r.bottom,l=r.top-o.top,c=i.offsetHeight+a;return s>c?"under":l>c||l>s?"above":"under"},t.prototype.setAlignedStyles=function(i,r){var o=this.getPopupIndex(i);if(-1!==o){var s=this.popupList[o].alignedToElement;s&&(["right","left","over","above","under"].forEach(function(c){s.classList.remove("ag-has-popup-positioned-".concat(c)),i.classList.remove("ag-popup-positioned-".concat(c))}),r&&(s.classList.add("ag-has-popup-positioned-".concat(r)),i.classList.add("ag-popup-positioned-".concat(r))))}},t.prototype.callPostProcessPopup=function(i,r,o,a,s,l){var c=this.gridOptionsService.getCallback("postProcessPopup");c&&c({column:s,rowNode:l,ePopup:r,type:i,eventSource:o,mouseEvent:a})},t.prototype.positionPopup=function(i){var r=this,o=i.ePopup,a=i.keepWithinBounds,s=i.nudgeX,l=i.nudgeY,c=i.skipObserver,u=i.updatePosition,d={width:0,height:0},h=function(f){void 0===f&&(f=!1);var m=u(),g=m.x,v=m.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(v+=l),a&&(g=r.keepXYWithinBounds(o,g,pa.horizontal),v=r.keepXYWithinBounds(o,v,pa.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(v,"px"),i.postProcessCallback&&i.postProcessCallback())};if(h(),!c){var p=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return p()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var i=this.gridOptionsService.getDocument(),r=this.getPopupParent();return r===i.body?r=i.documentElement:"static"===getComputedStyle(r).position&&(r=r.offsetParent),nk(r)},t.prototype.keepXYWithinBounds=function(i,r,o){var a=o===pa.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",c=a?"offsetHeight":"offsetWidth",u=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),m=d.documentElement.getBoundingClientRect(),g=p===d.body,v=i[c],_=g?(a?ik:F_)(h)+h[u]:p[s];g&&(_-=Math.abs(m[l]-f[l]));var b=_-v;return Math.min(Math.max(r,0),Math.abs(b))},t.prototype.addPopup=function(i){var r=this.gridOptionsService.getDocument(),o=i.eChild,a=i.ariaLabel,s=i.alwaysOnTop,l=i.positionCallback,c=i.anchorToElement;if(!r)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var u=this.getPopupIndex(o);if(-1!==u)return{hideFunc:this.popupList[u].hideFunc};this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,a,!!s),p=this.addEventListenersToPopup(NE(NE({},i),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,p,c),{hideFunc:p}},t.prototype.initialisePopupPosition=function(i){var o=this.getPopupParent().getBoundingClientRect();ae(i.style.top)||(i.style.top="".concat(-1*o.top,"px")),ae(i.style.left)||(i.style.left="".concat(-1*o.left,"px"))},t.prototype.createPopupWrapper=function(i,r,o){var a,s=this.getPopupParent(),l=document.createElement("div"),c=this.environment.getTheme().allThemes;return c.length&&(a=l.classList).add.apply(a,t7([],e7(c),!1)),l.classList.add("ag-popup"),i.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),i.hasAttribute("role")||An(i,"dialog"),vd(i,r),l.appendChild(i),s.appendChild(l),o?this.setAlwaysOnTop(i,!0):this.bringPopupToFront(i),l},t.prototype.handleThemeChange=function(){var i,r,o,a,s,l=this.environment.getTheme().allThemes;try{for(var c=i7(this.popupList),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,i7(Array.from(d.wrapper.classList))),p=h.next();!p.done;p=h.next()){var f=p.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,t7([],e7(l),!1))}}catch(m){i={error:m}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},t.prototype.addEventListenersToPopup=function(i){var r=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=i.wrapperEl,l=i.eChild,c=i.closedCallback,u=i.afterGuiAttached,d=i.closeOnEsc,h=i.modal,p=!1,f=function(y){s.contains(o.activeElement)&&y.key===G.ESCAPE&&!Ps(y)&&v({keyboardEvent:y})},m=function(y){return v({mouseEvent:y})},g=function(y){return v({touchEvent:y})},v=function(y){void 0===y&&(y={});var _=y.mouseEvent,b=y.touchEvent,w=y.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:_,touchEvent:b},l)||p||(p=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",m),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",m),r.eventService.removeEventListener(x.EVENT_DRAG_STARTED,m),c&&c(_||b||w),r.removePopupFromPopupList(l))};return u&&u({hidePopup:v}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),h&&(o.addEventListener("mousedown",m),r.eventService.addEventListener(x.EVENT_DRAG_STARTED,m),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",m))},0),v},t.prototype.addPopupToPopupList=function(i,r,o,a){this.popupList.push({element:i,wrapper:r,hideFunc:o,instanceId:aIe++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(i,a)},t.prototype.getPopupIndex=function(i){return this.popupList.findIndex(function(r){return r.element===i})},t.prototype.setPopupPositionRelatedToElement=function(i,r){var o=this.getPopupIndex(i);if(-1!==o){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,r){var s=this.keepPopupPositionedRelativeTo({element:r,ePopup:i,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(i){this.setAlignedStyles(i,null),this.setPopupPositionRelatedToElement(i,null),this.popupList=this.popupList.filter(function(r){return r.element!==i})},t.prototype.keepPopupPositionedRelativeTo=function(i){var r=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=i.element,l=i.ePopup,c=s.getBoundingClientRect(),u=a.top-c.top,d=a.left-c.left,h=u,p=d,f=l.style.top,m=parseInt(f.substring(0,f.length-1),10),g=l.style.left,v=parseInt(g.substring(0,g.length-1),10);return new vt(function(y){r.getFrameworkOverrides().setInterval(function(){var _=o.getBoundingClientRect(),b=s.getBoundingClientRect();if(0==b.top&&0==b.left&&0==b.height&&0==b.width)i.hidePopup();else{var E=_.top-b.top;if(E!=h){var M=r.keepXYWithinBounds(l,m+u-E,pa.vertical);l.style.top="".concat(M,"px")}h=E;var P=_.left-b.left;if(P!=p){var I=r.keepXYWithinBounds(l,v+d-P,pa.horizontal);l.style.left="".concat(I,"px")}p=P}},200).then(function(_){y(function(){null!=_&&window.clearInterval(_)})})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},t.prototype.isEventFromCurrentPopup=function(i,r){var s=i.mouseEvent||i.touchEvent;if(!s)return!1;var l=this.getPopupIndex(r);if(-1===l)return!1;for(var c=l;c<this.popupList.length;c++)if(qx(this.popupList[c].element,s))return!0;return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(i){for(var r=this.gridOptionsService.getDocument();i&&i!==r.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},t.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},t.prototype.setAlwaysOnTop=function(i,r){var o=this.getWrapper(i);o&&(o.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(i){var r=this.getPopupParent(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,c=this.getWrapper(i);if(c&&!(a<=1)&&r.contains(i)){var u=o.indexOf(c),d=c.querySelectorAll("div"),h=[];for(d.forEach(function(g){0!==g.scrollTop&&h.push([g,g.scrollTop])}),l?c.classList.contains("ag-always-on-top")?u!==a-1&&Ut(s).insertAdjacentElement("afterend",c):u!==a-l-1&&s[0].insertAdjacentElement("beforebegin",c):u!==a-1&&Ut(o).insertAdjacentElement("afterend",c);h.length;){var f=h.pop();f[0].scrollTop=f[1]}this.eventService.dispatchEvent({type:"popupToFront",eWrapper:c})}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,oC([C("focusService")],t.prototype,"focusService",void 0),oC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),oC([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),oC([H],t.prototype,"postConstruct",null),e=oC([oe("popupService")],t)}(z),lIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cIe=function(n){function t(){var e=n.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return lIe(t,n),t.prototype.setState=function(e,i){this.value=e,this.render(),this.updateSelected(i)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var i,r=!1;if(ae(e)){var o=null===(i=this.value)||void 0===i?void 0:i.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var a=o+e.length,s=Mn(this.value.slice(0,o)),l=Mn(this.value.slice(o,a)),c=Mn(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(c)}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=Mn(this.value))&&void 0!==e?e:"&nbsp;"},t}(le),uIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),n7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},dIe=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.params=e,i.searchString="",i}return uIe(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new ag({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(r){return e.autocompleteEntries[r]}});var i=this.virtualList.getGui();this.addManagedListener(i,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(r){return r.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,i){e.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(i===G.UP?r-1:r+1)},t.prototype.setSearch=function(e){this.searchString=e,ae(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,i){var r,o=!1,a=e.toLocaleLowerCase(),s=i.filter(function(l){var u=l.toLocaleLowerCase().indexOf(a),d=0===u,h=u>=0;return h&&(!r||!o&&d||o===d&&l.length<r.length)&&(r=l,o=d),h});return!r&&s.length&&(r=s[0]),{topMatch:r,allMatches:s}},t.prototype.runSearch=function(){var e,i,a,s,r=this.params.autocompleteEntries,o=r.map(function(d){var h;return null!==(h=d.displayValue)&&void 0!==h?h:d.key});if(this.params.useFuzzySearch)s=(a=B_(this.searchString,o,!0).values).length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var c=r.filter(function(d){return a.includes(d.displayValue??d.key)});if(!c.length&&this.selectedValue&&!(null===(i=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===i)&&i.call(e,this.selectedValue,this.searchString)&&(c=[this.selectedValue]),this.autocompleteEntries=c,this.virtualList.refresh(),s){var u=a.indexOf(s);this.checkSetSelectedValue(u)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(i){return i.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var i=this.autocompleteEntries[e];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(r,o){r.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var i,r=new cIe;return this.getContext().createBean(r),r.setState(null!==(i=e.displayValue)&&void 0!==i?i:e.key,e===this.selectedValue),r},t.prototype.onMouseMove=function(e){var i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),a=Math.floor((e.clientY-i.top+r)/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',n7([V("eList")],t.prototype,"eList",void 0),n7([H],t.prototype,"init",null),t}(bd),hIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aC=function(n){function t(){var e=n.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return hIe(t,n),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(i){return e.onValueChanged(i)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var i=kl(e);this.updateValue(i),this.updateAutocompleteList(i)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var i,r,o,a,s=null!==(r=null===(i=this.listGenerator)||void 0===i?void 0:i.call(this,e,this.lastPosition))&&void 0!==r?r:{enabled:!1};(!s.type||s.type!==(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,null!==(a=this.autocompleteListParams)&&void 0!==a&&a.enabled?(this.isListOpen||this.openList(),this.autocompleteList.setSearch(this.autocompleteListParams.searchString??"")):this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var i=this,r=e.key;switch(this.updateLastPosition(),r){case G.ENTER:this.onEnterKeyDown(e);break;case G.TAB:this.onTabKeyDown(e);break;case G.DOWN:case G.UP:this.onUpDownKeyDown(e,r);break;case G.LEFT:case G.RIGHT:case G.PAGE_HOME:case G.PAGE_END:setTimeout(function(){i.updatePositionAndList()});break;case G.ESCAPE:this.onEscapeKeyDown(e);break;case G.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}},t.prototype.confirmSelection=function(){var e,i=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,i){var r;e.preventDefault(),this.isListOpen?null===(r=this.autocompleteList)||void 0===r||r.onNavigationKeyDown(e,i):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,i){var r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var i;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(i=this.validationMessage)&&void 0!==i?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new dIe({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var i=this.autocompleteList.getGui(),r={ePopup:i,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:i,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return kl(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var i=e.value,r=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,s),o||this.updateValue(i),(!a||this.isListOpen)&&this.updateAutocompleteList(i)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",eL([C("popupService")],t.prototype,"popupService",void 0),eL([V("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),eL([H],t.prototype,"postConstruct",null),t}(le),pIe=["touchstart","touchend","touchmove","touchcancel"],r7=function(){function n(t){void 0===t&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return n.prototype.setInterval=function(t,e){return new vt(function(i){i(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,i,r){var o=Os(pIe,e);t.addEventListener(e,i,{capture:!!r,passive:o})},Object.defineProperty(n.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n.prototype.getDocLink=function(t){return"https://www.ag-grid.com/".concat("solid"===this.frameworkName?"react":this.frameworkName,"-data-grid").concat(t?"/".concat(t):"")},n}(),fIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return fIe(t,n),t.prototype.getNextCellToFocus=function(e,i,r){return void 0===r&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(e,i):this.getNextCellToFocusWithoutCtrlPressed(e,i)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,i){var s,l,r=e===G.UP,a=e===G.LEFT;if(r||e===G.DOWN)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=i.column;else{var c=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.get("enableRtl");l=i.rowIndex,s=a!==u?c[0]:Ut(c)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,i){for(var r=i,o=!1;!o;){switch(e){case G.UP:r=this.getCellAbove(r);break;case G.DOWN:r=this.getCellBelow(r);break;case G.RIGHT:r=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(r):this.getCellToRight(r);break;case G.LEFT:r=this.gridOptionsService.get("enableRtl")?this.getCellToRight(r):this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!r||this.isCellGoodToFocusOn(r)}return r},t.prototype.isCellGoodToFocusOn=function(e){var r,i=e.column;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex)}return!!r&&!i.isSuppressNavigable(r)},t.prototype.getCellToLeft=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var i=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:i+1,rowPinned:r}},t.prototype.getNextStickyPosition=function(e,i){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var r=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,c){return l.getRowNode().rowIndex-c.getRowNode().rowIndex}),o=i?-1:1,a=r.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=r[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var i=e.rowPinned,r=e.rowIndex;return"top"===i?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:"bottom"===i?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r},t.prototype.getRowAbove=function(e){var i=e.rowIndex,r=e.rowPinned;if(r?0===i:i===this.paginationProxy.getPageFirstRow())return"top"===r?null:r&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(a,!0)||{rowIndex:i-1,rowPinned:r}},t.prototype.getCellAbove=function(e){if(!e)return null;var i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=i[0];var s=this.getRowBelow(e);if(Qe(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;r=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=Ut(i);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Qe(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;r=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}},lg([C("columnModel")],t.prototype,"columnModel",void 0),lg([C("rowModel")],t.prototype,"rowModel",void 0),lg([C("rowRenderer")],t.prototype,"rowRenderer",void 0),lg([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),lg([C("paginationProxy")],t.prototype,"paginationProxy",void 0),lg([oe("cellNavigationService")],t)}(z),yIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_Ie=function(n,t){return function(e,i){t(e,i,n)}},CIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.consuming=!1,e}return yIe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var i,e=this,r=null!==(i=this.gridOptionsService.get("alignedGrids"))&&void 0!==i?i:[],o="function"==typeof r;"function"==typeof r&&(r=r());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))};return r.map(function(l){var c;if(!l)return As("alignedGrids contains an undefined option."),o||As('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void As(a());if(l instanceof xY)return l;var u=l;return"current"in u?null===(c=u.current)||void 0===c?void 0:c.api:(u.api||As("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),u.api)}).filter(function(l){return!!l&&!l.isDestroyed()})},t.prototype.init=function(){this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(i){var r=i.__getAlignedGridService();e(r)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(i){i.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(i){i.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var i=this;this.onEvent(function(){i.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var i=[];return e.columns?e.columns.forEach(function(r){i.push(r)}):e.column&&i.push(e.column),i},t.prototype.getColumnIds=function(e){var i=[];return e.columns?e.columns.forEach(function(r){i.push(r.getColId())}):e.column&&i.push(e.column.getColId()),i},t.prototype.onColumnEvent=function(e){var i=this;this.onEvent(function(){switch(e.type){case x.EVENT_COLUMN_MOVED:case x.EVENT_COLUMN_VISIBLE:case x.EVENT_COLUMN_PINNED:case x.EVENT_COLUMN_RESIZED:i.processColumnEvent(e);break;case x.EVENT_COLUMN_GROUP_OPENED:i.processGroupOpenedEvent(e);break;case x.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var i=this;e.columnGroups.forEach(function(r){var o=null;if(r){var a=r.getGroupId();o=i.columnModel.getProvidedColumnGroup(a)}r&&!o||(i.logger.log("onColumnEvent-> processing "+e+" expanded = "+r.isExpanded()),i.columnModel.setColumnGroupOpened(o,r.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var r,i=this,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!o||a){var s=this.getMasterColumns(e);switch(e.type){case x.EVENT_COLUMN_MOVED:var l=e,u=e.api.getColumnState().map(function(v){return{colId:v.colId}});this.columnModel.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex));break;case x.EVENT_COLUMN_VISIBLE:var d=e;u=e.api.getColumnState().map(function(_){return{colId:_.colId,hide:_.hide}}),this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible));break;case x.EVENT_COLUMN_PINNED:var h=e;u=e.api.getColumnState().map(function(_){return{colId:_.colId,pinned:_.pinned}}),this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(h.pinned));break;case x.EVENT_COLUMN_RESIZED:var p=e,f={};s.forEach(function(v){i.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(v.getActualWidth())),f[v.getId()]={key:v.getColId(),newWidth:v.getActualWidth()}}),null===(r=p.flexColumns)||void 0===r||r.forEach(function(v){f[v.getId()]&&delete f[v.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged")}var g=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(v){v.setGridOption("alwaysShowVerticalScroll",g)})}},sC([C("columnModel")],t.prototype,"columnModel",void 0),sC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),sC([_Ie(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),sC([H],t.prototype,"init",null),sC([oe("alignedGridsService")],t)}(z),bIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),VE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},o7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.selectedNodes=new Map,e.lastRowNode=null,e}return bIe(t,n),t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,x.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var i,r=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect,l=e.nodes,c=e.event,u=e.source,d=void 0===u?"api":u;if(0===l.length)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var h=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,p=l.map(function(P){return P.footer?P.sibling:P});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if("checkboxSelected"===d&&!1===r&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),null==f&&(f=this.getLastSelectedNode()),f){var m=p[0];if(m!==f&&this.isMultiselect())return this.selectRange(m,f,r,d)}}this.lastRowNode=r?null:p[0];for(var v=0,y=0;y<p.length;y++){var _=p[y];h&&_.group||_.selectThisNode(r,c,d)&&v++,this.groupSelectsChildren&&null!==(i=_.childrenAfterGroup)&&void 0!==i&&i.length&&(v+=this.selectChildren(_,r,h,d))}return a||(r&&(o||!this.isMultiselect())&&(v+=this.clearOtherNodes(p[0],d)),v>0&&(this.updateGroupsFromChildrenSelections(d),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:d}))),v},t.prototype.selectRange=function(e,i,r,o){var a=this;void 0===r&&(r=!0);var s=this.rowModel.getNodesInRangeForSelection(e,i),l=0;return s.forEach(function(u){u.group&&a.groupSelectsChildren||u.selectThisNode(r,void 0,o)&&l++}),this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:o}),l},t.prototype.selectChildren=function(e,i,r,o){var a=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return Qe(a)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());return 0==e.length?null:this.selectedNodes.get(Ut(e))||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(i){i&&e.push(i)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(i){i&&i.data&&e.push(i.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var i=new Map;this.selectedNodes.forEach(function(r,o){r&&e(r)&&i.set(o,r)}),this.selectedNodes=i},t.prototype.updateGroupsFromChildrenSelections=function(e,i){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var o=this.rowModel.getRootNode();i||(i=new iC(!0,o)).setInactive();var a=!1;return i.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(null!==l&&l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,i){var r=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=r.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),r.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(null!==l&&l,void 0,i)}),a},t.prototype.onRowSelected=function(e){var i=e.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes.set(i.id,i):this.selectedNodes.delete(i.id))},t.prototype.syncInRowNode=function(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,i){ae(i)&&e.id!==i.id&&i&&this.selectedNodes.get(i.id)==e&&this.selectedNodes.set(i.id,i)},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var i=this.getSelectionCount();this.resetNodes(),i&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e})},t.prototype.resetNodes=function(){var e;null===(e=this.selectedNodes)||void 0===e||e.clear()},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var i=this.rowModel.getTopLevelNodes();if(null!==i){var r=[];return function o(a){for(var s=0,l=a.length;s<l;s++){var c=a[s];c.isSelected()?r.push(c):c.group&&c.children&&o(c.children)}}(i),r}}},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(i){i&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var i=function(c){return c.selectThisNode(!1,void 0,o)},r="clientSide"===this.rowModel.getType(),o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!r)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(a,s).forEach(i)}else this.selectedNodes.forEach(function(c){c&&i(c)}),this.reset(o);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:o})},t.prototype.getSelectedCounts=function(e,i){var r=this,o=0,a=0;return this.getNodesToSelect(e,i).forEach(function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)}),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,i){var r=this.getSelectedCounts(e,i),o=r.selectedCount,a=r.notSelectedCount;return(0!==o||0!==a)&&(o>0&&a>0?null:o>0)},t.prototype.hasNodesToSelect=function(e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.getNodesToSelect(e,i).filter(function(r){return r.selectable}).length>0},t.prototype.getNodesToSelect=function(e,i){var r=this;if(void 0===e&&(e=!1),void 0===i&&(i=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(i)return this.paginationProxy.forEachNodeOnPage(function(s){if(s.group)if(s.expanded)r.groupSelectsChildren||o.push(s);else{var l=function(c){var u;o.push(c),null!==(u=c.childrenAfterFilter)&&void 0!==u&&u.length&&c.childrenAfterFilter.forEach(l)};l(s)}else o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var i=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(l){return l.selectThisNode(!0,void 0,i)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i})},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(i){i?.id&&e.push(i.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,i){if(Array.isArray(e)){var r=new Set(e),o=[];this.rowModel.forEachNode(function(a){r.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:i})}},VE([C("rowModel")],t.prototype,"rowModel",void 0),VE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),VE([H],t.prototype,"init",null),VE([oe("selectionService")],t)}(z),a7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lC=function(){function n(t){var e=this;this.viaApi=function(i){for(var r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return We("Since v31, 'columnApi.".concat(i,"' is deprecated and moved to 'api.").concat(i,"'.")),(r=e.api)[i].apply(r,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(o),!1))},this.api=t}return n.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},n.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},n.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},n.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},n.prototype.getColumns=function(){return this.viaApi("getColumns")},n.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},n.prototype.getColumnState=function(){return this.viaApi("getColumnState")},n.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},n.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},n.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},n.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},n.prototype.isPinning=function(){return this.viaApi("isPinning")},n.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},n.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},n.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},n.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},n.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},n.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},n.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},n.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},n.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},n.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},n.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},n.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},n.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},n.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},n.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},n.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},n.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},n.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},n.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},n.prototype.setColumnWidth=function(t,e,i,r){void 0===i&&(i=!0),this.viaApi("setColumnWidth",t,e,i,r)},n.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),this.viaApi("setColumnWidths",t,e,i)},n.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},n.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},n.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},n.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},n.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},n.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},n.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},n.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},n.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},n.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},n.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},n.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},n.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},n.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},n.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},n.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},n.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},n.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},n.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},n.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},n.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},n.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},n.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},n.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},n.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},n.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},n.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},n.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},n.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},n.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},a7([C("gridApi")],n.prototype,"api",void 0),a7([oe("columnApi")],n)}(),xIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return xIe(t,n),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var i=function(o){return e.callColumnCellValueChangedHandler(o)},r=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(x.EVENT_CELL_VALUE_CHANGED,i,r),this.addDestroyFunc(function(){return e.eventService.removeEventListener(x.EVENT_CELL_VALUE_CHANGED,i,r)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,i,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),this.initialised||this.init(),i){var u,a=e.getColDef(),s=a.field,l=e.getColId(),c=i.data,d=i.groupData&&void 0!==i.groupData[l],h=!o&&i.aggData&&void 0!==i.aggData[l],p=this.isSsrm&&o&&!!e.getColDef().aggFunc,f=this.isSsrm&&i.footer&&i.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===i.field);if(r&&a.filterValueGetter?u=this.executeFilterValueGetter(a.filterValueGetter,c,e,i):this.isTreeData&&h?u=i.aggData[l]:this.isTreeData&&a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,i):this.isTreeData&&s&&c?u=Km(c,s,e.isFieldContainsDots()):d?u=i.groupData[l]:h?u=i.aggData[l]:a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,i):f?u=Km(c,i.field,e.isFieldContainsDots()):s&&c&&!p&&(u=Km(c,s,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof u&&0===u.indexOf("=")){var m=u.substring(1);u=this.executeValueGetter(m,c,e,i)}if(null==u){var g=this.getOpenedGroup(i,e);if(null!=g)return g}return u}},t.prototype.getOpenedGroup=function(e,i){if(this.gridOptionsService.get("showOpenedGroup")&&i.getColDef().showRowGroup)for(var o=i.getColDef().showRowGroup,a=e.parent;null!=a;){if(a.rowGroupColumn&&(!0===o||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}},t.prototype.setValue=function(e,i,r,o){var a=this.columnModel.getPrimaryColumn(i);if(!e||!a)return!1;Qe(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,c=s.valueSetter;if(Qe(l)&&Qe(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var d,u=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(a,e),newValue:r,colDef:a.getColDef(),column:a});return u.newValue=r,void 0===(d=ae(c)?"function"==typeof c?c(u):this.expressionService.evaluate(c,u):this.setValueUsingField(e.data,l,r,a.isFieldContainsDots()))&&(d=!0),!!d&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(a,e),this.eventService.dispatchEvent({type:x.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,columnApi:u.columnApi,colDef:u.colDef,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:o}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var i=e.colDef.onCellValueChanged;"function"==typeof i&&this.getFrameworkOverrides().wrapOutgoing(function(){i({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})},t.prototype.setValueUsingField=function(e,i,r,o){if(!i)return!1;var a=!1;if(o)for(var s=i.split("."),l=e;s.length>0&&l;){var c=s.shift();0===s.length?(a=l[c]===r)||(l[c]=r):l=l[c]}else(a=e[i]===r)||(e[i]=r);return!a},t.prototype.executeFilterValueGetter=function(e,i,r,o){var a=this.gridOptionsService.addGridCommonParams({data:i,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)});return"function"==typeof e?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,i,r,o){var a=r.getColId(),s=this.valueCache.getValue(o,a);if(void 0!==s)return s;var c,l=this.gridOptionsService.addGridCommonParams({data:i,node:o,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,o)});return c="function"==typeof e?e(l):this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,c),c},t.prototype.getValueCallback=function(e,i){var r=this.columnModel.getPrimaryColumn(i);return r?this.getValue(r,e):null},t.prototype.getKeyForNode=function(e,i){var r=this.getValue(e,i),o=e.getColDef().keyCreator,a=r;return o&&(a=o(this.gridOptionsService.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:i,data:i.data}))),"string"==typeof a||null==a||"[object Object]"===(a=String(a))&&We("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),a},cg([C("expressionService")],t.prototype,"expressionService",void 0),cg([C("columnModel")],t.prototype,"columnModel",void 0),cg([C("valueCache")],t.prototype,"valueCache",void 0),cg([C("dataTypeService")],t.prototype,"dataTypeService",void 0),cg([H],t.prototype,"init",null),cg([oe("valueService")],t)}(z),DIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),s7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},TIe=function(n,t){return function(e,i){t(e,i,n)}},MIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return DIe(t,n),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,i){if("string"==typeof e)return this.evaluateExpression(e,i);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var i=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=r,r},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},s7([TIe(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),s7([oe("expressionService")],t)}(z),AIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return AIe(t,n),t.prototype.getTemplate=function(e,i){var r=this.templateCache[e];if(r)return r;var o=this.waitingCallbacks[e],a=this;if(!o){this.waitingCallbacks[e]=o=[];var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return i&&o.push(i),null},t.prototype.handleHttpResult=function(e,i){if(200===e.status&&null!==e.response){this.templateCache[i]=e.response||e.responseText;for(var r=this.waitingCallbacks[i],o=0;o<r.length;o++)(0,r[o])()}else console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(i))},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("templateService")],t),t}(z),PIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),l7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IIe=function(n,t){return function(e,i){t(e,i,n)}},FIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return PIe(t,n),t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new tL(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},l7([IIe(0,Ua("gridOptionsService"))],t.prototype,"setBeans",null),l7([oe("loggerFactory")],t)}(z),tL=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}(),kIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ug=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},LIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return kIe(t,n),t.prototype.setComp=function(e,i,r){var o=this;this.view=e,this.eGridHostDiv=i,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===zt.HeaderCell||s===zt.ToolPanel},getIconName:function(){return Bt.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new kk(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,i=this.focusService.findTabbableParent(this.getGui());return(null===(e=i?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Ze.__isRegistered(ie.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return Ze.__isRegistered(ie.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return Ze.__isRegistered(ie.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return Ze.__isRegistered(ie.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var i=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),a=r.findIndex(function(s){return s.contains(i.activeElement)})+(e?-1:1);return!(a<=0||a>=r.length)&&this.focusService.focusInto(r[a])},t.prototype.focusInnerElement=function(e){var i=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(i.length>1)return this.focusService.focusInto(Ut(i),!0);var o=Ut(r);if(this.focusService.focusGridView(o,!0))return!0}if(0===this.gridOptionsService.get("headerHeight")||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(r[0]))return!0;for(var a=1;a<i.length;a++)if(this.focusService.focusInto(i[a]))return!0;return!1}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},ug([C("focusService")],t.prototype,"focusService",void 0),ug([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ug([C("columnModel")],t.prototype,"columnModel",void 0),ug([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ug([C("mouseEventService")],t.prototype,"mouseEventService",void 0),ug([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(z),NIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},c7=function(n){function t(e){var i=n.call(this)||this;return i.eGridDiv=e,i}return NIe(t,n),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new LIe);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},t.prototype.insertGridIntoDom=function(){var e=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){e.eGridDiv.removeChild(i),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,i){var r=this.eRootWrapperBody.classList;r.toggle(Ki.AUTO_HEIGHT,i.autoHeight),r.toggle(Ki.NORMAL,i.normal),r.toggle(Ki.PRINT,i.print),this.addOrRemoveCssClass(Ki.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Ki.NORMAL,i.normal),this.addOrRemoveCssClass(Ki.PRINT,i.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return'<div class="ag-root-wrapper" role="presentation">\n                '.concat(e,'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ').concat(i,"\n                </div>\n                ").concat(r,"\n                <ag-pagination></ag-pagination>\n                ").concat(o,"\n            </div>")},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(i){return ua(i)})},cC([C("loggerFactory")],t.prototype,"loggerFactory",void 0),cC([V("gridBody")],t.prototype,"gridBodyComp",void 0),cC([V("sideBar")],t.prototype,"sideBarComp",void 0),cC([V("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),cC([H],t.prototype,"postConstruct",null),t}(xd),VIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),u7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zl=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Md=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},GIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return VIe(t,n),e=t,t.prototype.progressSort=function(i,r,o){var a=this.getNextSortDirection(i);this.setSortForColumn(i,a,r,o)},t.prototype.setSortForColumn=function(i,r,o,a){"asc"!==r&&"desc"!==r&&(r=null);var l=[i];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&i.getColDef().showRowGroup){var c=this.columnModel.getSourceColumnsForGroupColumn(i),u=c?.filter(function(f){return f.isSortable()});u&&(l=Md([i],zl(u),!1))}l.forEach(function(f){return f.setSort(r,a)});var h=[];if(!o&&!this.gridOptionsService.get("alwaysMultiSort")||this.gridOptionsService.get("suppressMultiSort")){var p=this.clearSortBarTheseColumns(l,a);h.push.apply(h,Md([],zl(p),!1))}this.updateSortIndex(i),h.push.apply(h,Md([],zl(l),!1)),this.dispatchSortChangedEvents(a,h)},t.prototype.updateSortIndex=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(i.getId()),a=r&&o||i,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(u){return u.setSortIndex(null)});var l=s.filter(function(u){return!(r&&u.getColDef().showRowGroup||u===a)});(a.getSort()?Md(Md([],zl(l),!1),[a],!1):l).forEach(function(u,d){u.setSortIndex(d)})},t.prototype.onSortChanged=function(i,r){this.dispatchSortChangedEvents(i,r)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(o){return!!o.getSort()});return r&&r.length>0},t.prototype.dispatchSortChangedEvents=function(i,r){var o={type:x.EVENT_SORT_CHANGED,source:i};r&&(o.columns=r),this.eventService.dispatchEvent(o)},t.prototype.clearSortBarTheseColumns=function(i,r){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){i.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,r))}),o},t.prototype.getNextSortDirection=function(i){var r;if(r=i.getColDef().sortingOrder?i.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(r)),null;var l,o=r.indexOf(i.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(l=o<0||o==r.length-1?r[0]:r[o+1])<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var i=this,r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(u){return!!u.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();r=r.filter(function(u){var d=!!u.getAggFunc(),h=!u.isPrimary(),p=o?i.columnModel.getGroupDisplayColumnForGroup(u.getId()):u.getColDef().showRowGroup;return d||h||p})}var a=this.columnModel.getRowGroupColumns().filter(function(u){return!!u.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(r=Md([],zl(new Set(r.map(function(u){var d;return null!==(d=i.columnModel.getGroupDisplayColumnForGroup(u.getId()))&&void 0!==d?d:u}))),!1));var l={};r.forEach(function(u,d){return l[u.getId()]=d}),r.sort(function(u,d){var h=u.getSortIndex(),p=d.getSortIndex();return null!=h&&null!=p?h-p:null==h&&null==p?l[u.getId()]>l[d.getId()]?1:-1:null==p?-1:1});var c=new Map;return r.forEach(function(u,d){return c.set(u,d)}),s&&a.forEach(function(u){var d=i.columnModel.getGroupDisplayColumnForGroup(u.getId());c.set(u,c.get(d))}),c},t.prototype.getColumnsWithSortingOrdered=function(){return Md([],zl(this.getIndexedSortMap().entries()),!1).sort(function(i,r){return zl(i,2)[1]-zl(r,2)[1]}).map(function(i){return zl(i,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),colId:i.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),column:i}})},t.prototype.canColumnDisplayMixedSort=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!i.getColDef().showRowGroup;return r&&o},t.prototype.getDisplaySortForColumn=function(i){var r=this.columnModel.getSourceColumnsForGroupColumn(i);if(!this.canColumnDisplayMixedSort(i)||!r?.length)return i.getSort();var a=null!=i.getColDef().field||i.getColDef().valueGetter?Md([i],zl(r),!1):r,s=a[0].getSort();return a.every(function(c){return c.getSort()==s})?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(i){return this.getIndexedSortMap().get(i)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],u7([C("columnModel")],t.prototype,"columnModel",void 0),e=u7([oe("sortController")],t)}(z),BIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uC=function(){return uC=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},uC.apply(this,arguments)},Ao=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},HIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return BIe(t,n),e=t,t.addKeyboardModeEvents=function(i){this.instanceCount>0||(i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(i){this.instanceCount>0||(i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(i){var o="keydown"===i.type;o&&(i.ctrlKey||i.metaKey||i.altKey)||e.keyboardModeActive!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(i){e.removeKeyboardModeEvents(i)},t.prototype.init=function(){var i=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){i.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var i=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(i),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(i)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var i=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(i.getId());i!==r&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,bp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,xE.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(i,r){for(var o=i;o;){if(this.gridOptionsService.getDomData(o,r))return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(i){var r=this;return!!this.isCellRestoreFocused(i)&&(setTimeout(function(){r.restoredFocusedCellPosition=null},0),!0)},t.prototype.isCellRestoreFocused=function(i){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(i){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=i)},t.prototype.getFocusEventParams=function(){var i=this.focusedCellPosition,r=i.rowIndex,o=i.rowPinned,s={rowIndex:r,rowPinned:o,column:i.column,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var i=uC({type:x.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(i)}},t.prototype.setFocusedCell=function(i){var o=i.rowIndex,a=i.rowPinned,s=i.forceBrowserFocus,l=void 0!==s&&s,c=i.preventScrollOnBrowserFocus,u=void 0!==c&&c,d=this.columnModel.getGridColumn(i.column);if(d){this.focusedCellPosition=d?{rowIndex:o,rowPinned:kl(a),column:d}:null;var h=uC(uC({type:x.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:u,floating:null});this.eventService.dispatchEvent(h)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(i){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(i,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isHeaderWrapperFocused=function(i){if(null==this.focusedHeaderPosition)return!1;var r=i.getColumnGroupChild(),o=i.getRowIndex(),a=i.getPinned(),s=this.focusedHeaderPosition,l=s.column;return r===l&&o===s.headerRowIndex&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(i,r){this.focusedHeaderPosition={headerRowIndex:i,column:r}},t.prototype.focusHeaderPosition=function(i){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var r=i.direction,o=i.fromTab,a=i.allowUserOverride,s=i.event,l=i.fromCell,c=i.rowWithoutSpanValue,u=i.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(a){var p,d=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();o?(p=this.gridOptionsService.getCallback("tabToNextHeader"))&&(u=p({backwards:"Before"===r,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:h})):(p=this.gridOptionsService.getCallback("navigateToNextHeader"))&&s&&(u=p({key:s.key,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:h,event:s}))}if(!u)return!1;if(-1===u.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,r);var v=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()).focusHeader(u.headerRowIndex,u.column,s);return v&&(null!=c||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(c??-1),v},t.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];if(!i)return!1;i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0));var r=this.headerPositionUtils.getHeaderIndexToFocus(i,0);return this.focusHeaderPosition({headerPosition:r,rowWithoutSpanValue:0})},t.prototype.focusLastHeader=function(i){var r=this.headerNavigationService.getHeaderRowCount()-1,o=Ut(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:o},rowWithoutSpanValue:-1,event:i})},t.prototype.focusPreviousFromFirstCell=function(i){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(i,r){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===kl(r)},t.prototype.findFocusableElements=function(i,r,o){void 0===o&&(o=!1);var s=ek;r&&(s+=", "+r),o&&(s+=', [tabindex="-1"]');var h,l=Array.prototype.slice.apply(i.querySelectorAll(TK)).filter(function(d){return ua(d)}),c=Array.prototype.slice.apply(i.querySelectorAll(s));return c.length?(h=c,l.filter(function(p){return-1===h.indexOf(p)})):l},t.prototype.focusInto=function(i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a=this.findFocusableElements(i,null,o),s=r?Ut(a):a[0];return!!s&&(s.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(i,r){if(!r)return null;var o=this.findFocusableElements(i),a=o.indexOf(r);if(-1===a)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Ul.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(i,r,o){void 0===i&&(i=this.eGridDiv);var a=this.findFocusableElements(i,r?':not([tabindex="-1"])':null),l=this.gridOptionsService.getDocument().activeElement,u=(r?a.findIndex(function(d){return d.contains(l)}):a.indexOf(l))+(o?-1:1);return u<0||u>=a.length?null:a[u]},t.prototype.isTargetUnderManagedComponent=function(i,r){if(!r)return!1;var o=i.querySelectorAll(".".concat(tu.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1},t.prototype.findTabbableParent=function(i,r){void 0===r&&(r=5);for(var o=0;i&&null===iE(i)&&++o<=r;)i=i.parentElement;return null===iE(i)?null:i},t.prototype.focusGridView=function(i,r){if(this.gridOptionsService.get("suppressCellFocus"))return r?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();return!i&&l&&(i=l.column),!(null==a||!i)&&(this.navigationService.ensureCellVisible({rowIndex:a,column:i,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:i,rowPinned:kl(s),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:a,rowPinned:s,column:i}),!0)},t.prototype.focusNextGridCoreContainer=function(i,r){return void 0===r&&(r=!1),!(r||!this.gridCtrl.focusNextInnerContainer(i))||((r||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)},t.prototype.focusAdvancedFilter=function(i){return this.advancedFilterFocusColumn=i?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(i,r){var o,a,s=null!==(o=r?void 0:this.advancedFilterFocusColumn)&&void 0!==o?o:null===(a=this.columnModel.getAllDisplayedColumns())||void 0===a?void 0:a[0];return i?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.keyboardModeActive=!1,t.instanceCount=0,Ao([C("eGridDiv")],t.prototype,"eGridDiv",void 0),Ao([C("columnModel")],t.prototype,"columnModel",void 0),Ao([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ao([C("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Ao([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Ao([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ao([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ao([gt("rangeService")],t.prototype,"rangeService",void 0),Ao([C("navigationService")],t.prototype,"navigationService",void 0),Ao([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Ao([C("filterManager")],t.prototype,"filterManager",void 0),Ao([gt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Ao([H],t.prototype,"init",null),e=Ao([oe("focusService")],t)}(z),jIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return jIe(t,n),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:x.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnHoverService")],t),t}(z),WIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$Ie=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return WIe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){return e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.isActive=function(){return this.active&&!this.suppressAnimation},t.prototype.setSuppressAnimation=function(e){this.suppressAnimation=e},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){var e=this;this.active&&this.flush(function(){e.active=!1})},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===i&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(e){var i=this;if(0!==this.executeNextFuncs.length||0!==this.executeLaterFuncs.length){var r=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return r(i.executeNextFuncs)},0),window.setTimeout(function(){r(i.executeLaterFuncs),e()},200)})}else e()},iL([C("ctrlsService")],t.prototype,"ctrlsService",void 0),iL([H],t.prototype,"postConstruct",null),iL([oe("columnAnimationService")],t)}(z),KIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),GE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},YIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return KIe(t,n),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl,e.addManagedListener(e.eventService,x.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var r=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(i/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?sa(function(){return r()},50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},GE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),GE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),GE([H],t.prototype,"postConstruct",null),GE([oe("paginationAutoPageSizeService")],t)}(z),qIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),d7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},XIe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return qIe(t,n),t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,i,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=r)},t.prototype.getValue=function(e,i){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[i]},d7([H],t.prototype,"init",null),d7([oe("valueCache")],t)}(z),ZIe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JIe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ZIe(t,n),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,i){if(!this.gridOptionsService.get("suppressChangeDetection")){var r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new iC(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){r.push(s)})}this.rowRenderer.refreshCells({rowNodes:r})}},BE([C("rowModel")],t.prototype,"rowModel",void 0),BE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),BE([H],t.prototype,"init",null),BE([oe("changeDetectionService")],t)}(z),eFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return eFe(t,n),t.prototype.adaptFunction=function(e,i){var r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(i):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function r(){}return r.prototype.refresh=function(o){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(o){var a=e(o),s=typeof a;this.eGui="string"!==s&&"number"!==s&&"boolean"!==s?null!=a?a:xo("<span></span>"):xo("<span>"+a+"</span>")},r}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},h7([C("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),h7([oe("agComponentUtils")],t)}(z),iFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return iFe(t,n),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},nL([C("agComponentUtils")],t.prototype,"agComponentUtils",void 0),nL([H],t.prototype,"postConstruct",null),nL([oe("componentMetadataProvider")],t)}(z),rFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},uFe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},m7={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},dFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.calculatedSizes={},e}return rFe(t,n),t.prototype.postConstruct=function(){var i,e=this,r=null!==(i=this.getTheme().el)&&void 0!==i?i:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var i=this.getTheme(),r=i.themeFamily,o=i.el;if(r&&0===r.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={}),this.calculatedSizes[r][e]??(this.calculatedSizes[r][e]=this.calculateValueForSassProperty(e,r,o),this.calculatedSizes[r][e])},t.prototype.calculateValueForSassProperty=function(e,i,r){var o,a="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),s=uFe[a][e],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!m7[e])return s;var c=m7[e],u=l.createElement("div"),d=Array.from(r.classList);(o=u.classList).add.apply(o,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([i],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(d),!1)),u.style.position="absolute";var h=c.reduce(function(m,g){var v=l.createElement("div");return v.style.position="static",v.classList.add(g),m.appendChild(v),v},u),p=0;if(l.body){l.body.appendChild(u);var f=-1!==e.toLowerCase().indexOf("height")?"height":"width";p=parseInt(window.getComputedStyle(h)[f],10),l.body.removeChild(u)}return p||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,i=this.eGridDiv,r=null,o=[];i;){if(r=e.exec(i.className)){var a=i.className.match(e);a&&(o=a);break}i=i.parentElement||void 0}if(!r)return{allThemes:o};var s=r[0];return{theme:s,el:i,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,i){var r;return null!==(r=this.getSassVariable(i))&&void 0!==r?r:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gridOptionsService.get("rowHeight");if(null==i||isNaN(i)||!isFinite(i))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var r="".concat(i,"px");return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),i):""!=e?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return ae(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},rL([C("eGridDiv")],t.prototype,"eGridDiv",void 0),rL([H],t.prototype,"postConstruct",null),rL([oe("environment")],t)}(z),hFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pFe=function(n,t){return function(e,i){t(e,i,n)}},fFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return hFe(t,n),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=bK(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(i!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=r,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(i," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(i)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var i="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:x.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var i=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/i)},HE([C("ctrlsService")],t.prototype,"ctrlsService",void 0),HE([pFe(0,Ua("loggerFactory"))],t.prototype,"agWire",null),HE([H],t.prototype,"postConstruct",null),HE([oe("rowContainerHeightService")],t)}(z),mFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return mFe(t,n),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){void 0===e&&(e=!1);var i=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(i&&r){var o=this.gridOptionsService.get("groupSelectsChildren"),a="clientSide"===this.rowModel.getType()&&o,s=[],l=function(d){if(!e||d.group){if(a&&d.group){var h=d.childrenAfterGroup.some(function(f){return!0===f.selectable});return void d.setRowSelectable(h,!0)}var p=!r||r(d);d.setRowSelectable(p,!0),!p&&d.isSelected()&&s.push(d)}};a?new iC(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(l,!0,!0):this.rowModel.forEachNode(l),s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof o7&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},jE([C("rowModel")],t.prototype,"rowModel",void 0),jE([C("selectionService")],t.prototype,"selectionService",void 0),jE([H],t.prototype,"init",null),jE([oe("selectableService")],t)}(z),vFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fa=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yFe=function(n){function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return vFe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var r=this,o=r.btFirst,a=r.btPrevious,s=r.btNext,l=r.btLast;this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",pn(i?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",pn(i?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",pn(i?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",pn(i?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var i=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(i){var r=i.el,o=i.fn;e.addManagedListener(r,"click",o),e.addManagedListener(r,"keydown",function(a){(a.key===G.ENTER||a.key===G.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(e?i+1:0)},t.prototype.formatNumber=function(e){var i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i)return i({value:e});var o=this.localeService.getLocaleTextFunc();return XF(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),i=e("page","Page"),r=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),c=e("lastPage","Last Page"),u=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(u,'">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(u,'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(u,'-to">').concat(r,'</span>\n                    <span id="ag-').concat(u,'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(u,'-of">').concat(o,'</span>\n                    <span id="ag-').concat(u,'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(u,'-start-page">').concat(i,'</span>\n                        <span id="ag-').concat(u,'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(u,'-of-page">').concat(o,'</span>\n                        <span id="ag-').concat(u,'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(l,'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(c,'"></div>\n                </span>\n            </div>')},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===r-1||o,this.lastButtonDisabled=!i||o||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,i){OF(e,i),e.classList.toggle("ag-disabled",i)},t.prototype.updateRowLabels=function(){var a,s,e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?a=s=0:(s=(a=i*e+1)+i-1,r&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&0===i},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(1===r){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.textContent=this.formatNumber(i),this.lbRecordCount.textContent=this.formatNumber(r);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},fa([C("paginationProxy")],t.prototype,"paginationProxy",void 0),fa([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),fa([V("btFirst")],t.prototype,"btFirst",void 0),fa([V("btPrevious")],t.prototype,"btPrevious",void 0),fa([V("btNext")],t.prototype,"btNext",void 0),fa([V("btLast")],t.prototype,"btLast",void 0),fa([V("lbRecordCount")],t.prototype,"lbRecordCount",void 0),fa([V("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),fa([V("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),fa([V("lbCurrent")],t.prototype,"lbCurrent",void 0),fa([V("lbTotal")],t.prototype,"lbTotal",void 0),fa([V("pageSizeComp")],t.prototype,"pageSizeComp",void 0),fa([H],t.prototype,"postConstruct",null),t}(le),_Fe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},CFe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return _Fe(t,n),t.prototype.updateLayoutClasses=function(e,i){var r=this.eOverlayWrapper.classList;r.toggle(Ki.AUTO_HEIGHT,i.autoHeight),r.toggle(Ki.NORMAL,i.normal),r.toggle(Ki.PRINT,i.print)},t.prototype.postConstruct=function(){this.createManagedBean(new kk(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var i=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&i.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,i.toggle(e,!0)},t.prototype.showOverlay=function(e,i,r){var o=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=r,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){var e;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null===(e=this.updateListenerDestroyFunc)||void 0===e||e.call(this),Yn(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',cL([C("overlayService")],t.prototype,"overlayService",void 0),cL([V("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),cL([H],t.prototype,"postConstruct",null),t}(le),bFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},wFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return bFe(t,n),t.prototype.getFirstRow=function(){var i,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),void 0===i?null:{rowIndex:e,rowPinned:i}},t.prototype.getLastRow=function(){var e,i=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(i="bottom",e=r-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):o&&(i="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:i}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,i){return!e&&!i||!(e&&!i||!e&&i)&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned},t.prototype.before=function(e,i){switch(e.rowPinned){case"top":if("top"!==i.rowPinned)return!0;break;case"bottom":if("bottom"!==i.rowPinned)return!1;break;default:if(ae(i.rowPinned))return"top"!==i.rowPinned}return e.rowIndex<i.rowIndex},t.prototype.rowMax=function(e){var r,i=this;return e.forEach(function(o){(void 0===r||i.before(r,o))&&(r=o)}),r},t.prototype.rowMin=function(e){var r,i=this;return e.forEach(function(o){(void 0===r||i.before(o,r))&&(r=o)}),r},UE([C("rowModel")],t.prototype,"rowModel",void 0),UE([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),UE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),UE([oe("rowPositionUtils")],t)}(z),SFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),EFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return SFe(t,n),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){var r=e.rowPinned,o=e.column;return"".concat(e.rowIndex,".").concat(r??"null",".").concat(o.getId())},t.prototype.equals=function(e,i){return e.column===i.column&&e.rowPinned===i.rowPinned&&e.rowIndex===i.rowIndex},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("cellPositionUtils")],t),t}(z),DFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dC=function n(t){this.cellValueChanges=t},uL=function(n){function t(e,i,r,o){var a=n.call(this,e)||this;return a.initialRange=i,a.finalRange=r,a.ranges=o,a}return DFe(t,n),t}(dC),g7=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),TFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zE=function(){return zE=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},zE.apply(this,arguments)},Wl=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},OFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(i){var r={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,r),a=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,r);if(o||a||e.isPasting||e.isRangeInAction){var d=i.oldValue,h=i.value,p={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:i.column.getColId(),newValue:h,oldValue:d};e.cellValueChanges.push(p)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return TFe(t,n),t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var i=this.gridOptionsService.get("undoRedoCellEditingLimit");i<=0||(this.undoStack=new g7(i),this.redoStack=new g7(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,x.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:x.EVENT_UNDO_STARTED,source:e});var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:x.EVENT_UNDO_ENDED,source:e,operationPerformed:r})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:x.EVENT_REDO_STARTED,source:e});var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:x.EVENT_REDO_ENDED,source:e,operationPerformed:r})},t.prototype.undoRedo=function(e,i,r,o,a){if(!e)return!1;var s=e.pop();return!(!s||!s.cellValueChanges||(this.processAction(s,function(l){return l[o]},a),s instanceof uL?this.processRange(s.ranges||[s[r]]):this.processCell(s.cellValueChanges),i.push(s),0))},t.prototype.processAction=function(e,i,r){var o=this;e.cellValueChanges.forEach(function(a){var c=a.columnId,d=o.getRowNode({rowIndex:a.rowIndex,rowPinned:a.rowPinned});d.displayed&&d.setDataValue(c,i(a),r)})},t.prototype.processRange=function(e){var r,i=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(r={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},i.setLastFocusedCell(r)),i.rangeService.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns})}})},t.prototype.processCell=function(e){var i=e[0],s=this.getRowNode({rowIndex:i.rowIndex,rowPinned:i.rowPinned});this.setLastFocusedCell({rowPinned:i.rowPinned,rowIndex:s.rowIndex,columnId:i.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,i){var r=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(r),s.ensureColumnVisible(l);var c={rowIndex:r,column:l,rowPinned:a};this.focusService.setFocusedCell(zE(zE({},c),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(c)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STARTED,function(i){e.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_ROW_EDITING_STOPPED,function(){var i=new dC(e.cellValueChanges);e.pushActionsToUndoStack(i),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STARTED,function(i){e.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,x.EVENT_CELL_EDITING_STOPPED,function(i){if(e.activeCellEdit=null,i.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var o=new dC(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,x.EVENT_PASTE_END,function(){var i=new dC(e.cellValueChanges);e.pushActionsToUndoStack(i),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,x.EVENT_FILL_END,function(i){var r=new uL(e.cellValueChanges,i.initialRange,i.finalRange);e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var i;i=e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?new uL(e.cellValueChanges,void 0,void 0,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.rangeService.getCellRanges()),!1)):new dC(e.cellValueChanges),e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Wl([C("focusService")],t.prototype,"focusService",void 0),Wl([C("ctrlsService")],t.prototype,"ctrlsService",void 0),Wl([C("rowModel")],t.prototype,"rowModel",void 0),Wl([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Wl([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wl([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wl([C("columnModel")],t.prototype,"columnModel",void 0),Wl([gt("rangeService")],t.prototype,"rangeService",void 0),Wl([H],t.prototype,"init",null),Wl([oe("undoRedoService")],t)}(z),RFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},PFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return RFe(t,n),t.prototype.findHeader=function(e,i){var r,o,a;if(e.column instanceof Tn?(o="getDisplayedGroup".concat(i),r=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(i),r=this.columnModel[a](e.column)),r){var s=e.headerRowIndex;if(this.getHeaderRowType(s)!==mn.FLOATING_FILTER){for(var l=[r];r.getParent();)r=r.getParent(),l.push(r);r=l[l.length-1-s]}var c=this.getHeaderIndexToFocus(r,s);return{column:c.column,headerRowIndex:c.headerRowIndex}}},t.prototype.getHeaderIndexToFocus=function(e,i){var r;if(e instanceof Tn&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding())for(var o=e,a=r=o.getLeafColumns()[0];a!==o;)i++,a=a.getParent();return{column:r||e,headerRowIndex:i}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(i){return i.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,i){var r=this.getHeaderRowType(i),a=r===mn.COLUMN,s=r===mn.FLOATING_FILTER?e:e.getParent(),l=i-1,c=l;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;c=l,l<0&&(s=e,l=i,c=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:c}},t.prototype.getColumnVisibleChild=function(e,i,r){void 0===r&&(r="After");var a=e,s=i+1,l=s;if(this.getHeaderRowType(i)===mn.COLUMN_GROUP){for(var c=e.getDisplayedLeafColumns(),u="After"===r?c[0]:Ut(c),d=[],h=u;h.getParent()!==e;)h=h.getParent(),d.push(h);if(a=u,u.isSpanHeaderHeight())for(var p=d.length-1;p>=0;p--){var f=d[p];if(!f.isPadding()){a=f;break}s++}else(a=Ut(d))||(a=u)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},t.prototype.getHeaderRowType=function(e){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,i){var r=this.columnModel.getAllDisplayedColumns(),o=r["start"===i?0:r.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return s==mn.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==s?-1:e,column:o}}},dL([C("columnModel")],t.prototype,"columnModel",void 0),dL([C("ctrlsService")],t.prototype,"ctrlsService",void 0),dL([oe("headerPositionUtils")],t)}(z),FFe=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,i){var r=this,o=[],a={};return t.forEach(function(s){for(var c=!0,u=r.createDefFromColumn(s,e,i),d=s.getOriginalParent(),h=null;d;){var p=null;if(d.isPadding())d=d.getOriginalParent();else{var f=a[d.getGroupId()];if(f){f.children.push(u),c=!1;break}if((p=r.createDefFromGroup(d))&&(p.children=[u],a[p.groupId]=p,u=p,d=d.getOriginalParent()),null!=d&&h===d){c=!1;break}h=d}}c&&o.push(u)}),o},n.prototype.createDefFromGroup=function(t){var e=Ux(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,i){var r=Ux(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?i.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=!t.isVisible()||void 0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,r},n=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("columnDefFactory")],n),n}(),hL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kFe=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return ae(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),wF(e,this.processClassesFromGridOptions(t.rowNode)),wF(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],i=function(l){"string"==typeof l?e.push(l):Array.isArray(l)&&l.forEach(function(c){return e.push(c)})},r=this.gridOptionsService.get("rowClass");if(r){if("function"==typeof r)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}var o=this.gridOptionsService.getCallback("getRowClass");return o&&i(o({data:t.data,node:t,rowIndex:t.rowIndex})),e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(i){e.push(i)},function(i){}),e},n.prototype.processRowClassRules=function(t,e,i){var r=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,e,i)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},hL([C("stylingService")],n.prototype,"stylingService",void 0),hL([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),hL([oe("rowCssClassCalculator")],n)}(),LFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},NFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return LFe(t,n),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(i){return e.isAccentedSort=i.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,i){var o=e.map(function(a,s){return{currentPos:s,rowNode:a}});return o.sort(this.compareRowNodes.bind(this,i)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,i,r){for(var o=i.rowNode,a=r.rowNode,s=0,l=e.length;s<l;s++){var p,c=e[s],u="desc"===c.sort,d=this.getValue(o,c.column),h=this.getValue(a,c.column),f=this.getComparator(c,o);if(p=f?f(d,h,o,a,u):D.defaultComparator(d,h,this.isAccentedSort),!isNaN(p)&&0!==p)return"asc"===c.sort?p:-1*p}return i.currentPos-r.currentPos},t.prototype.getComparator=function(e,i){var r=e.column,o=r.getColDef().comparator;if(null!=o)return o;if(r.getColDef().showRowGroup){var a=!i.group&&r.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,i){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,e,!1,!1);if(e.rowGroupColumn===i){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){var l=null===(r=e.allLeafChildren)||void 0===r?void 0:r[0];return l?this.valueService.getValue(i,l,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return c?null===(o=e.groupData)||void 0===o?void 0:o[c.getId()]:void 0}return e.group&&i.getColDef().showRowGroup?void 0:this.valueService.getValue(i,e,!1,!1)},WE([C("valueService")],t.prototype,"valueService",void 0),WE([C("columnModel")],t.prototype,"columnModel",void 0),WE([H],t.prototype,"init",null),WE([oe("rowNodeSorter")],t)}(z),VFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BFe=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}var e;return VFe(t,n),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(i)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(i){this.fakeHScrollComp=i,this.checkReady()},t.prototype.registerFakeVScrollComp=function(i){this.fakeVScrollComp=i,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(i){this.stickyTopCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(i){this.stickyTopLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(i){this.stickyTopRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerHeaderContainer=function(i,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=i;break;case"right":this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i}this.checkReady()},t.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},t.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe(e.NAME)],t),t}(z),HFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.registry={},e}return HFe(t,n),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var i=this.registry[e];if(null!=i)return new i},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("ctrlsFactory")],t),t}(z),zFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},v7=function(n){function t(e,i){var r=n.call(this,e)||this;return r.direction=i,r.hideTimeout=null,r}return zFe(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,x.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",KF()||eu())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=qF(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,o=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL,function(i){i.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var i=this,r=this.getViewport();yF(function(){return ua(r)},function(){return i.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},hC([V("eViewport")],t.prototype,"eViewport",void 0),hC([V("eContainer")],t.prototype,"eContainer",void 0),hC([C("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),hC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),hC([C("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(le),WFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$Fe=function(n){function t(){return n.call(this,t.TEMPLATE,"horizontal")||this}return WFe(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var i=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",i),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Hk(function(r){return e.eContainer.style.width="".concat(r,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();r&&(i+=o),Ka(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(a+=o),Ka(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,s=r?0:0===o&&i?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),fp(this.getGui(),s),fp(this.eViewport,s),fp(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return L_(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){ua(this.getViewport())||this.attemptSettingScrollPosition(e),N_(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',pC([V("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),pC([V("eRightSpacer")],t.prototype,"eRightSpacer",void 0),pC([C("columnModel")],t.prototype,"columnModel",void 0),pC([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),pC([H],t.prototype,"postConstruct",null),t}(v7),KFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},YFe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return KFe(t,n),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,x.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:x.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:x.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},pL([C("columnModel")],t.prototype,"columnModel",void 0),pL([H],t.prototype,"postConstruct",null),pL([oe("pinnedWidthService")],t)}(z),qFe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$E=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},XFe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.events=[],e}return qFe(t,n),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var i=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(o){return i.eventService.dispatchEvent(o)}),i.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},$E([C("animationFrameService")],t.prototype,"animationFrameService",void 0),$E([C("rowModel")],t.prototype,"rowModel",void 0),$E([H],t.prototype,"postConstruct",null),$E([oe("rowNodeEventThrottle")],t)}(z),Ad=function(n,t){var e;return"clientSide"===(null!==(e=t.rowModelType)&&void 0!==e?e:"clientSide")?{module:ie.RowGroupingModule}:null},QFe={enableRowGroup:Ad,rowGroup:Ad,rowGroupIndex:Ad,enablePivot:Ad,enableValue:Ad,pivot:Ad,pivotIndex:Ad,aggFunc:Ad,cellEditor:function(n){return"agRichSelect"===n.cellEditor||"agRichSelectCellEditor"===n.cellEditor?{module:ie.RichSelectModule}:null},menuTabs:function(n){var t,e=["columnsMenuTab","generalMenuTab"];return null!==(t=n.menuTabs)&&void 0!==t&&t.some(function(i){return e.includes(i)})?{module:ie.MenuModule}:null},columnsMenuParams:{module:[ie.MenuModule,ie.ColumnsToolPanelModule]},columnChooserParams:{module:[ie.MenuModule,ie.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return dg}},dg={objectName:"colDef",allProperties:gAe.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},validations:QFe},y7=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},_7=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},eke={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},tke={sideBar:{module:ie.SideBarModule},statusBar:{module:ie.StatusBarModule},enableCharts:{module:ie.GridChartsModule},getMainMenuItems:{module:ie.MenuModule},getContextMenuItems:{module:ie.MenuModule},allowContextMenuWithControlKey:{module:ie.MenuModule},enableAdvancedFilter:{module:ie.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:ie.RowGroupingModule,dependencies:function(n){var t,e=null!==(t=n.rowModelType)&&void 0!==t?t:"clientSide";switch(e){case"clientSide":var i="treeData requires 'getDataPath' in the ".concat(e," row model.");return n.getDataPath?null:i;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}return null}},masterDetail:{module:ie.MasterDetailModule},enableRangeSelection:{module:ie.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n){var t;switch(null!==(t=n.rowModelType)&&void 0!==t?t:"clientSide"){case"clientSide":return null;case"serverSide":return n.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:ie.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:ie.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:ie.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:ie.ClientSideRowModelModule},columnDefs:function(){return dg},defaultColDef:function(){return dg},defaultColGroupDef:function(){return dg},autoGroupColumnDef:function(){return dg}},ike={objectName:"gridOptions",allProperties:_7(_7([],y7(Nl.ALL_PROPERTIES),!1),y7(Zx.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},validations:tke},$l=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},KE=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},fL=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},C7=function(){function n(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ll,this.globalEventHandlerFactory=function(i){return function(r,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(r);if(!(a&&!i||!a&&i)){var s=Zx.getCallbackForEvent(r),l=e.gridOptions[s];"function"==typeof l&&e.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}var t;return t=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.columnApi=new lC(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},n.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},n.prototype.get=function(e){var i;return null!==(i=this.gridOptions[e])&&void 0!==i?i:eke[e]},n.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},n.prototype.exists=function(e){return ae(this.gridOptions[e])},n.prototype.mergeGridCommonParams=function(e){var i=this;return e?function(o){var a=o;return a.api=i.api,a.columnApi=i.columnApi,a.context=i.context,e(a)}:e},n.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},n.toNumber=function(e){if("number"==typeof e)return e;if("string"==typeof e){var i=parseInt(e);return isNaN(i)?void 0:i}},n.toConstrainedNum=function(e,i){return function(r){var o=t.toNumber(r);if(!(null==o||o<e||o>i))return o}},n.getCoercedValue=function(e,i){var r=t.PROPERTY_COERCIONS.get(e);return r?r(i):i},n.getCoercedGridOptions=function(e){var i={};return Object.entries(e).forEach(function(r){var o=KE(r,2),a=o[0],l=t.getCoercedValue(a,o[1]);i[a]=l}),i},n.prototype.updateGridOptions=function(e){var i=this,r=e.options,o=e.source,a=void 0===o?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(r).forEach(function(c){var u=KE(c,2),d=u[0],h=u[1];"api"===a&&MDe[d]&&We("".concat(d," is an initial property and cannot be updated."));var p=t.getCoercedValue(d,h),m=i.gridOptions[d];("object"==typeof p&&"api"===a||m!==p)&&(i.gridOptions[d]=p,l.push({type:d,currentValue:p,previousValue:m,changeSet:s,source:a}))}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(c){return c.type}),l.forEach(function(c){i.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(c.type," from "),c.previousValue," to  ",c.currentValue),i.propertyEventService.dispatchEvent(c)})},n.prototype.addEventListener=function(e,i){this.propertyEventService.addEventListener(e,i)},n.prototype.removeEventListener=function(e,i){this.propertyEventService.removeEventListener(e,i)},n.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var i="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:xK();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:x.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&Qe(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(e){var i;return(null!==(i=this.gridOptions.domLayout)&&void 0!==i?i:"normal")===e},n.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},n.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},n.prototype.getRowHeightForNode=function(e,i,r){if(void 0===i&&(i=!1),null==r&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:r,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return 0===a&&We("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||Qe(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},n.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,i){var r=e[this.getDomDataKey()];return r?r[i]:void 0},n.prototype.setDomData=function(e,i,r){var o=this.getDomDataKey(),a=e[o];Qe(a)&&(e[o]=a={}),a[i]=r},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&ae(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ae(e)?e:document},n.prototype.getWindow=function(){return this.getDocument().defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return ae(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return!this.get("ensureDomOrder")&&this.get("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):!0===e?function(){return!0}:void 0},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return!0===e||"function"==typeof e},n.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):!0===e?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType},n.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},n.prototype.addGridCommonParams=function(e){var i=e;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,i},n.alwaysSyncGlobalEvents=new Set([x.EVENT_GRID_PRE_DESTROYED]),n.PROPERTY_COERCIONS=new Map(fL(fL(fL([],KE(Nl.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),KE(Nl.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return"function"==typeof e?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),n.changeSetId=0,$l([C("gridOptions")],n.prototype,"gridOptions",void 0),$l([C("eventService")],n.prototype,"eventService",void 0),$l([C("environment")],n.prototype,"environment",void 0),$l([C("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),$l([C("eGridDiv")],n.prototype,"eGridDiv",void 0),$l([C("validationService")],n.prototype,"validationService",void 0),$l([C("gridApi")],n.prototype,"api",void 0),$l([H],n.prototype,"init",null),$l([Mi],n.prototype,"destroy",null),t=$l([oe("gridOptionsService")],n)}(),nke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return nke(t,n),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(r,o,a){return e({key:r,defaultValue:o,variableValues:a})};var i=this.gridOptionsService.get("localeText");return function(r,o,a){var s=i&&i[r];if(s&&a&&a.length)for(var l=0;!(l>=a.length)&&-1!==s.indexOf("${variable}");)s=s.replace("${variable}",a[l++]);return s??o}},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("localeService")],t),t}(z),ake=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lke=function(n){function t(){return n.call(this,t.TEMPLATE,"vertical")||this}return ake(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new IY(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,x.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0===r&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ka(this.getGui(),o),Ka(this.eViewport,o),Ka(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var r=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement(),o=this.getScrollPosition(),a=r.scrollTop;o!=a&&this.setScrollPosition(a,!0)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e,i){!i&&!ua(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(v7),cke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oo=function(){return Oo=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Oo.apply(this,arguments)},xp=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Kl=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},fC=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},b7={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},w7=["january","february","march","april","may","june","july","august","september","october","november","december"],uke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return cke(t,n),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(i){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(qm(i.source))})},t.prototype.processDataTypeDefinitions=function(){var i,e=this,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach(function(a){var s=Kl(a,2),c=s[1];e.dataTypeDefinitions[s[0]]=Oo(Oo({},c),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(c)})});var o=null!==(i=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==i?i:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=Kl(a,2),l=s[0],c=s[1],u=e.processDataTypeDefinition(c,o,[l],r);u&&(e.dataTypeDefinitions[l]=u,c.dataTypeMatcher&&(e.dataTypeMatchers[l]=c.dataTypeMatcher))}),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??r[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,i){var r=Oo(Oo({},e),i);return e.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(r.columnTypes=fC(fC([],Kl(this.convertColumnTypes(e.columnTypes)),!1),Kl(this.convertColumnTypes(i.columnTypes)),!1)),r},t.prototype.processDataTypeDefinition=function(e,i,r,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],c=i[s];if(l&&c&&(l=c),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(r.includes(s))return void We('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');var u=i[s];if(!this.validateDataTypeDefinition(e,u,s))return;var d=this.processDataTypeDefinition(u,i,fC(fC([],Kl(r),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return Oo(Oo({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,i,r){return i?i.baseDataType===e.baseDataType||(We('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(We("The data type definition ".concat(r," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var i=this;if(e.valueFormatter)return function(r){var o,a;if(null!==(o=r.node)&&void 0!==o&&o.group){var s=r.column.getAggFunc();if(s){if("first"===s||"last"===s)return e.valueFormatter(r);if("number"===e.baseDataType&&"count"!==s){if("number"==typeof r.value)return e.valueFormatter(r);if("object"==typeof r.value){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter(Oo(Oo({},r),{value:r.value.toNumber()}));if("value"in r.value)return e.valueFormatter(Oo(Oo({},r),{value:r.value.value}))}}}if(!i.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(i.groupHideOpenParents&&r.column.isRowGroupActive()){if("string"!=typeof r.value||null!==(a=e.dataTypeMatcher)&&void 0!==a&&a.call(e,r.value))return e.valueFormatter(r);if(!i.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(r)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,i,r){var o=i.cellDataType,a=i.field;if(void 0===o&&(o=e.cellDataType),(null==o||!0===o)&&(o=!!this.canInferCellDataType(e,i)&&this.inferCellDataType(a,r)),o){var s=this.dataTypeDefinitions[o];if(s)return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r),s.columnTypes;We('Missing data type definition - "'.concat(o,'"'))}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,i,r){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,i,r),l=null!==(a=null!==(o=i.type)&&void 0!==o?o:s)&&void 0!==a?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var i=this.columnStateUpdatesPendingInference[e.getColId()];if(i){var r=function(o){i.add(o.key)};e.addEventListener(bt.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(bt.EVENT_STATE_UPDATED,r)})}}},t.prototype.canInferCellDataType=function(e,i){var o,r=this;if("clientSide"!==this.rowModel.getType())return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,a))return!1;var s=null===i.type?e.type:i.type;if(s){var l=null!==(o=this.gridOptionsService.get("columnTypes"))&&void 0!==o?o:{};if(this.convertColumnTypes(s).some(function(u){var d=l[u.trim()];return d&&r.doColDefPropsPreventInference(d,a)}))return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,i){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=Kl(o,2);return r.doesColDefPropPreventInference(e,i,a[0],a[1])})},t.prototype.doesColDefPropPreventInference=function(e,i,r,o){if(!i[r])return!1;var a=e[r];return null===a?(i[r]=!1,!1):void 0===o?!!a:a===o},t.prototype.inferCellDataType=function(e,i){var r;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Km(a,e,s)}else this.initWaitForRowData(i);if(null!=o)return Kl(null!==(r=Object.entries(this.dataTypeMatchers).find(function(u){return(0,Kl(u,2)[1])(o)}))&&void 0!==r?r:["object"],1)[0]}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var i=this.rowModel.getRootNode().allLeafChildren;return i?.length?i[0].data:null},t.prototype.initWaitForRowData=function(e){var i=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;s&&(o?.(),i.isWaitingForRowData=!1,i.processColumnsPendingInference(s,r),i.columnStateUpdatesPendingInference={},r&&i.columnModel.processResizeOperations(),i.eventService.dispatchEvent({type:x.EVENT_DATA_TYPES_INFERRED}))})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,i){var r=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var c=Kl(l,2),u=c[0],d=c[1],h=r.columnModel.getGridColumn(u);if(h){var p=h.getColDef();if(r.columnModel.resetColumnDefIntoColumn(h,"cellDataTypeInferred")){var f=h.getColDef();if(i&&f.type&&f.type!==p.type){var m=r.getUpdatedColumnState(h,d);m.rowGroup&&null==m.rowGroupIndex&&(a[u]=m),m.pivot&&null==m.pivotIndex&&(s[u]=m),o.push(m)}}}}),i&&o.push.apply(o,fC([],Kl(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,i){var r=this.columnModel.getColumnStateFromColDef(e);return i.forEach(function(o){delete r[o],"rowGroup"===o?delete r.rowGroupIndex:"pivot"===o&&delete r.pivotIndex}),r},t.prototype.checkObjectValueHandlers=function(e){var i=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=i.valueParser!==r.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==r.valueFormatter},t.prototype.convertColumnTypes=function(e){var i=[];return e instanceof Array?e.some(function(o){return"string"!=typeof o})?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):i=e:"string"==typeof e?i=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),i},t.prototype.getDateStringTypeDefinition=function(e){var i;return e&&null!==(i=this.getDataTypeDefinition(e))&&void 0!==i?i:this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(e){return this.getDateStringTypeDefinition(e).dateParser},t.prototype.getDateFormatterFunction=function(e){return this.getDateStringTypeDefinition(e).dateFormatter},t.prototype.getDataTypeDefinition=function(e){var i=e.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]},t.prototype.getBaseDataType=function(e){var i;return null===(i=this.getDataTypeDefinition(e))||void 0===i?void 0:i.baseDataType},t.prototype.checkType=function(e,i){var r;if(null==i)return!0;var o=null===(r=this.getDataTypeDefinition(e))||void 0===r?void 0:r.dataTypeMatcher;return!o||o(i)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&We('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&We('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,i,r){var o=this,a=function(d,h,p){var f=d.getColDef().valueFormatter;return f===i.groupSafeValueFormatter&&(f=i.valueFormatter),o.valueFormatterService.formatValue(d,h,p,f)},s=Ze.__isRegistered(ie.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),c=function(d){var h=e.filterParams;e.filterParams="object"==typeof h?Oo(Oo({},h),d):d};switch(i.baseDataType){case"number":e.cellEditor="agNumberCellEditor",s&&c({comparator:function(d,h){var p=null==d?0:parseInt(d),f=null==h?0:parseInt(h);return p===f?0:p>f?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===G.SPACE},c(s?{valueFormatter:function(d){return ae(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return!1===h},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&c({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(1===h&&null!=d){var p=w7[Number(d)-1];return l(p,b7[p])}return d??l("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var u=i.dateParser;c(s?{valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=u(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(1===h&&null!=d){var p=w7[Number(d)-1];return l(p,b7[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var p=u(h);return null==h||p<d?-1:p>d?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(d,h){var p=o.columnModel.getPrimaryColumn(r),f=p?.getColDef();if(!p||!f)return 0;var m=null==d?"":a(p,null,d),g=null==h?"":a(p,null,h);return m===g?0:m>g?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?c({valueFormatter:function(d){var h=a(d.column,d.node,d.value);return ae(h)?h:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))}}},t.prototype.getDefaultDataTypes=function(){var e=function(r){return!!r.match("^\\d{4}-\\d{2}-\\d{2}$")},i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(r){var o,a;return""===(null===(a=null===(o=r.newValue)||void 0===o?void 0:o.trim)||void 0===a?void 0:a.call(o))?null:Number(r.newValue)},valueFormatter:function(r){return null==r.value?"":"number"!=typeof r.value||isNaN(r.value)?i("invalidNumber","Invalid Number"):String(r.value)},dataTypeMatcher:function(r){return"number"==typeof r}},text:{baseDataType:"text",valueParser:function(r){return""===r.newValue?null:A_(r.newValue)},dataTypeMatcher:function(r){return"string"==typeof r}},boolean:{baseDataType:"boolean",valueParser:function(r){var o,a;return null==r.newValue?r.newValue:""===(null===(a=null===(o=r.newValue)||void 0===o?void 0:o.trim)||void 0===a?void 0:a.call(o))?null:"true"===String(r.newValue).toLowerCase()},valueFormatter:function(r){return null==r.value?"":String(r.value)},dataTypeMatcher:function(r){return"boolean"==typeof r}},date:{baseDataType:"date",valueParser:function(r){return So(null==r.newValue?null:String(r.newValue))},valueFormatter:function(r){var o;return null==r.value?"":r.value instanceof Date&&!isNaN(r.value.getTime())?null!==(o=$a(r.value,!1))&&void 0!==o?o:"":i("invalidDate","Invalid Date")},dataTypeMatcher:function(r){return r instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(r){var o;return null!==(o=So(r))&&void 0!==o?o:void 0},dateFormatter:function(r){var o;return null!==(o=$a(r??null,!1))&&void 0!==o?o:void 0},valueParser:function(r){return e(String(r.newValue))?r.newValue:null},valueFormatter:function(r){return e(String(r.value))?r.value:""},dataTypeMatcher:function(r){return"string"==typeof r&&e(r)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(r){var o;return null!==(o=A_(r.value))&&void 0!==o?o:""}}}},xp([C("rowModel")],t.prototype,"rowModel",void 0),xp([C("columnModel")],t.prototype,"columnModel",void 0),xp([C("columnUtils")],t.prototype,"columnUtils",void 0),xp([C("valueService")],t.prototype,"valueService",void 0),xp([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),xp([H],t.prototype,"init",null),xp([oe("dataTypeService")],t)}(z),dke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),S7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return dke(t,n),t.prototype.parseValue=function(e,i,r,o){var a=e.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:i,data:i?.data,oldValue:o,newValue:r,colDef:a,column:e}),l=a.valueParser;return ae(l)?"function"==typeof l?l(s):this.expressionService.evaluate(l,s):r},S7([C("expressionService")],t.prototype,"expressionService",void 0),S7([oe("valueParserService")],t)}(z),pke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return pke(t,n),t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(i){return e.setColumnDefs(i)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var i=e.gridOptionsService.get("columnDefs");i?e.setColumnsAndData(i):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var i=Ze.__isRegistered(ie.EnterpriseCoreModule,this.context.getGridId());new tL("AG Grid",function(){return e.gridOptionsService.get("debug")}).log("initialised successfully, enterprise = ".concat(i))},t.prototype.dispatchGridReadyEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_GRID_READY})},t.prototype.setColumnDefs=function(e){var i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(i);this.columnModel.setColumnDefs(i,qm(e.source))}},mC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),mC([C("columnModel")],t.prototype,"columnModel",void 0),mC([C("rowModel")],t.prototype,"rowModel",void 0),mC([H],t.prototype,"postConstruct",null),mC([oe("syncService")],t)}(z),mke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mL=function(){return mL=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mL.apply(this,arguments)},gC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return mke(t,n),t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var i=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(i,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var i=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(i,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},t.prototype.showOverlay=function(e,i,r){var o=this,a=e.newAgStackInstance(),s=this.addManagedPropertyListener(r,function(l){var c=l.currentValue;a.then(function(u){u.refresh&&u.refresh(o.gridOptionsService.addGridCommonParams(mL({},c??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,i,s)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),i=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!i?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},gC([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),gC([C("paginationProxy")],t.prototype,"paginationProxy",void 0),gC([C("columnModel")],t.prototype,"columnModel",void 0),gC([H],t.prototype,"postConstruct",null),gC([oe("overlayService")],t)}(z),vke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Od=function(){return Od=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Od.apply(this,arguments)},ma=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Cke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=sa(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return vke(t,n),t.prototype.postConstruct=function(){var i,e=this;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},this.ctrlsService.whenReady(function(){return e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnGridReady()})});var r=this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(s){"gridInitializing"===s.source&&(r?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,x.EVENT_ROW_COUNT_READY,function(){o?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,x.EVENT_FIRST_DATA_RENDERED,function(){a?.(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnFirstDataRendered()})})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,x.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var i,e=this,r=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{};this.setColumnState(r),this.setColumnGroupState(r),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})},t.prototype.setupStateOnRowCountReady=function(){var i,e=this,r=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},o=r.filter,a=r.rowGroupExpansion,s=r.rowSelection,l=r.pagination,c=this.gridOptionsService.get("advancedFilterModel");(o||c)&&this.setFilterState(o,c),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())}),this.addManagedListener(this.eventService,x.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,x.EVENT_EXPAND_COLLAPSE_ALL,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,function(u){(u.newPage||u.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var i,e=this,r=null!==(i=this.gridOptionsService.get("initialState"))&&void 0!==i?i:{},o=r.scroll,a=r.rangeSelection,s=r.focusedCell,l=r.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!l?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,x.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(c){c.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,x.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),i=[],r=[],o=[],a=[],s=[],l=[],c=[],u=[],d=[],h=this.columnModel.getColumnState(),p=0;p<h.length;p++){var f=h[p],m=f.colId,g=f.sort,v=f.sortIndex,y=f.rowGroup,_=f.rowGroupIndex,b=f.aggFunc,w=f.pivot,E=f.pivotIndex,M=f.pinned,P=f.hide,I=f.width,k=f.flex;d.push(m),g&&(i[v??0]={colId:m,sort:g}),y&&(r[_??0]=m),"string"==typeof b&&o.push({colId:m,aggFunc:b}),w&&(a[E??0]=m),M&&("right"===M?l:s).push(m),P&&c.push(m),(k||I)&&u.push({colId:m,flex:k??void 0,width:I})}return{sort:i.length?{sortModel:i}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var i=e.sort,r=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,c=e.columnSizing,u=e.columnOrder,d={},h=function(v){var y=d[v];return y||(d[v]=y={colId:v},y)};i&&i.sortModel.forEach(function(v,y){var b=v.sort,w=h(v.colId);w.sort=b,w.sortIndex=y}),r&&r.groupColIds.forEach(function(v,y){var _=h(v);_.rowGroup=!0,_.rowGroupIndex=y}),o&&o.aggregationModel.forEach(function(v){var _=v.aggFunc;h(v.colId).aggFunc=_}),a&&(a.pivotColIds.forEach(function(v,y){var _=h(v);_.pivot=!0,_.pivotIndex=y}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(v){h(v).pinned="left"}),s.rightColIds.forEach(function(v){h(v).pinned="right"})),l&&l.hiddenColIds.forEach(function(v){h(v).hide=!0}),c&&c.columnSizingModel.forEach(function(v){var _=v.flex,b=v.width,w=h(v.colId);w.flex=_??null,w.width=b});var p=u?.orderedColIds,f=!!p?.length,m=f?p.map(function(v){return h(v)}):Object.values(d);m.length&&(this.columnStates=m,this.columnModel.applyColumnState({state:m,applyOrder:f,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))},t.prototype.setColumnPivotState=function(e){var i,r,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next()){var u=c.value;this.columnModel.getSecondaryColumn(u.colId)&&s.push(u)}}catch(d){i={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),i=[];return e.forEach(function(r){r.open&&i.push(r.groupId)}),i.length?{openColumnGroupIds:i}:void 0},t.prototype.setColumnGroupState=function(e){var i;if(e.hasOwnProperty("columnGroup")){var r=new Set(null===(i=e.columnGroup)||void 0===i?void 0:i.openColumnGroupIds),a=this.columnModel.getColumnGroupState().map(function(s){var l=s.groupId,c=r.has(l);return c&&r.delete(l),{groupId:l,open:c}});r.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getFilterState=function(){var e,i=this.filterManager.getFilterModel();i&&0===Object.keys(i).length&&(i=void 0);var r=null!==(e=this.filterManager.getAdvancedFilterModel())&&void 0!==e?e:void 0;return i||r?{filterModel:i,advancedFilterModel:r}:void 0},t.prototype.setFilterState=function(e,i){var r=e??{advancedFilterModel:i},o=r.filterModel,a=r.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,i=null===(e=this.rangeService)||void 0===e?void 0:e.getCellRanges().map(function(r){var u=r.startColumn;return{id:r.id,type:r.type,startRow:r.startRow,endRow:r.endRow,colIds:r.columns.map(function(d){return d.getColId()}),startColId:u.getColId()}});return i?.length?{cellRanges:i}:void 0},t.prototype.setRangeSelectionState=function(e){var r,i=this;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return Od(Od({},a),{columns:a.colIds.map(function(s){return i.columnModel.getGridColumn(s)}),startColumn:i.columnModel.getGridColumn(a.startColId)})});null===(r=this.rangeService)||void 0===r||r.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,i,r;if(this.isClientSideRowModel){var o=null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e?void 0:e.getScrollFeature(),a=(null!==(i=o?.getHScrollPosition())&&void 0!==i?i:{left:0}).left,s=(null!==(r=o?.getVScrollPosition())&&void 0!==r?r:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var i;if(this.isClientSideRowModel){var r=e.top,o=e.left;null===(i=this.ctrlsService.getGridBodyCtrl())||void 0===i||i.getScrollFeature().setScrollPosition(r,o)}},t.prototype.getSideBarState=function(){var e,i;return null===(i=null===(e=this.sideBarService)||void 0===e?void 0:e.getSideBarComp())||void 0===i?void 0:i.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var r=e.rowIndex,o=e.rowPinned;return{colId:e.column.getColId(),rowIndex:r,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var r=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e.colId),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),i=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||i)return{page:e,pageSize:i}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,i=this.selectionService.getSelectionState();return i&&(Array.isArray(i)||!1!==i.selectAll&&!1!==i.selectAllChildren||null!==(e=i?.toggledNodes)&&void 0!==e&&e.length)?i:void 0},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var i=this,r=this.getColumnState(),o=!1;Object.entries(r).forEach(function(a){var s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a,2);hF(s[1],i.cachedState[s[0]])||(o=!0)}),this.cachedState=Od(Od({},this.cachedState),r),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,i){var r,o=this.cachedState[e];this.cachedState=Od(Od({},this.cachedState),((r={})[e]=i,r)),hF(i,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var i=this;this.suppressEvents||(e.forEach(function(r){return i.queuedUpdateSources.add(r)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:x.EVENT_STATE_UPDATED,sources:e,state:this.cachedState})},t.prototype.suppressEventsAndDispatchInitEvent=function(e){var i=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(function(){i.suppressEvents=!1,i.queuedUpdateSources.clear(),i.isAlive()&&(i.columnAnimationService.setSuppressAnimation(!1),i.dispatchStateUpdateEvent(["gridInitializing"]))})},ma([C("filterManager")],t.prototype,"filterManager",void 0),ma([gt("rangeService")],t.prototype,"rangeService",void 0),ma([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ma([gt("sideBarService")],t.prototype,"sideBarService",void 0),ma([C("focusService")],t.prototype,"focusService",void 0),ma([C("columnModel")],t.prototype,"columnModel",void 0),ma([C("paginationProxy")],t.prototype,"paginationProxy",void 0),ma([C("rowModel")],t.prototype,"rowModel",void 0),ma([C("selectionService")],t.prototype,"selectionService",void 0),ma([C("expansionService")],t.prototype,"expansionService",void 0),ma([C("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ma([H],t.prototype,"postConstruct",null),ma([oe("stateService")],t)}(z),bke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ep=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},vC=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},wke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return bke(t,n),t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,ike)},t.prototype.processColumnDefs=function(e){this.processOptions(e,dg)},t.prototype.processOptions=function(e,i){var r=this,o=i.validations,a=i.deprecations,s=i.allProperties,c=i.objectName,u=i.docsUrl;s&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,vC(vC([],Ep(i.propertyExceptions??[]),!1),Ep(Object.keys(a)),!1),s,c,u);var d=new Set;Object.keys(e).forEach(function(p){var f,m=a[p];if(m)if("renamed"in m){var g=m.renamed;d.add("As of v".concat(m.version,", ").concat(String(p)," is deprecated. Please use ").concat(String(g)," instead.")),e[g]=e[p]}else{var y=m.message;d.add("As of v".concat(m.version,", ").concat(String(p)," is deprecated. ").concat(y??""))}var _=e[p];if(null!=_&&!1!==_){var w,b=o[p];if(!b)return;if("function"==typeof b){var E=b(e,r.gridOptions);if(!E)return;if("objectName"in E){var M=e[p];return Array.isArray(M)?void M.forEach(function(fe){r.processOptions(fe,E)}):void r.processOptions(e[p],E)}w=E}else w=b;var P=w.module,I=w.dependencies,k=w.supportedRowModels;if(k){var L=null!==(f=r.gridOptions.rowModelType)&&void 0!==f?f:"clientSide";if(!k.includes(L))return void d.add("".concat(String(p)," is not supported with the '").concat(L,"' row model."))}if(P){var B=Array.isArray(P)?P:[P],Y=!0;if(B.forEach(function(fe){Ze.__assertRegistered(fe,String(p),r.context.getGridId())||(Y=!1,d.add("".concat(String(p)," is only available when ").concat(fe," is loaded.")))}),!Y)return}if(I){var ne=r.checkForWarning(p,I,e);if(ne)return void d.add(ne)}}}),d.size>0&&d.forEach(function(p){We(p)})},t.prototype.checkForWarning=function(e,i,r){if("function"==typeof i)return i(r,this.gridOptions);var a=Object.entries(i).find(function(u){var d=Ep(u,2);return!d[1].includes(r[d[0]])});if(!a)return null;var s=Ep(a,2),l=s[0],c=s[1];return c.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(c.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(c[0],".")},t.prototype.checkProperties=function(e,i,r,o,a){var l=FK(Object.getOwnPropertyNames(e),vC(vC(vC([],Ep(["__ob__","__v_skip","__metadata__"]),!1),Ep(i),!1),Ep(r),!1),r);if(Lr(l,function(u,d){We("invalid ".concat(o," property '").concat(u,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var c=this.getFrameworkOverrides().getDocLink(a);We("to see all the valid ".concat(o," properties please check: ").concat(c))}},gL([C("gridOptions")],t.prototype,"gridOptions",void 0),gL([H],t.prototype,"init",null),gL([oe("validationService")],t)}(z),Ske=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),x7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return Ske(t,n),t.prototype.postConstruct=function(){this.frameworkEventWrappingService=new _F(this.getFrameworkOverrides())},t.prototype.addEventListener=function(e,i){var r=this.frameworkEventWrappingService.wrap(i),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(e)||a.set(e,new Set),a.get(e).add(r),this.eventService.addEventListener(e,r,o)},t.prototype.addGlobalListener=function(e){var i=this.frameworkEventWrappingService.wrapGlobal(e),r=this.gridOptionsService.useAsyncEvents();(r?this.asyncGlobalEventListeners:this.syncGlobalEventListeners).add(i),this.eventService.addGlobalListener(i,r)},t.prototype.removeEventListener=function(e,i){var r,o=this.frameworkEventWrappingService.unwrap(i),a=this.asyncEventListeners.get(e),s=!!a?.delete(o);s||null===(r=this.asyncEventListeners.get(e))||void 0===r||r.delete(o),this.eventService.removeEventListener(e,o,s)},t.prototype.removeGlobalListener=function(e){var i=this.frameworkEventWrappingService.unwrapGlobal(e),r=this.asyncGlobalEventListeners.delete(i);r||this.syncGlobalEventListeners.delete(i),this.eventService.removeGlobalListener(i,r)},t.prototype.destroyEventListeners=function(e,i){var r=this;e.forEach(function(o,a){o.forEach(function(s){return r.eventService.removeEventListener(a,s,i)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,i){var r=this;e.forEach(function(o){return r.eventService.removeGlobalListener(o,i)}),e.clear()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},x7([H],t.prototype,"postConstruct",null),x7([oe("apiEventService")],t)}(z),Eke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Mke=function(n){function t(){var e=n.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var i=e.selectPageSizeComp.getValue();if(i){var r=Number(i);isNaN(r)||r<1||r===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(r,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return Eke(t,n),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,x.EVENT_PAGINATION_CHANGED,function(i){return e.handlePaginationChanged(i)})},t.prototype.handlePaginationChanged=function(e){if(this.selectPageSizeComp&&e?.newPageSize){var i=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(i)?this.selectPageSizeComp.setValue(i.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){Yn(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")},t.prototype.reloadPageSizesSelector=function(){var e=this,i=this.getPageSizeSelectorValues(),r=this.paginationProxy.getPageSize(),o=!r||!i.includes(r);o&&(i.unshift(""),We("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=i.map(function(u){return{value:String(u),text:String(u)}}),c=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new iu).addOptions(l).setValue(String(o?"":r)).setAriaLabel(c).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var i=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(i)&&this.validateValues(i)?function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i),!1).sort(function(r,o){return r-o}):[20,50,100]},t.prototype.validateValues=function(e){if(!e.length)return We("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(var i=0;i<e.length;i++){var r=e[i],a=r>0;if("number"!=typeof r)return We("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!a)return We("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),n.prototype.destroy.call(this)},YE([C("localeService")],t.prototype,"localeService",void 0),YE([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),YE([C("paginationProxy")],t.prototype,"paginationProxy",void 0),YE([H],t.prototype,"init",null),t}(le),Ake=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Oke=function(n){function t(){var e=n.call(this)||this;return e.descriptionContainer=null,e.announceValue=sa(e.announceValue.bind(e),200),e}return Ake(t,n),t.prototype.postConstruct=function(){var e=this.gridOptionsService.getDocument(),i=this.descriptionContainer=e.createElement("div");i.classList.add("ag-aria-description-container"),AF(i,"polite"),hK(i,"additions text"),dK(i,!0),this.eGridDiv.appendChild(i)},t.prototype.announceValue=function(e){var i=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){i.descriptionContainer.textContent=e},50))},t.prototype.destroy=function(){n.prototype.destroy.call(this);var e=this.descriptionContainer;e&&(Yn(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null},vL([C("eGridDiv")],t.prototype,"eGridDiv",void 0),vL([H],t.prototype,"postConstruct",null),vL([oe("ariaAnnouncementService")],t)}(z),E7=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},D7=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))};function T7(n,t,e){if(!t)return As("No gridOptions provided to createGrid"),{};var i=C7.getCoercedGridOptions(t),r=(new M7).create(n,i,function(a){var s=new c7(n);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!e?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){As("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){As("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return r}var Rke=1,M7=function(){function n(){}return n.prototype.create=function(t,e,i,r,o){var a,s=!!e.debug,l=null!==(a=e.gridId)&&void 0!==a?a:String(Rke++),c=this.getRegisteredModules(o,l),u=this.createBeansList(e.rowModelType,c,l),d=this.createProvidedBeans(t,e,o);if(u){var h={providedBeanInstances:d,beanClasses:u,debug:s,gridId:l},p=new tL("Context",function(){return h.debug}),f=new zEe(h,p),m=f.getBean("beans");return this.registerModuleUserComponents(m,c),this.registerStackComponents(m,c),this.registerControllers(m,c),i(f),m.syncService.start(),r&&r(f),m.gridApi}As("Failed to create grid.")},n.prototype.registerControllers=function(t,e){e.forEach(function(i){i.controllers&&i.controllers.forEach(function(r){return t.ctrlsFactory.register(r)})})},n.prototype.registerStackComponents=function(t,e){var i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)},n.prototype.getRegisteredModules=function(t,e){var i=t?t.modules:null,r=Ze.__getRegisteredModules(e),o=[],a={},s=function(l,c,u){var h;a[(h=c).moduleName]||(a[h.moduleName]=!0,o.push(h),Ze.__register(h,l,u)),c.dependantModules&&c.dependantModules.forEach(function(h){return s(l,h,u)})};return i&&i.forEach(function(l){return s(!0,l,e)}),r&&r.forEach(function(l){return s(!Ze.__isPackageBased(),l,void 0)}),o},n.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(r){return r.userComponents?r.userComponents:[]}).forEach(function(r){t.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},n.prototype.createProvidedBeans=function(t,e,i){var r=i?i.frameworkOverrides:null;Qe(r)&&(r=new r7);var o={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Cd},{componentName:"AgRadioButton",componentClass:bk},{componentName:"AgToggleButton",componentClass:Qk},{componentName:"AgInputTextField",componentClass:nu},{componentName:"AgInputTextArea",componentClass:BPe},{componentName:"AgInputNumberField",componentClass:lE},{componentName:"AgInputDateField",componentClass:qY},{componentName:"AgInputRange",componentClass:UPe},{componentName:"AgRichSelect",componentClass:IE},{componentName:"AgSelect",componentClass:iu},{componentName:"AgSlider",componentClass:Xa},{componentName:"AgGridBody",componentClass:jOe},{componentName:"AgHeaderRoot",componentClass:XRe},{componentName:"AgSortIndicator",componentClass:Tk},{componentName:"AgPagination",componentClass:yFe},{componentName:"AgPageSizeSelector",componentClass:Mke},{componentName:"AgOverlayWrapper",componentClass:CFe},{componentName:"AgGroupComponent",componentClass:Vs},{componentName:"AgRowContainer",componentClass:rRe},{componentName:"AgFakeHorizontalScroll",componentClass:$Fe},{componentName:"AgFakeVerticalScroll",componentClass:lke},{componentName:"AgAutocomplete",componentClass:aC}],i=this.extractModuleEntity(t,function(r){return r.agStackComponents?r.agStackComponents:[]});return e.concat(i)},n.prototype.createBeansList=function(t,e,i){void 0===t&&(t="clientSide");var r=e.filter(function(c){return!c.rowModel||c.rowModel===t}),o={clientSide:ie.ClientSideRowModelModule,infinite:ie.InfiniteRowModelModule,serverSide:ie.ServerSideRowModelModule,viewport:ie.ViewportRowModelModule};if(o[t]){if(Ze.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),i)){var a=[TY,wFe,EFe,PFe,YIe,xY,ZMe,tFe,nFe,uPe,mAe,fFe,QRe,oke,wke,OPe,yAe,TDe,Ll,C7,sIe,o7,wAe,bDe,WRe,kPe,EPe,MIe,aDe,RIe,CIe,YOe,XIe,EIe,FIe,xDe,vPe,ePe,Bt,lC,HIe,$Oe,dFe,vIe,MPe,NPe,zOe,GIe,zIe,$Ie,gFe,cDe,JIe,hPe,OFe,RDe,FFe,kFe,KY,NFe,BFe,YFe,XFe,UFe,uke,hke,EY,fke,gke,Cke,WY,xke,Oke,mPe],s=this.extractModuleEntity(r,function(c){return c.beans?c.beans:[]});a.push.apply(a,D7([],E7(s),!1));var l=[];return a.forEach(function(c){l.indexOf(c)<0&&l.push(c)}),l}}else As("Could not find row model for rowModelType = "+t)},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],D7([],E7(t.map(e)),!1))},n}(),Pke=function(){function n(){}return n.prototype.wrap=function(t,e,i,r){var o=this;void 0===i&&(i=[]);var a=this.createWrapper(t,r);return e.forEach(function(s){o.createMethod(a,s,!0)}),i.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},n.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}(),Ike={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},yL=["chartSettings","chartData","chartFormat"],A7=["chartUnlink","chartLink","chartDownload"],qE={settings:"chartSettings",data:"chartData",format:"chartFormat"},hg=typeof global>"u"?{}:global;hg.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,hg.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,hg.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,hg.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,hg.Node=typeof Node>"u"?{}:Node,hg.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var yC=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},_C=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Fke=function(){function n(t,e,i,r,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=i,this.columnModel=r,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return n.prototype.getCopyOfNodesMap=function(){return D.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);var i=this.rootNode,r=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=i.childrenAfterFilter,r.childrenAfterGroup=i.childrenAfterGroup,r.childrenAfterAggFilter=i.childrenAfterAggFilter,r.childrenAfterSort=i.childrenAfterSort,r.childrenMapped=i.childrenMapped,r.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},n.prototype.updateRowData=function(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var i={remove:[],update:[],add:[]},r=[];return this.executeRemove(t,i,r),this.executeUpdate(t,i,r),this.executeAdd(t,i),this.updateSelection(r,"rowDataChanged"),e&&D.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),i},n.prototype.isRowCountReady=function(){return this.rowCountReady},n.prototype.dispatchRowDataUpdateStartedEvent=function(t){this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})},n.prototype.updateSelection=function(t,e){var i=t.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),i&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e})},n.prototype.executeAdd=function(t,e){var r,i=this,o=t.add,a=t.addIndex;if(!D.missingOrEmpty(o)){var s=o.map(function(m){return i.createNode(m,i.rootNode,n.TOP_LEVEL)});if("number"==typeof a&&a>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=a;if(this.gridOptionsService.get("treeData")&&a>0&&c>0)for(var h=0;h<c;h++)if((null===(r=l[h])||void 0===r?void 0:r.rowIndex)==a-1){u=h+1;break}var p=l.slice(0,u),f=l.slice(u,l.length);this.rootNode.allLeafChildren=_C(_C(_C([],yC(p),!1),yC(s),!1),yC(f),!1)}else this.rootNode.allLeafChildren=_C(_C([],yC(this.rootNode.allLeafChildren),!1),yC(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},n.prototype.executeRemove=function(t,e,i){var r=this,o=t.remove;if(!D.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=r.lookupRowNode(s);l&&(l.isSelected()&&i.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete r.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,i){var r=this,o=t.update;D.missingOrEmpty(o)||o.forEach(function(a){var s=r.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&i.push(s),r.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var i,e=this.gridOptionsService.getCallback("getRowId");if(e){var r=e({data:t,level:0});if(!(i=this.allNodesMap[r]))return console.error("AG Grid: could not find row id=".concat(r,", data item was not found for this id")),null}else if(!(i=this.rootNode.allLeafChildren.find(function(o){return o.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null},n.prototype.createNode=function(t,e,i){var r=new st(this.beans);r.group=!1,this.setMasterForRow(r,t,i,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(r.parent=e),r.level=i,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("AG Grid: duplicate node id '".concat(r.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[r.id]=r,this.nextId++,r},n.prototype.setMasterForRow=function(t,e,i,r){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),r&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){var s=this.gridOptionsService.get("isRowMaster");t.setMaster(!s||s(e))}else t.setMaster(!1);if(r){var l=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(i+(l?l.length:0))}}},n.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return-1===e||t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),kke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ro=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Po=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Io=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Xn=(()=>((Xn=Xn||{})[Xn.Normal=0]="Normal",Xn[Xn.AfterFilter=1]="AfterFilter",Xn[Xn.AfterFilterAndSort=2]="AfterFilterAndSort",Xn[Xn.PivotNodes=3]="PivotNodes",Xn))(),Lke=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return kke(t,n),t.prototype.init=function(){var e=this,i=this.refreshModel.bind(this,{step:ft.EVERYTHING}),r=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ft.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ft.PIVOT})),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,x.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new st(this.beans),this.nodeManager=new Fke(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,i=new Set(["treeData","masterDetail"]),r=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),c=new Set([]),u=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Io(Io(Io(Io(Io(Io(Io(Io(Io([],Po(i),!1),Po(r),!1),Po(o),!1),Po(a),!1),Po(a),!1),Po(s),!1),Po(l),!1),Po(c),!1),Po(u),!1);this.addManagedPropertyListeners(d,function(h){var p,f=null===(p=h.changeSet)||void 0===p?void 0:p.properties;if(f){var m=function(g){return f.some(function(v){return g.has(v)})};if(m(i))return void e.setRowData(e.rootNode.allLeafChildren.map(function(g){return g.data}));if(m(r))return void e.refreshModel({step:ft.EVERYTHING});if(m(o))return void e.refreshModel({step:ft.FILTER});if(m(a))return void e.refreshModel({step:ft.PIVOT});if(m(s))return void e.refreshModel({step:ft.AGGREGATE});if(m(l))return void e.refreshModel({step:ft.SORT});if(m(c))return void e.refreshModel({step:ft.FILTER_AGGREGATES});m(u)&&e.refreshModel({step:ft.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,i,r,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(i),u=Math.max(l,r),d=Math.min(c,o),h=u;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),i=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(null!=s.id&&r.add(s.id),null==s.rowHeight){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(i),s.setRowIndex(a),i+=s.rowHeight}return r},t.prototype.clearRowTopAndRowIndex=function(e,i){var r=e.isActive(),o=function(s){s&&null!=s.id&&!i.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup&&(r&&-1!=s.level&&!s.expanded||s.childrenAfterGroup.forEach(a))};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,i,r){var o=this;void 0===r&&(r=0);var a=this.getRowIndexAtPixel(i),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s!==e[0]&&(e.forEach(function(c){D.removeFromArray(o.rootNode.allLeafChildren,c)}),e.forEach(function(c,u){D.insertIntoArray(o.rootNode.allLeafChildren,c,Math.max(a+r,0)+u)}),this.refreshModel({step:ft.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,i){var r=null!=i?this.getRowIndexAtPixel(i):null,o=null!=r?this.getRow(r):null;if(o&&e&&o!==e&&null!=i){var a=this.getHighlightPosition(i,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,i){if(!i){var r=this.getRowIndexAtPixel(e);if(!(i=this.getRow(r||0)))return Do.Below}return e-i.rowTop<i.rowHeight/2?Do.Above:Do.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var i=this.rootNode.childrenAfterAggFilter;return i?i.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var r=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex},t.prototype.getRowBounds=function(e){if(D.missing(this.rowsToDisplay))return null;var i=this.rowsToDisplay[e];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ft.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var i=this.gridOptionsService.isAnimateRows(),r=0===e.columns.length||e.columns.some(function(a){return a.isPrimary()});this.refreshModel({step:r?ft.FILTER:ft.FILTER_AGGREGATES,keepRenderedRows:!0,animate:i})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ft.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ft.PIVOT}):this.refreshModel({step:ft.AGGREGATE})},t.prototype.createChangePath=function(e){var i=D.missingOrEmpty(e),r=new iC(!1,this.rootNode);return(i||this.gridOptionsService.get("treeData"))&&r.setInactive(),r},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;var i=e.rowNodeTransactions.filter(function(o){return null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0});return null==i||0==i.length},t.prototype.buildRefreshModelParams=function(e){var i=ft.EVERYTHING,r={everything:ft.EVERYTHING,group:ft.EVERYTHING,filter:ft.FILTER,map:ft.MAP,aggregate:ft.AGGREGATE,sort:ft.SORT,pivot:ft.PIVOT};if(D.exists(e)&&(i=r[e]),!D.missing(i))return{step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(r).join(", ")))},t.prototype.refreshModel=function(e){if(this.hasStarted&&!this.isRefreshingModel&&!this.columnModel.shouldRowModelIgnoreRefresh()){var i="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(i&&!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var r=this.createChangePath(i.rowNodeTransactions);switch(this.isRefreshingModel=!0,i.step){case ft.EVERYTHING:this.doRowGrouping(i.rowNodeTransactions,i.rowNodeOrder,r,!!i.afterColumnsChanged);case ft.FILTER:this.doFilter(r);case ft.PIVOT:this.doPivot(r);case ft.AGGREGATE:this.doAggregate(r);case ft.FILTER_AGGREGATES:this.doFilterAggregates(r);case ft.SORT:this.doSort(i.rowNodeTransactions,r);case ft.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1,keepUndoRedoStack:i.keepUndoRedoStack})}}},t.prototype.isEmpty=function(){var e=D.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return D.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return D.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,i){var r=!i,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(r&&(l===i||l===e)&&(o=!0,l.group&&s))return void a.push.apply(a,Io([],Po(l.allLeafChildren),!1));if(!r){if(l!==i&&l!==e)return;r=!0}if(!l.group||!s)return void a.push(l)}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var i=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(D.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((i+r)/2),c=this.rowsToDisplay[l];if(this.isRowInPixel(c,e))return l;if(c.rowTop<e?i=l+1:c.rowTop>e&&(r=l-1),a===i&&s===r)return l;a=i,s=r}},t.prototype.isRowInPixel=function(e,i){return e.rowTop<=i&&e.rowTop+e.rowHeight>i},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(i,r){return e(i,r)})},t.prototype.forEachNode=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:Xn.Normal,index:0,includeFooterNodes:i})},t.prototype.forEachNodeAfterFilter=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:Xn.AfterFilter,index:0,includeFooterNodes:i})},t.prototype.forEachNodeAfterFilterAndSort=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:Xn.AfterFilterAndSort,index:0,includeFooterNodes:i})},t.prototype.forEachPivotNode=function(e,i){void 0===i&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Xn.PivotNodes,index:0,includeFooterNodes:i})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var i,r=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,c=0;c<r.length;c++){var u=r[c];if(o(u,l++),u.hasChildren()&&!u.footer){var d=null;switch(a){case Xn.Normal:d=u.childrenAfterGroup;break;case Xn.AfterFilter:d=u.childrenAfterAggFilter;break;case Xn.AfterFilterAndSort:d=u.childrenAfterSort;break;case Xn.PivotNodes:d=u.leafGroup?null:u.childrenAfterSort}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Io([],Po(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var h=null===(i=r[0])||void 0===i?void 0:i.parent;if(!s||!h)return l;if(h===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return l}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:h}))return l;return h.createFooter(),o(h.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var i=this.gridOptionsService.get("treeData"),r=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(c){var u=function(){c.expanded=e,o(c.childrenAfterGroup)};i?D.exists(c.childrenAfterGroup)&&u():r?!c.leafGroup&&u():c.group&&u()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ft.MAP}),this.eventService.dispatchEvent({type:x.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:i})},t.prototype.doRowGrouping=function(e,i,r,o){this.groupStage?(this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:i,changedPath:r}:{rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r)&&this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(st.ID_PREFIX_ROW_GROUP)){var r=void 0;return this.forEachNode(function(o){o.id===e&&(r=o)}),r}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ft.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,i){var r=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){r.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:i})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var i=[],r=[],o=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);r.push(l),s.callback&&i.push(s.callback.bind(null,l)),"number"==typeof s.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(r,void 0,o),i.length>0&&window.setTimeout(function(){i.forEach(function(s){return s()})},0),r.length>0&&this.eventService.dispatchEvent({type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,i){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(e,i);return this.commonUpdateRowData([r],i,"number"==typeof e.addIndex),r},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.get("suppressMaintainUnsortedOrder")){var i={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++)i[this.rootNode.allLeafChildren[r].id]=r;return i}},t.prototype.commonUpdateRowData=function(e,i,r){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");r&&(i=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:x.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ft.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ft.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(i){i.setRowHeight(i.rowHeight,!0);var r=i.detailNode;r&&r.setRowHeight(r.rowHeight,!0),i.sibling&&i.sibling.setRowHeight(i.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.rowCountReady},Ro([C("columnModel")],t.prototype,"columnModel",void 0),Ro([C("selectionService")],t.prototype,"selectionService",void 0),Ro([C("filterManager")],t.prototype,"filterManager",void 0),Ro([C("valueCache")],t.prototype,"valueCache",void 0),Ro([C("beans")],t.prototype,"beans",void 0),Ro([C("filterStage")],t.prototype,"filterStage",void 0),Ro([C("sortStage")],t.prototype,"sortStage",void 0),Ro([C("flattenStage")],t.prototype,"flattenStage",void 0),Ro([gt("groupStage")],t.prototype,"groupStage",void 0),Ro([gt("aggregationStage")],t.prototype,"aggregationStage",void 0),Ro([gt("pivotStage")],t.prototype,"pivotStage",void 0),Ro([gt("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Ro([H],t.prototype,"init",null),Ro([oe("rowModel")],t)}(z),Nke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),O7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Vke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Nke(t,n),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},O7([C("filterService")],t.prototype,"filterService",void 0),O7([oe("filterStage")],t)}(z),Gke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_L=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Bke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Gke(t,n),t.prototype.execute=function(e){var i=this,r=this.sortController.getSortOptions(),o=D.exists(r)&&r.length>0,a=o&&D.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=r.some(function(l){return i.gridOptionsService.isColumnsSortingCoupledToGroup()?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(r,o,a,e.rowNodeTransactions,e.changedPath,s)},_L([C("sortService")],t.prototype,"sortService",void 0),_L([C("sortController")],t.prototype,"sortController",void 0),_L([oe("sortStage")],t)}(z),Hke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Hke(t,n),t.prototype.execute=function(e){var i=e.rowNode,r=[],o=this.columnModel.isPivotMode(),a=o&&i.leafGroup,s=a?[i]:i.childrenAfterSort,l=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(l,s,r,o,0),!a&&r.length>0&&l.groupIncludeTotalFooter&&(i.createFooter(),this.addRowNodeToRowsToDisplay(l,i.sibling,r,0)),r},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,i,r,o,a){if(!D.missingOrEmpty(i))for(var s=0;s<i.length;s++){var l=i[s],c=l.hasChildren(),d=e.groupRemoveSingleChildren&&c&&1===l.childrenAfterGroup.length,h=e.groupRemoveLowestSingleChildren&&c&&l.leafGroup&&1===l.childrenAfterGroup.length;if(!(o&&!c||e.hideOpenParents&&l.expanded&&!l.master&&(!o||!l.leafGroup)||d||h)&&this.addRowNodeToRowsToDisplay(e,l,r,a),!o||!l.leafGroup)if(c){var g=d||h;if(l.expanded||g){var v=g?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,r,o,v),e.getGroupIncludeFooter({node:l})?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,r,v)):l.destroyFooter()}}else if(l.master&&l.expanded){var _=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,_,r,a)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,i,r,o){r.push(i),i.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var i=new st(this.beans);return i.detail=!0,i.selectable=!1,i.parent=e,D.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1,e.detailNode=i,i},CL([C("columnModel")],t.prototype,"columnModel",void 0),CL([C("beans")],t.prototype,"beans",void 0),CL([oe("flattenStage")],t)}(z),Uke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Uke(t,n),t.prototype.sort=function(e,i,r,o,a,s){var l=this,c=this.gridOptionsService.get("groupMaintainOrder"),u=this.columnModel.getAllGridColumns().some(function(m){return m.isRowGroupActive()}),d={};r&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),p=this.gridOptionsService.getCallback("postSortRows");a&&a.forEachChangedNodeDepthFirst(function(m){var g;l.pullDownGroupDataForHideOpenParents(m.childrenAfterAggFilter,!0);var v=h&&m.leafGroup;if(c&&u&&!m.leafGroup&&!s){var _=null===(g=l.columnModel.getRowGroupColumns())||void 0===g?void 0:g[m.level+1],b=null===_?.getSort(),w=m.childrenAfterAggFilter.slice(0);if(m.childrenAfterSort&&!b){var E={};m.childrenAfterSort.forEach(function(P,I){E[P.id]=I}),w.sort(function(P,I){var k,L;return(null!==(k=E[P.id])&&void 0!==k?k:0)-(null!==(L=E[I.id])&&void 0!==L?L:0)})}m.childrenAfterSort=w}else m.childrenAfterSort=!i||v?m.childrenAfterAggFilter.slice(0):r?l.doDeltaSort(m,d,a,e):l.rowNodeSorter.doFullSort(m.childrenAfterAggFilter,e);m.sibling&&(m.sibling.childrenAfterSort=m.childrenAfterSort),l.updateChildIndexes(m),p&&p({nodes:m.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var i={},r=function(o){o&&o.forEach(function(a){return i[a.id]=!0})};return e&&e.forEach(function(o){r(o.add),r(o.update),r(o.remove)}),i},t.prototype.doDeltaSort=function(e,i,r,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var c={},u=[];s.forEach(function(f){i[f.id]||!r.canSkip(f)?u.push(f):c[f.id]=!0});var d=l.filter(function(f){return c[f.id]}),h=function(f,m){return{currentPos:m,rowNode:f}},p=u.map(h).sort(function(f,m){return a.rowNodeSorter.compareRowNodes(o,f,m)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(f){return f.rowNode})},t.prototype.mergeSortedArrays=function(e,i,r){for(var o=[],a=0,s=0;a<i.length&&s<r.length;){var l=this.rowNodeSorter.compareRowNodes(e,i[a],r[s]);o.push(l<0?i[a++]:r[s++])}for(;a<i.length;)o.push(i[a++]);for(;s<r.length;)o.push(r[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!D.missing(e.childrenAfterSort))for(var i=e.childrenAfterSort,r=0;r<i.length;r++){var o=i[r],s=r===e.childrenAfterSort.length-1;o.setFirstChild(0===r),o.setLastChild(s),o.setChildIndex(r)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var i=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return D.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var r=function(o){i.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&r(a)})};e&&e.executeFromRootNode(function(o){return r(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,i){var r=this;!this.gridOptionsService.get("groupHideOpenParents")||D.missing(e)||e.forEach(function(o){r.columnModel.getGroupDisplayColumns().forEach(function(s){var l=s.getColDef().showRowGroup;if("string"==typeof l){var u=r.columnModel.getPrimaryColumn(l);if(u!==o.rowGroupColumn)if(i)o.setGroupValue(s.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(u);h&&o.setGroupValue(s.getId(),h.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},bL([C("columnModel")],t.prototype,"columnModel",void 0),bL([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),bL([oe("sortService")],t)}(z),Wke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),R7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$ke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Wke(t,n),t.prototype.filter=function(e){var i=this.filterManager.isChildFilterPresent();this.filterNodes(i,e)},t.prototype.filterNodes=function(e,i){var r=this,o=function(c,u){c.childrenAfterFilter=c.hasChildren()&&e&&!u?c.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&r.filterManager.doesRowPassFilter({rowNode:d});return h||p}):c.childrenAfterGroup,c.sibling&&(c.sibling.childrenAfterFilter=c.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(c,u){if(c.childrenAfterGroup)for(var d=0;d<c.childrenAfterGroup.length;d++){var h=c.childrenAfterGroup[d],p=u||r.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?a(c.childrenAfterGroup[d],p):o(h,p)}o(c,u)};i.executeFromRootNode(function(c){return a(c,!1)})}else i.forEachChangedNodeDepthFirst(function(c){return o(c,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},R7([C("filterManager")],t.prototype,"filterManager",void 0),R7([oe("filterService")],t)}(z),Kke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qke=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Kke(t,n),t.prototype.postConstruct=function(){var e=this;"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&e},t.prototype.setRowData=function(e){var i=this.createTransactionForRowData(e);if(i){var r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i,2);this.clientSideRowModel.updateRowData(r[0],r[1])}},t.prototype.createTransactionForRowData=function(e){if(D.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var i=this.gridOptionsService.getCallback("getRowId");if(null!=i){var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return D.exists(e)&&e.forEach(function(l,c){var u=i({data:l,level:0}),d=o[u];s&&(s[u]=c),d?(d.data!==l&&r.update.push(l),o[u]=void 0):r.add.push(l)}),D.iterateObject(o,function(l,c){c&&r.remove.push(c.data)}),[r,s]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},CC([C("rowModel")],t.prototype,"rowModel",void 0),CC([C("rowRenderer")],t.prototype,"rowRenderer",void 0),CC([C("selectionService")],t.prototype,"selectionService",void 0),CC([H],t.prototype,"postConstruct",null),CC([oe("immutableService")],t)}(z),P7={version:"31.1.1",moduleName:ie.ClientSideRowModelModule,rowModel:"clientSide",beans:[Lke,Vke,Bke,jke,zke,$ke,qke]},Zke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},I7=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.parentCache=i,o.params=r,o.startRow=e*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return Zke(t,n),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,i,r){D.exists(i)?e.setDataAndId(i,r.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,i=this.createLoadParams();D.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(i)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context}},t.prototype.forEachNode=function(e,i,r){var o=this;this.rowNodes.forEach(function(a,s){o.startRow+s<r&&e(a,i.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,i){return void 0===i&&(i=!1),i||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var i=this.startRow+e,r=new st(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(i),r.setRowTop(this.params.rowHeight*i),this.rowNodes.push(r)}},t.prototype.processServerResult=function(e){var i=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(i.rowNodes[a]=new st(i.beans),i.rowNodes[a].setRowIndex(o.rowIndex),i.rowNodes[a].setRowTop(o.rowTop),i.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),i.setDataAndId(i.rowNodes[a],s,i.startRow+a)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},wL([C("beans")],t.prototype,"beans",void 0),wL([H],t.prototype,"postConstruct",null),wL([Mi],t.prototype,"destroyRowNodes",null),t}(su),Qke=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XE=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Jke=function(n,t){return function(e,i){t(e,i,n)}},eLe=function(n){function t(e){var i=n.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=e.initialRowCount,i.params=e,i}return Qke(t,n),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,i){void 0===i&&(i=!1);var r=Math.floor(e/this.params.blockSize),o=this.blocks[r];if(!o){if(i)return;o=this.createBlock(r)}return o.getRow(e)},t.prototype.createBlock=function(e){var i=this.createBean(new I7(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(i){return i.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.destroyBlock(i)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,i){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(i)),this.checkRowCount(e,i),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var i=this,r=this.getBlocksInOrder().filter(function(c){return c!=e});r.sort(function(c,u){return u.getLastAccessed()-c.getLastAccessed()});var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(c,u){if(c.getState()===I7.STATE_WAITING_TO_LOAD&&u>=l||a&&u>=s){if(i.isBlockCurrentlyDisplayed(c)||i.isBlockFocused(c))return;i.removeBlockFromCache(c)}})},t.prototype.isBlockFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;var r=e.getStartRow(),o=e.getEndRow();return i.rowIndex>=r&&i.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var i=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,r)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,i){this.rowCount=e,D.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var i=this,r=new Nr;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,r,i.rowCount)})},t.prototype.getBlocksInOrder=function(){return D.getAllValuesInObject(this.blocks).sort(function(r,o){return r.getId()-o.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,i=[];this.getBlocksInOrder().forEach(function(r){r.getId()*e.params.blockSize>=e.rowCount&&i.push(r)}),i.length>0&&i.forEach(function(r){return e.destroyBlock(r)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.removeBlockFromCache(i)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,i){var r=this,o=[],a=-1,s=!1,l=new Nr;D.missing(e)&&(s=!0);var c=!1;return this.getBlocksInOrder().forEach(function(d){if(!c){if(s&&a+1!==d.getId())return void(c=!0);a=d.getId(),d.forEachNode(function(h){var p=h===e||h===i;(s||p)&&o.push(h),p&&(s=!s)},l,r.rowCount)}}),c||s?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,XE([C("rowRenderer")],t.prototype,"rowRenderer",void 0),XE([C("focusService")],t.prototype,"focusService",void 0),XE([Jke(0,Ua("loggerFactory"))],t.prototype,"setBeans",null),XE([Mi],t.prototype,"destroyAllBlocks",null),t}(z),tLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rd=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},iLe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return tLe(t,n),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,i,r,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!D.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,i):[]},t.prototype.reset=function(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())},t.prototype.createModelUpdatedEvent=function(){return{type:x.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Nr},this.infiniteCache=this.createBean(new eLe(this.cacheParams)),this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(r){r.setRowHeight(e.rowHeight),r.setRowTop(e.rowHeight*r.rowIndex)});var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(r){r.id===e&&(i=r)}),i},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var i=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return i>r?r:i}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,i){this.infiniteCache&&this.infiniteCache.setRowCount(e,i)},Rd([C("filterManager")],t.prototype,"filterManager",void 0),Rd([C("sortController")],t.prototype,"sortController",void 0),Rd([C("selectionService")],t.prototype,"selectionService",void 0),Rd([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Rd([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Rd([H],t.prototype,"init",null),Rd([Mi],t.prototype,"destroyDatasource",null),Rd([oe("rowModel")],t)}(z),F7={version:"31.1.1",moduleName:ie.InfiniteRowModelModule,rowModel:"infinite",beans:[iLe]},k7=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?"".concat(t,".").concat(e):t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},n}(),L7=function(){function n(t){this.groupColumns=[];var i=t.valueService,r=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,c=t.processGroupHeaderCallback,u=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=i,this.gridOptionsService=r,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=u}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},n.prototype.extractRowCellValue=function(t,e,i,r,o){var s=this.gridOptionsService.get("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,t,e)?this.valueService.getValue(t,o):this.createValueForGroupNode(t,o);return this.processCell({accumulatedRowIndex:i,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:r})},n.prototype.shouldRenderGroupSummaryCell=function(t,e,i){var r;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(r=t.groupData)||void 0===r?void 0:r[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var s=e.getColDef();return null==s||!0===s.showRowGroup||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var c=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&c},n.prototype.getHeaderName=function(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t,e){var i=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));var r=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(u){var d,h;if(r||o)return u.key;var p=null===(d=u.groupData)||void 0===d?void 0:d[t.getId()];return p&&u.rowGroupColumn&&!1!==u.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(h=i.valueFormatterService.formatValue(u.rowGroupColumn,u,p))&&void 0!==h?h:p},s=e.footer,l=[a(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)l.push(a(e=e.parent));var c=l.reverse().join(" -> ");return s?"Total ".concat(c):c},n.prototype.processCell=function(t){var i,e=this,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback;return l?{value:null!==(i=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:t.accumulatedRowIndex,column:a,node:o,value:s,type:t.type,parseValue:function(u){return e.valueParserService.parseValue(a,o,u,e.valueService.getValue(a,o))},formatValue:function(u){var d;return null!==(d=e.valueFormatterService.formatValue(a,o,u))&&void 0!==d?d:u}})))&&void 0!==i?i:""}:!1!==a.getColDef().useValueFormatterForExport?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},n}(),SL=function(){function n(){}return n.download=function(t,e){var i=document.defaultView||window;if(i){var r=document.createElement("a"),o=i.URL.createObjectURL(e);r.setAttribute("href",o),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(r),i.setTimeout(function(){i.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},n}(),rLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oLe=function(n){function t(e){var i=n.call(this,e)||this;i.isFirstLine=!0,i.result="";var o=e.columnSeparator;return i.suppressQuotes=e.suppressQuotes,i.columnSeparator=o,i}return rLe(t,n),t.prototype.addCustomContent=function(e){var i=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(r){i.beginNewLine(),r.forEach(function(o,a){0!==a&&(i.result+=i.columnSeparator),i.result+=i.putInQuotes(o.data.value||""),o.mergeAcross&&i.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,i,r,o){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,i){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,i,r){var o;0!=i&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,i,i,"csv",r);this.result+=this.putInQuotes(null!==(o=a.valueFormatted)&&void 0!==o?o:a.value)},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?i=e:"function"==typeof e.toString?i=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"');var i},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(L7),aLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pd=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},V7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return aLe(t,n),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var i=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},i,e)},t.prototype.export=function(e){if(this.isExportSuppressed())console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");else{var i=this.getMergedParams(e),r=this.getData(i),o=new Blob(["\ufeff",r],{type:"text/plain"}),a="function"==typeof i.fileName?i.fileName(this.gridOptionsService.getGridCommonParams()):i.fileName;SL.download(this.getFileName(a),o)}},t.prototype.exportDataAsCsv=function(e){this.export(e)},t.prototype.getDataAsCsv=function(e,i){void 0===i&&(i=!1);var r=i?Object.assign({},e):this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var i=this;return new oLe({columnModel:i.columnModel,valueService:i.valueService,gridOptionsService:i.gridOptionsService,valueFormatterService:i.valueFormatterService,valueParserService:i.valueParserService,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Pd([C("columnModel")],t.prototype,"columnModel",void 0),Pd([C("valueService")],t.prototype,"valueService",void 0),Pd([C("gridSerializer")],t.prototype,"gridSerializer",void 0),Pd([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Pd([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Pd([C("valueParserService")],t.prototype,"valueParserService",void 0),Pd([H],t.prototype,"postConstruct",null),Pd([oe("csvCreator")],t)}(k7),sLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Id=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Fo=(()=>((Fo=Fo||{})[Fo.HEADER_GROUPING=0]="HEADER_GROUPING",Fo[Fo.HEADER=1]="HEADER",Fo[Fo.BODY=2]="BODY",Fo))(),G7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return sLe(t,n),t.prototype.serialize=function(e,i){void 0===i&&(i={});var s=this.getColumnsToExport(i.allColumns,i.skipRowGroups,i.columnKeys);return D.compose(this.prepareSession(s),this.prependContent(i),this.exportColumnGroups(i,s),this.exportHeaders(i,s),this.processPinnedTopRows(i,s),this.processRows(i,s),this.processPinnedBottomRows(i,s),this.appendContent(i))(e).parse()},t.prototype.processRow=function(e,i,r,o){var a=i.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=null!=i.rowPositions||!!i.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!u,h=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer;if(!(!h&&!p&&(i.skipRowGroups||1===o.allChildrenCount&&(s||l&&o.leafGroup)||d)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&"top"===o.rowPinned||i.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||h||p)&&!a(this.gridOptionsService.addGridCommonParams({node:o}))){var y=e.onNewBodyRow(o);if(r.forEach(function(b,w){y.onColumn(b,w,o)}),i.getCustomContentBelowRow){var _=i.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));_&&e.addCustomContent(_)}}},t.prototype.appendContent=function(e){return function(i){var r=e.appendContent;return r&&i.addCustomContent(r),i}},t.prototype.prependContent=function(e){return function(i){var r=e.prependContent;return r&&i.addCustomContent(r),i}},t.prototype.prepareSession=function(e){return function(i){return i.prepare(e),i}},t.prototype.exportColumnGroups=function(e,i){var r=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new iK,s=r.displayedGroupCreator.createDisplayedGroups(i,a,null);r.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,i){return function(r){if(!e.skipColumnHeaders){var o=r.onNewHeaderRow();i.forEach(function(a,s){o.onColumn(a,s,void 0)})}return r}},t.prototype.processPinnedTopRows=function(e,i){var r=this;return function(o){var a=r.processRow.bind(r,o,e,i);return e.rowPositions?e.rowPositions.filter(function(s){return"top"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return r.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):r.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,i){var r=this;return function(o){var a=r.rowModel,s=a.getType(),l="clientSide"===s,c="serverSide"===s,u=!l&&e.onlySelected,d=r.processRow.bind(r,o,e,i),h=e.exportedRows,p=void 0===h?"filteredAndSorted":h;if(e.rowPositions)e.rowPositions.filter(function(m){return null==m.rowPinned}).sort(function(m,g){return m.rowIndex-g.rowIndex}).map(function(m){return a.getRow(m.rowIndex)}).forEach(d);else if(r.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||u){var f=r.selectionService.getSelectedNodes();r.replicateSortedOrder(f),f.forEach(d)}else"all"===p?a.forEachNode(d):l||c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var i=this,r=this.sortController.getSortOptions(),o=function(a,s){var l,c,u,d;return null!=a.rowIndex&&null!=s.rowIndex?a.rowIndex-s.rowIndex:a.level===s.level?(null===(l=a.parent)||void 0===l?void 0:l.id)===(null===(c=s.parent)||void 0===c?void 0:c.id)?i.rowNodeSorter.compareRowNodes(r,{rowNode:a,currentPos:null!==(u=a.rowIndex)&&void 0!==u?u:-1},{rowNode:s,currentPos:null!==(d=s.rowIndex)&&void 0!==d?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,i){var r=this;return function(o){var a=r.processRow.bind(r,o,e,i);return e.rowPositions?e.rowPositions.filter(function(s){return"bottom"===s.rowPinned}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return r.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):r.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,i,r){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);var a=this.gridOptionsService.get("treeData"),s=[];return s=e&&!o?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),i&&!a&&(s=s.filter(function(l){return l.getColId()!==pd})),s},t.prototype.recursivelyAddHeaderGroups=function(e,i,r){var o=[];e.forEach(function(a){a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Tn&&this.doAddHeaderHeader(i,e,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,r)},t.prototype.doAddHeaderHeader=function(e,i,r){var o=this,a=e.onNewHeaderGroupingRow(),s=0;i.forEach(function(l){var u,c=l;u=r?r(o.gridOptionsService.addGridCommonParams({columnGroup:c})):o.columnModel.getDisplayNameForColumnGroup(c,"header");var d=c.getLeafColumns().reduce(function(h,p,f,m){var g=D.last(h);return"open"===p.getColumnGroupShow()?(!g||null!=g[1])&&h.push(g=[f]):g&&null==g[1]&&(g[1]=f-1),f===m.length-1&&g&&null==g[1]&&(g[1]=f),h},[]);a.onColumn(c,u||"",s++,c.getLeafColumns().length-1,d)})},Id([C("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Id([C("columnModel")],t.prototype,"columnModel",void 0),Id([C("rowModel")],t.prototype,"rowModel",void 0),Id([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Id([C("selectionService")],t.prototype,"selectionService",void 0),Id([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Id([C("sortController")],t.prototype,"sortController",void 0),Id([oe("gridSerializer")],t)}(z),ZE={version:"31.1.1",moduleName:ie.CsvExportModule,beans:[V7,G7]},B7=function(){function n(){}return n.createHeader=function(t){void 0===t&&(t={});var r=["version"];t.version||(t.version="1.0"),t.encoding&&r.push("encoding"),t.standalone&&r.push("standalone");var o=r.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat("<?","xml ").concat(o," ").concat("?>")},n.createXml=function(t,e){var i=this,r="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){r+=i.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){r+=i.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+r;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach(function(a){o+=i.createXml(a,e)}),o+"</"+t.name+">\r\n"):o+"/>\r\n"},n.returnAttributeIfPopulated=function(t,e,i){if(!e&&""!==e&&0!==e)return"";var r=e;return"boolean"==typeof e&&i&&(r=i(e))," ".concat(t,'="').concat(r,'"')},n}();function Vr(n,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&n),n>>>=8;return e}var j7=function(n){return n.length?function(n){if(!n.length)return 0;for(var t=-1,o=0;o<n.length;o++)t=t>>>8^dLe[255&(t^n[o])];return-1^t}("string"==typeof n?(new TextEncoder).encode(n):n):0},dLe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),U7=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})},z7=function(n,t){var i,r,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},hLe=function(n){return U7(void 0,void 0,void 0,function(){var t,e,i,r,o;return z7(this,function(a){switch(a.label){case 0:return t=0,e=[],i=new WritableStream({write:function(s){e.push(s),t+=s.length}}),r=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(c){var u;!(null===(u=c.target)||void 0===u)&&u.result&&s.enqueue(c.target.result),s.close()},l.readAsArrayBuffer(n)}}),o=new window.CompressionStream("deflate-raw"),[4,r.pipeThrough(o).pipeTo(i)];case 1:return a.sent(),[2,{size:t,content:new Blob(e)}]}})})},pLe=function(n){return U7(void 0,void 0,void 0,function(){var t,e,i,o,a;return z7(this,function(s){switch(s.label){case 0:return t=new Blob([n]),[4,hLe(t)];case 1:return e=s.sent(),i=e.size,a=Uint8Array.bind,[4,e.content.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:i,content:o}]}})})},pg=function(){return pg=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},pg.apply(this,arguments)},gLe=D.utf8_encode,vLe=function(n,t){return function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})}(void 0,void 0,void 0,function(){var e,i,r,o,a,s,l,u,d;return function(n,t){var i,r,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(h){switch(h.label){case 0:return i=(e=n.content)?$7(e):{size:0,content:Uint8Array.from([])},r=i.size,o=i.content,a=void 0,s=void 0,l=!1,"file"===n.type&&o&&r>0?[4,pLe(o)]:[3,2];case 1:u=h.sent(),a=u.content,s=u.size,l=!0,h.label=2;case 2:return d=W7(n,l,t,r,o,s),[2,pg(pg({},d),{content:a||o,isCompressed:l})]}})})},yLe=function(n,t){var e=n.content,i=(e?$7(e):{content:Uint8Array.from([])}).content,r=W7(n,!1,t,i.length,i,void 0);return pg(pg({},r),{content:i,isCompressed:!1})},W7=function(n,t,e,i,r,o){var a=n.content,s=n.path,l=n.created,c=function(n){var t=n.getHours();return t<<=6,t|=n.getMinutes(),(t<<=5)|n.getSeconds()/2}(l),u=function(n){var t=n.getFullYear()-1980;return t<<=4,t|=n.getMonth()+1,(t<<=5)|n.getDate()}(l),d=j7(r),h=void 0!==o?o:i,p=gLe(s),f=p!==s,m="";if(f){var g=Vr(1,1)+Vr(j7(p),4)+p;m="up"+Vr(g.length,2)+g}var v="\x14\0"+(f?"\0\b":"\0\0")+Vr(t?8:0,2)+Vr(c,2)+Vr(u,2)+Vr(h?d:0,4)+Vr(o??i,4)+Vr(i,4)+Vr(p.length,2)+Vr(m.length,2),y="PK\x03\x04"+v+p+m,_="PK\x01\x02\x14\0"+v+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\x10\0\0\0")+Vr(e,4)+p+m;return{localFileHeader:Uint8Array.from(y,function(b){return b.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(_,function(b){return b.charCodeAt(0)})}},$7=function(n){var t;return{size:(t="string"==typeof n?function(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t}(atob(n.split(";base64,")[1])):n).length,content:t}},K7=function(n,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}function l(u){try{c(i.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})},Y7=function(n,t){var i,r,o,a,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(6===c[0]&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},xL=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},JE=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},eD=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Sr=function(){function n(){}return n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})},n.addFile=function(t,e,i){void 0===i&&(i=!1),this.files.push({path:t,created:new Date,content:i?e:(new TextEncoder).encode(e),isBase64:i,type:"file"})},n.getZipFile=function(t){return void 0===t&&(t="application/zip"),K7(this,void 0,void 0,function(){var e;return Y7(this,function(i){switch(i.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return e=i.sent(),this.clearStream(),[2,new Blob([e],{type:t})]}})})},n.getUncompressedZipFile=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.packageFiles=function(t){var e,i,r=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=xL(t),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.localFileHeader,h=u.centralDirectoryHeader,p=u.content,f=new Uint8Array(r.length+d.length);f.set(r),f.set(d,r.length),r=f;var m=new Uint8Array(r.length+p.length);m.set(r),m.set(p,r.length),r=m;var g=new Uint8Array(o.length+h.length);g.set(o),g.set(h,o.length),o=g,a+=d.length+p.length,s+=h.length}}catch(_){e={error:_}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}var v=function(n,t,e){var i="PK\x05\x06\0\0\0\0"+Vr(n,2)+Vr(n,2)+Vr(t,4)+Vr(e,4)+"\0\0";return Uint8Array.from(i,function(r){return r.charCodeAt(0)})}(t.length,s,a),y=new Uint8Array(r.length+o.length+v.length);return y.set(r),y.set(o,r.length),y.set(v,r.length+o.length),y},n.buildCompressedFileStream=function(){return K7(this,void 0,void 0,function(){var t,e,i,r,o,s,l,c,u,d,h;return Y7(this,function(p){switch(p.label){case 0:t=eD(eD([],JE(this.folders),!1),JE(this.files),!1),e=[],i=0,p.label=1;case 1:p.trys.push([1,6,7,8]),r=xL(t),o=r.next(),p.label=2;case 2:return o.done?[3,5]:[4,vLe(o.value,i)];case 3:s=p.sent(),l=s.localFileHeader,c=s.content,e.push(s),i+=l.length+c.length,p.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return u=p.sent(),d={error:u},[3,8];case 7:try{o&&!o.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(e)]}})})},n.buildFileStream=function(){var t,e,i=eD(eD([],JE(this.folders),!1),JE(this.files),!1),r=[],o=0;try{for(var a=xL(i),s=a.next();!s.done;s=a.next()){var c=yLe(s.value,o),u=c.localFileHeader,d=c.content;r.push(c),o+=u.length+d.length}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.packageFiles(r)},n.folders=[],n.files=[],n}();Ze.registerModules([P7,F7,ZE]);var wLe=function(){function n(){this.ieCompatibility=!1}return n.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},n.prototype.md5cycle=function(t,e){var i=t[0],r=t[1],o=t[2],a=t[3];i=this.ff(i,r,o,a,e[0],7,-680876936),a=this.ff(a,i,r,o,e[1],12,-389564586),o=this.ff(o,a,i,r,e[2],17,606105819),r=this.ff(r,o,a,i,e[3],22,-1044525330),i=this.ff(i,r,o,a,e[4],7,-176418897),a=this.ff(a,i,r,o,e[5],12,1200080426),o=this.ff(o,a,i,r,e[6],17,-1473231341),r=this.ff(r,o,a,i,e[7],22,-45705983),i=this.ff(i,r,o,a,e[8],7,1770035416),a=this.ff(a,i,r,o,e[9],12,-1958414417),o=this.ff(o,a,i,r,e[10],17,-42063),r=this.ff(r,o,a,i,e[11],22,-1990404162),i=this.ff(i,r,o,a,e[12],7,1804603682),a=this.ff(a,i,r,o,e[13],12,-40341101),o=this.ff(o,a,i,r,e[14],17,-1502002290),r=this.ff(r,o,a,i,e[15],22,1236535329),i=this.gg(i,r,o,a,e[1],5,-165796510),a=this.gg(a,i,r,o,e[6],9,-1069501632),o=this.gg(o,a,i,r,e[11],14,643717713),r=this.gg(r,o,a,i,e[0],20,-373897302),i=this.gg(i,r,o,a,e[5],5,-701558691),a=this.gg(a,i,r,o,e[10],9,38016083),o=this.gg(o,a,i,r,e[15],14,-660478335),r=this.gg(r,o,a,i,e[4],20,-405537848),i=this.gg(i,r,o,a,e[9],5,568446438),a=this.gg(a,i,r,o,e[14],9,-1019803690),o=this.gg(o,a,i,r,e[3],14,-187363961),r=this.gg(r,o,a,i,e[8],20,1163531501),i=this.gg(i,r,o,a,e[13],5,-1444681467),a=this.gg(a,i,r,o,e[2],9,-51403784),o=this.gg(o,a,i,r,e[7],14,1735328473),r=this.gg(r,o,a,i,e[12],20,-1926607734),i=this.hh(i,r,o,a,e[5],4,-378558),a=this.hh(a,i,r,o,e[8],11,-2022574463),o=this.hh(o,a,i,r,e[11],16,1839030562),r=this.hh(r,o,a,i,e[14],23,-35309556),i=this.hh(i,r,o,a,e[1],4,-1530992060),a=this.hh(a,i,r,o,e[4],11,1272893353),o=this.hh(o,a,i,r,e[7],16,-155497632),r=this.hh(r,o,a,i,e[10],23,-1094730640),i=this.hh(i,r,o,a,e[13],4,681279174),a=this.hh(a,i,r,o,e[0],11,-358537222),o=this.hh(o,a,i,r,e[3],16,-722521979),r=this.hh(r,o,a,i,e[6],23,76029189),i=this.hh(i,r,o,a,e[9],4,-640364487),a=this.hh(a,i,r,o,e[12],11,-421815835),o=this.hh(o,a,i,r,e[15],16,530742520),r=this.hh(r,o,a,i,e[2],23,-995338651),i=this.ii(i,r,o,a,e[0],6,-198630844),a=this.ii(a,i,r,o,e[7],10,1126891415),o=this.ii(o,a,i,r,e[14],15,-1416354905),r=this.ii(r,o,a,i,e[5],21,-57434055),i=this.ii(i,r,o,a,e[12],6,1700485571),a=this.ii(a,i,r,o,e[3],10,-1894986606),o=this.ii(o,a,i,r,e[10],15,-1051523),r=this.ii(r,o,a,i,e[1],21,-2054922799),i=this.ii(i,r,o,a,e[8],6,1873313359),a=this.ii(a,i,r,o,e[15],10,-30611744),o=this.ii(o,a,i,r,e[6],15,-1560198380),r=this.ii(r,o,a,i,e[13],21,1309151649),i=this.ii(i,r,o,a,e[4],6,-145523070),a=this.ii(a,i,r,o,e[11],10,-1120210379),o=this.ii(o,a,i,r,e[2],15,718787259),r=this.ii(r,o,a,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(r,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(a,t[3])},n.prototype.cmn=function(t,e,i,r,o,a){return e=this.add32(this.add32(e,t),this.add32(r,a)),this.add32(e<<o|e>>>32-o,i)},n.prototype.ff=function(t,e,i,r,o,a,s){return this.cmn(e&i|~e&r,t,e,o,a,s)},n.prototype.gg=function(t,e,i,r,o,a,s){return this.cmn(e&r|i&~r,t,e,o,a,s)},n.prototype.hh=function(t,e,i,r,o,a,s){return this.cmn(e^i^r,t,e,o,a,s)},n.prototype.ii=function(t,e,i,r,o,a,s){return this.cmn(i^(e|~r),t,e,o,a,s)},n.prototype.md51=function(t){var r,e=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)this.md5cycle(i,this.md5blk(t.substring(r-64,r)));t=t.substring(r-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)o[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(this.md5cycle(i,o),r=0;r<16;r++)o[r]=0;return o[14]=8*e,this.md5cycle(i,o),i},n.prototype.md5blk=function(t){for(var e=[],i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e},n.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),i="",r=0;r<4;r++)i+=e[t>>8*r+4&15]+e[t>>8*r&15];return i},n.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},n.prototype.md5=function(t){return this.hex(this.md51(t))},n.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},n.prototype.add32Std=function(t,e){return t+e&4294967295},n.prototype.add32Compat=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},n}();function EL(n){return null==n||0===n.length}var tD={"01":"GRID","02":"CHARTS","0102":"BOTH"},iD=function(){function n(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new wLe,this.md5.init()}return n.prototype.validateLicense=function(){var t=this.getLicenseDetails(n.licenseKey),e="AG Grid ".concat("BOTH"===t.currentLicenseType?"and AG Charts ":"","Enterprise"),i=void 0===t.suppliedLicenseType?"":"AG ".concat("BOTH"===t.suppliedLicenseType?"Grid and AG Charts":"GRID"===t.suppliedLicenseType?"Grid":"Charts"," Enterprise");if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(e);else if(t.expired){var r=n.getGridReleaseDate(),o=n.formatDate(r);this.outputExpiredKey(t.expiry,o,e,i)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,e,i):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,e,i)},n.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},n.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};var i=e.length-32,r=e.substring(i),o=e.substring(0,i),a=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(n.extractBracketedInformation(e),3);return{md5:r,license:o,version:a[0],isTrial:a[1],type:a[2]}},n.prototype.getLicenseDetails=function(t){var e=n.chartsLicenseManager?"BOTH":"GRID";if(EL(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:e};var i=n.getGridReleaseDate(),r=n.extractLicenseComponents(t),a=r.license,s=r.version,l=r.isTrial,c=r.type,u=r.md5===this.md5.md5(a)&&-1===t.indexOf("For_Trialing_ag-Grid_Only"),d=void 0,h=void 0,p=null,f=!1,m=void 0;function g(){d=p<new Date,h=void 0}if(u&&(p=n.extractExpiry(a),u=!isNaN(p.getTime())))switch(h=i>p,s){case"legacy":case"2":l&&g();break;case"3":EL(c)?u=!1:(m=c,c!==tD["01"]&&c!==tD["0102"]||"BOTH"===e&&"BOTH"!==m?(u=!1,f=!0):l&&g())}return u?{licenseKey:t,valid:u,expiry:n.formatDate(p),expired:h,version:s,isTrial:l,trialExpired:d,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:m}:{licenseKey:t,valid:u,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:m}},n.prototype.isDisplayWatermark=function(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!EL(this.watermarkMessage)},n.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},n.prototype.getHostname=function(){var i=(this.document.defaultView||window).location.hostname;return void 0===i?"":i},n.prototype.isForceWatermark=function(){var i=(this.document.defaultView||window).location.pathname;return!!i&&-1!==i.indexOf("forceWatermark")},n.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},n.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},n.formatDate=function(t){var i=t.getDate(),r=t.getMonth(),o=t.getFullYear();return i+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][r]+" "+o},n.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},n.decode=function(t){for(var o,a,s,l,c,u,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",d=0,h=t.replace(/[^A-Za-z0-9+/=]/g,"");d<h.length;)s=e.indexOf(h.charAt(d++)),o=(15&(l=e.indexOf(h.charAt(d++))))<<4|(c=e.indexOf(h.charAt(d++)))>>2,a=(3&c)<<6|(u=e.indexOf(h.charAt(d++))),i+=String.fromCharCode(s<<2|l>>4),64!=c&&(i+=String.fromCharCode(o)),64!=u&&(i+=String.fromCharCode(a));return n.utf8_decode(i)},n.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},n.setChartsLicenseManager=function(t){this.chartsLicenseManager=t},n.setLicenseKey=function(t){this.licenseKey=t,this.chartsLicenseManager&&this.chartsLicenseManager.setLicenseKey(t,!0)},n.extractBracketedInformation=function(t){if(!t.includes("["))return["legacy",!1,void 0];var e=t.match(/\[(.*?)\]/g).map(function(s){return s.replace("[","").replace("]","")});if(!e||0===e.length)return["legacy",!1,void 0];var i=1===e.filter(function(s){return"TRIAL"===s}).length,r=e.filter(function(s){return 0===s.indexOf("v")})[0];return[r?r.replace("v",""):"legacy",i,tD[e.filter(function(s){return tD[s]})[0]]]},n.prototype.centerPadAndOutput=function(t){console.error(t.padStart((this.totalMessageLength-t.length)/2+t.length,"*").padEnd(this.totalMessageLength,"*"))},n.prototype.padAndOutput=function(t,e,i){void 0===e&&(e="*"),void 0===i&&(i=""),console.error(t.padEnd(this.totalMessageLength-i.length,e)+i)},n.prototype.outputInvalidLicenseKey=function(t,e,i){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(i," only and does not cover you for ").concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"},n.prototype.outputExpiredTrialKey=function(t,e,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(i," expired on ").concat(t,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"},n.prototype.outputMissingLicenseKey=function(t){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(t," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"},n.prototype.outputExpiredKey=function(t,e,i,r){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(i," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions of ".concat(r," released before ").concat(t,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"},n.RELEASE_INFORMATION="MTcwODI3NzkwNjI5Nw==",n}(),xLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),q7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ELe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return xLe(t,n),t.prototype.validateLicense=function(){this.licenseManager=new iD(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new iD(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){iD.setLicenseKey(e)},t.setChartsLicenseManager=function(e){iD.setChartsLicenseManager(e)},q7([Ym],t.prototype,"validateLicense",null),q7([oe("licenseManager")],t)}(z),DLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),DL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},TLe=function(n){function t(){return n.call(this,'<div class="ag-watermark">\n                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n            </div>')||this}return DLe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.shouldDisplayWatermark();this.setDisplayed(i),i&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},DL([C("licenseManager")],t.prototype,"licenseManager",void 0),DL([V("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),DL([H],t.prototype,"postConstruct",null),t}(le),ur={version:"31.1.1",moduleName:ie.EnterpriseCoreModule,beans:[ELe],agStackComponents:[{componentName:"AgWatermark",componentClass:TLe}]},ALe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},OLe=function(n){function t(e){var i=n.call(this,'\n            <div class="ag-advanced-filter-header" role="row">\n            </div>')||this;return i.enabled=e,i}return ALe(t,n),t.prototype.postConstruct=function(){var e=this;this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(function(){return e.destroyBean(e.eAdvancedFilter)}),this.addManagedListener(this.eventService,x.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onGridColumnsChanged()}),this.addGuiEventListener("keydown",function(i){return e.onKeyDown(i)}),this.addGuiEventListener("focusout",function(i){e.getFocusableElement().contains(i.relatedTarget)||e.focusService.clearAdvancedFilterColumn()})},t.prototype.getFocusableElement=function(){var e,i;return null!==(i=null===(e=this.eAdvancedFilter)||void 0===e?void 0:e.getGui())&&void 0!==i?i:this.getGui()},t.prototype.setEnabled=function(e){e!==this.enabled&&this.setupAdvancedFilter(e)},t.prototype.refresh=function(){var e;null===(e=this.eAdvancedFilter)||void 0===e||e.refresh()},t.prototype.getHeight=function(){return this.height},t.prototype.setInputDisabled=function(e){var i;null===(i=this.eAdvancedFilter)||void 0===i||i.setInputDisabled(e)},t.prototype.setupAdvancedFilter=function(e){var i=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new AL);var r=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.height=this.columnModel.getFloatingFiltersHeight();var o="".concat(this.height,"px");i.style.height=o,i.style.minHeight=o,this.setAriaRowIndex(),D.setAriaRole(r,"gridcell"),D.setAriaColIndex(r,1),this.setAriaColumnCount(r),i.appendChild(r)}else D.clearElement(i),this.destroyBean(this.eAdvancedFilter),this.height=0;D.setDisplayed(i,e),this.enabled=e},t.prototype.setAriaColumnCount=function(e){D.setAriaColSpan(e,this.columnModel.getAllGridColumns().length)},t.prototype.setAriaRowIndex=function(){D.setAriaRowIndex(this.getGui(),this.headerNavigationService.getHeaderRowCount())},t.prototype.onGridColumnsChanged=function(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())},t.prototype.onKeyDown=function(e){switch(e.key){case G.ENTER:this.hasFocus()&&this.focusService.focusInto(this.getFocusableElement())&&e.preventDefault();break;case G.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case G.UP:this.navigateUpDown(!0,e);break;case G.DOWN:this.navigateUpDown(!1,e);break;case G.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{var i=this.focusService.findNextFocusableElement(this.getFocusableElement(),null,e.shiftKey);i?(e.preventDefault(),i.focus()):this.navigateLeftRight(e)}}},t.prototype.navigateUpDown=function(e,i){this.hasFocus()&&this.focusService.focusNextFromAdvancedFilter(e)&&i.preventDefault()},t.prototype.navigateLeftRight=function(e){(e.shiftKey?this.focusService.focusLastHeader():this.focusService.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()},t.prototype.hasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.getFocusableElement()},nD([C("columnModel")],t.prototype,"columnModel",void 0),nD([C("focusService")],t.prototype,"focusService",void 0),nD([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),nD([H],t.prototype,"postConstruct",null),t}(le),RLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rD=function(){return rD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},rD.apply(this,arguments)},X7=function(n){function t(e){var i=n.call(this,rD(rD({},e),{template:'\n                <div class="ag-picker-field" role="presentation">\n                    <div ref="eLabel"></div>\n                    <div ref="eWrapper" class="ag-wrapper ag-picker-collapsed">\n                        <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                    </div>\n                </div>'}))||this;return i.params=e,i}return RLe(t,n),t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,i=e.wrapperClassName,r=e.ariaLabel;D.setDisplayed(this.eDisplayField,!1),i&&this.eWrapper.classList.add(i),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,r)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(IE),PLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TL=function(n){function t(e,i){var r=n.call(this)||this;return r.comp=e,r.virtualList=i,r}return PLe(t,n),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new SY(this.comp,this.virtualList,{dragSourceType:zt.AdvancedFilterBuilder,listItemDragStartEvent:t.EVENT_DRAG_STARTED,listItemDragEndEvent:t.EVENT_DRAG_ENDED,eventSource:this,getCurrentDragValue:function(i){return e.getCurrentDragValue(i)},isMoveBlocked:function(){return!1},getNumRows:function(i){return i.getNumItems()},moveItem:function(i,r){return e.moveItem(i,r)}}))},t.prototype.getCurrentDragValue=function(e){return e.item},t.prototype.moveItem=function(e,i){this.comp.moveItem(e,i)},t.EVENT_DRAG_STARTED="advancedFilterBuilderDragStarted",t.EVENT_DRAG_ENDED="advancedFilterBuilderDragEnded",function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(z),FLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Z7=function(n){function t(e,i,r){var o=n.call(this)||this;return o.eGui=e,o.focusWrapper=i,o.eFocusableComp=r,o}return FLe(t,n),t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eGui,"keydown",function(i){switch(i.key){case G.TAB:i.defaultPrevented||D.stopPropagationForAgGrid(i);break;case G.UP:case G.DOWN:D.stopPropagationForAgGrid(i);break;case G.ESCAPE:if(D.isStopPropagationForAgGrid(i))return;var r=e.gridOptionsService.getDocument();e.eGui.contains(r.activeElement)&&(i.preventDefault(),D.stopPropagationForAgGrid(i),e.focusWrapper.focus())}}),this.addManagedListener(this.focusWrapper,"keydown",function(i){if(i.key===G.ENTER){if(D.isStopPropagationForAgGrid(i))return;e.gridOptionsService.getDocument().activeElement===e.focusWrapper&&(i.preventDefault(),D.stopPropagationForAgGrid(i),e.eFocusableComp.getFocusableElement().focus())}}),this.addManagedListener(this.focusWrapper,"focusin",function(){e.focusWrapper.classList.add("ag-advanced-filter-builder-virtual-list-item-highlight")}),this.addManagedListener(this.focusWrapper,"focusout",function(i){e.focusWrapper.contains(i.relatedTarget)||e.focusWrapper.classList.remove("ag-advanced-filter-builder-virtual-list-item-highlight")})},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"postConstruct",null),t}(z);function Q7(n,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:n("advancedFilterBuilderAddCondition")},{key:"join",displayValue:n("advancedFilterBuilderAddJoin")}],valueFormatter:function(e){var i;return null==e?null:null!==(i=e.displayValue)&&void 0!==i?i:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(t??120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:n("advancedFilterBuilderAddButtonTooltip")}}var ga=function(){function n(){}return n.EVENT_ADDED="advancedFilterBuilderAdded",n.EVENT_MOVED="advancedFilterBuilderMoved",n.EVENT_REMOVED="advancedFilterBuilderRemoved",n.EVENT_VALUE_CHANGED="advancedFilterBuilderValueChanged",n.EVENT_VALID_CHANGED="advancedFilterBuilderValidChanged",n}(),LLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),J7=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},NLe=function(n){function t(){var e=n.call(this,'\n            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>\n        ')||this;return e.validationMessage=null,e}return LLe(t,n),t.prototype.init=function(e){var i=this,r=e.item,o=e.createPill;this.item=r,this.createPill=o,this.filterModel=r.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(function(){return i.destroyBeans([i.eColumnPill,i.eOperatorPill,i.eOperandPill])})},t.prototype.getDragName=function(){return this.filterModel.colId?this.advancedFilterExpressionService.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return this.validationMessage},t.prototype.getFocusableElement=function(){return this.eColumnPill.getFocusableElement()},t.prototype.setupColumnCondition=function(e){var r,i=this,o=this.advancedFilterExpressionService.getColumnDetails(e.colId);this.baseCellDataType=o.baseCellDataType,this.column=o.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:null!==(r=this.getColumnDisplayValue())&&void 0!==r?r:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:function(){return{values:i.advancedFilterExpressionService.getColumnAutocompleteEntries()}},update:function(a){return i.setColumnKey(a)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),D.exists(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())},t.prototype.createOperatorPill=function(){var i,e=this;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:null!==(i=this.getOperatorDisplayValue())&&void 0!==i?i:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:function(){return{values:e.getOperatorAutocompleteEntries()}},update:function(r){return e.setOperatorKey(r)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())},t.prototype.createOperandPill=function(){var i,e=this,r=null!==(i=this.getOperandDisplayValue())&&void 0!==i?i:"";this.eOperandPill=this.createPill({key:r,displayValue:r,baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:function(o){return e.setOperand(o)},ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())},t.prototype.getColumnKey=function(){return this.filterModel.colId},t.prototype.getColumnDisplayValue=function(){return this.advancedFilterExpressionService.getColumnDisplayValue(this.filterModel)},t.prototype.getOperatorKey=function(){return this.filterModel.type},t.prototype.getOperatorDisplayValue=function(){return this.advancedFilterExpressionService.getOperatorDisplayValue(this.filterModel)},t.prototype.getOperandDisplayValue=function(){return this.advancedFilterExpressionService.getOperandDisplayValue(this.filterModel,!0)},t.prototype.hasOperand=function(){return this.numOperands>0},t.prototype.getOperatorAutocompleteEntries=function(){return this.column?this.advancedFilterExpressionService.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]},t.prototype.setColumnKey=function(e){this.eOperatorPill||this.createOperatorPill();var i=this.advancedFilterExpressionService.getColumnDetails(e);this.column=i.column;var r=i.baseCellDataType;this.baseCellDataType!==r&&(this.baseCellDataType=r,this.setOperatorKey(void 0),this.eOperatorPill&&(D.removeFromParent(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType},t.prototype.setOperatorKey=function(e){var i=this.getNumOperands(e);i!==this.numOperands&&(this.numOperands=i,0===i?this.destroyOperandPill():(this.createOperandPill(),"number"!==this.baseCellDataType&&this.setOperand(""))),this.filterModel.type=e,this.validate()},t.prototype.setOperand=function(e){var i,r=e;this.column&&(r=null!==(i=this.advancedFilterExpressionService.getOperandModelValue(e,this.baseCellDataType,this.column))&&void 0!==i?i:""),this.filterModel.filter=r,this.validate()},t.prototype.getNumOperands=function(e){var i,r;return null!==(r=null===(i=this.advancedFilterExpressionService.getExpressionOperator(this.baseCellDataType,e))||void 0===i?void 0:i.numOperands)&&void 0!==r?r:0},t.prototype.destroyOperandPill=function(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0},t.prototype.validate=function(){var e=null;D.exists(this.getColumnKey())?D.exists(this.getOperatorKey())?this.numOperands>0&&!D.exists(this.getOperandDisplayValue())&&(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationEnterValue")):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectOption"):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchEvent({type:ga.EVENT_VALID_CHANGED}))},t.prototype.getDefaultColumnDisplayValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectColumn")},t.prototype.getDefaultOptionSelectValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectOption")},J7([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),J7([C("valueParserService")],t.prototype,"valueParserService",void 0),t}(le),VLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},GLe=function(n){function t(e){var i=n.call(this,'\n            <div class="ag-advanced-filter-builder-pill-wrapper" role="presentation">\n                <div ref="ePill" class="ag-advanced-filter-builder-pill" role="button">\n                    <span ref="eLabel" class="ag-advanced-filter-builder-pill-display"></span>\n                </div>\n            </div>\n        ')||this;return i.params=e,i.value=e.value,i}return VLe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.params,o=i.ariaLabel;this.ePill.classList.add(i.cssClass),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),D.setAriaDescribedBy(this.ePill,this.eLabel.id),D.setAriaLabel(this.ePill,o),this.renderValue(),this.addManagedListener(this.ePill,"click",function(a){a.preventDefault(),e.showEditor()}),this.addManagedListener(this.ePill,"keydown",function(a){a.key===G.ENTER&&(a.preventDefault(),D.stopPropagationForAgGrid(a),e.showEditor())}),this.addDestroyFunc(function(){return e.destroyBean(e.eEditor)})},t.prototype.getFocusableElement=function(){return this.ePill},t.prototype.showEditor=function(){var e=this;if(!this.eEditor){D.setDisplayed(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);var i=this.eEditor.getGui();this.eEditor.addManagedListener(i,"keydown",function(r){switch(r.key){case G.ENTER:r.preventDefault(),D.stopPropagationForAgGrid(r),e.updateValue(!0);break;case G.ESCAPE:r.preventDefault(),D.stopPropagationForAgGrid(r),e.hideEditor(!0)}}),this.eEditor.addManagedListener(i,"focusout",function(){e.updateValue(!1)}),this.getGui().appendChild(i),this.eEditor.getFocusableElement().focus()}},t.prototype.createEditorComp=function(e){var i;switch(e){case"text":i=new nu;break;case"number":i=new lE;break;case"date":i=new qY}return this.createBean(i)},t.prototype.hideEditor=function(e){var i=this.eEditor;i&&(this.eEditor=void 0,this.getGui().removeChild(i.getGui()),this.destroyBean(i),D.setDisplayed(this.ePill,!0),e&&this.ePill.focus())},t.prototype.renderValue=function(){var e;this.eLabel.classList.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),D.exists(this.value)?"number"===this.params.type?(e=this.value,this.eLabel.classList.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(this.value,'"'),this.eLabel.classList.add("ag-advanced-filter-builder-value-text")):(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderEnterValue"),this.eLabel.classList.add("ag-advanced-filter-builder-value-empty")),this.eLabel.innerText=e},t.prototype.updateValue=function(e){var i;if(this.eEditor){var r=null!==(i=this.eEditor.getValue())&&void 0!==i?i:"";this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED,value:r}),this.value=r,this.renderValue(),this.hideEditor(e)}},oD([V("ePill")],t.prototype,"ePill",void 0),oD([V("eLabel")],t.prototype,"eLabel",void 0),oD([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),oD([H],t.prototype,"postConstruct",null),t}(le),BLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jLe=function(n){function t(){return n.call(this,'\n            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>\n        ')||this}return BLe(t,n),t.prototype.init=function(e){var i=this,o=e.createPill,a=e.item.filterModel;this.filterModel=a,this.ePill=o({key:a.type,displayValue:this.advancedFilterExpressionService.parseJoinOperator(a),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:function(){return{values:i.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries()}},update:function(s){return a.type=s},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(function(){return i.destroyBean(i.ePill)})},t.prototype.getDragName=function(){return this.advancedFilterExpressionService.parseJoinOperator(this.filterModel)},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return null},t.prototype.getFocusableElement=function(){return this.ePill.getFocusableElement()},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t}(le),ULe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aD=function(){return aD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},aD.apply(this,arguments)},zLe=function(n){function t(e){var i=n.call(this,aD(aD({},e),{template:'\n                <div class="ag-picker-field ag-advanced-filter-builder-pill-wrapper" role="presentation">\n                    <div ref="eLabel"></div>\n                    <div ref="eWrapper" class="ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed">\n                        <div ref="eDisplayField" class="ag-picker-field-display ag-advanced-filter-builder-pill-display"></div>\n                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                    </div>\n                </div>'}))||this;return i.params=e,i}return ULe(t,n),t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.ariaLabel;this.eWrapper.classList.add(e.wrapperClassName),D.setAriaLabelledBy(this.eWrapper,""),D.setAriaLabel(this.eWrapper,r)},t.prototype.createPickerComponent=function(){var e;if(!this.values){var i=this.params.getEditorParams().values;this.values=i;var r=this.value.key,o=null!==(e=i.find(function(a){return a.key===r}))&&void 0!==e?e:{key:r,displayValue:this.value.displayValue};this.value=o}return n.prototype.createPickerComponent.call(this)},t.prototype.onEnterKeyDown=function(e){D.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(IE),WLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),va=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ML=function(n){function t(e,i,r){var o=n.call(this,'\n            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">\n                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">\n                    <div ref="eTreeLines" class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true"></div>\n                    <span ref="eDragHandle" class="ag-drag-handle" aria-hidden="true"></span>\n                    <span ref="eValidation" class="ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid" aria-hidden="true"></span>\n                </div>\n                <div ref="eButtons" class="ag-advanced-filter-builder-item-buttons">\n                    <span ref="eMoveUpButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                    <span ref="eMoveDownButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                    <div ref="eAddButton" role="presentation"></div>\n                    <span ref="eRemoveButton" class="ag-advanced-filter-builder-item-button" role="button"></span>\n                </div>\n            </div>\n        ')||this;return o.item=e,o.dragFeature=i,o.focusWrapper=r,o.moveUpDisabled=!1,o.moveDownDisabled=!1,o}return WLe(t,n),t.prototype.postConstruct=function(){var e=this,i=this.item,o=i.level,a=i.showMove;if(this.ePillWrapper=this.createManagedBean("join"===i.filterModel.filterType?new jLe:new NLe),this.ePillWrapper.init({item:this.item,createPill:function(c){return e.createPill(c)}}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),0===o){var l=document.createElement("div");l.classList.add("ag-advanced-filter-builder-item-tree-line-vertical-bottom"),l.classList.add("ag-advanced-filter-builder-item-tree-line-root"),this.eTreeLines.appendChild(l),D.setDisplayed(this.eDragHandle,!1),D.setDisplayed(this.eButtons,!1),D.setAriaExpanded(this.focusWrapper,!0)}else this.setupTreeLines(o),this.eDragHandle.appendChild(D.createIconNoSpan("advancedFilterBuilderDrag",this.gridOptionsService)),this.setupValidation(),this.setupMoveButtons(a),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();D.setAriaLevel(this.focusWrapper,o+1),this.initialiseTabGuard({}),this.createManagedBean(new Z7(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListener(this.ePillWrapper,ga.EVENT_VALUE_CHANGED,function(){return e.dispatchEvent({type:ga.EVENT_VALUE_CHANGED})}),this.addManagedListener(this.ePillWrapper,ga.EVENT_VALID_CHANGED,function(){return e.updateValidity()})},t.prototype.setState=function(e){if(0!==this.item.level){var r=this.item.showMove,o=e.disableMoveUp,a=e.disableMoveDown;this.updateTreeLines(e.treeLines,e.showStartTreeLine),this.updateAriaExpanded(),r&&(this.moveUpDisabled=!!o,this.moveDownDisabled=!!a,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",a),D.setAriaDisabled(this.eMoveUpButton,!!o),D.setAriaDisabled(this.eMoveDownButton,!!a),this.moveUpTooltipFeature.refreshToolTip(),this.moveDownTooltipFeature.refreshToolTip())}},t.prototype.focusMoveButton=function(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()},t.prototype.afterAdd=function(){this.ePillWrapper.getFocusableElement().focus()},t.prototype.setupTreeLines=function(e){for(var i=0;i<e;i++){var r=document.createElement("div");this.eTreeLines.appendChild(r)}},t.prototype.updateTreeLines=function(e,i){for(var r=e.length-1,o=this.eTreeLines.children,a=0;a<r;a++){var s=o.item(a);s&&s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[a])}var l=o.item(r);if(l){l.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");var c=e[r];l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",c),l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!c)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",i)},t.prototype.setupValidation=function(){var e=this;this.eValidation.appendChild(D.createIconNoSpan("advancedFilterBuilderInvalid",this.gridOptionsService)),this.validationTooltipFeature=this.createManagedBean(new Ls({getGui:function(){return e.eValidation},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.ePillWrapper.getValidationMessage()},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eValidation),this.updateValidity()},t.prototype.setupAddButton=function(){var i,e=this,r=Q7(function(s){return e.advancedFilterExpressionService.translate(s)},null===(i=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===i?void 0:i.addSelectWidth),o=this.createManagedBean(new X7(r));this.addManagedListener(o,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){return e.dispatchEvent({type:ga.EVENT_ADDED,item:e.item,isJoin:"join"===s.value.key})}),this.eAddButton.appendChild(o.getGui()),this.createManagedBean(new Ls({getGui:function(){return e.eAddButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans)).setComp(this.eAddButton)},t.prototype.setupRemoveButton=function(){var e=this;this.eRemoveButton.appendChild(D.createIconNoSpan("advancedFilterBuilderRemove",this.gridOptionsService)),this.addManagedListener(this.eRemoveButton,"click",function(){return e.removeItem()}),this.addManagedListener(this.eRemoveButton,"keydown",function(r){r.key===G.ENTER&&(r.preventDefault(),D.stopPropagationForAgGrid(r),e.removeItem())}),this.createManagedBean(new Ls({getGui:function(){return e.eRemoveButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")}},this.beans)).setComp(this.eRemoveButton),D.setAriaLabel(this.eRemoveButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])},t.prototype.setupMoveButtons=function(e){var i=this;e?(this.eMoveUpButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveUp",this.gridOptionsService)),this.addManagedListener(this.eMoveUpButton,"click",function(){return i.moveItem(!0)}),this.addManagedListener(this.eMoveUpButton,"keydown",function(r){r.key===G.ENTER&&(r.preventDefault(),D.stopPropagationForAgGrid(r),i.moveItem(!0))}),this.moveUpTooltipFeature=this.createManagedBean(new Ls({getGui:function(){return i.eMoveUpButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return i.moveUpDisabled?null:i.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")}},this.beans)),this.moveUpTooltipFeature.setComp(this.eMoveUpButton),D.setAriaLabel(this.eMoveUpButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(D.createIconNoSpan("advancedFilterBuilderMoveDown",this.gridOptionsService)),this.addManagedListener(this.eMoveDownButton,"click",function(){return i.moveItem(!1)}),this.addManagedListener(this.eMoveDownButton,"keydown",function(r){r.key===G.ENTER&&(r.preventDefault(),D.stopPropagationForAgGrid(r),i.moveItem(!1))}),this.moveDownTooltipFeature=this.createManagedBean(new Ls({getGui:function(){return i.eMoveDownButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return i.moveDownDisabled?null:i.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")}},this.beans)),this.moveDownTooltipFeature.setComp(this.eMoveDownButton),D.setAriaLabel(this.eMoveDownButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(D.setDisplayed(this.eMoveUpButton,!1),D.setDisplayed(this.eMoveDownButton,!1))},t.prototype.updateValidity=function(){D.setVisible(this.eValidation,!this.item.valid),this.validationTooltipFeature.refreshToolTip(),this.updateAriaLabel()},t.prototype.createPill=function(e){var r,o,i=this,a=e.key,s=e.displayValue,l=e.cssClass,c=e.update,u=e.ariaLabel,d=function(_){null!=_&&(c(_),i.dispatchEvent({type:ga.EVENT_VALUE_CHANGED}))};if(e.isSelect){var h=e.getEditorParams,p=e.pickerAriaLabelKey,f=e.pickerAriaLabelValue,m=this.gridOptionsService.get("advancedFilterBuilderParams"),g="".concat(null!==(r=m?.pillSelectMinWidth)&&void 0!==r?r:140,"px"),v="".concat(null!==(o=m?.pillSelectMaxWidth)&&void 0!==o?o:200,"px"),y=this.createBean(new zLe({pickerAriaLabelKey:p,pickerAriaLabelValue:f,pickerType:"ag-list",value:{key:a,displayValue:s},valueFormatter:function(_){var b;return null==_?null:null!==(b=_.displayValue)&&void 0!==b?b:_.key},variableWidth:!0,minPickerWidth:g,maxPickerWidth:v,getEditorParams:h,wrapperClassName:l,ariaLabel:u}));return this.addManagedListener(y,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(_){var b=_.value;return d(b?.key)}),y}return y=this.createBean(new GLe({value:s,cssClass:l,type:this.getInputType(e.baseCellDataType),ariaLabel:u})),this.addManagedListener(y,x.EVENT_FIELD_VALUE_CHANGED,function(b){return d(b.value)}),y},t.prototype.getInputType=function(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}},t.prototype.setupDragging=function(){var e=this,i={type:zt.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:function(){return e.ePillWrapper.getDragName()},getDefaultIconName:function(){return Bt.ICON_NOT_ALLOWED},getDragItem:function(){return{}},onDragStarted:function(){return e.dragFeature.dispatchEvent({type:TL.EVENT_DRAG_STARTED,item:e.item})},onDragStopped:function(){return e.dragFeature.dispatchEvent({type:TL.EVENT_DRAG_ENDED})}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.updateAriaLabel=function(){var o,e=this.ePillWrapper.getAriaLabel(),i="".concat(this.item.level+1),r=this.ePillWrapper.getValidationMessage();o=r?this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItemValidation",[e,i,r]):this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[e,i]),D.setAriaLabel(this.focusWrapper,o)},t.prototype.updateAriaExpanded=function(){D.removeAriaExpanded(this.focusWrapper);var e=this.item.filterModel;"join"===e?.filterType&&e.conditions.length&&D.setAriaExpanded(this.focusWrapper,!0)},t.prototype.removeItem=function(){this.dispatchEvent({type:ga.EVENT_REMOVED,item:this.item})},t.prototype.moveItem=function(e){this.dispatchEvent({type:ga.EVENT_MOVED,item:this.item,backwards:e})},va([V("eTreeLines")],t.prototype,"eTreeLines",void 0),va([V("eDragHandle")],t.prototype,"eDragHandle",void 0),va([V("eItem")],t.prototype,"eItem",void 0),va([V("eButtons")],t.prototype,"eButtons",void 0),va([V("eValidation")],t.prototype,"eValidation",void 0),va([V("eMoveUpButton")],t.prototype,"eMoveUpButton",void 0),va([V("eMoveDownButton")],t.prototype,"eMoveDownButton",void 0),va([V("eAddButton")],t.prototype,"eAddButton",void 0),va([V("eRemoveButton")],t.prototype,"eRemoveButton",void 0),va([C("beans")],t.prototype,"beans",void 0),va([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),va([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),va([H],t.prototype,"postConstruct",null),t}(xd),$Le=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},KLe=function(n){function t(e,i){var r=n.call(this,'\n            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">\n                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">\n                    <div class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true">\n                        <div class="ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"></div>\n                    </div>\n                </div>\n            </div>\n        ')||this;return r.item=e,r.focusWrapper=i,r}return $Le(t,n),t.prototype.postConstruct=function(){var i,e=this;D.setAriaLevel(this.focusWrapper,2);var r=Q7(function(s){return e.advancedFilterExpressionService.translate(s)},null===(i=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===i?void 0:i.addSelectWidth),o=this.createManagedBean(new X7(r));this.addManagedListener(o,x.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){e.dispatchEvent({type:ga.EVENT_ADDED,item:e.item,isJoin:"join"===s.value.key})}),this.eItem.appendChild(o.getGui()),this.createManagedBean(new Ls({getGui:function(){return o.getGui()},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans)).setComp(o.getGui()),this.createManagedBean(new Z7(this.getGui(),this.focusWrapper,o)),D.setAriaLabel(this.focusWrapper,this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[this.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))},t.prototype.afterAdd=function(){},sD([C("beans")],t.prototype,"beans",void 0),sD([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),sD([V("eItem")],t.prototype,"eItem",void 0),sD([H],t.prototype,"postConstruct",null),t}(le),YLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fd=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ZLe=function(n){function t(){var e=n.call(this,'\n            <div role="presentation" class="ag-advanced-filter-builder" tabindex="-1">\n                <div role="presentation" class="ag-advanced-filter-builder-list" ref="eList"></div>\n                <div role="presentation" class="ag-advanced-filter-builder-button-panel">\n                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-apply-button" ref="eApplyFilterButton"></button>\n                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-cancel-button" ref="eCancelFilterButton"></button>\n                </div>\n            </div>')||this;return e.validationMessage=null,e}return YLe(t,n),t.prototype.postConstruct=function(){var i,e=this,r=(null!==(i=this.gridOptionsService.get("advancedFilterBuilderParams"))&&void 0!==i?i:{}).showMoveButtons;this.showMove=!!r,this.addManagedPropertyListener("advancedFilterBuilderParams",function(o){var a=o.currentValue;e.showMove=!!a?.showMoveButtons,e.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new TL(this,this.virtualList)),this.setupButtons()},t.prototype.refresh=function(){var e=this.virtualList.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),null!=e&&(this.virtualList.getComponentAt(e)||(e=0),this.virtualList.focusRow(e))},t.prototype.getNumItems=function(){return this.items.length},t.prototype.moveItem=function(e,i){!i||!e||this.moveItemToIndex(e,i.rowIndex,i.position)},t.prototype.afterGuiAttached=function(){this.virtualList.focusRow(0)},t.prototype.setupVirtualList=function(){var e=this;this.virtualList=this.createManagedBean(new ag({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderList")})),this.virtualList.setComponentCreator(this.createItemComponent.bind(this)),this.virtualList.setComponentUpdater(this.updateItemComponent.bind(this)),this.virtualList.setRowHeight(40),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.items.length},getRow:function(i){return e.items[i]},areRowsEqual:function(i,r){return i===r}}),this.buildList(),this.virtualList.refresh()},t.prototype.setupButtons=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){e.advancedFilterService.setModel(e.filterModel),e.filterManager.onFilterChanged({source:"advancedFilter"}),e.close()}),this.validationTooltipFeature=this.createManagedBean(new Ls({getGui:function(){return e.eApplyFilterButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.validationMessage},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eApplyFilterButton),this.validate(),this.addManagedListener(this.eApplyFilterButton,"mouseenter",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!0)}),this.addManagedListener(this.eApplyFilterButton,"mouseleave",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!1)}),this.eCancelFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedListener(this.eCancelFilterButton,"click",function(){return e.close()})},t.prototype.removeItemFromParent=function(e){var i=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(i,1),i},t.prototype.moveItemToIndex=function(e,i,r){var o,c,a=this.items[i],s="join"===(null===(o=a.filterModel)||void 0===o?void 0:o.filterType)&&"bottom"===r,l=s?a.filterModel:a.parent;l&&!this.isChildOrSelf(l,e.filterModel)&&a!==e&&(this.removeItemFromParent(e),s?c=0:-1===(c=l.conditions.indexOf(a.filterModel))?c=l.conditions.length:"bottom"===r&&(c+=1),l.conditions.splice(c,0,e.filterModel),this.refreshList(!1))},t.prototype.isChildOrSelf=function(e,i){var r=this;return e===i||"join"===i.filterType&&i.conditions.some(function(o){return r.isChildOrSelf(e,o)})},t.prototype.setupFilterModel=function(){var e=this.formatFilterModel(this.advancedFilterService.getModel());return this.stringifiedModel=JSON.stringify(e),e},t.prototype.formatFilterModel=function(e){return"join"!==(e=e??{filterType:"join",type:"AND",conditions:[]}).filterType&&(e={filterType:"join",type:"AND",conditions:[e]}),e},t.prototype.buildList=function(){var e=this,i=function(r,o,a,s){o.push({filterModel:r,level:a,parent:s,valid:!0,showMove:e.showMove}),"join"===r.filterType&&(r.conditions.forEach(function(l){return i(l,o,a+1,r)}),0===a&&o.push({filterModel:null,level:a+1,parent:r,valid:!0}))};this.items=[],i(this.filterModel,this.items,0)},t.prototype.refreshList=function(e){if(!e){var i=[];this.items.forEach(function(r){r.valid||i.push(r.filterModel)}),this.buildList(),i.length&&this.items.forEach(function(r){r.filterModel&&i.includes(r.filterModel)&&(r.valid=!1)})}this.virtualList.refresh(e),this.validate()},t.prototype.updateItemComponent=function(e,i){var r=this,o=this.items.indexOf(e),a=function(u,d){var h=r.items.find(function(m){return m.filterModel===u}),p=h?.parent;if(p){var f=p.conditions;a(p,d),d.push(f[f.length-1]===u)}},s=[],l=e.filterModel;l&&(a(l,s),s[0]=!1);var c="join"===l?.filterType&&!!l.conditions.length;i.setState({disableMoveUp:1===o,disableMoveDown:!this.canMoveDown(e,o),treeLines:s,showStartTreeLine:c})},t.prototype.createItemComponent=function(e,i){var r=this,o=this.createBean(e.filterModel?new ML(e,this.dragFeature,i):new KLe(e,i));return o.addManagedListener(o,ga.EVENT_REMOVED,function(a){return r.removeItem(a.item)}),o.addManagedListener(o,ga.EVENT_VALUE_CHANGED,function(){return r.validate()}),o.addManagedListener(o,ga.EVENT_ADDED,function(a){return r.addItem(a.item,a.isJoin)}),o.addManagedListener(o,ga.EVENT_MOVED,function(a){return r.moveItemUpDown(a.item,a.backwards)}),o instanceof ML&&this.updateItemComponent(e,o),o},t.prototype.addItem=function(e,i){var r,o,a=e.parent,s=e.level,l=e.filterModel,c="join"===l?.filterType,u=i?{filterType:"join",type:"AND",conditions:[]}:{},d=c?l:a,h=c?0:d.conditions.indexOf(l);h>=0?(c||(h+=1),d.conditions.splice(h,0,u)):d.conditions.push(u);var p=this.items.indexOf(e),f=p>=0;f&&(e.filterModel&&p++,(r=this.items).splice.apply(r,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([p,0],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([{filterModel:u,level:c?s+1:s,parent:d,valid:i,showMove:this.showMove}]),!1))),this.refreshList(f),f&&(null===(o=this.virtualList.getComponentAt(p))||void 0===o||o.afterAdd())},t.prototype.removeItem=function(e){var i,r=e.parent,a=r.conditions.indexOf(e.filterModel);r.conditions.splice(a,1);var s="join"===(null===(i=e.filterModel)||void 0===i?void 0:i.filterType),l=this.items.indexOf(e),c=!s&&l>=0;c&&this.items.splice(l,1),this.refreshList(c),l>=0&&this.virtualList.focusRow(l)},t.prototype.moveItemUpDown=function(e,i){var r=this.items.indexOf(e),o=i?r-1:r+1;if(0!==o&&(i||this.canMoveDown(e,r))){var a=this.items[o],s=this.removeItemFromParent(e),l=e.level,c=e.filterModel,u=e.parent,d=a.level,h=a.filterModel,p=a.parent;if(i)if(d===l&&"join"===h.filterType)h.conditions.push(c);else if(d<=l){var f=p.conditions.indexOf(h);p.conditions.splice(f,0,c)}else u.conditions[s-1].conditions.push(c);else if(d===l)if("join"===h.filterType)h.conditions.splice(0,0,c);else{var g=p.conditions.indexOf(h);p.conditions.splice(g+1,0,c)}else if(s<u.conditions.length)u.conditions.splice(s+1,0,c);else{var v=this.items.find(function(w){return w.filterModel===u}),y=v.parent.conditions.indexOf(v.filterModel)+1;v.parent.conditions.splice(y,0,c)}this.refreshList(!1);var _=this.items.findIndex(function(w){return w.filterModel===c});if(_>=0){var b=this.virtualList.getComponentAt(_);b instanceof ML&&b.focusMoveButton(i)}}},t.prototype.canMoveDown=function(e,i){return!(1===e.level&&i===this.items.length-2||1===e.level&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)},t.prototype.close=function(){this.advancedFilterService.getCtrl().toggleFilterBuilder("ui")},t.prototype.validate=function(){var e=!this.items.every(function(i){return i.valid});e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,this.validationMessage=e?this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationAlreadyApplied"):null),D.setDisabled(this.eApplyFilterButton,e),this.validationTooltipFeature.refreshToolTip()},t.prototype.validateItems=function(){var e=this,i=function(o){o.type=void 0},r=function(o){delete o.filter};this.items.forEach(function(o){if(o.valid&&o.filterModel&&"join"!==o.filterModel.filterType){var a=o.filterModel,s=a.colId,l=e.advancedFilterExpressionService.getColumnAutocompleteEntries().find(function(h){return h.key===s}),c=e.advancedFilterExpressionService.getColumnDetails(a.colId);if(!l||!c.column)return o.valid=!1,a.colId=void 0,i(a),void r(a);var d=e.advancedFilterExpressionService.getDataTypeExpressionOperator(c.baseCellDataType).operators[a.type];if(!d)return o.valid=!1,i(a),void r(a);if(d.numOperands>0&&!D.exists(a.filter))return void(o.valid=!1)}})},Fd([V("eList")],t.prototype,"eList",void 0),Fd([V("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),Fd([V("eCancelFilterButton")],t.prototype,"eCancelFilterButton",void 0),Fd([C("filterManager")],t.prototype,"filterManager",void 0),Fd([C("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Fd([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Fd([C("beans")],t.prototype,"beans",void 0),Fd([H],t.prototype,"postConstruct",null),t}(le),QLe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},eq=function(n){function t(e){var i=n.call(this)||this;return i.enabled=e,i}return QLe(t,n),t.prototype.postConstruct=function(){var e=this;this.hasAdvancedFilterParent=!!this.gridOptionsService.get("advancedFilterParent"),this.ctrlsService.whenReady(function(){return e.setAdvancedFilterComp()}),this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(i){return e.onEnabledChanged(i.enabled)}),this.addManagedPropertyListener("advancedFilterParent",function(){return e.updateComps()}),this.addDestroyFunc(function(){e.destroyAdvancedFilterComp(),e.destroyBean(e.eBuilderComp),e.eBuilderDialog&&e.eBuilderDialog.isAlive()&&e.destroyBean(e.eBuilderDialog)})},t.prototype.setupHeaderComp=function(e){this.eHeaderComp=this.createManagedBean(new OLe(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())},t.prototype.focusHeaderComp=function(){return!!this.eHeaderComp&&(this.eHeaderComp.getFocusableElement().focus(),!0)},t.prototype.refreshComp=function(){var e,i;null===(e=this.eFilterComp)||void 0===e||e.refresh(),null===(i=this.eHeaderComp)||void 0===i||i.refresh()},t.prototype.refreshBuilderComp=function(){var e;null===(e=this.eBuilderComp)||void 0===e||e.refresh()},t.prototype.getHeaderHeight=function(){var e,i;return null!==(i=null===(e=this.eHeaderComp)||void 0===e?void 0:e.getHeight())&&void 0!==i?i:0},t.prototype.setInputDisabled=function(e){var i,r;null===(i=this.eFilterComp)||void 0===i||i.setInputDisabled(e),null===(r=this.eHeaderComp)||void 0===r||r.setInputDisabled(e)},t.prototype.toggleFilterBuilder=function(e,i){var r=this;if(!(i&&this.eBuilderDialog||!1===i&&!this.eBuilderDialog)){if(this.eBuilderDialog)return this.builderDestroySource=e,void this.destroyBean(this.eBuilderDialog);this.setInputDisabled(!0);var o=this.getBuilderDialogSize(),a=o.width,s=o.height,l=o.minWidth;this.eBuilderComp=this.createBean(new ZLe),this.eBuilderDialog=this.createBean(new sg({title:this.advancedFilterExpressionService.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:a,height:s,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:l,afterGuiAttached:function(){var c;return null===(c=r.eBuilderComp)||void 0===c?void 0:c.afterGuiAttached()}})),this.dispatchFilterBuilderVisibleChangedEvent(e,!0),this.eBuilderDialog.addEventListener(sg.EVENT_DESTROYED,function(){var c;r.destroyBean(r.eBuilderComp),r.eBuilderComp=void 0,r.eBuilderDialog=void 0,r.setInputDisabled(!1),r.dispatchEvent({type:t.EVENT_BUILDER_CLOSED}),r.dispatchFilterBuilderVisibleChangedEvent(null!==(c=r.builderDestroySource)&&void 0!==c?c:"ui",!1),r.builderDestroySource=void 0})}},t.prototype.dispatchFilterBuilderVisibleChangedEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED,source:e,visible:i})},t.prototype.getBuilderDialogSize=function(){var e,i,r=null!==(i=null===(e=this.gridOptionsService.get("advancedFilterBuilderParams"))||void 0===e?void 0:e.minWidth)&&void 0!==i?i:500,o=this.popupService.getPopupParent(),a=Math.round(D.getAbsoluteWidth(o))-2,s=Math.round(.75*D.getAbsoluteHeight(o))-2;return{width:Math.min(Math.max(600,r),a),height:Math.min(600,s),minWidth:r}},t.prototype.onEnabledChanged=function(e){this.enabled=e,this.updateComps()},t.prototype.updateComps=function(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventService.dispatchEvent({type:x.EVENT_HEADER_HEIGHT_CHANGED})},t.prototype.setAdvancedFilterComp=function(){var e;if(this.destroyAdvancedFilterComp(),this.enabled){var i=this.gridOptionsService.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!i,i){var r=this.createBean(new AL),o=r.getGui(),a=this.environment.getTheme().allThemes;a.length&&(e=o.classList).add.apply(e,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(a),!1)),o.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr"),i.appendChild(o),this.eFilterComp=r}}},t.prototype.setHeaderCompEnabled=function(){var e;null===(e=this.eHeaderComp)||void 0===e||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)},t.prototype.destroyAdvancedFilterComp=function(){this.eFilterComp&&(D.removeFromParent(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))},t.EVENT_BUILDER_CLOSED="advancedFilterBuilderClosed",bC([C("focusService")],t.prototype,"focusService",void 0),bC([C("ctrlsService")],t.prototype,"ctrlsService",void 0),bC([C("popupService")],t.prototype,"popupService",void 0),bC([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),bC([H],t.prototype,"postConstruct",null),t}(z),tNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lu=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AL=function(n){function t(){var e=n.call(this,'\n            <div class="ag-advanced-filter" role="presentation" tabindex="-1">\n                <ag-autocomplete ref="eAutocomplete"></ag-autocomplete>\n                <button class="ag-button ag-standard-button ag-advanced-filter-apply-button" ref="eApplyFilterButton"></button>\n                <button class="ag-advanced-filter-builder-button" ref="eBuilderFilterButton">\n                    <span ref="eBuilderFilterButtonIcon" aria-hidden="true"></span>\n                    <span class="ag-advanced-filter-builder-button-label" ref="eBuilderFilterButtonLabel"></span>\n                </button>\n            </div>')||this;return e.expressionParser=null,e.isApplyDisabled=!0,e.builderOpen=!1,e}return tNe(t,n),t.prototype.postConstruct=function(){var e=this;this.eAutocomplete.setListGenerator(function(i,r){return e.generateAutocompleteListParams(r)}).setValidator(function(){return e.validateValue()}).setForceLastSelection(function(i,r){return e.forceLastSelection(i,r)}).setInputAriaLabel(this.advancedFilterExpressionService.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advancedFilterExpressionService.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListener(this.eAutocomplete,aC.EVENT_VALUE_CHANGED,function(i){return e.onValueChanged(i.value)}),this.addManagedListener(this.eAutocomplete,aC.EVENT_VALUE_CONFIRMED,function(i){return e.onValueConfirmed(i.isValid)}),this.addManagedListener(this.eAutocomplete,aC.EVENT_OPTION_SELECTED,function(i){return e.onOptionSelected(i.position,i.updateEntry,i.autocompleteType)}),this.addManagedListener(this.eAutocomplete,aC.EVENT_VALID_CHANGED,function(i){return e.onValidChanged(i.isValid,i.validationMessage)}),this.setupApplyButton(),this.setupBuilderButton()},t.prototype.refresh=function(){var e=this.advancedFilterService.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e?.length,updateListOnlyIfOpen:!0})},t.prototype.setInputDisabled=function(e){this.eAutocomplete.setInputDisabled(e),D.setDisabled(this.eApplyFilterButton,e||this.isApplyDisabled)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="advancedFilter",e},t.prototype.setupApplyButton=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){return e.onValueConfirmed(e.eAutocomplete.isValid())}),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled)},t.prototype.setupBuilderButton=function(){var e=this;this.eBuilderFilterButtonIcon.appendChild(D.createIconNoSpan("advancedFilterBuilder",this.gridOptionsService)),this.eBuilderFilterButtonLabel.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedListener(this.eBuilderFilterButton,"click",function(){return e.openBuilder()}),this.addManagedListener(this.advancedFilterService.getCtrl(),eq.EVENT_BUILDER_CLOSED,function(){return e.closeBuilder()})},t.prototype.onValueChanged=function(e){var i;e=D.makeNull(e),this.advancedFilterService.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilterService.createExpressionParser(e);var r=null===(i=this.expressionParser)||void 0===i?void 0:i.parseExpression();r&&r!==e&&this.eAutocomplete.setValue({value:r,silent:!0,restoreFocus:!0})},t.prototype.onValueConfirmed=function(e){!e||this.isApplyDisabled||(D.setDisabled(this.eApplyFilterButton,!0),this.advancedFilterService.applyExpression(),this.filterManager.onFilterChanged({source:"advancedFilter"}))},t.prototype.onOptionSelected=function(e,i,r){var o=this.updateExpression(e,i,r);this.eAutocomplete.setValue({value:o.updatedValue,position:o.updatedPosition,updateListOnlyIfOpen:o.hideAutocomplete,restoreFocus:!0})},t.prototype.validateValue=function(){var e,i,r;return null!==(e=this.expressionParser)&&void 0!==e&&e.isValid()?null:null!==(r=null===(i=this.expressionParser)||void 0===i?void 0:i.getValidationMessage())&&void 0!==r?r:null},t.prototype.onValidChanged=function(e,i){this.isApplyDisabled=!e||this.advancedFilterService.isCurrentExpressionApplied(),D.setDisabled(this.eApplyFilterButton,this.isApplyDisabled),this.setTooltip(i,1e3)},t.prototype.generateAutocompleteListParams=function(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advancedFilterExpressionService.getDefaultAutocompleteListParams("")},t.prototype.updateExpression=function(e,i,r){var o,a;return this.advancedFilterExpressionService.updateAutocompleteCache(i,r),null!==(a=null===(o=this.expressionParser)||void 0===o?void 0:o.updateExpression(e,i,r))&&void 0!==a?a:this.advancedFilterService.getDefaultExpression(i)},t.prototype.forceLastSelection=function(e,i){var r=e.key,o=e.displayValue;return!!i.toLocaleLowerCase().match("^".concat((o??r).toLocaleLowerCase(),"\\s*$"))},t.prototype.openBuilder=function(){this.builderOpen||(this.builderOpen=!0,D.setDisabled(this.eBuilderFilterButton,!0),this.advancedFilterService.getCtrl().toggleFilterBuilder("ui"))},t.prototype.closeBuilder=function(){this.builderOpen&&(this.builderOpen=!1,D.setDisabled(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())},lu([V("eAutocomplete")],t.prototype,"eAutocomplete",void 0),lu([V("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),lu([V("eBuilderFilterButton")],t.prototype,"eBuilderFilterButton",void 0),lu([V("eBuilderFilterButtonIcon")],t.prototype,"eBuilderFilterButtonIcon",void 0),lu([V("eBuilderFilterButtonLabel")],t.prototype,"eBuilderFilterButtonLabel",void 0),lu([C("advancedFilterService")],t.prototype,"advancedFilterService",void 0),lu([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),lu([C("filterManager")],t.prototype,"filterManager",void 0),lu([H],t.prototype,"postConstruct",null),t}(le),iNe={ariaAdvancedFilterBuilderItem:function(n){return"".concat(n[0],". Level ").concat(n[1],". Press ENTER to edit.")},ariaAdvancedFilterBuilderItemValidation:function(n){return"".concat(n[0],". Level ").concat(n[1],". ").concat(n[2]," Press ENTER to edit.")},ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:function(n){return"Expression has an error. ".concat(n[0]," - ").concat(n[1],".")},advancedFilterValidationMessageAtEnd:function(n){return"Expression has an error. ".concat(n[0]," at end of expression.")},advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function OL(n,t,e){if(!n)return"";var i=e-t;return i?n.slice(0,n.length-i):n}function kd(n,t,e,i,r,o,a){var s=e+(!n.length||a?0:1),l=0;return r&&(" "===n[s]?l=1:(i+=" ",o&&(i+='"'))),{updatedValue:n.slice(0,t)+i+n.slice(s),updatedPosition:t+i.length+l}}function RL(n,t,e,i){for(var r=t,o=!1;r<n.length;){var a=n[r];if("("===a){i&&" "===n[r-1]?o=!0:r-=1;break}if(" "===a||e&&")"===a){r-=1;break}r++}return{endPosition:r,isEmpty:o}}function PL(n,t,e,i){e!==t&&(n.expression=kd(n.expression,i-t.length+1,i,e).updatedValue)}var lD=function(){return lD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},lD.apply(this,arguments)},oNe=function(){function n(t,e){this.params=t,this.startPosition=e,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}return n.prototype.parse=function(t,e){if(t!==Dp.COL_START_CHAR||this.colName)if(t===Dp.COL_END_CHAR&&this.hasStartChar){if(this.parseColumn(!1,e))return this.hasEndChar=!0,!1;this.colName+=t}else this.colName+=t;else this.hasStartChar=!0},n.prototype.getDisplayValue=function(){return(this.hasStartChar?Dp.COL_START_CHAR:"")+this.colName+(this.hasEndChar?Dp.COL_END_CHAR:"")},n.prototype.getColId=function(){return this.colId},n.prototype.complete=function(t){this.parseColumn(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}},n.prototype.parseColumn=function(t,e){var i;this.endPosition=e;var r=this.params.advancedFilterExpressionService.getColId(this.colName);return r&&this.hasStartChar&&(this.colId=r.colId,PL(this.params,this.colName,r.columnName,e-1),this.colName=r.columnName,this.column=this.params.columnModel.getPrimaryColumn(this.colId),this.column)?(this.baseCellDataType=null!==(i=this.params.dataTypeService.getBaseDataType(this.column))&&void 0!==i?i:"text",!0):(t&&(this.valid=!1),this.baseCellDataType="text",!1)},n}(),aNe=function(){function n(t,e,i){this.params=t,this.startPosition=e,this.baseCellDataType=i,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}return n.prototype.parse=function(t,e){if(" "===t||")"===t){if(this.parseOperator(!1,e-1))return!0;this.operator+=t}else this.operator+=t},n.prototype.complete=function(t){this.parseOperator(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}},n.prototype.getDisplayValue=function(){return this.operator},n.prototype.getOperatorKey=function(){return this.parsedOperator},n.prototype.parseOperator=function(t,e){var i=this.params.advancedFilterExpressionService.getDataTypeExpressionOperator(this.baseCellDataType),r=i.findOperator(this.operator);if(this.endPosition=e,r){this.parsedOperator=r;var o=i.operators[r];this.expectedNumOperands=o.numOperands;var a=o.displayValue;return PL(this.params,this.operator,a,e),this.operator=a,!0}return(t||!(null===r))&&(this.valid=!1),!1},n}(),sNe=function(){function n(t,e,i,r){this.params=t,this.startPosition=e,this.baseCellDataType=i,this.column=r,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}return n.prototype.parse=function(t,e){if(" "===t){if(!this.quotes)return this.parseOperand(!1,e),!0;this.operand+=t}else if(")"===t){if("number"===this.baseCellDataType||!this.quotes)return this.parseOperand(!1,e-1),!0;this.operand+=t}else if(this.operand||this.quotes||"'"!==t&&'"'!==t){if(this.quotes&&t===this.quotes)return this.parseOperand(!1,e),!1;this.operand+=t}else this.quotes=t},n.prototype.complete=function(t){this.parseOperand(!0,t)},n.prototype.getValidationError=function(){var t;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:null!==(t=this.endPosition)&&void 0!==t?t:this.params.expression.length-1}:null},n.prototype.getRawValue=function(){return this.operand},n.prototype.getModelValue=function(){return this.modelValue},n.prototype.parseOperand=function(t,e){var i=this.params.advancedFilterExpressionService;if(this.endPosition=e,this.modelValue=this.operand,t&&this.quotes)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingQuote");else if(""===this.modelValue)this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationMissingValue");else{var r=i.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(null!=r&&(this.modelValue=r),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":null==r&&(this.valid=!1,this.validationMessage=i.translate("advancedFilterValidationInvalidDate"))}}},n}(),Dp=function(){function n(t,e){this.params=t,this.startPosition=e,this.isAwaiting=!0}return n.prototype.parseExpression=function(){for(var t,e,i=this.startPosition,r=this.params.expression;i<r.length;){var o=r[i];if(" "!==o||!this.isAwaiting){if(this.isAwaiting=!1,!this.parser){var a=void 0;this.columnParser?this.operatorParser?(this.operandParser=new sNe(this.params,i,this.columnParser.baseCellDataType,this.columnParser.column),a=this.operandParser):(this.operatorParser=new aNe(this.params,i,this.columnParser.baseCellDataType),a=this.operatorParser):(this.columnParser=new oNe(this.params,i),a=this.columnParser),this.parser=a}var s=this.parser.parse(o,i);if(null!=s){if(this.isComplete())return this.returnEndPosition(s?i-1:i,!0);this.parser=void 0,this.isAwaiting=!0}}i++}return null===(e=null===(t=this.parser)||void 0===t?void 0:t.complete)||void 0===e||e.call(t,i-1),this.returnEndPosition(i)},n.prototype.isValid=function(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)},n.prototype.getValidationError=function(){var t,e,i,r,o,a=null!==(r=null!==(e=null===(t=this.columnParser)||void 0===t?void 0:t.getValidationError())&&void 0!==e?e:null===(i=this.operatorParser)||void 0===i?void 0:i.getValidationError())&&void 0!==r?r:null===(o=this.operandParser)||void 0===o?void 0:o.getValidationError();if(a)return a;var l,s=this.params.expression.length;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(l="advancedFilterValidationMissingValue"):l="advancedFilterValidationMissingOption":l="advancedFilterValidationMissingColumn",l?{message:this.params.advancedFilterExpressionService.translate(l),startPosition:s,endPosition:s}:null},n.prototype.getFunction=function(t){var e,i,f,r=this.columnParser.getColId(),o=function rNe(n){return n.replace(/(['"])/,"\\$1")}(r),a=null===(e=this.operatorParser)||void 0===e?void 0:e.getOperatorKey(),s=t.operators,l=t.evaluatorParams,c=t.operands,u=this.params.advancedFilterExpressionService.getExpressionOperator(this.columnParser.baseCellDataType,a),d=this.addToListAndGetIndex(s,u),h=this.params.advancedFilterExpressionService.getExpressionEvaluatorParams(r),p=this.addToListAndGetIndex(l,h);if(0===(null===(i=this.operatorParser)||void 0===i?void 0:i.expectedNumOperands))f="";else{var m=this.addToListAndGetIndex(c,this.getOperandValue());f=", params.operands[".concat(m,"]")}return"params.operators[".concat(d,"].evaluator(expressionProxy.getValue('").concat(o,"', node), node, params.evaluatorParams[").concat(p,"]").concat(f,")")},n.prototype.getAutocompleteListParams=function(t){return this.isColumnPosition(t)?this.getColumnAutocompleteListParams(t):this.isOperatorPosition(t)?this.getOperatorAutocompleteListParams(t):this.isBeyondEndPosition(t)?void 0:{enabled:!1}},n.prototype.updateExpression=function(t,e,i){var r,o,a,s,l,c=this.params.expression;if(this.isColumnPosition(t))return kd(this.params.expression,this.startPosition,null!==(r=this.columnParser)&&void 0!==r&&r.getColId()?this.columnParser.endPosition:RL(c,t).endPosition,this.params.advancedFilterExpressionService.getColumnValue(e),!0);if(this.isOperatorPosition(t)){var u=this.getBaseCellDataTypeFromOperatorAutocompleteType(i),d=this.hasOperand(u,e.key),h=d&&this.doesOperandNeedQuotes(u),p=void 0;if(null!=(null===(o=this.operatorParser)||void 0===o?void 0:o.startPosition)&&t<this.operatorParser.startPosition)p=kd(c,t,t,null!==(a=e.displayValue)&&void 0!==a?a:e.key,d,h);else{var f=void 0,m=!1;if(null!==(s=this.operatorParser)&&void 0!==s&&s.getOperatorKey())f=this.operatorParser.endPosition;else{var g=RL(c,t,!0,!0);f=g.endPosition,m=g.isEmpty}p=kd(c,function nNe(n,t,e){for(var i=t;i<e&&" "===n[i];)i++;return i}(c,this.columnParser.endPosition+1,f),f,null!==(l=e.displayValue)&&void 0!==l?l:e.key,d,h,m)}return lD(lD({},p),{hideAutocomplete:!d})}return null},n.prototype.getModel=function(){var t=this.columnParser.getColId(),e={filterType:this.columnParser.baseCellDataType,colId:t,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(e.filter=this.operandParser.getModelValue()),e},n.prototype.getOperandValue=function(){var t=this.operandParser.getRawValue(),e=this.columnParser,i=e.baseCellDataType,r=e.column;switch(i){case"number":t=Number(t);break;case"date":case"dateString":t=this.params.valueParserService.parseValue(r,null,t,void 0)}return"dateString"===i?this.params.dataTypeService.getDateParserFunction(r)(t):t},n.prototype.isComplete=function(){return!(!this.operatorParser||!(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))},n.prototype.isColumnPosition=function(t){return!this.columnParser||null==this.columnParser.endPosition||t<=this.columnParser.endPosition+1},n.prototype.isOperatorPosition=function(t){return!this.operatorParser||null==this.operatorParser.endPosition||t<=this.operatorParser.endPosition+1},n.prototype.isBeyondEndPosition=function(t){return this.isComplete()&&null!=this.endPosition&&t>this.endPosition+1&&this.endPosition+1<this.params.expression.length},n.prototype.returnEndPosition=function(t,e){return this.endPosition=e?t:t-1,t},n.prototype.getColumnAutocompleteListParams=function(t){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(t))},n.prototype.getColumnSearchString=function(t){var e,i,r,o,a,s=null!==(i=null===(e=this.columnParser)||void 0===e?void 0:e.getDisplayValue())&&void 0!==i?i:"",l=OL(s,t,null==(null===(r=this.columnParser)||void 0===r?void 0:r.endPosition)?this.params.expression.length:this.columnParser.endPosition+1),c=(null===(o=this.columnParser)||void 0===o?void 0:o.hasStartChar)&&l.length>0,u=(null===(a=this.columnParser)||void 0===a?void 0:a.hasEndChar)&&l.length===s.length+2;return c?l.slice(1,u?-1:void 0):l},n.prototype.getOperatorAutocompleteListParams=function(t){var e,i,r,o,a,s=null===(e=this.columnParser)||void 0===e?void 0:e.column;if(!s)return{enabled:!1};var l=this.columnParser.baseCellDataType,c=null!=(null===(i=this.operatorParser)||void 0===i?void 0:i.startPosition)&&t<this.operatorParser.startPosition?"":OL(null!==(o=null===(r=this.operatorParser)||void 0===r?void 0:r.getDisplayValue())&&void 0!==o?o:"",t,null==(null===(a=this.operatorParser)||void 0===a?void 0:a.endPosition)?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getOperatorAutocompleteEntries(s,l),"operator-".concat(l),c)},n.prototype.getBaseCellDataTypeFromOperatorAutocompleteType=function(t){return t?.replace("operator-","")},n.prototype.hasOperand=function(t,e){var i,r;return!t||!e||(null!==(r=null===(i=this.params.advancedFilterExpressionService.getExpressionOperator(t,e))||void 0===i?void 0:i.numOperands)&&void 0!==r?r:0)>0},n.prototype.doesOperandNeedQuotes=function(t){return"number"!==t},n.prototype.addToListAndGetIndex=function(t,e){var i=t.length;return t.push(e),i},n.COL_START_CHAR="[",n.COL_END_CHAR="]",n}();function cD(n,t,e){var i=!1,r=n.toLocaleLowerCase(),o=r+" ",a=Object.entries(t).find(function(s){var l=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(s,2),u=e(l[1]).toLocaleLowerCase();return u.startsWith(o)&&(i=!0),u===r});return a?a[0]:i?null:void 0}function IL(n,t){return(t??Object.keys(n)).map(function(i){return{key:i,displayValue:n[i].displayValue}})}var tq=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return IL(this.operators,t)},n.prototype.findOperator=function(t){return cD(t,this.operators,function(e){return e.displayValue})},n.prototype.initOperators=function(){var t=this,e=this.params.translate;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!1,function(s,l){return s.includes(l)})},numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!0,function(s,l){return!s.includes(l)})},numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!1,function(s,l){return s===l})},numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!0,function(s,l){return s!=l})},numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!1,function(s,l){return s.startsWith(l)})},numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:function(i,r,o,a){return t.evaluateExpression(i,r,o,a,!1,function(s,l){return s.endsWith(l)})},numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:function(i){return null==i||"string"==typeof i&&0===i.trim().length},numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:function(i){return null!=i&&("string"!=typeof i||i.trim().length>0)},numOperands:0}}},n.prototype.evaluateExpression=function(t,e,i,r,o,a){return null==t?o:i.caseSensitive?a(i.valueConverter(t,e),r):a(i.valueConverter(t,e).toLocaleLowerCase(),r.toLocaleLowerCase())},n}(),FL=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return IL(this.operators,t)},n.prototype.findOperator=function(t){return cD(t,this.operators,function(e){return e.displayValue})},n.prototype.initOperators=function(){var t=this,e=this.params,i=e.translate,r=e.equals;this.operators={equals:{displayValue:i("advancedFilterEquals"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,r)},numOperands:1},notEqual:{displayValue:i("advancedFilterNotEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,function(c,u){return!r(c,u)})},numOperands:1},greaterThan:{displayValue:i("advancedFilterGreaterThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(c,u){return c>u})},numOperands:1},greaterThanOrEqual:{displayValue:i("advancedFilterGreaterThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(c,u){return c>=u})},numOperands:1},lessThan:{displayValue:i("advancedFilterLessThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(c,u){return c<u})},numOperands:1},lessThanOrEqual:{displayValue:i("advancedFilterLessThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(c,u){return c<=u})},numOperands:1},blank:{displayValue:i("advancedFilterBlank"),evaluator:function(o){return null==o},numOperands:0},notBlank:{displayValue:i("advancedFilterNotBlank"),evaluator:function(o){return null!=o},numOperands:0}}},n.prototype.evaluateSingleOperandExpression=function(t,e,i,r,o,a){return null==t?o:a(i.valueConverter(t,e),r)},n}(),cNe=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return IL(this.operators,t)},n.prototype.findOperator=function(t){return cD(t,this.operators,function(e){return e.displayValue})},n.prototype.initOperators=function(){var t=this.params.translate;this.operators={true:{displayValue:t("advancedFilterTrue"),evaluator:function(e){return!!e},numOperands:0},false:{displayValue:t("advancedFilterFalse"),evaluator:function(e){return!1===e},numOperands:0},blank:{displayValue:t("advancedFilterBlank"),evaluator:function(e){return null==e},numOperands:0},notBlank:{displayValue:t("advancedFilterNotBlank"),evaluator:function(e){return null!=e},numOperands:0}}},n}(),uNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hNe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.columnNameToIdMap={},e.columnAutocompleteEntries=null,e.expressionEvaluatorParams={},e}return uNe(t,n),t.prototype.postConstruct=function(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()},t.prototype.parseJoinOperator=function(e){var i,r=e.type;return null!==(i=this.expressionJoinOperators[r])&&void 0!==i?i:r},t.prototype.getColumnDisplayValue=function(e){var a,i=e.colId,o=this.getColumnAutocompleteEntries().find(function(s){return s.key===i});return o?this.columnNameToIdMap[(a=o.displayValue).toLocaleUpperCase()]={colId:i,columnName:a}:a=i,a},t.prototype.getOperatorDisplayValue=function(e){var i,r;return null!==(r=null===(i=this.getExpressionOperator(e.filterType,e.type))||void 0===i?void 0:i.displayValue)&&void 0!==r?r:e.type},t.prototype.getOperandModelValue=function(e,i,r){var o;switch(i){case"number":return D.exists(e)?Number(e):null;case"date":return D.serialiseDate(this.valueParserService.parseValue(r,null,e,void 0),!1);case"dateString":var a=this.valueParserService.parseValue(r,null,e,void 0);return D.serialiseDate(null!==(o=this.dataTypeService.getDateParserFunction(r)(a))&&void 0!==o?o:null,!1)}return e},t.prototype.getOperandDisplayValue=function(e,i){var r,o,l=e.filter,c=this.columnModel.getPrimaryColumn(e.colId),u="";if(null!=l){var d=void 0;switch(e.filterType){case"number":d=null!==(r=D.toStringOrNull(l))&&void 0!==r?r:"";break;case"date":var h=D.parseDateTimeFromString(l);d=c?this.valueFormatterService.formatValue(c,null,h):null;break;case"dateString":var p=D.parseDateTimeFromString(l),f=c?this.dataTypeService.getDateFormatterFunction(c)(p??void 0):null;d=c?this.valueFormatterService.formatValue(c,null,f):null}"number"!==e.filterType&&(d=null!==(o=d??D.toStringOrNull(l))&&void 0!==o?o:"",i||(d='"'.concat(d,'"'))),u=i?d:" ".concat(d)}return u},t.prototype.parseColumnFilterModel=function(e){var i,r,o=null!==(i=this.getColumnDisplayValue(e))&&void 0!==i?i:"",a=null!==(r=this.getOperatorDisplayValue(e))&&void 0!==r?r:"",s=this.getOperandDisplayValue(e);return"[".concat(o,"] ").concat(a).concat(s)},t.prototype.updateAutocompleteCache=function(e,i){if("column"===i){var r=e.key,o=e.displayValue;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:r,columnName:o}}},t.prototype.translate=function(e,i){var r=iNe[e];return"function"==typeof r&&(r=r(i)),this.localeService.getLocaleTextFunc()(e,r,i)},t.prototype.generateAutocompleteListParams=function(e,i,r){return{enabled:!0,type:i,searchString:r,entries:e}},t.prototype.getColumnAutocompleteEntries=function(){var i,e=this;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;var r=null!==(i=this.columnModel.getAllPrimaryColumns())&&void 0!==i?i:[],o=[],a=this.gridOptionsService.get("includeHiddenColumnsInAdvancedFilter");return r.forEach(function(s){s.getColDef().filter&&(a||s.isVisible()||s.isRowGroupActive())&&o.push({key:s.getColId(),displayValue:e.columnModel.getDisplayNameForColumn(s,"advancedFilter")})}),o.sort(function(s,l){var c,u,d=null!==(c=s.displayValue)&&void 0!==c?c:"",h=null!==(u=l.displayValue)&&void 0!==u?u:"";return d<h?-1:h>d?1:0}),o},t.prototype.getOperatorAutocompleteEntries=function(e,i){var r=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(i).getEntries(r)},t.prototype.getJoinOperatorAutocompleteEntries=function(){return Object.entries(this.expressionJoinOperators).map(function(e){var i=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e,2);return{key:i[0],displayValue:i[1]}})},t.prototype.getDefaultAutocompleteListParams=function(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)},t.prototype.getDataTypeExpressionOperator=function(e){return this.expressionOperators[e]},t.prototype.getExpressionOperator=function(e,i){var r,o;return null===(o=null===(r=this.getDataTypeExpressionOperator(e))||void 0===r?void 0:r.operators)||void 0===o?void 0:o[i]},t.prototype.getExpressionJoinOperators=function(){return this.expressionJoinOperators},t.prototype.getColId=function(e){var i=e.toLocaleUpperCase(),r=this.columnNameToIdMap[i];if(r)return r;var a=this.getColumnAutocompleteEntries().find(function(u){return u.displayValue.toLocaleUpperCase()===i});if(a){var c={colId:a.key,columnName:a.displayValue};return this.columnNameToIdMap[i]=c,c}return null},t.prototype.getExpressionEvaluatorParams=function(e){var i=this,r=this.expressionEvaluatorParams[e];if(r)return r;var o=this.columnModel.getPrimaryColumn(e);if(!o)return{valueConverter:function(l){return l}};switch(this.dataTypeService.getBaseDataType(o)){case"dateString":r={valueConverter:this.dataTypeService.getDateParserFunction(o)};break;case"object":r=o.getColDef().filterValueGetter?{valueConverter:function(l){return l}}:{valueConverter:function(l,c){var u;return null!==(u=i.valueFormatterService.formatValue(o,c,l))&&void 0!==u?u:"function"==typeof l.toString?l.toString():""}};break;case"text":case void 0:r={valueConverter:function(l){return D.toStringOrNull(l)}};break;default:r={valueConverter:function(l){return l}}}var s=o.getColDef().filterParams;return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(function(l){var c=s[l];c&&(r[l]=c)}),this.expressionEvaluatorParams[e]=r,r},t.prototype.getColumnDetails=function(e){var i,r,o=null!==(i=this.columnModel.getPrimaryColumn(e))&&void 0!==i?i:void 0;return{column:o,baseCellDataType:null!==(r=o?this.dataTypeService.getBaseDataType(o):void 0)&&void 0!==r?r:"text"}},t.prototype.generateExpressionOperators=function(){var e=this,i=function(r,o){return e.translate(r,o)};return{text:new tq({translate:i}),boolean:new cNe({translate:i}),object:new tq({translate:i}),number:new FL({translate:i,equals:function(r,o){return r===o}}),date:new FL({translate:i,equals:function(r,o){return r.getTime()===o.getTime()}}),dateString:new FL({translate:i,equals:function(r,o){return r.getTime()===o.getTime()}})}},t.prototype.getColumnValue=function(e){var i=e.displayValue;return"".concat(Dp.COL_START_CHAR).concat(i).concat(Dp.COL_END_CHAR)},t.prototype.generateExpressionJoinOperators=function(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}},t.prototype.getActiveOperators=function(e){var i,r=null===(i=e.getColDef().filterParams)||void 0===i?void 0:i.filterOptions;if(r)return r.every(function(a){return"string"==typeof a})?r:void 0},t.prototype.resetColumnCaches=function(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}},fg([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),fg([C("valueParserService")],t.prototype,"valueParserService",void 0),fg([C("columnModel")],t.prototype,"columnModel",void 0),fg([C("dataTypeService")],t.prototype,"dataTypeService",void 0),fg([H],t.prototype,"postConstruct",null),fg([oe("advancedFilterExpressionService")],t)}(z),pNe=function(){function n(t){this.params=t,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}return n.prototype.parseExpression=function(t){this.operators.push(""),this.operatorStartPositions.push(t),this.operatorEndPositions.push(void 0);for(var e=this.params.expression;t<e.length;){var i=e[t];if(" "===i){if(this.parseOperator(t-1))return this.activeOperator++,t-1;this.operators[this.activeOperator]+=i}else this.operators[this.activeOperator]+=i;t++}return this.parseOperator(t-1),t},n.prototype.isValid=function(){return!(this.validationError||this.operators.length&&!this.parsedOperator)},n.prototype.getValidationError=function(){return this.validationError},n.prototype.getFunction=function(){return"OR"===this.parsedOperator?"||":"&&"},n.prototype.getModel=function(){return"OR"===this.parsedOperator?"OR":"AND"},n.prototype.getAutocompleteListParams=function(t,e){var r,i=this;if(null==e)r="";else{var a=this.operatorEndPositions[e];r=OL(this.operators[e],t,null==a?this.params.expression.length:a+1)}var s=this.params.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries();return(e||null==e&&this.activeOperator)&&(s=s.filter(function(l){return l.key===i.parsedOperator})),this.params.advancedFilterExpressionService.generateAutocompleteListParams(s,"join",r)},n.prototype.updateExpression=function(t,e,i){var r,o,a=this.params.expression,s=null!==(r=e.displayValue)&&void 0!==r?r:e.key;if(0===i)for(var l=this.operatorEndPositions.length-1;l>0;l--){var c=this.operatorEndPositions[l];null!=c&&(a=kd(a,this.operatorStartPositions[l],c,s).updatedValue)}return kd(a,this.operatorStartPositions.length>i?this.operatorStartPositions[i]:t,null!==(o=this.operatorEndPositions.length>i?this.operatorEndPositions[i]:void 0)&&void 0!==o?o:RL(a,t,!0).endPosition,s,!0)},n.prototype.getNumOperators=function(){return this.operators.length},n.prototype.getLastOperatorEndPosition=function(){return this.operatorEndPositions[this.operatorEndPositions.length-1]},n.prototype.parseOperator=function(t){var e=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",i=this.params.advancedFilterExpressionService.getExpressionJoinOperators(),r=cD(e,i,function(a){return a});if(r){this.operatorEndPositions[this.activeOperator]=t;var o=i[r];if(this.activeOperator){if(r!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:t-e.length+1,endPosition:t}),!1}else this.parsedOperator=r;return e!==o&&(PL(this.params,e,o,t),this.operators[this.activeOperator]=o),!0}return null!==r&&(this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:t-e.length+1,endPosition:t}),!0)},n}(),fNe=function(){function n(t,e){this.params=t,this.startPosition=e,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new pNe(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}return n.prototype.parseExpression=function(){for(var t=this.startPosition,e=this.params.expression;t<e.length;){var i=e[t];if("("!==i||this.expectingOperator){if(")"===i)return this.endPosition=t-1,0===this.startPosition&&(this.extraEndBracket=!0),t;" "!==i&&(this.expectingExpression?(t=(r=new Dp(this.params,t)).parseExpression(),this.expressionParsers.push(r),this.expectingExpression=!1,this.expectingOperator=!0):this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0))}else{var r;t=(r=new n(this.params,t+1)).parseExpression(),this.expressionParsers.push(r),this.expectingExpression=!1,this.expectingOperator=!0}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t},n.prototype.isValid=function(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(function(t){return t.isValid()})},n.prototype.getValidationError=function(){for(var t=this.operatorParser.getValidationError(),e=0;e<this.expressionParsers.length;e++){var i=this.expressionParsers[e].getValidationError();if(i)return t&&t.startPosition<i.startPosition?t:i}return t||(this.extraEndBracket?{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1}:(this.expressionParsers.length===this.operatorParser.getNumOperators()?r="advancedFilterValidationMissingCondition":this.missingEndBracket&&(r="advancedFilterValidationMissingEndBracket"),r?{message:this.params.advancedFilterExpressionService.translate(r),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null));var r},n.prototype.getFunction=function(t){var e=this.expressionParsers.length>1,i=this.expressionParsers.map(function(r){return r.getFunction(t)}).join(" ".concat(this.operatorParser.getFunction()," "));return e?"(".concat(i,")"):i},n.prototype.getAutocompleteListParams=function(t){if(!(null!=this.endPosition&&t>this.endPosition+1)){if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();var e=this.getExpressionParserIndex(t);if(null==e)return"("===this.params.expression[t]?{enabled:!1}:this.getColumnAutocompleteListParams();var r=this.expressionParsers[e].getAutocompleteListParams(t);if(!r){if(e<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(t,e);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var o=this.operatorParser.getLastOperatorEndPosition();return null==o||t<=o+1?this.operatorParser.getAutocompleteListParams(t,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return")"===this.params.expression[t-1]?{enabled:!1}:this.operatorParser.getAutocompleteListParams(t)}return r}},n.prototype.updateExpression=function(t,e,i){var r,o=this.params.expression,a=this.getExpressionParserIndex(t);if(null==a){var s="column"===i?this.params.advancedFilterExpressionService.getColumnValue(e):null!==(r=e.displayValue)&&void 0!==r?r:e.key;return kd(o,this.startPosition,this.startPosition,s,!0)}return this.expressionParsers[a].updateExpression(t,e,i)??("column"===i?kd(o,t,o.length-1,this.params.advancedFilterExpressionService.getColumnValue(e),!0):null!=this.endPosition&&t>this.endPosition+1?null:this.operatorParser.updateExpression(t,e,a))},n.prototype.getModel=function(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(function(t){return t.getModel()})}:this.expressionParsers[0].getModel()},n.prototype.getColumnAutocompleteListParams=function(){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column","")},n.prototype.getExpressionParserIndex=function(t){for(var e,i=0;i<this.expressionParsers.length&&!(this.expressionParsers[i].startPosition>t);i++)e=i;return e},n}(),mNe=function(){function n(t){this.params=t,this.valid=!1}return n.prototype.parseExpression=function(){this.joinExpressionParser=new fNe(this.params,0);var t=this.joinExpressionParser.parseExpression();return this.valid=t>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression},n.prototype.isValid=function(){return this.valid},n.prototype.getValidationMessage=function(){var t=this.joinExpressionParser.getValidationError();if(!t)return null;var e=t.message,i=t.startPosition;return i<this.params.expression.length?this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessage",[e,this.params.expression.slice(i,t.endPosition+1).trim()]):this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessageAtEnd",[e])},n.prototype.getFunction=function(){var t={operands:[],operators:[],evaluatorParams:[]};return{functionBody:"return ".concat(this.joinExpressionParser.getFunction(t),";"),params:t}},n.prototype.getAutocompleteListParams=function(t){var e;return null!==(e=this.joinExpressionParser.getAutocompleteListParams(t))&&void 0!==e?e:{enabled:!1}},n.prototype.updateExpression=function(t,e,i){return this.joinExpressionParser.updateExpression(t,e,i)},n.prototype.getModel=function(){return this.isValid()?this.joinExpressionParser.getModel():null},n}(),gNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ld=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vNe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.appliedExpression=null,e.expression=null,e.isValid=!0,e}return gNe(t,n),t.prototype.postConstruct=function(){var e=this;this.setEnabled(this.gridOptionsService.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new eq(this.enabled)),this.expressionProxy={getValue:function(i,r){var o=e.columnModel.getPrimaryColumn(i);return o?e.valueService.getValue(o,r,!0):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",function(i){return e.setEnabled(!!i.currentValue)}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(i){return e.onNewColumnsLoaded(i)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",function(){return e.updateValidity()})},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFilterPresent=function(){return!!this.expressionFunction},t.prototype.doesFilterPass=function(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)},t.prototype.getModel=function(){var e,i=this.createExpressionParser(this.appliedExpression);return i?.parseExpression(),null!==(e=i?.getModel())&&void 0!==e?e:null},t.prototype.setModel=function(e){var i=this,r=function(a,s){if("join"===a.filterType){var l=i.advancedFilterExpressionService.parseJoinOperator(a),c=a.conditions.map(function(u){return r(u)}).filter(function(u){return D.exists(u)}).join(" ".concat(l," "));return s||a.conditions.length<=1?c:"(".concat(c,")")}return i.advancedFilterExpressionService.parseColumnFilterModel(a)},o=e?r(e,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()},t.prototype.getExpressionDisplayValue=function(){return this.expression},t.prototype.setExpressionDisplayValue=function(e){this.expression=e},t.prototype.isCurrentExpressionApplied=function(){return this.appliedExpression===this.expression},t.prototype.createExpressionParser=function(e){return e?new mNe({expression:e,columnModel:this.columnModel,dataTypeService:this.dataTypeService,valueParserService:this.valueParserService,advancedFilterExpressionService:this.advancedFilterExpressionService}):null},t.prototype.getDefaultExpression=function(e){var i=this.advancedFilterExpressionService.getColumnValue(e)+" ";return{updatedValue:i,updatedPosition:i.length}},t.prototype.isHeaderActive=function(){return!this.gridOptionsService.get("advancedFilterParent")},t.prototype.getCtrl=function(){return this.ctrl},t.prototype.setEnabled=function(e,i){var r=this.enabled,o=this.rowModel.getType(),a="clientSide"===o||"serverSide"===o;e&&!o&&D.warnOnce("Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model."),this.enabled=e&&a,i||this.enabled===r||this.eventService.dispatchEvent({type:x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,enabled:this.enabled})},t.prototype.applyExpression=function(){var e=this.createExpressionParser(this.expression);e?.parseExpression(),this.applyExpressionFromParser(e)},t.prototype.applyExpressionFromParser=function(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid)return this.expressionFunction=null,this.expressionParams=null,void(this.appliedExpression=null);var i=e.getFunction(),o=i.params;this.expressionFunction=new Function("expressionProxy","node","params",i.functionBody),this.expressionParams=o,this.appliedExpression=this.expression},t.prototype.updateValidity=function(){this.advancedFilterExpressionService.resetColumnCaches();var e=this.createExpressionParser(this.expression);e?.parseExpression();var r=(!e||e.isValid())!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),r},t.prototype.onNewColumnsLoaded=function(e){var i=this;if("gridInitializing"===e.source&&this.dataTypeService.isPendingInference()){this.ctrl.setInputDisabled(!0);var r=this.addManagedListener(this.eventService,x.EVENT_DATA_TYPES_INFERRED,function(){r?.(),i.ctrl.setInputDisabled(!1)})}},Ld([C("valueService")],t.prototype,"valueService",void 0),Ld([C("columnModel")],t.prototype,"columnModel",void 0),Ld([C("dataTypeService")],t.prototype,"dataTypeService",void 0),Ld([C("valueParserService")],t.prototype,"valueParserService",void 0),Ld([C("rowModel")],t.prototype,"rowModel",void 0),Ld([C("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Ld([H],t.prototype,"postConstruct",null),Ld([oe("advancedFilterService")],t)}(z),_Ne={version:"31.1.1",moduleName:ie.AdvancedFilterModule,beans:[vNe,hNe],agStackComponents:[{componentName:"agAdvancedFilter",componentClass:AL}],dependantModules:[ur]},CNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xr=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},iq=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kL="paste",LL="dragCopy",nq="clipboard",ko=(()=>((ko=ko||{})[ko.CellRange=0]="CellRange",ko[ko.SelectedRows=1]="SelectedRows",ko[ko.FocusedCell=2]="FocusedCell",ko))(),rq=function(n){return"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(n,"()). ")+"The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."},SNe=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.lastPasteOperationTime=0,i.navigatorApiFailed=!1,i}var e;return CNe(t,n),e=t,t.prototype.init=function(){var i=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(r){i.gridCtrl=r.gridCtrl})},t.prototype.pasteFromClipboard=function(){var i=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.get("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){D.doOnce(function(){console.warn(o),console.warn(rq("readText"))},"clipboardApiError"),i.navigatorApiFailed=!0,i.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var i=this,r=!1,o=function(a){var s=(new Date).getTime();s-i.lastPasteOperationTime<50&&(r=!0,a.preventDefault()),i.lastPasteOperationTime=s};this.executeOnTempElement(function(a){a.addEventListener("paste",o),a.focus({preventScroll:!0})},function(a){var s=a.value;r?i.refocusLastFocusedCell():i.processClipboardData(s),a.removeEventListener("paste",o)})},t.prototype.refocusLastFocusedCell=function(){var i=this.focusService.getFocusedCell();i&&this.focusService.setFocusedCell({rowIndex:i.rowIndex,column:i.column,rowPinned:i.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var i=this.gridOptionsService.get("clipboardDelimiter");return D.exists(i)?i:"\t"},t.prototype.processClipboardData=function(i){var r=this;if(null!=i){var o=e.stringToArray(i,this.getClipboardDelimiter()),a=this.gridOptionsService.getCallback("processDataFromClipboard");a&&(o=a({data:o})),null!=o&&(this.gridOptionsService.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o),this.doPasteOperation(function(l,c,u,d){r.rangeService&&r.rangeService.isMoreThanOneCell()&&!r.hasOnlyOneValueToPaste(o)?r.pasteIntoActiveRange(o,l,c,d):r.pasteStartingFromFocusedCell(o,l,c,u,d)}))}},t.stringToArray=function(i,r){void 0===r&&(r=",");var o=[],a=function(m){return"\r"===m||"\n"===m},s=!1;if(""===i)return[[""]];for(var c,u,d,l=function(m,g,v){var y=i[v-1],_=i[v],b=i[v+1],w=function(){o[m]||(o[m]=[]),o[m][g]||(o[m][g]="")};if(w(),'"'===_&&(s?'"'===b?(o[m][g]+='"',v++):s=!1:(void 0===y||y===r||a(y))&&(s=!0)),!s&&'"'!==_){if(_===r)return g++,w(),c=m,u=g,d=v,"continue";if(a(_))return g=0,m++,w(),"\r"===_&&"\n"===b&&v++,c=m,u=g,d=v,"continue"}o[m][g]+=_,c=m,u=g,d=v},h=0,p=0,f=0;f<i.length;f++)l(h,p,f),h=c,p=u,f=d;return o},t.prototype.doPasteOperation=function(i){var o,r="clipboard";if(this.eventService.dispatchEvent({type:x.EVENT_PASTE_START,source:r}),this.clientSideRowModel){var a=this.gridOptionsService.get("aggregateOnlyChangedColumns");o=new iC(a,this.clientSideRowModel.getRootNode())}var s={},l=[];i(s,l,this.focusService.getFocusedCell(),o);var u=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(l),!1);o&&(this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(function(h){u.push(h)})),this.rowRenderer.refreshCells({rowNodes:u}),this.dispatchFlashCells(s),this.fireRowChanged(l),this.refocusLastFocusedCell(),this.eventService.dispatchEvent({type:x.EVENT_PASTE_END,source:r})},t.prototype.pasteIntoActiveRange=function(i,r,o,a){var s=this,l=this.getRangeSize()%i.length!=0,c=0,u=0;this.iterateActiveRanges(!1,function(h,p,f,m){if(m-c>=i.length){if(l)return;c+=u,u=0}var v=i[m-c];o.push(p);var y=s.gridOptionsService.getCallback("processCellFromClipboard");f.forEach(function(_,b){if(_.isCellEditable(p)&&!_.isSuppressPaste(p)){b>=v.length&&(b%=v.length);var w=s.processCell(p,_,v[b],LL,y,!0);p.setDataValue(_,w,kL),a&&a.addParentNode(p.parent,[_]);var P=s.cellPositionUtils.createIdFromValues({rowIndex:h.rowIndex,column:_,rowPinned:h.rowPinned});r[P]=!0}}),u++})},t.prototype.pasteStartingFromFocusedCell=function(i,r,o,a,s){if(a){var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned},c=this.columnModel.getDisplayedColumnsStartingAt(a.column);this.isPasteSingleValueIntoRange(i)?this.pasteSingleValueIntoRange(i,o,r,s):this.pasteMultipleValues(i,l,o,c,r,nq,s)}},t.prototype.isPasteSingleValueIntoRange=function(i){return this.hasOnlyOneValueToPaste(i)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(i,r,o,a){var s=this,l=i[0][0];this.iterateActiveRanges(!1,function(u,d,h){r.push(d),h.forEach(function(p){return s.updateCellValue(d,p,l,o,nq,a)})})},t.prototype.hasOnlyOneValueToPaste=function(i){return 1===i.length&&1===i[0].length},t.prototype.copyRangeDown=function(){var i=this;if(this.rangeService&&!this.rangeService.isEmpty()){var r=[];this.doPasteOperation(function(a,s,l,c){var u=i.gridOptionsService.getCallback("processCellForClipboard"),d=i.gridOptionsService.getCallback("processCellFromClipboard");i.iterateActiveRanges(!0,function(p,f,m){r.length?(s.push(f),m.forEach(function(g,v){if(g.isCellEditable(f)&&!g.isSuppressPaste(f)){var y=i.processCell(f,g,r[v],LL,d,!0);f.setDataValue(g,y,kL),c&&c.addParentNode(f.parent,[g]);var w=i.cellPositionUtils.createIdFromValues({rowIndex:p.rowIndex,column:g,rowPinned:p.rowPinned});a[w]=!0}})):m.forEach(function(g){var v=i.processCell(f,g,i.valueService.getValue(g,f),LL,u,!1,!0);r.push(v)})})})}},t.prototype.removeLastLineIfBlank=function(i){var r=D.last(i);if(r&&1===r.length&&""===r[0]){if(1===i.length)return;D.removeFromArray(i,r)}},t.prototype.fireRowChanged=function(i){var r=this;"fullRow"===this.gridOptionsService.get("editType")&&i.forEach(function(o){r.eventService.dispatchEvent({type:x.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned})})},t.prototype.pasteMultipleValues=function(i,r,o,a,s,l,c){var u=this,d=r,h=null!=this.clientSideRowModel&&!this.gridOptionsService.get("enableGroupEdit")&&!this.gridOptionsService.get("treeData");i.forEach(function(f){var m=function(){for(;;){if(!d)return null;var f=u.rowPositionUtils.getRowNode(d);if(d=u.cellNavigationService.getRowBelow({rowPinned:d.rowPinned,rowIndex:d.rowIndex}),null==f)return null;if(!(f.detail||f.footer||h&&f.group))return f}}();m&&(f.forEach(function(g,v){return u.updateCellValue(m,a[v],g,s,l,c)}),o.push(m))})},t.prototype.updateCellValue=function(i,r,o,a,s,l){if(i&&r&&r.isCellEditable(i)&&!r.isSuppressPaste(i)&&(!i.group||!r.isValueActive())){var c=this.processCell(i,r,o,s,this.gridOptionsService.getCallback("processCellFromClipboard"),!0);i.setDataValue(r,c,kL),a[this.cellPositionUtils.createIdFromValues({rowIndex:i.rowIndex,column:r,rowPinned:i.rowPinned})]=!0,l&&l.addParentNode(i.parent,[r])}},t.prototype.copyToClipboard=function(i){void 0===i&&(i={}),this.copyOrCutToClipboard(i)},t.prototype.cutToClipboard=function(i,r){void 0===i&&(i={}),void 0===r&&(r="api"),this.gridOptionsService.get("suppressCutToClipboard")||(this.eventService.dispatchEvent({type:x.EVENT_CUT_START,source:r}),this.copyOrCutToClipboard(i,!0),this.eventService.dispatchEvent({type:x.EVENT_CUT_END,source:r}))},t.prototype.copyOrCutToClipboard=function(i,r){var o=i.includeHeaders,a=i.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = ".concat(o)),null==o&&(o=this.gridOptionsService.get("copyHeadersToClipboard")),null==a&&(a=this.gridOptionsService.get("copyGroupHeadersToClipboard"));var s={includeHeaders:o,includeGroupHeaders:a},l=!this.gridOptionsService.get("suppressCopyRowsToClipboard"),c=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?l&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(s),c=ko.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),c=ko.FocusedCell):(this.copySelectedRangeToClipboard(s),c=ko.CellRange),r&&null!==c&&this.clearCellsAfterCopy(c)},t.prototype.clearCellsAfterCopy=function(i){if(this.eventService.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),i===ko.CellRange)this.rangeService.clearCellRangeCellValues({cellEventSource:"clipboardService"});else if(i===ko.SelectedRows)this.clearSelectedRows();else{var r=this.focusService.getFocusedCell();if(null==r)return;var o=this.rowPositionUtils.getRowNode(r);o&&this.clearCellValue(o,r.column)}this.eventService.dispatchEvent({type:x.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var i,r,o,a,s=this.selectionService.getSelectedNodes(),l=this.columnModel.getAllDisplayedColumns();try{for(var c=iq(s),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,iq(l)),p=h.next();!p.done;p=h.next())this.clearCellValue(d,p.value)}catch(m){o={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(m){i={error:m}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},t.prototype.clearCellValue=function(i,r){r.isCellEditable(i)&&i.setDataValue(r,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.get("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(i,r,o){var a=this;if(this.rangeService&&!this.rangeService.isEmpty()){var s=this.rangeService.getCellRanges();i?this.iterateActiveRange(s[0],r,o,!0):s.forEach(function(l,c){return a.iterateActiveRange(l,r,o,c===s.length-1)})}},t.prototype.iterateActiveRange=function(i,r,o,a){if(this.rangeService){var s=this.rangeService.getRangeStartRow(i),l=this.rangeService.getRangeEndRow(i);o&&i.columns&&o(i.columns);for(var c=0,u=!1;!u&&null!=s;){var d=this.rowPositionUtils.getRowNode(s);u=this.rowPositionUtils.sameRow(s,l),r(s,d,i.columns,c++,u&&a),s=this.cellNavigationService.getRowBelow(s)}}},t.prototype.copySelectedRangeToClipboard=function(i){if(void 0===i&&(i={}),this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(i):this.buildDataFromRanges(i),s=o.cellsToFlash;this.copyDataToClipboard(o.data),this.dispatchFlashCells(s)}},t.prototype.buildDataFromMergedRanges=function(i){var r=this,o=new Set,a=this.rangeService.getCellRanges(),s=new Map,l=[],c={};a.forEach(function(p){p.columns.forEach(function(v){return o.add(v)});var f=r.getRangeRowPositionsAndCellsToFlash(p),g=f.cellsToFlash;f.rowPositions.forEach(function(v){var y="".concat(v.rowIndex,"-").concat(v.rowPinned||"null");s.get(y)||(s.set(y,!0),l.push(v))}),Object.assign(c,g)});var u=this.columnModel.getAllDisplayedColumns(),d=Array.from(o);return d.sort(function(p,f){return u.indexOf(p)-u.indexOf(f)}),{data:this.buildExportParams({columns:d,rowPositions:l,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders}),cellsToFlash:c}},t.prototype.buildDataFromRanges=function(i){var r=this,o=this.rangeService.getCellRanges(),a=[],s={};return o.forEach(function(l){var c=r.getRangeRowPositionsAndCellsToFlash(l),u=c.rowPositions;Object.assign(s,c.cellsToFlash),a.push(r.buildExportParams({columns:l.columns,rowPositions:u,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders}))}),{data:a.join("\n"),cellsToFlash:s}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(i){for(var r=this,o=[],a={},s=this.rangeService.getRangeStartRow(i),l=this.rangeService.getRangeEndRow(i),c=s;c&&(o.push(c),i.columns.forEach(function(u){var f=r.cellPositionUtils.createIdFromValues({rowIndex:c.rowIndex,column:u,rowPinned:c.rowPinned});a[f]=!0}),!this.rowPositionUtils.sameRow(c,l));)c=this.cellNavigationService.getRowBelow(c);return{rowPositions:o,cellsToFlash:a}},t.prototype.getCellsToFlashFromRowNodes=function(i){for(var r=this.columnModel.getAllDisplayedColumns(),o={},a=0;a<i.length;a++){var s=i[a],l=s.rowIndex,c=s.rowPinned;if(null!=l)for(var u=0;u<r.length;u++)o[this.cellPositionUtils.createIdFromValues({rowIndex:l,column:r[u],rowPinned:c})]=!0}return o},t.prototype.copyFocusedCellToClipboard=function(i){var r;void 0===i&&(i={});var o=this.focusService.getFocusedCell();if(null!=o){var a=this.cellPositionUtils.createId(o),c=this.buildExportParams({columns:[o.column],rowPositions:[{rowPinned:o.rowPinned,rowIndex:o.rowIndex}],includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders});this.copyDataToClipboard(c),this.dispatchFlashCells(((r={})[a]=!0,r))}},t.prototype.copySelectedRowsToClipboard=function(i){void 0===i&&(i={});var s=this.buildExportParams({columns:i.columnKeys,includeHeaders:i.includeHeaders,includeGroupHeaders:i.includeGroupHeaders});this.copyDataToClipboard(s);var l=this.selectionService.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(l))},t.prototype.buildExportParams=function(i){var r=this,a=i.rowPositions,s=i.includeHeaders,c=i.includeGroupHeaders,d={columnKeys:i.columns,rowPositions:a,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==c&&c),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(h){return r.processRowGroupCallback(h)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(d,!0)},t.prototype.processRowGroupCallback=function(i){var r=this,o=i.node,a=i.column,s=this.gridOptionsService.get("treeData"),l=this.gridOptionsService.get("suppressGroupMaintainValueType"),u=function(){var f,m;if(s||l||!a)return o.key;var g=null===(f=o.groupData)||void 0===f?void 0:f[a.getId()];return g&&o.rowGroupColumn&&!1!==o.rowGroupColumn.getColDef().useValueFormatterForExport&&null!==(m=r.valueFormatterService.formatValue(o.rowGroupColumn,o,g))&&void 0!==m?m:g}();if(i.node.footer){var d="";u&&u.length&&(d=" ".concat(u)),u="Total".concat(d)}var h=this.gridOptionsService.getCallback("processCellForClipboard");if(h){var p=o.rowGroupColumn;return!p&&o.footer&&-1===o.level&&(p=this.columnModel.getRowGroupColumns()[0]),h({value:u,node:o,column:p,type:"clipboard",formatValue:function(f){var m;return null!==(m=r.valueFormatterService.formatValue(p,o,f))&&void 0!==m?m:f},parseValue:function(f){return r.valueParserService.parseValue(p,o,f,r.valueService.getValue(p,o))}})}return u},t.prototype.dispatchFlashCells=function(i){var r=this;window.setTimeout(function(){r.eventService.dispatchEvent({type:x.EVENT_FLASH_CELLS,cells:i})},0)},t.prototype.processCell=function(i,r,o,a,s,l,c){var d,u=this;return s?s({column:r,node:i,value:o,type:a,formatValue:function(p){var f;return null!==(f=u.valueFormatterService.formatValue(r,i??null,p))&&void 0!==f?f:p},parseValue:function(p){return u.valueParserService.parseValue(r,i??null,p,u.valueService.getValue(r,i))}}):l&&!1!==r.getColDef().useValueParserForImport?this.valueParserService.parseValue(r,i??null,o,this.valueService.getValue(r,i)):c&&!1!==r.getColDef().useValueFormatterForExport&&null!==(d=this.valueFormatterService.formatValue(r,i??null,o))&&void 0!==d?d:o},t.prototype.copyDataToClipboard=function(i){var r=this,o=this.gridOptionsService.getCallback("sendToClipboard");o?o({data:i}):!this.gridOptionsService.get("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(i).catch(function(s){D.doOnce(function(){console.warn(s),console.warn(rq("writeText"))},"clipboardApiError"),r.copyDataToClipboardLegacy(i)}):this.copyDataToClipboardLegacy(i)},t.prototype.copyDataToClipboardLegacy=function(i){var r=this;this.executeOnTempElement(function(o){var a=r.gridOptionsService.getDocument(),s=a.activeElement;o.value=i||" ",o.select(),o.focus({preventScroll:!0}),a.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=s&&null!=s.focus&&s.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(i,r){var o=this.gridOptionsService.getDocument(),a=o.createElement("textarea");a.style.width="1px",a.style.height="1px",a.style.top=o.documentElement.scrollTop+"px",a.style.left=o.documentElement.scrollLeft+"px",a.style.position="absolute",a.style.opacity="0";var s=this.gridCtrl.getGui();s.appendChild(a);try{i(a)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}r?window.setTimeout(function(){r(a),s.removeChild(a)},100):s.removeChild(a)},t.prototype.getRangeSize=function(){var i=this.rangeService.getCellRanges(),r=0,o=0;return i.length>0&&(r=this.rangeService.getRangeStartRow(i[0]).rowIndex,o=this.rangeService.getRangeEndRow(i[0]).rowIndex),r-o+1},xr([C("csvCreator")],t.prototype,"csvCreator",void 0),xr([C("loggerFactory")],t.prototype,"loggerFactory",void 0),xr([C("selectionService")],t.prototype,"selectionService",void 0),xr([gt("rangeService")],t.prototype,"rangeService",void 0),xr([C("rowModel")],t.prototype,"rowModel",void 0),xr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),xr([C("valueService")],t.prototype,"valueService",void 0),xr([C("focusService")],t.prototype,"focusService",void 0),xr([C("rowRenderer")],t.prototype,"rowRenderer",void 0),xr([C("columnModel")],t.prototype,"columnModel",void 0),xr([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),xr([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),xr([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),xr([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),xr([C("valueParserService")],t.prototype,"valueParserService",void 0),xr([H],t.prototype,"init",null),e=xr([oe("clipboardService")],t)}(z),ENe={version:"31.1.1",moduleName:ie.ClipboardModule,beans:[SNe],dependantModules:[ur,ZE]},DNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Er=(()=>((Er=Er||{})[Er.EXPANDED=0]="EXPANDED",Er[Er.COLLAPSED=1]="COLLAPSED",Er[Er.INDETERMINATE=2]="INDETERMINATE",Er))(),TNe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return DNe(t,n),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(r){r.key===G.SPACE&&(r.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.addManagedPropertyListener("functionsReadOnly",function(){return e.onFunctionsReadOnlyPropChanged()}),this.eFilterTextField.setAutoComplete(!1).onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var i=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(i("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(i("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])},t.prototype.onFunctionsReadOnlyPropChanged=function(){var e=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)},t.prototype.init=function(e){this.params=e;var i=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(i),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",i),this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(Er.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,i=!this.params.suppressColumnSelectAll,r=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eSelect.getGui(),i),D.setDisplayed(this.eExpand,r&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=D.debounce(function(){var i=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:i})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyDown=function(e){var i=this;e.key===G.ENTER&&setTimeout(function(){return i.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Er.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,D.setDisplayed(this.eExpandChecked,this.expandState===Er.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.expandState===Er.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.expandState===Er.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',wC([C("columnModel")],t.prototype,"columnModel",void 0),wC([V("eExpand")],t.prototype,"eExpand",void 0),wC([V("eSelect")],t.prototype,"eSelect",void 0),wC([V("eFilterTextField")],t.prototype,"eFilterTextField",void 0),wC([H],t.prototype,"postConstruct",null),t}(le),SC=function(){function n(t,e,i,r,o){void 0===r&&(r=!1),this.eventService=new Ll,this.displayName=t,this.dept=i,this.group=r,r?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return n.prototype.isGroup=function(){return this.group},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.getColumnGroup=function(){return this.columnGroup},n.prototype.getColumn=function(){return this.column},n.prototype.getDept=function(){return this.dept},n.prototype.isExpanded=function(){return!!this.expanded},n.prototype.getChildren=function(){return this.children},n.prototype.isPassesFilter=function(){return this.passesFilter},n.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED}))},n.prototype.setPassesFilter=function(t){this.passesFilter=t},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n}(),MNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},oq=function(n){function t(e,i,r){var o=n.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=i,o.parentEl=r,o.displayName=null,o}return MNe(t,n),t.prototype.postConstruct=function(){if(this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof bt?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()){this.mouseEvent.preventDefault();var e=this.getMappedMenuItems();if(0===e.length)return;this.displayContextMenu(e)}},t.prototype.initializeProperties=function(e){this.columns=e instanceof ei?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(i){return i.isPrimary()&&i.isAllowRowGroup()}),this.allowValues=this.columns.some(function(i){return i.isPrimary()&&i.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(i){return i.isPrimary()&&i.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,i=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(r){return r.isPrimary()&&r.isAllowRowGroup()&&!e.columnModel.isColumnGroupingLocked(r)},activeFunction:function(r){return r.isRowGroupActive()},activateLabel:function(){return"".concat(i("groupBy","Group by")," ").concat(e.displayName)},deactivateLabel:function(){return"".concat(i("ungroupBy","Un-Group by")," ").concat(e.displayName)},activateFunction:function(){var r=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(r),"toolPanelUi")},deActivateFunction:function(){var r=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(r),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(r){return r.isPrimary()&&r.isAllowValue()},activeFunction:function(r){return r.isValueActive()},activateLabel:function(){return i("addToValues","Add ".concat(e.displayName," to values"),[e.displayName])},deactivateLabel:function(){return i("removeFromValues","Remove ".concat(e.displayName," from values"),[e.displayName])},activateFunction:function(){var r=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(r),"toolPanelUi")},deActivateFunction:function(){var r=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(r),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(r){return e.columnModel.isPivotMode()&&r.isPrimary()&&r.isAllowPivot()},activeFunction:function(r){return r.isPivotActive()},activateLabel:function(){return i("addToLabels","Add ".concat(e.displayName," to labels"),[e.displayName])},deactivateLabel:function(){return i("removeFromLabels","Remove ".concat(e.displayName," from labels"),[e.displayName])},activateFunction:function(){var r=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(r),"toolPanelUi")},deActivateFunction:function(){var r=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(r),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1).concat(this.columns.filter(function(i){return-1===e.indexOf(i)}))},t.prototype.removeColumnsFromList=function(e){var i=this;return e.filter(function(r){return-1===i.columns.indexOf(r)})},t.prototype.displayContextMenu=function(e){var i=this,r=this.getGui(),o=this.createBean(new kE),a=this.localeService.getLocaleTextFunc(),s=function(){};r.appendChild(o.getGui()),o.addMenuItems(e),o.addManagedListener(o,Gs.EVENT_CLOSE_MENU,function(){i.parentEl.focus(),s()});var l=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,afterGuiAttached:function(){return i.focusService.focusInto(o.getGui())},ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:function(c){c instanceof KeyboardEvent&&i.parentEl.focus(),i.destroyBean(o)}});l&&(s=l.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:r})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,i,r=[],o=function(u){var d=a.columns.some(function(p){return u.allowedFunction(p)&&!u.activeFunction(p)}),h=a.columns.some(function(p){return u.allowedFunction(p)&&u.activeFunction(p)});d&&r.push({name:u.activateLabel(a.displayName),icon:D.createIconNoSpan(u.addIcon,a.gridOptionsService,null),action:function(){return u.activateFunction()}}),h&&r.push({name:u.deactivateLabel(a.displayName),icon:D.createIconNoSpan(u.removeIcon,a.gridOptionsService,null),action:function(){return u.deActivateFunction()}})},a=this;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),l=s.next();!l.done;l=s.next())o(l.value)}catch(u){e={error:u}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return r},uD([C("columnModel")],t.prototype,"columnModel",void 0),uD([C("popupService")],t.prototype,"popupService",void 0),uD([C("focusService")],t.prototype,"focusService",void 0),uD([H],t.prototype,"postConstruct",null),t}(le),PNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cu=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aq=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.modelItem=e,a.allowDragging=i,a.eventType=r,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a.allowDragging=i,a}return PNe(t,n),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var i=this.cbSelect.getGui(),r=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),r.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,x.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,SC.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),Cp.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,i=this.columnGroup.getColGroupDef();if(i){var r=function(){e.setTooltip(i.headerTooltip)};r(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case G.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case G.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case G.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var i=this,o=this.columnGroup;if(!this.gridOptionsService.get("functionsReadOnly")){var s=this.createBean(new oq(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&i.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(i){e.addManagedListener(i,bt.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,bt.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),r={type:zt.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return i?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){i=!e.gridOptionsService.get("suppressDragLeaveHidesColumns"),e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(o){i&&e.modelItemUtils.updateColumns({columns:e.columnGroup.getLeafColumns(),visibleState:o?.visibleState,pivotState:o?.pivotState,eventType:e.eventType})},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else D.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e=this,i=this.columnGroup.getLeafColumns(),r={},o={};return i.forEach(function(a){var s=a.getId();r[s]=a.isVisible(),o[s]=e.modelItemUtils.createPivotState(a)}),{columns:i,visibleState:r,pivotState:o}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(D.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new Pn(this.eColumnGroupIcons,!0);this.addManagedListener(e,Pn.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],i=function(r){r.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?i(o.getChildren()):e.push(o.getColumn()))})};return i(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumnGroup","Column Group"),r=this.cbSelect.getValue(),o=void 0===r?e("ariaIndeterminate","indeterminate"):r?e("ariaVisible","visible"):e("ariaHidden","hidden"),a=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(i)),this.cbSelect.setInputAriaLabel("".concat(a," (").concat(o,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),i=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(i),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",i),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,i=this.columnModel.isPivotMode(),r=this.getVisibleLeafColumns(),o=0,a=0;if(r.forEach(function(s){!i&&s.getColDef().lockVisible||(e.isColumnChecked(s,i)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),i=0;return this.columnGroup.getLeafColumns().forEach(function(r){e?r.isAnyFunctionAllowed()&&i++:r.getColDef().lockVisible||i++}),0===i},t.prototype.isColumnChecked=function(e,i){if(i){var r=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return r||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();D.setDisplayed(this.eGroupClosedIcon,!e),D.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var i=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!i||!e&&i)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',cu([C("columnModel")],t.prototype,"columnModel",void 0),cu([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),cu([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),cu([V("cbSelect")],t.prototype,"cbSelect",void 0),cu([V("eLabel")],t.prototype,"eLabel",void 0),cu([V("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),cu([V("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),cu([V("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),cu([H],t.prototype,"init",null),t}(le),INe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),NL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},FNe=function(n){function t(e,i){var r=n.call(this)||this;return r.comp=e,r.virtualList=i,r}return INe(t,n),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new SY(this.comp,this.virtualList,{dragSourceType:zt.ToolPanel,listItemDragStartEvent:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:function(i){return e.getCurrentDragValue(i)},isMoveBlocked:function(i){return e.isMoveBlocked(i)},getNumRows:function(i){return i.getDisplayedColsList().length},moveItem:function(i,r){return e.moveItem(i,r)}}))},t.prototype.getCurrentDragValue=function(e){return e.column},t.prototype.isMoveBlocked=function(e){return!!this.gridOptionsService.get("suppressMovableColumns")||!!this.getCurrentColumns(e).find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition})},t.prototype.moveItem=function(e,i){var r=this.getTargetIndex(e,i),o=this.getCurrentColumns(e);null!=r&&this.columnModel.moveColumns(o,r,"toolPanelUi")},t.prototype.getMoveDiff=function(e,i){var r=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(e),s=o.length;return r.indexOf(o[0])<i?s:0},t.prototype.getCurrentColumns=function(e){return e instanceof ei?e.getLeafColumns():[e]},t.prototype.getTargetIndex=function(e,i){if(!i)return null;var a,r=i.component,o="top"===i.position;if(r instanceof aq?(a=r.getColumns()[0],o=!0):a=r.getColumn(),-1!==this.getCurrentColumns(e).indexOf(a))return null;var c=this.columnModel.getAllGridColumns().indexOf(a),u=o?c:c+1;return u-this.getMoveDiff(e,u)},NL([C("columnModel")],t.prototype,"columnModel",void 0),NL([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),NL([H],t.prototype,"postConstruct",null),t}(z),kNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},LNe=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.allowDragging=i,a.groupsExist=r,a.focusWrapper=o,a.processingColumnStateChange=!1,a.column=e.getColumn(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a}return kNe(t,n),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=D.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var i=this.cbSelect.getGui(),r=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),r.setAttribute("tabindex","-1");var o=D.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-".concat(a)),this.setupDragging(),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,bt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,x.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),Cp.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,i=function(){var r=e.column.getColDef().headerTooltip;e.setTooltip(r)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var i=this,o=this.column;if(!this.gridOptionsService.get("functionsReadOnly")){var s=this.createBean(new oq(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&i.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===G.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.get("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumn","Column"),r=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(i)),this.cbSelect.setInputAriaLabel("".concat(o," (").concat(r,")")),D.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),r={type:zt.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return i?Bt.ICON_HIDE:Bt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){i=!e.gridOptionsService.get("suppressDragLeaveHidesColumns"),e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:x.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(o){i&&e.modelItemUtils.updateColumns({columns:[e.column],visibleState:o?.visibleState,pivotState:o?.pivotState,eventType:"toolPanelUi"})},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})}else D.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e,i,r=this.column.getColId(),o=((e={})[r]=this.column.isVisible(),e),a=((i={})[r]=this.modelItemUtils.createPivotState(this.column),i);return{columns:[this.column],visibleState:o,pivotState:a}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var i=this.column.isAnyFunctionActive();this.cbSelect.setValue(i)}else this.cbSelect.setValue(this.column.isVisible());var r=!0,o=!0;if(e){var a=this.gridOptionsService.get("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();o=r=!a&&!s}else{var l=this.column.getColDef();r=!l.lockVisible,o=!!l.enableRowGroup||!!l.enableValue||!(l.lockPosition||l.suppressMovable)}this.cbSelect.setReadOnly(!r),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!r);var g=e&&this.gridOptionsService.get("functionsPassive");this.cbSelect.setPassive(g),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',mg([C("columnModel")],t.prototype,"columnModel",void 0),mg([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),mg([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),mg([V("eLabel")],t.prototype,"eLabel",void 0),mg([V("cbSelect")],t.prototype,"cbSelect",void 0),mg([H],t.prototype,"init",null),t}(le),NNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},VNe=function(){function n(t){this.items=t}return n.prototype.getRowCount=function(){return this.items.length},n.prototype.getRow=function(t){return this.items[t]},n}(),BNe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e.hasLoadedInitialState=!1,e.isInitialState=!1,e}return NNe(t,n),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,i,r){var o=this;this.params=e,this.allowDragging=i,this.eventType=r,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[x.EVENT_COLUMN_PIVOT_CHANGED,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,x.EVENT_COLUMN_ROW_GROUP_CHANGED,x.EVENT_COLUMN_VALUE_CHANGED,x.EVENT_COLUMN_VISIBLE,x.EVENT_NEW_COLUMNS_LOADED].forEach(function(l){o.addManagedListener(o.eventService,l,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new ag({cssIdentifier:"column-select",ariaRole:"tree"})),this.appendChild(this.virtualList.getGui());var s=this.virtualList.getAriaElement();D.setAriaLive(s,"assertive"),D.setAriaAtomic(s,!1),D.setAriaRelevant(s,"text"),this.virtualList.setComponentCreator(function(l,c){return D.setAriaLevel(c,l.getDept()+1),o.createComponentFromItem(l,c)}),this.columnModel.isReady()&&this.onColumnsChanged(),!this.params.suppressColumnMove&&(this.colsListPanelItemDragFeature=this.createManagedBean(new FNe(this,this.virtualList)))},t.prototype.createComponentFromItem=function(e,i){if(e.isGroup()){var r=new aq(e,this.allowDragging,this.eventType,i);return this.getContext().createBean(r),r}var o=new LNe(e,this.allowDragging,this.groupsExist,i);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var e=this.getExpandedStates(),i=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||i?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){var e={};return this.isInitialState?(this.params.initialState.expandedGroupIds.forEach(function(r){e[r]=!0}),e):this.allColsTree?(this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();o&&(e[o.getId()]=r.isExpanded())}}),e):{}},t.prototype.setExpandedStates=function(e){if(this.allColsTree){var i=this.isInitialState;this.forEachItem(function(r){if(r.isGroup()){var o=r.getColumnGroup();if(o){var a=e[o.getId()];(null!=a||i)&&r.setExpanded(!!a)}}})}},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var i=this.colDefService.createColumnTree(e);this.buildListModel(i),this.groupsExist=e.some(function(r){return r&&typeof r.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var i=this,r=this.onColumnExpanded.bind(this),a=function(c,u,d){c.forEach(function(h){h instanceof ei?s(h,u,d):l(h,u,d)})},s=function(c,u,d){var h=c.getColGroupDef();if(!h||!h.suppressColumnsToolPanel){if(c.isPadding())return void a(c.getChildren(),u,d);var f=i.columnModel.getDisplayNameForProvidedColumnGroup(null,c,"columnToolPanel"),m=new SC(f,c,u,!0,i.expandGroupsByDefault);d.push(m),function(c){c.addEventListener(SC.EVENT_EXPANDED_CHANGED,r);var u=c.removeEventListener.bind(c,SC.EVENT_EXPANDED_CHANGED,r);i.destroyColumnItemFuncs.push(u)}(m),a(c.getChildren(),u+1,m.getChildren())}},l=function(c,u,d){if(!c.getColDef()||!c.getColDef().suppressColumnsToolPanel){var p=i.columnModel.getDisplayNameForColumn(c,"columnToolPanel");d.push(new SC(p,c,u))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var i=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(i))};this.allColsTree.forEach(i),this.virtualList.setModel(new VNe(this.displayedColsList));var r=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=r&&this.focusRowIfAlive(r),this.notifyListeners(),this.refreshAriaLabel()},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaColumnPanelList","Column List"),r=e("columns","Columns"),o=this.displayedColsList.length;D.setAriaLabel(this.virtualList.getAriaElement(),"".concat(i," ").concat(o," ").concat(r))},t.prototype.focusRowIfAlive=function(e){var i=this;window.setTimeout(function(){i.isAlive()&&i.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var i=function(r){r.forEach(function(o){e(o),o.isGroup()&&i(o.getChildren())})};this.allColsTree&&i(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(i){i.isGroup()&&i.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,i){if(i){var r=[];this.forEachItem(function(a){if(a.isGroup()){var s=a.getColumnGroup().getId();i.indexOf(s)>=0&&(a.setExpanded(e),r.push(s))}});var o=i.filter(function(a){return!D.includes(r,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,i=0;return this.forEachItem(function(r){r.isGroup()&&(r.isExpanded()?e++:i++)}),e>0&&i>0?Er.INDETERMINATE:i>0?Er.COLLAPSED:Er.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,i=0,r=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var l,a=o.getColumn(),s=a.getColDef();if(r){if(!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue())return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:i++}}),!(e>0&&i>0))return!(0===e||i>0)},t.prototype.setFilterText=function(e){this.filterText=D.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,i=function(o){if(!D.exists(e.filterText))return!0;var a=o.getDisplayName();return null==a||-1!==a.toLowerCase().indexOf(e.filterText)},r=function(o,a){var s=!1;if(o.isGroup()){var l=i(o);o.getChildren().forEach(function(u){var d=r(u,l||a);d&&(s=d)})}var c=!(!a&&!s)||i(o);return o.setPassesFilter(c),c};this.allColsTree.forEach(function(o){return r(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){if(this.allColsTree){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}},t.prototype.getExpandedGroups=function(){var e=[];return this.allColsTree&&this.forEachItem(function(i){i.isGroup()&&i.isExpanded()&&e.push(i.getColumnGroup().getId())}),e},t.TEMPLATE='<div class="'.concat("ag-column-select-list",'" role="presentation"></div>'),dD([C("columnModel")],t.prototype,"columnModel",void 0),dD([C("toolPanelColDefService")],t.prototype,"colDefService",void 0),dD([C("modelItemUtils")],t.prototype,"modelItemUtils",void 0),dD([Mi],t.prototype,"destroyColumnTree",null),t}(le),HNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sq=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return HNe(t,n),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,x.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.gridOptionsService.updateGridOptions({options:{pivotMode:e},source:"toolPanelUi"});var i=this.api;i&&i.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},hD([C("columnModel")],t.prototype,"columnModel",void 0),hD([C("gridApi")],t.prototype,"api",void 0),hD([V("cbPivotMode")],t.prototype,"cbPivotMode",void 0),hD([Ym],t.prototype,"init",null),t}(le),jNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},UNe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return jNe(t,n),t.prototype.execute=function(e){var i=D.missingOrEmpty(this.columnModel.getValueColumns()),r=!this.gridOptionsService.getCallback("getGroupRowAgg"),o=e.changedPath&&e.changedPath.isActive();if(!(i&&r&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var i=this.columnModel.isPivotActive(),r=this.columnModel.getValueColumns(),o=i?this.columnModel.getPivotColumns():[];return{alwaysAggregateAtRootLevel:this.gridOptionsService.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:r,pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")}},t.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.get("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var i=this;e.changedPath.forEachChangedNodeDepthFirst(function(o){if(o.hasChildren()){if(-1===o.level&&!e.groupIncludeTotalFooter){var l=!i.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l)return void o.setAggData(null)}i.aggregateRowNode(o,e)}else o.aggData&&o.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,i){var a,r=0===i.valueColumns.length,o=0===i.pivotColumns.length;a=i.userAggFunc?i.userAggFunc({nodes:e.childrenAfterFilter}):r?null:o?this.aggregateRowNodeUsingValuesOnly(e,i):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(a),e.sibling&&e.sibling.setAggData(a)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){for(var i,r,o={},a=null!==(i=this.columnModel.getSecondaryColumns())&&void 0!==i?i:[],s=!0,l=0;l<a.length;l++)if(null==(u=(c=a[l]).getColDef()).pivotTotalColumnIds){var h,d=null!==(r=u.pivotKeys)&&void 0!==r?r:[];h=e.leafGroup?this.getValuesFromMappedSet(e.childrenMapped,d,u.pivotValueColumn):this.getValuesPivotNonLeaf(e,u.colId),o[u.colId]=this.aggregateValues(h,u.pivotValueColumn.getAggFunc(),u.pivotValueColumn,e,c)}else s=!1;if(!s)for(l=0;l<a.length;l++){var c,u;if(null!=(u=(c=a[l]).getColDef()).pivotTotalColumnIds&&u.pivotTotalColumnIds.length){var p=u.pivotTotalColumnIds.map(function(v){return o[v]});o[u.colId]=this.aggregateValues(p,u.pivotValueColumn.getAggFunc(),u.pivotValueColumn,e,c)}}return o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,i){var r=this,o={},a=i.changedPath.isActive()?i.changedPath.getValueColumnsForNode(e,i.valueColumns):i.valueColumns,s=i.changedPath.isActive()?i.changedPath.getNotValueColumnsForNode(e,i.valueColumns):null,l=this.getValuesNormal(e,a,i.filteredOnly),c=e.aggData;return a.forEach(function(u,d){o[u.getId()]=r.aggregateValues(l[d],u.getAggFunc(),u,e)}),s&&c&&s.forEach(function(u){o[u.getId()]=c[u.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,i){return e.childrenAfterFilter.map(function(r){return r.aggData[i]})},t.prototype.getValuesFromMappedSet=function(e,i,r){for(var o=this,a=e,s=0;s<i.length;s++)a=a?a[i[s]]:null;return a?a.map(function(c){return o.valueService.getValue(r,c)}):[]},t.prototype.getValuesNormal=function(e,i,r){var o=[];i.forEach(function(){return o.push([])});for(var a=i.length,s=r?e.childrenAfterFilter:e.childrenAfterGroup,l=s.length,c=0;c<l;c++)for(var u=s[c],d=0;d<a;d++){var p=this.valueService.getValue(i[d],u);o[d].push(p)}return o},t.prototype.aggregateValues=function(e,i,r,o,a){var s="string"==typeof i?this.aggFuncService.getAggFunc(i):i;return"function"!=typeof s?(console.error("AG Grid: unrecognised aggregation function ".concat(i)),null):s(this.gridOptionsService.addGridCommonParams({values:e,column:r,colDef:r?r.getColDef():void 0,pivotResultColumn:a,rowNode:o,data:o?o.data:void 0}))},pD([C("columnModel")],t.prototype,"columnModel",void 0),pD([C("valueService")],t.prototype,"valueService",void 0),pD([C("aggFuncService")],t.prototype,"aggFuncService",void 0),pD([oe("aggregationStage")],t)}(z),VL=function(){function n(){this.allSets={},this.allParents=[]}return n.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},n.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},n.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},n.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},n.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},n.prototype.getAllParents=function(){return this.allParents},n.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var i=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(r){return!i.removeFromChildrenAfterGroup[r.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(r){return!i.removeFromAllLeafChildren[r.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},n}(),zNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gg=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lq=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},cq=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},WNe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return zNe(t,n),t.prototype.execute=function(e){var i=this.createGroupingDetails(e);i.transactions?this.handleTransaction(i):this.shotgunResetEverything(i,!0===e.afterColumnsChanged),i.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(i)),this.selectableService.updateSelectableAfterGrouping()},t.prototype.positionLeafsAndGroups=function(e){e.forEachChangedNodeDepthFirst(function(i){if(i.childrenAfterGroup){var a,r=[],o=[];i.childrenAfterGroup.forEach(function(s){var l;null!==(l=s.childrenAfterGroup)&&void 0!==l&&l.length?""!==s.key||a?o.push(s):a=s:r.push(s)}),a&&o.push(a),i.childrenAfterGroup=cq(cq([],lq(r),!1),lq(o),!1)}},!1)},t.prototype.createGroupingDetails=function(e){var i,r=e.rowNode,o=e.changedPath,a=e.rowNodeTransactions,s=e.rowNodeOrder,l=this.gridOptionsService.get("treeData"),c=l?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.get("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.get("groupDefaultExpanded"),groupedCols:c,rootNode:r,pivotMode:this.columnModel.isPivotMode(),groupedColCount:l||!c?0:c.length,rowNodeOrder:s,transactions:a,changedPath:o,groupAllowUnbalanced:this.gridOptionsService.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),usingTreeData:l,suppressGroupMaintainValueType:this.gridOptionsService.get("suppressGroupMaintainValueType"),getDataPath:l?this.gridOptionsService.get("getDataPath"):void 0,keyCreators:null!==(i=c?.map(function(d){return d.getColDef().keyCreator}))&&void 0!==i?i:[]}},t.prototype.handleTransaction=function(e){var i=this;e.transactions.forEach(function(r){var o=e.usingTreeData?void 0:new VL;if(D.existsAndNotEmpty(r.remove)&&i.removeNodes(r.remove,e,o),D.existsAndNotEmpty(r.update)&&i.moveNodesInWrongPath(r.update,e,o),D.existsAndNotEmpty(r.add)&&i.insertNodes(r.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),i.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(i){i.childrenAfterGroup&&D.sortRowNodesByOrder(i.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(i)},!1,!0)},t.prototype.orderGroups=function(e){var i=e.initialGroupOrderComparator;D.exists(i)&&function r(o){D.exists(o.childrenAfterGroup)&&!o.leafGroup&&(o.childrenAfterGroup.sort(function(s,l){return i({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return r(s)}))}(e.rootNode)},t.prototype.getExistingPathForNode=function(e,i){for(var r=[],o=i.usingTreeData?e:e.parent;o&&o!==i.rootNode;)r.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return r.reverse(),r},t.prototype.moveNodesInWrongPath=function(e,i,r){var o=this;e.forEach(function(a){i.changedPath.isActive()&&i.changedPath.addParentNode(a.parent);var s=function(d){return d.key},l=o.getExistingPathForNode(a,i).map(s),c=o.getGroupInfo(a,i).map(s);D.areEqual(l,c)||o.moveNode(a,i,r)})},t.prototype.moveNode=function(e,i,r){this.removeNodesInStages([e],i,r),this.insertOneNode(e,i,!0,r),e.setData(e.data),i.changedPath.isActive()&&i.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,i,r){this.removeNodesInStages(e,i,r),i.changedPath.isActive()&&e.forEach(function(o){return i.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,i,r){if(this.removeNodesFromParents(e,i,r),i.usingTreeData){this.postRemoveCreateFillerNodes(e,i);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,i)}},t.prototype.forEachParentGroup=function(e,i,r){for(var o=i;o&&o!==e.rootNode;)r(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,i,r){var o=this,a=null==r,s=r||new VL;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(i,l.parent,function(c){s.removeFromAllLeafChildren(c,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,i){var r=this;e.forEach(function(o){if(o.hasChildren()){var s=r.getExistingPathForNode(o,i),l=r.findParentForNode(o,s,i);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(c){return c.parent=l})}})},t.prototype.removeEmptyGroups=function(e,i){for(var r=this,o=!0,s=function(){o=!1;var l=new VL;e.forEach(function(c){r.forEachParentGroup(i,c,function(u){(function(l){var c=r.getChildrenMappedKey(l.key,l.rowGroupColumn),u=l.parent;return!!(u&&u.childrenMapped&&u.childrenMapped[c]&&l.isEmptyRowGroupNode())})(u)&&(o=!0,r.removeFromParent(u,l),u.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,i){e.parent&&(i?i.removeFromChildrenAfterGroup(e.parent,e):(D.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[r]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,i){var r=this.getChildrenMappedKey(e.key,e.rowGroupColumn);i&&(null!=i.childrenMapped&&(i.childrenMapped[r]=e),i.childrenAfterGroup.push(e),i.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,i){return null!=e&&null!=i&&e.pivotMode===i.pivotMode&&D.areEqual(e.groupedCols,i.groupedCols)&&D.areEqual(e.keyCreators,i.keyCreators)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var i=this,r=function(o){o&&o.forEach(function(a){!e.usingTreeData&&!a.group||(i.setGroupData(a,{field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn,leafNode:a.allLeafChildren[0]},e),r(a.childrenAfterGroup))})};r(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,i){if(!this.noChangeInGroupingColumns(e,i)){this.selectionService.filterFromSelection(function(s){return s&&!s.group});var r=e.rootNode;r.leafGroup=!e.usingTreeData&&0===e.groupedCols.length,r.childrenAfterGroup=[],r.childrenMapped={},r.updateHasChildren();var a=r.sibling;a&&(a.childrenAfterGroup=r.childrenAfterGroup,a.childrenMapped=r.childrenMapped),this.insertNodes(r.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,i){var r=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return i&&(r=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,r},t.prototype.insertNodes=function(e,i,r){var o=this;e.forEach(function(a){o.insertOneNode(a,i,r),i.changedPath.isActive()&&i.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,i,r,o){var a=this.getGroupInfo(e,i),s=this.findParentForNode(e,a,i,o);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),i.usingTreeData?this.swapGroupWithUserNode(s,e,r):(e.parent=s,e.level=a.length,s.childrenAfterGroup.push(e),s.updateHasChildren())},t.prototype.findParentForNode=function(e,i,r,o){var a=this,s=r.rootNode;return i.forEach(function(l,c){s=a.getOrCreateNextNode(s,l,c,r),o?.isRemoveFromAllLeafChildren(s,e)?o?.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)}),s},t.prototype.swapGroupWithUserNode=function(e,i,r){i.parent=e.parent,i.key=e.key,i.field=e.field,i.groupData=e.groupData,i.level=e.level,r||(i.expanded=e.expanded),i.leafGroup=e.leafGroup,i.rowGroupIndex=e.rowGroupIndex,i.allLeafChildren=e.allLeafChildren,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenMapped=e.childrenMapped,i.sibling=e.sibling,i.updateHasChildren(),this.removeFromParent(e),i.childrenAfterGroup.forEach(function(o){return o.parent=i}),this.addToParent(i,e.parent)},t.prototype.getOrCreateNextNode=function(e,i,r,o){var a=this.getChildrenMappedKey(i.key,i.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(i,e,r,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,i,r,o){var a=new st(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e,o),a.key=e.key,a.id=this.createGroupId(a,i,o.usingTreeData,r),a.level=r,a.leafGroup=!o.usingTreeData&&r===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=o.usingTreeData?null:r,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?i:null,this.setExpandedInitialValue(o,a),a},t.prototype.createGroupId=function(e,i,r,o){var a;return st.ID_PREFIX_ROW_GROUP+(a=r?function(s,l,c){if(c<0)return null;var u=l?a(l,l.parent,c-1):null;return"".concat(null==u?"":u+"-").concat(c,"-").concat(s.key)}:function(s,l){if(!s.rowGroupColumn)return null;var c=l?a(l,l.parent,0):null;return"".concat(null==c?"":c+"-").concat(s.rowGroupColumn.getColId(),"-").concat(s.key)})(e,i,o)},t.prototype.setGroupData=function(e,i,r){var o=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(s){if(r.usingTreeData)e.groupData[s.getColId()]=i.key;else{var c=e.rowGroupColumn;null!==c&&s.isRowGroupDisplayed(c.getId())&&(e.groupData[s.getColId()]=r.suppressGroupMaintainValueType?i.key:o.valueService.getValue(c,i.leafNode))}})},t.prototype.getChildrenMappedKey=function(e,i){return i?i.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,i){if(e.pivotMode&&i.leafGroup)i.expanded=!1;else{var r=e.isGroupOpenByDefault;i.expanded=r?1==r({rowNode:i,field:i.field,key:i.key,level:i.level,rowGroupColumn:i.rowGroupColumn}):-1===e.expandByDefault||i.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,i){return i.usingTreeData?this.getGroupInfoFromCallback(e,i):this.getGroupInfoFromGroupColumns(e,i)},t.prototype.getGroupInfoFromCallback=function(e,i){var r=i.getDataPath?i.getDataPath(e.data):null;return(null==r||0===r.length)&&D.warnOnce("getDataPath() should not return an empty path for data ".concat(e.data)),r?r.map(function(a){return{key:a,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,i){var r=this,o=[];return i.groupedCols.forEach(function(a){var s=r.valueService.getKeyForNode(a,e),l=null!=s&&""!==s;if((i.pivotMode||!i.groupAllowUnbalanced)&&!l&&(s="",l=!0),l){var u={key:s,field:a.getColDef().field,rowGroupColumn:a,leafNode:e};o.push(u)}}),o},gg([C("columnModel")],t.prototype,"columnModel",void 0),gg([C("selectableService")],t.prototype,"selectableService",void 0),gg([C("valueService")],t.prototype,"valueService",void 0),gg([C("beans")],t.prototype,"beans",void 0),gg([C("selectionService")],t.prototype,"selectionService",void 0),gg([oe("groupStage")],t)}(z),$Ne=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fD=function(){return fD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},fD.apply(this,arguments)},mD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gD=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},vg=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},KNe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return $Ne(t,n),e=t,t.prototype.init=function(){var i=this,r=function(){var a;return null!==(a=i.gos.get("serverSidePivotResultFieldSeparator"))&&void 0!==a?a:"_"};this.fieldSeparator=r(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",function(){i.fieldSeparator=r()});var o=function(){return i.gos.get("pivotDefaultExpanded")};this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",function(){i.pivotDefaultExpanded=o()})},t.prototype.createPivotColumnDefs=function(i){var r=this.createPivotColumnsFromUniqueValues(i),a=function o(l,c){return void 0===c&&(c=[]),l.forEach(function(u){void 0!==u.children?o(u.children,c):c.push(u)}),c}(r);return this.addRowGroupTotals(r,a),this.addExpandablePivotGroups(r,a),this.addPivotTotalsToGroups(r,a),{pivotColumnGroupDefs:r,pivotColumnDefs:a.map(function(l){return D.cloneObject(l)})}},t.prototype.createPivotColumnsFromUniqueValues=function(i){var r=this.columnModel.getPivotColumns();return this.recursivelyBuildGroup(0,i,[],r.length,r)},t.prototype.recursivelyBuildGroup=function(i,r,o,a,s){var l=this,c=this.columnModel.getValueColumns();if(i>=a)return this.buildMeasureCols(o);var u=s[i].getColDef(),d=this.headerNameComparator.bind(this,u.pivotComparator);if(1===c.length&&this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&i===a-1){var h=[];return D.iterateObject(r,function(f){var m=vg(vg([],gD(o),!1),[f],!1),g=l.createColDef(c[0],f,m);g.columnGroupShow="open",h.push(g)}),h.sort(d),h}var p=[];return D.iterateObject(r,function(f,m){var g=-1===l.pivotDefaultExpanded||i<l.pivotDefaultExpanded,v=vg(vg([],gD(o),!1),[f],!1);p.push({children:l.recursivelyBuildGroup(i+1,m,v,a,s),headerName:f,pivotKeys:v,columnGroupShow:"open",openByDefault:g,groupId:l.generateColumnGroupId(v)})}),p.sort(d),p},t.prototype.buildMeasureCols=function(i){var r=this,o=this.columnModel.getValueColumns();return 0===o.length?[this.createColDef(null,"-",i)]:o.map(function(a){var s=r.columnModel.getDisplayNameForColumn(a,"header");return fD(fD({},r.createColDef(a,s,i)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(i,r){var o=this;if(!this.gridOptionsService.get("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var a=function(s,l,c){var u=s;if(u.children){var d=new Map;u.children.forEach(function(g){a(g,l,d)});var h=!u.children.some(function(g){return g.children});o.columnModel.getValueColumns().forEach(function(g){var v=o.columnModel.getDisplayNameForColumn(g,"header"),y=o.createColDef(g,v,s.pivotKeys);y.pivotTotalColumnIds=d.get(g.getColId()),y.columnGroupShow="closed",y.aggFunc=g.getAggFunc(),h||(s.children.push(y),l.push(y))}),o.merge(c,d)}else{var p=s;if(!p.pivotValueColumn)return;var f=p.pivotValueColumn.getColId(),m=c.has(f)?c.get(f):[];m.push(p.colId),c.set(f,m)}};i.forEach(function(s){a(s,r,new Map)})}},t.prototype.addPivotTotalsToGroups=function(i,r){var o=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var a="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),s=this.columnModel.getValueColumns(),l=s.map(function(u){return u.getAggFunc()});if(l&&!(l.length<1)&&this.sameAggFuncs(l)){var c=s[0];i.forEach(function(u){o.recursivelyAddPivotTotal(u,r,c,a)})}}},t.prototype.recursivelyAddPivotTotal=function(i,r,o,a){var s=this,l=i;if(!l.children)return i.colId?[i.colId]:null;var u=[];if(l.children.forEach(function(m){var g=s.recursivelyAddPivotTotal(m,r,o,a);g&&(u=u.concat(g))}),l.children.length>1){var h=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),p=this.createColDef(o,h,i.pivotKeys,!0);p.pivotTotalColumnIds=u,p.aggFunc=o.getAggFunc();var f=i.children;a?f.push(p):f.unshift(p),r.push(p)}return u},t.prototype.addRowGroupTotals=function(i,r){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var a="after"===this.gridOptionsService.get("pivotRowTotals"),s=this.columnModel.getValueColumns(),l=a?s.slice():s.slice().reverse(),c=function(h){var p=l[h],f=[];i.forEach(function(g){f=f.concat(o.extractColIdsForValueColumn(g,p))});var m=l.length>1||!u.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");u.createRowGroupTotal(i,r,p,f,a,m)},u=this,d=0;d<l.length;d++)c(d)},t.prototype.extractColIdsForValueColumn=function(i,r){var o=this;if(!i.children)return i.pivotValueColumn===r&&i.colId?[i.colId]:[];var l=[];return i.children.forEach(function(c){o.extractColIdsForValueColumn(c,r);var u=o.extractColIdsForValueColumn(c,r);l=l.concat(u)}),l},t.prototype.createRowGroupTotal=function(i,r,o,a,s,l){var u;if(0===this.columnModel.getValueColumns().length)u=this.createColDef(null,"-",[]);else{var d=this.columnModel.getDisplayNameForColumn(o,"header");(u=this.createColDef(o,d,[])).pivotTotalColumnIds=a}u.colId=e.PIVOT_ROW_TOTAL_PREFIX+u.colId,r.push(u);var h=l?{children:[u],pivotKeys:[],groupId:"".concat(e.PIVOT_ROW_TOTAL_PREFIX,"_pivotGroup_").concat(o.getColId())}:u;s?i.push(h):i.unshift(h)},t.prototype.createColDef=function(i,r,o,a){void 0===a&&(a=!1);var s={};if(i){var l=i.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=r,s.colId=this.generateColumnId(o||[],i&&!a?i.getColId():""),s.field=s.colId,s.valueGetter=function(c){var u;return null===(u=c.data)||void 0===u?void 0:u[c.colDef.field]},s.pivotKeys=o,s.pivotValueColumn=i,!0===s.filter&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(i){if(1==i.length)return!0;for(var r=1;r<i.length;r++)if(i[r]!==i[0])return!1;return!0},t.prototype.headerNameComparator=function(i,r,o){return i?i(r.headerName,o.headerName):r.headerName&&!o.headerName?1:!r.headerName&&o.headerName?-1:r.headerName&&o.headerName?r.headerName<o.headerName?-1:r.headerName>o.headerName?1:0:0},t.prototype.merge=function(i,r){r.forEach(function(o,a,s){var l=i.has(a)?i.get(a):[],c=vg(vg([],gD(l),!1),gD(o),!1);i.set(a,c)})},t.prototype.generateColumnGroupId=function(i){var r=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_".concat(r.join("-"),"_").concat(i.join("-"))},t.prototype.generateColumnId=function(i,r){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_".concat(o.join("-"),"_").concat(i.join("-"),"_").concat(r)},t.prototype.createColDefsFromFields=function(i){for(var r=this,o={},a=0;a<i.length;a++)for(var l=i[a].split(this.fieldSeparator),c=o,u=0;u<l.length;u++){var d=l[u];null==c[d]&&(c[d]={}),c=c[d]}var h=function(v,y,_,b){var w,E=[];for(var M in _){var P=_[M],I=h("".concat(v).concat(r.fieldSeparator).concat(M),M,P,b+1);E.push(I)}if(0===E.length){var k=r.columnModel.getPrimaryColumn(y);if(k){var L=null!==(w=r.columnModel.getDisplayNameForColumn(k,"header"))&&void 0!==w?w:y,B=r.createColDef(k,L,void 0,!1);return B.colId=v,B.aggFunc=k.getAggFunc(),B.valueGetter=function(W){var $;return null===($=W.data)||void 0===$?void 0:$[v]},B}return{colId:v,headerName:y,valueGetter:function(W){var $;return null===($=W.data)||void 0===$?void 0:$[v]}}}return r.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===E.length&&"colId"in E[0]?(E[0].headerName=y,E[0]):{openByDefault:-1===r.pivotDefaultExpanded||b<r.pivotDefaultExpanded,groupId:v,headerName:y,children:E}},p=[];for(var f in o){var g=h(f,f,o[f],0);p.push(g)}return p},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",mD([C("columnModel")],t.prototype,"columnModel",void 0),mD([C("gridOptionsService")],t.prototype,"gos",void 0),mD([H],t.prototype,"init",null),e=mD([oe("pivotColDefService")],t)}(z),YNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qNe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.uniqueValues={},e}return YNe(t,n),t.prototype.execute=function(e){var i=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(i):this.executePivotOff(i)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var i=this.bucketUpRowNodes(e),r=this.setUniqueValues(i),o=this.columnModel.getValueColumns(),a=o.map(function(b){return"".concat(b.getId(),"-").concat(b.getColDef().headerName)}).join("#"),s=o.map(function(b){return b.getAggFunc().toString()}).join("#"),l=this.aggregationColumnsHashLastTime!==a,c=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=a,this.aggregationFuncsHashLastTime=s;var u=this.columnModel.getRowGroupColumns().map(function(b){return b.getId()}).join("#"),d=u!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=u;var h=this.gridOptionsService.get("pivotRowTotals"),p=this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.gridOptionsService.get("suppressExpandablePivotGroups"),m=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn"),g=h!==this.pivotRowTotalsLastTime||p!==this.pivotColumnGroupTotalsLastTime||f!==this.suppressExpandablePivotGroupsLastTime||m!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=h,this.pivotColumnGroupTotalsLastTime=p,this.suppressExpandablePivotGroupsLastTime=f,this.removePivotHeaderRowWhenSingleValueColumnLastTime=m,r||l||d||c||g){var v=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),y=v.pivotColumnGroupDefs;this.pivotColumnDefs=v.pivotColumnDefs,this.columnModel.setSecondaryColumns(y,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var i=this,r={};e.forEachChangedNodeDepthFirst(function(a){a.leafGroup&&(a.childrenMapped=null)});var o=function(a){var s;a.leafGroup?i.bucketRowNode(a,r):null===(s=a.childrenAfterFilter)||void 0===s||s.forEach(o)};return e.executeFromRootNode(o),r},t.prototype.bucketRowNode=function(e,i){var r=this.columnModel.getPivotColumns();e.childrenMapped=0===r.length?null:this.bucketChildren(e.childrenAfterFilter,r,0,i),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,i,r,o){var a=this,s={},l=i[r];if(e.forEach(function(u){var d=a.valueService.getKeyForNode(l,u);D.missing(d)&&(d=""),o[d]||(o[d]={}),s[d]||(s[d]=[]),s[d].push(u)}),r===i.length-1)return s;var c={};return D.iterateObject(s,function(u,d){c[u]=a.bucketChildren(d,i,r+1,o[u])}),c},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},vD([C("valueService")],t.prototype,"valueService",void 0),vD([C("columnModel")],t.prototype,"columnModel",void 0),vD([C("pivotColDefService")],t.prototype,"pivotColDefService",void 0),vD([oe("pivotStage")],t)}(z),XNe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Yl=typeof BigInt>"u"?null:BigInt,ZNe={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},QNe=function(n){function t(){var i=null!==n&&n.apply(this,arguments)||this;return i.aggFuncsMap={},i.initialised=!1,i}var e;return XNe(t,n),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=JNe,this.aggFuncsMap[e.AGG_FIRST]=e1e,this.aggFuncsMap[e.AGG_LAST]=t1e,this.aggFuncsMap[e.AGG_MIN]=i1e,this.aggFuncsMap[e.AGG_MAX]=n1e,this.aggFuncsMap[e.AGG_COUNT]=r1e,this.aggFuncsMap[e.AGG_AVG]=o1e,this.initialised=!0},t.prototype.isAggFuncPossible=function(i,r){var o=this.getFuncNames(i),a=D.includes(o,r),s=D.exists(this.aggFuncsMap[r]);return a&&s},t.prototype.getDefaultFuncLabel=function(i){var r;return null!==(r=ZNe[i])&&void 0!==r?r:i},t.prototype.getDefaultAggFunc=function(i){var r=i.getColDef().defaultAggFunc;if(D.exists(r)&&this.isAggFuncPossible(i,r))return r;if(this.isAggFuncPossible(i,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(i);return D.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(i){var r=this;this.init(),D.iterateObject(i,function(o,a){r.aggFuncsMap[o]=a})},t.prototype.getAggFunc=function(i){return this.init(),this.aggFuncsMap[i]},t.prototype.getFuncNames=function(i){return i.getColDef().allowedAggFuncs??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",uq([H],t.prototype,"init",null),e=uq([oe("aggFuncService")],t)}(z);function JNe(n){for(var t=n.values,e=null,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?null===e?e=r:e+=Yl?"number"==typeof e?r:Yl(r):r:"bigint"==typeof r&&(e=null===e?r:("bigint"==typeof e?e:Yl(e))+r)}return e}function e1e(n){return n.values.length>0?n.values[0]:null}function t1e(n){return n.values.length>0?D.last(n.values):null}function i1e(n){for(var t=n.values,e=null,i=0;i<t.length;i++){var r=t[i];("number"==typeof r||"bigint"==typeof r)&&(null===e||e>r)&&(e=r)}return e}function n1e(n){for(var t=n.values,e=null,i=0;i<t.length;i++){var r=t[i];("number"==typeof r||"bigint"==typeof r)&&(null===e||e<r)&&(e=r)}return e}function r1e(n){for(var t,e,i=n.values,r=0,o=0;o<i.length;o++){var a=i[o];r+=null!=a&&"number"==typeof a.value?a.value:1}var s=null===(e=null===(t=n.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[n.column.getColId()];return s&&s.value===r?s:{value:r,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function o1e(n){for(var t,e,i,r=n.values,o=0,a=0,s=0;s<r.length;s++){var l=r[s],c=null;"number"==typeof l||"bigint"==typeof l?(c=l,a++):null!=l&&("number"==typeof l.value||"bigint"==typeof l.value)&&"number"==typeof l.count&&(c=Yl?l.value*("number"==typeof l.value?l.count:Yl(l.count)):l.value*l.count,a+=l.count),"number"==typeof c?o+=Yl?"number"==typeof o?c:Yl(c):c:"bigint"==typeof c&&(o=("bigint"==typeof o?o:Yl(o))+c)}var u=null;a>0&&(u=Yl?o/("number"==typeof o?a:Yl(a)):o/a);var d=null===(e=null===(t=n.rowNode)||void 0===t?void 0:t.aggData)||void 0===e?void 0:e[null===(i=n.column)||void 0===i?void 0:i.getColId()];return d&&d.count===a&&d.value===u?d:{count:a,value:u,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var AD,Cg,OC,RC,PC,Rq,OD,Pq,QL,dq=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ql=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hq=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.column=e,s.dragSourceDropTarget=i,s.ghost=r,s.dropZonePurpose=o,s.horizontal=a,s.popupShowing=!1,s}return dq(t,n),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var i=this.getGui(),r=this.gridOptionsService.get("functionsReadOnly");this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(D.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(D.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!r&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip(),this.activateTabIndex();var o=function(){var a=e.isGroupingAndLocked();D.setDisplayed(e.eButton,!a&&!e.gridOptionsService.get("functionsReadOnly")),e.eDragHandle.classList.toggle("ag-column-select-column-readonly",a),e.setupAria()};o(),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",function(){return o()})},t.prototype.getColumn=function(){return this.column},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),i=this.getColumnAndAggFuncName(),r=i.name,o=i.aggFuncName,a=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),c=this.gridOptionsService.get("rowGroupPanelSuppressSort"),u=[[o&&"".concat(o).concat(a),r,this.isGroupingZone()&&!c&&l&&", ".concat(s[l])].filter(function(m){return!!m}).join("")],d=this.gridOptionsService.get("functionsReadOnly");if(this.isAggregationZone()&&!d){var h=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");u.push(h)}if(this.isGroupingZone()&&this.column.isSortable()&&!c){var p=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");u.push(p)}if(!this.isGroupingAndLocked()){var f=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");u.push(f)}D.setAriaLabel(this.getGui(),u.join(". "))},t.prototype.setupTooltip=function(){var e=this,i=function(){var r=e.column.getColDef().headerTooltip;e.setTooltip(r)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)},t.prototype.setupSort=function(){var e=this,i=this.column.isSortable(),r=this.isGroupingZone();if(i&&r&&!this.gridOptionsService.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(a){a.preventDefault();var s="ctrl"===e.gridOptionsService.get("multiSortKey");e.sortController.progressSort(e.column,s?a.ctrlKey||a.metaKey:a.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(a){a.key===G.ENTER&&e.isGroupingZone()&&o(a)})}},t.prototype.addDragSource=function(){var e=this,i=this,r=i.dragAndDropService,s=i.column,l={type:zt.ToolPanel,eElement:i.eDragHandle,getDefaultIconName:function(){return Bt.ICON_HIDE},getDragItem:function(){return e.createDragItem(s)},dragItemName:i.displayName};r.addDragSource(l,!0),this.addDestroyFunc(function(){return r.removeDragSource(l)})},t.prototype.createDragItem=function(e){var i={};return i[e.getId()]=e.isVisible(),{columns:[e],visibleState:i}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.isGroupingAndLocked=function(){return this.isGroupingZone()&&this.columnModel.isColumnGroupingLocked(this.column)},t.prototype.setupRemove=function(){var e=this;D.setDisplayed(this.eButton,!this.isGroupingAndLocked()&&!this.gridOptionsService.get("functionsReadOnly"));var i={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===G.ENTER;o.key===G.DELETE&&(e.isGroupingAndLocked()||(o.preventDefault(),e.dispatchEvent(i))),a&&e.isAggregationZone()&&!e.gridOptionsService.get("functionsReadOnly")&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(i),o.stopPropagation()});var r=new Pn(this.eButton);this.addManagedListener(r,Pn.EVENT_TAP,function(){e.dispatchEvent(i)}),this.addDestroyFunc(r.destroy.bind(r))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,i="";if(this.isAggregationZone()){var r=this.column.getAggFunc(),o="string"==typeof r?r:"agg";i=this.localeService.getLocaleTextFunc()(o,o)}return{name:e,aggFuncName:i}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),i=e.name,r=e.aggFuncName,o=this.isAggregationZone()?"".concat(r,"(").concat(i,")"):i,a=D.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var i=new ag({cssIdentifier:"select-agg-func"}),r=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=i.getGui();i.setModel({getRow:function(p){return r[p]},getRowCount:function(){return r.length}}),this.getContext().createBean(i);var s=D.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width="".concat(o.clientWidth,"px");var l=this.addManagedListener(s,"focusout",function(p){!s.contains(p.relatedTarget)&&d&&d.hideFunc()}),u=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(p){e.destroyBean(i),e.popupShowing=!1,"Escape"===p?.key&&o.focus(),l&&l()},ariaLabel:u("ariaLabelAggregationFunction","Aggregation Function")});d&&i.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),i.addGuiEventListener("keydown",function(p){if(p.key===G.ENTER||p.key===G.SPACE){var f=i.getLastFocusedRow();if(null==f)return;var m=i.getComponentAt(f);m&&m.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),i.refresh();var h=r.findIndex(function(p){return p===e.column.getAggFunc()});-1===h&&(h=0),i.focusRow(h)}},t.prototype.createAggSelect=function(e,i){var r=this,a=this.localeService.getLocaleTextFunc(),s=i.toString(),l=a(s,s);return new a1e(function(){e(),r.gridOptionsService.get("functionsPassive")?r.eventService.dispatchEvent({type:x.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[r.column],aggFunc:i}):r.columnModel.setColumnAggFunc(r.column,i,"toolPanelDragAndDrop")},l)},t.prototype.addElementClasses=function(e,i){i=i?"-".concat(i):"";var r=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(i),"ag-column-drop-".concat(r,"-cell").concat(i))},t.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},t.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.column=null,this.dragSourceDropTarget=null},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',ql([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ql([C("columnModel")],t.prototype,"columnModel",void 0),ql([C("popupService")],t.prototype,"popupService",void 0),ql([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),ql([C("sortController")],t.prototype,"sortController",void 0),ql([V("eText")],t.prototype,"eText",void 0),ql([V("eDragHandle")],t.prototype,"eDragHandle",void 0),ql([V("eButton")],t.prototype,"eButton",void 0),ql([V("eSortIndicator")],t.prototype,"eSortIndicator",void 0),ql([H],t.prototype,"init",null),t}(le),a1e=function(n){function t(e,i){var r=n.call(this,'<div class="ag-select-agg-func-item"/>')||this;return r.selectItem=e,r.getGui().innerText=i,r.addGuiEventListener("click",r.selectItem),r}return dq(t,n),t}(le),s1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fq=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},mq=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},GL=function(n){function t(e,i){var r=n.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return r.horizontal=e,r.dropZonePurpose=i,r.state=t.STATE_NOT_DRAGGING,r.guiDestroyFunctions=[],r.childColumnComponents=[],r.resizeEnabled=!1,r.addElementClasses(r.getGui()),r.eColumnDropList=document.createElement("div"),r.addElementClasses(r.eColumnDropList,"list"),D.setAriaRole(r.eColumnDropList,"listbox"),r}return s1e(t,n),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.isSourceEventFromTarget=function(e){return e.dropZoneTarget.contains(e.dragSource.eElement)},t.prototype.destroy=function(){this.destroyGui(),n.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,D.clearElement(this.getGui()),D.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new tu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new sE(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),D.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var r=e.key===G.DOWN,o=e.key===G.UP;if(this.horizontal){var a=this.gridOptionsService.get("enableRtl");r=!a&&e.key===G.RIGHT||a&&e.key===G.LEFT,o=!a&&e.key===G.LEFT||a&&e.key===G.RIGHT}if(r||o){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,i){i=i?"-".concat(i):"";var r=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(i),"ag-column-drop-".concat(r).concat(i))},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===zt.HeaderCell||e===zt.ToolPanel},t.prototype.minimumAllowedNewInsertIndex=function(){var e=this.gridOptionsService.get("groupLockGroupColumns"),i=this.colModel.getRowGroupColumns().length;return-1===e?i:Math.min(e,i)},t.prototype.checkInsertIndex=function(e){var i=this.getNewInsertIndex(e);if(i<0)return!1;var r=this.minimumAllowedNewInsertIndex(),o=Math.max(r,i),a=o!==this.insertIndex;return a&&(this.insertIndex=o),a},t.prototype.getNewInsertIndex=function(e){var i=this,r=e.event,o=this.horizontal?r.clientX:r.clientY,a=this.childColumnComponents.map(function(d){return d.getGui().getBoundingClientRect()}),s=a.findIndex(function(d){return i.horizontal?d.right>o&&d.left<o:d.top<o&&d.bottom>o});if(-1===s){var l=this.beans.gridOptionsService.get("enableRtl");return a.every(function(d){return o>(i.horizontal?d.right:d.bottom)})?l&&this.horizontal?0:this.childColumnComponents.length:a.every(function(d){return o<(i.horizontal?d.left:d.top)})?l&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var i=this,r=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=r.filter(function(u){return i.isColumnDroppable(u,e)}),a=o.every(function(u){return-1!==i.childColumnComponents.map(function(d){return d.getColumn()}).indexOf(u)});if(0!==o.length){if(this.potentialDndColumns=o,a)return void(this.state=t.STATE_NOT_DRAGGING);if(this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&!e.fromNudge){var l=e.dragSource.getDragItem();this.setColumnsVisible(l.columns,!1,"uiColumnDragged")}this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,i,r){if(e){var o=e.filter(function(a){return!a.getColDef().lockVisible});this.colModel.setColumnsVisible(o,i,r)}},t.prototype.isPotentialDndColumns=function(){return D.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var i=e.dragSource.getDragItem().columns||[];this.removeColumns(i)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){var o=e.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.get("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var i=this.getExistingColumns().filter(function(r){return!D.includes(e,r)});this.updateColumns(i)},t.prototype.addColumns=function(e){if(e){var i=this.getExistingColumns().slice(),r=e.filter(function(o){return i.indexOf(o)<0});D.insertArrayIntoArray(i,r,this.insertIndex),this.updateColumns(i)}},t.prototype.rearrangeColumns=function(e){var i=this.getNonGhostColumns().slice();return D.insertArrayIntoArray(i,e,this.insertIndex),!D.areEqual(i,this.getExistingColumns())&&(this.updateColumns(i),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,i=this.resizeEnabled,r=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),i&&this.toggleResizable(i),this.focusService.isKeyboardMode()&&this.restoreFocus(r,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),i=this.gridOptionsService.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1},t.prototype.restoreFocus=function(e,i){var r=this.getGui(),o=Array.from(r.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===o.length&&i.focus();var s=o[Math.min(o.length-1,e)];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,i=this.getExistingColumns();return this.isPotentialDndColumns()?i.filter(function(r){return!D.includes(e.potentialDndColumns,r)}):i},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns().map(function(a){return e.createColumnComponent(a,!1)});if(this.isPotentialDndColumns()){var o=this.potentialDndColumns.map(function(a){return e.createColumnComponent(a,!0)});this.insertIndex>=r.length?r.push.apply(r,mq([],fq(o),!1)):r.splice.apply(r,mq([this.insertIndex,0],fq(o),!1))}this.appendChild(this.eColumnDropList),r.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(i,r){var o=i.getGui();D.setAriaPosInSet(o,r+1),D.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,i){var r=this,o=new hq(e,this.dropTarget,i,this.dropZonePurpose,this.horizontal);return o.addEventListener(hq.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return r.destroyBean(o)}),i||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,i=document.createElement("div");if(D.setAriaHidden(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),i.appendChild(e),!this.horizontal){var r=document.createElement("span");this.addElementClasses(r,"title"),r.innerHTML=this.params.title,i.appendChild(r)}this.appendChild(i)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var i=this.beans.gridOptionsService.get("enableRtl"),r=D.createIconNoSpan(i?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(r,"cell-separator"),e.appendChild(r)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",pq([C("columnModel")],t.prototype,"colModel",void 0),pq([C("focusService")],t.prototype,"focusService",void 0),t}(le),l1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},BL=function(n){function t(e){return n.call(this,e,"rowGroup")||this}return l1e(t,n),t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),r=e("groups","Row Groups");n.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_GROUP,icon:D.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:i,title:r}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_GROUP:Bt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},yD([C("columnModel")],t.prototype,"columnModel",void 0),yD([C("loggerFactory")],t.prototype,"loggerFactory",void 0),yD([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),yD([H],t.prototype,"passBeansUp",null),t}(GL),c1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_D=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},HL=function(n){function t(e){return n.call(this,e,"pivot")||this}return c1e(t,n),t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("pivotColumnsEmptyMessage","Drag here to set column labels"),r=e("pivots","Column Labels");n.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_GROUP,icon:D.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:i,title:r}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var i=this.columnModel.isPivotActive();this.setDisplayed(e&&i);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_PIVOT:Bt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},_D([C("columnModel")],t.prototype,"columnModel",void 0),_D([C("loggerFactory")],t.prototype,"loggerFactory",void 0),_D([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_D([H],t.prototype,"passBeansUp",null),t}(GL),u1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},d1e=function(n){function t(){return n.call(this)||this}return u1e(t,n),t.prototype.postConstruct=function(){var e=this;this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.onRowGroupChanged()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("rowGroupPanelShow",function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("pivotPanelShow",function(){return e.onPivotPanelShow()}),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,i=document.createElement("div");return i.classList.add("ag-column-drop-wrapper"),D.setAriaRole(i,"presentation"),this.rowGroupComp=new BL(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new HL(!0),this.createManagedBean(this.pivotComp),i.appendChild(this.rowGroupComp.getGui()),i.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,le.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.addManagedListener(this.pivotComp,le.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.onDropPanelVisible(),i},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if("always"===e)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===e){var i=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(i)}else this.rowGroupComp.setDisplayed(!1)}},t.prototype.onPivotPanelShow=function(){if(this.pivotComp){var e=this.gridOptionsService.get("pivotPanelShow");if("always"===e)this.pivotComp.setDisplayed(!0);else if("onlyWhenPivoting"===e){var i=this.columnModel.isPivotActive();this.pivotComp.setDisplayed(i)}else this.pivotComp.setDisplayed(!1)}},gq([C("columnModel")],t.prototype,"columnModel",void 0),gq([H],t.prototype,"postConstruct",null),t}(le),h1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},p1e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return h1e(t,n),t.prototype.execute=function(e){var i=this,r=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),l=this.gridOptionsService.getGroupAggFiltering()||(r?function(h){return h.node.leafGroup}:function(h){return!h.node.group}),u=function(h,p){void 0===p&&(p=!1),h.childrenAfterFilter&&(h.childrenAfterAggFilter=h.childrenAfterFilter,p&&h.childrenAfterAggFilter.forEach(function(f){return u(f,p)}),i.setAllChildrenCount(h)),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(o?function(h){var p;h.childrenAfterAggFilter=(null===(p=h.childrenAfterFilter)||void 0===p?void 0:p.filter(function(f){var m;return l({node:f})&&i.filterManager.doesRowPassAggregateFilters({rowNode:f})?(u(f,!0),!0):null===(m=f.childrenAfterAggFilter)||void 0===m?void 0:m.length}))||null,i.setAllChildrenCount(h),h.sibling&&(h.sibling.childrenAfterAggFilter=h.childrenAfterAggFilter)}:u,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(r){i++,i+=r.allChildrenCount}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCountGridGrouping=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(r){r.group?i+=r.allChildrenCount:i++}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsService.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},jL([C("filterManager")],t.prototype,"filterManager",void 0),jL([C("columnModel")],t.prototype,"columnModel",void 0),jL([oe("filterAggregatesStage")],t)}(z),m1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},UL=function(n){function t(){return n.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return m1e(t,n),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var i=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){i.addManagedListener(i.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&D.warnOnce('Group Column Filter does not work with the colDef property "field". This property will be ignored.'),e.filterValueGetter&&D.warnOnce('Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),e.filterParams&&D.warnOnce('Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){return this.groupColumn=this.params.column,this.gridOptionsService.get("treeData")?(D.warnOnce("Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),[]):this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn)||(D.warnOnce("Group Column Filter only works on group columns. Please use a different filter."),[])},t.prototype.updateGroupField=function(){var e=this;D.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var i=this.getSourceColumns(),r=i.filter(function(o){return o.isFilterAllowed()});return r.length?(1===i.length?(this.selectedColumn=r[0],D.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!r.some(function(o){return o.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=r[0]),this.createGroupFieldSelectElement(r),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),D.setDisplayed(this.eGroupField,!0)),r):(this.selectedColumn=void 0,D.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var i=this;this.eGroupFieldSelect=this.createManagedBean(new iu);var r=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(r("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(o){var a;return{value:o.getId(),text:null!==(a=i.columnModel.getDisplayNameForColumn(o,"groupFilter",!1))&&void 0!==a?a:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(o){return i.updateSelectedColumn(o)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===e.length&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var i=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),vt.resolve();var r=[],o=[];return e.forEach(function(a){var s=i.filterManager.getOrCreateFilterWrapper(a,"COLUMN_MENU");s?.filterPromise&&r.push(s.filterPromise.then(function(l){return l&&o.push({filter:l,column:a}),a.getId()===i.selectedColumn.getId()&&(i.selectedFilter=l??void 0),l}))}),vt.all(r).then(function(){i.filterColumnPairs=o,i.groupColumn.setFilterActive(i.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(D.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return vt.resolve();var i=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return i?i.guiPromise.then(function(r){var o;e.eUnderlyingFilter.appendChild(r),null===(o=i.filterPromise)||void 0===o||o.then(function(a){var s,l;null===(s=a?.afterGuiAttached)||void 0===s||s.call(a,e.afterGuiAttachedParams),(null===(l=e.afterGuiAttachedParams)||void 0===l||!l.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):vt.resolve()},t.prototype.updateSelectedColumn=function(e){var i,r;if(e){null===(r=null===(i=this.selectedFilter)||void 0===i?void 0:i.afterGuiDetached)||void 0===r||r.call(i);var o=this.getFilterColumnPair(e);this.selectedColumn=o?.column,this.selectedFilter=o?.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!(null===(e=this.filterColumnPairs)||void 0===e||!e.some(function(i){return i.filter.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return vt.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,i;D.clearElement(this.eUnderlyingFilter),null===(i=null===(e=this.selectedFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===i||i.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var i;if(e)return null===(i=this.filterColumnPairs)||void 0===i?void 0:i.find(function(r){return r.column.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",xC([C("filterManager")],t.prototype,"filterManager",void 0),xC([C("columnModel")],t.prototype,"columnModel",void 0),xC([V("eGroupField")],t.prototype,"eGroupField",void 0),xC([V("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),xC([H],t.prototype,"postConstruct",null),t}(xd),g1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zL=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},v1e=function(n){function t(){var e=n.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this;return e.haveAddedColumnListeners=!1,e}return g1e(t,n),t.prototype.init=function(e){var i=this;this.params=e;var r="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new vt(function(o){i.params.parentFilterInstance(function(a){i.parentFilterInstance=a,r?i.setupUnderlyingFloatingFilterElement().then(function(){return o()}):(i.setupReadOnlyFloatingFilterElement(),o())})}).then(function(){i.addManagedListener(i.parentFilterInstance,UL.EVENT_SELECTED_COLUMN_CHANGED,function(){return i.onSelectedColumnChanged()}),i.addManagedListener(i.parentFilterInstance,UL.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onColumnRowGroupChanged()})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams()},t.prototype.setParams=function(){var e,i=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),r=this.localeService.getLocaleTextFunc();null===(e=this.eFloatingFilterText)||void 0===e||e.setInputAriaLabel("".concat(i," ").concat(r("ariaFilterInput","Filter Input")))},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new nu),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return e.params.showParentFilter()}),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,D.clearElement(this.eFloatingFilter);var i=this.parentFilterInstance.getSelectedColumn();if(i&&!i.isVisible()){var r=this.filterManager.getFloatingFilterCompDetails(i,this.params.showParentFilter);if(r)return this.compDetails=r,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(i,bt.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(i,bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),r.newAgStackInstance().then(function(o){var a,s;e.underlyingFloatingFilter=o,null===(a=e.underlyingFloatingFilter)||void 0===a||a.onParentModelChanged(null===(s=e.parentFilterInstance.getSelectedFilter())||void 0===s?void 0:s.getModel()),e.appendChild(o.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),vt.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onColDefChanged=function(e){var i,r,o;if(e.column){var a=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);a&&(null!==(i=this.underlyingFloatingFilter)&&void 0!==i&&i.refresh?this.underlyingFloatingFilter.refresh(a.params):null===(o=null===(r=this.underlyingFloatingFilter)||void 0===r?void 0:r.onParamsUpdated)||void 0===o||o.call(r,a.params))}},t.prototype.onParentModelChanged=function(e,i){var r,o;this.showingUnderlyingFloatingFilter?null===(r=this.underlyingFloatingFilter)||void 0===r||r.onParentModelChanged(null===(o=this.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel(),i):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var e=this.parentFilterInstance.getSelectedFilter();if(!e)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var i=e.getModel();this.eFloatingFilterText.setValue(null==i?"":e.getModelAsString(i))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},zL([C("columnModel")],t.prototype,"columnModel",void 0),zL([C("filterManager")],t.prototype,"filterManager",void 0),zL([V("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(le),vq={version:"31.1.1",moduleName:ie.RowGroupingModule,beans:[UNe,p1e,WNe,KNe,qNe,QNe],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:d1e}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:UL},{componentName:"agGroupColumnFloatingFilter",componentClass:v1e}],dependantModules:[ur]},y1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yq=function(n){function t(e){return n.call(this,e,"aggregation")||this}return y1e(t,n),t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("valueColumnsEmptyMessage","Drag here to aggregate"),r=e("values","Values");n.prototype.init.call(this,{dragAndDropIcon:Bt.ICON_AGGREGATE,icon:D.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:i,title:r}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Bt.ICON_AGGREGATE:Bt.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e,i){return!(this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary())&&e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(i))},t.prototype.updateColumns=function(e){this.gridOptionsService.get("functionsPassive")?this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},CD([C("columnModel")],t.prototype,"columnModel",void 0),CD([C("loggerFactory")],t.prototype,"loggerFactory",void 0),CD([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),CD([H],t.prototype,"passBeansUp",null),t}(GL),_1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_q=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WL=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return _1e(t,n),t.prototype.init=function(e,i,r){this.allowDragging=e,this.params=i,this.eventType=r,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new sE(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.prototype.getExpandedGroups=function(){return this.primaryColsListPanel.getExpandedGroups()},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',_q([V("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),_q([V("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(le),C1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bD=function(){return bD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},bD.apply(this,arguments)},b1e=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return C1e(t,n),t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var i=this,r=this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1});if(this.params=bD(bD({},r),e),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new sq),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new WL),this.childDestroyFuncs.push(function(){return i.destroyBean(i.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new BL(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new yq(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new HL(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){i.resetChildrenHeight(),i.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var i=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new sq),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new BL(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new yq(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new HL(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var i=e.getGui();e.toggleResizable(!i.classList.contains("ag-last-column-drop")&&!i.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(a){return a.classList.remove("ag-last-column-drop")});var r=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=D.last(r);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var i=this.getGui().children,r=0;r<i.length;r++){var o=i[r];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return Ze.__assertRegistered(ie.RowGroupingModule,"Row Grouping",this.context.getGridId())},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,D.clearElement(this.getGui())},t.prototype.refresh=function(e){return this.destroyChildren(),this.init(e),!0},t.prototype.getState=function(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}},t.prototype.destroy=function(){this.destroyChildren(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',t}(le),w1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bq=function(n){function t(){var e=n.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return w1e(t,n),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.get("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,i,r){this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_SIZE_CHANGED,width:r,started:e,ended:i})},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,i){void 0===i&&(i=!1);var o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width="".concat(o,"px"),this.dispatchResizeEvent(!1,i,o)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},Cq([C("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Cq([H],t.prototype,"postConstruct",null),t}(le),S1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},wq=function(n){function t(e){var i=n.call(this)||this;return i.toolPanelDef=e,i}return S1e(t,n),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))},t.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=this.toolPanelDef,r=e(i.labelKey,i.labelDefault);this.eLabel.innerText=r},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",D.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e),D.setAriaExpanded(this.eToggleButton,e)},t.prototype.getButtonElement=function(){return this.eToggleButton},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",wD([V("eToggleButton")],t.prototype,"eToggleButton",void 0),wD([V("eIconWrapper")],t.prototype,"eIconWrapper",void 0),wD([V("eLabel")],t.prototype,"eLabel",void 0),wD([H],t.prototype,"postConstruct",null),t}(le),x1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Sq=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return x1e(t,n),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===G.TAB&&e.shiftKey){var i=D.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(i,!0)&&e.preventDefault()}},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(i){i.setSelected(e===i.getToolPanelId())})},t.prototype.addButtonComp=function(e){var i=this,r=this.createBean(new wq(e));return this.buttonComps.push(r),this.appendChild(r),r.addEventListener(wq.EVENT_TOGGLE_BUTTON_CLICKED,function(){i.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),r},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),D.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',SD([C("focusService")],t.prototype,"focusService",void 0),SD([C("columnModel")],t.prototype,"columnModel",void 0),SD([H],t.prototype,"postConstruct",null),SD([Mi],t.prototype,"clearButtons",null),t}(le),xq=function(){function n(){}return n.parse=function(t){if(t){if(!0===t)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(r){var o=n.DEFAULT_BY_KEY[r];o?e.push(o):console.warn("AG Grid: the key ".concat(r," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")))}),0===e.length?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}}},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(i){var r=null;if("string"==typeof i){var o=n.DEFAULT_BY_KEY[i];if(!o)return void console.warn("AG Grid: the key ".concat(i," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));r=o}else r=i;e.push(r)}),e},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},n}(),E1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Eq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},D1e=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return E1e(t,n),t.prototype.setupResize=function(){var e=this.getGui(),i=this.resizeBar=this.createManagedBean(new bq);e.setAttribute("id","ag-".concat(this.getCompId())),i.setElementToResize(e),this.appendChild(i)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e,i){var r=e.id,o=e.minWidth,a=e.maxWidth,s=e.width;this.toolPanelId=r,this.width=s;var l=this.userComponentFactory.getToolPanelCompDetails(e,i),c=l.newAgStackInstance();this.params=l.params,null!=c?(c.then(this.setToolPanelComponent.bind(this)),null!=o&&this.resizeBar.setMinWidth(o),null!=a&&this.resizeBar.setMaxWidth(a)):console.warn("AG Grid: error processing tool panel component ".concat(r,". You need to specify 'toolPanel'"))},t.prototype.setToolPanelComponent=function(e){var i=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){i.destroyBean(e)}),this.width&&(this.getGui().style.width="".concat(this.width,"px"))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var i=this.gridOptionsService.get("enableRtl"),r="left"===e;this.resizeBar.setInverted(i?r:!r)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh(this.params)},t.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>',Eq([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Eq([H],t.prototype,"setupResize",null),t}(le),T1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xD=function(){return xD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},xD.apply(this,arguments)},EC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},A1e=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return T1e(t,n),t.prototype.postConstruct=function(){var e;this.sideBarButtonsComp.addEventListener(Sq.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this));var i=(null!==(e=this.gridOptionsService.get("initialState"))&&void 0!==e?e:{}).sideBar;this.setSideBarDef({sideBarDef:xq.parse(this.gridOptionsService.get("sideBar")),sideBarState:i}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),this.sideBarService.registerSideBarComp(this),this.createManagedBean(new tu(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this.focusService,o=this.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),c=this.gridOptionsService.getDocument().activeElement,u=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target;if(u){if(s.contains(c))return void(r.focusInto(u,e.shiftKey)&&e.preventDefault());if(e.shiftKey){var h=null;u.contains(c)?h=this.focusService.findNextFocusableElement(u,void 0,!0):r.isTargetUnderManagedComponent(u,d)&&e.shiftKey&&(h=this.focusService.findFocusableElementBeforeTabGuard(u,d)),h||(h=s.querySelector(".ag-selected button")),h&&h!==e.target&&(e.preventDefault(),h.focus())}}}},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(i.activeElement)){var r=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-side-button")),a=i.activeElement,s=o.findIndex(function(u){return u.contains(a)}),l=null;switch(e.key){case G.LEFT:case G.UP:l=Math.max(0,s-1);break;case G.RIGHT:case G.DOWN:l=Math.min(s+1,o.length-1)}if(null!==l){var c=o[l].querySelector("button");c&&(c.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var i=e.toolPanelId,r=this.openedItem();this.openToolPanel(r===i?void 0:i,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(e){var i=e.sideBarDef,r=e.sideBarState,o=e.existingToolPanelWrappers;if(this.setDisplayed(!1),this.sideBar=i,this.sideBar&&this.sideBar.toolPanels){if(this.createToolPanelsAndSideButtons(this.sideBar.toolPanels,r,o),!this.toolPanelWrappers.length)return;var s=r?r.visible:!this.sideBar.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(r?r.position:this.sideBar.position),s)if(r){var l=r.openToolPanel;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right"),this.position=e;var i="left"===e,r=i?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",i),this.addOrRemoveCssClass("ag-side-bar-right",!i),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(r)}),this.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED}),this},t.prototype.setDisplayed=function(e,i){n.prototype.setDisplayed.call(this,e,i),this.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})},t.prototype.getState=function(){var e={};return this.toolPanelWrappers.forEach(function(i){var r,o;e[i.getToolPanelId()]=null===(o=null===(r=i.getToolPanelInstance())||void 0===r?void 0:r.getState)||void 0===o?void 0:o.call(r)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}},t.prototype.createToolPanelsAndSideButtons=function(e,i,r){var o,a,s;try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),c=l.next();!c.done;c=l.next()){var u=c.value;this.createToolPanelAndSideButton(u,null===(s=i?.toolPanels)||void 0===s?void 0:s[u.id],r?.[u.id])}}catch(d){o={error:d}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.prototype.validateDef=function(e){if(null==e.id)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if("agColumnsToolPanel"===e.toolPanel&&!Ze.__assertRegistered(ie.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId()))return!1;if("agFiltersToolPanel"===e.toolPanel){if(!Ze.__assertRegistered(ie.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId()))return!1;if(this.filterManager.isAdvancedFilterEnabled())return D.warnOnce("Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled."),!1}return!0},t.prototype.createToolPanelAndSideButton=function(e,i,r){var o=this;if(this.validateDef(e)){var s,a=this.sideBarButtonsComp.addButtonComp(e);r?s=r:(s=this.getContext().createBean(new D1e)).setToolPanelDef(e,{initialState:i,onStateUpdated:function(){return o.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})}}),s.setDisplayed(!1);var l=s.getGui();this.appendChild(l),this.toolPanelWrappers.push(s),D.setAriaControls(a.getButtonElement(),l)}},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,i){void 0===i&&(i="api");var r=this.openedItem();r!==e&&(this.toolPanelWrappers.forEach(function(s){var l=e===s.getToolPanelId();s.setDisplayed(l)}),r!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,r??void 0,i)))},t.prototype.getToolPanelInstance=function(e){var i=this.toolPanelWrappers.filter(function(r){return r.getToolPanelId()===e})[0];if(i)return i.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: ".concat(e))},t.prototype.raiseToolPanelVisibleEvent=function(e,i,r){var o=!!e&&!!i;i&&this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:r,key:i,visible:!1,switchingToolPanel:o}),e&&this.eventService.dispatchEvent({type:x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:r,key:e,visible:!0,switchingToolPanel:o})},t.prototype.close=function(e){void 0===e&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(i){i.isDisplayed()&&(e=i.getToolPanelId())}),e},t.prototype.onSideBarUpdated=function(){var i,e=this,r=xq.parse(this.gridOptionsService.get("sideBar")),o={};r&&this.sideBar&&(null===(i=r.toolPanels)||void 0===i||i.forEach(function(a){var s,l,c=a.id;if(c){var u=null===(s=e.sideBar.toolPanels)||void 0===s?void 0:s.find(function(f){return f.id===c});if(u&&a.toolPanel===u.toolPanel){var d=e.toolPanelWrappers.find(function(f){return f.getToolPanelId()===c});if(d){var h=e.gridOptionsService.addGridCommonParams(xD(xD({},null!==(l=a.toolPanelParams)&&void 0!==l?l:{}),{onStateUpdated:function(){return e.eventService.dispatchEvent({type:x.EVENT_SIDE_BAR_UPDATED})}}));!0===d.getToolPanelInstance().refresh(h)&&(e.toolPanelWrappers=e.toolPanelWrappers.filter(function(f){return f!==d}),D.removeFromParent(d.getGui()),o[c]=d)}}}})),this.clearDownUi(),this.setSideBarDef({sideBarDef:r,existingToolPanelWrappers:o})},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',EC([C("focusService")],t.prototype,"focusService",void 0),EC([C("filterManager")],t.prototype,"filterManager",void 0),EC([C("sideBarService")],t.prototype,"sideBarService",void 0),EC([V("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),EC([H],t.prototype,"postConstruct",null),t}(le),O1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},R1e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.isColGroupDef=function(i){return i&&typeof i.children<"u"},e.getId=function(i){return e.isColGroupDef(i)?i.groupId:i.colId},e}return O1e(t,n),t.prototype.createColumnTree=function(e){var i=this,r=[],o=function(s,l){if(i.isColGroupDef(s)){var c=s,d=new ei(c,typeof c.groupId<"u"?c.groupId:c.headerName,!1,l),h=[];return c.children.forEach(function(g){var v=o(g,l+1);v&&h.push(v)}),d.setChildren(h),d}var p=s,m=i.columnModel.getPrimaryColumn(p.colId?p.colId:p.field);return m||r.push(p),m},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),r.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",r),a},t.prototype.syncLayoutWithGrid=function(e){var i=this.getLeafPathTrees();e(this.mergeLeafPathTrees(i))},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof ei)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var c=Object.assign({},o.getColDef());c.colId=o.getColId(),s=c}var u=o.getOriginalParent();return u?e(u,s):s};return this.columnModel.getAllGridColumns().filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup}).map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var i=this,o=function(u,d){if(!i.isColGroupDef(d))return u;var h=u,p=d;return p.children&&p.groupId&&i.addChildrenToGroup(h,p.groupId,p.children[0])||p.children.forEach(function(m){return o(h,m)}),h},a=[],s=1;s<=e.length;s++){var l=e[s-1],c=e[s];d=c,i.isColGroupDef(u=l)&&i.isColGroupDef(d)&&i.getId(u)===i.getId(d)?e[s]=o(l,c):a.push(l)}var u,d;return a},t.prototype.addChildrenToGroup=function(e,i,r){var o=this;if(!this.isColGroupDef(e))return!0;var d,h,p,f,m,g,s=e,l=r;if(h=l,p=(d=s).children.map(o.getId),f=D.includes(p,o.getId(h)),g=(m=D.last(d.children))&&o.getId(m)!==o.getId(h),f&&g)return s.children.push(l),!0;if(s.groupId===i){var c=s.children.map(this.getId);if(!D.includes(c,this.getId(l)))return s.children.push(l),!0}return s.children.forEach(function(d){return o.addChildrenToGroup(d,i,r)}),!1},Dq([C("columnModel")],t.prototype,"columnModel",void 0),Dq([oe("toolPanelColDefService")],t)}(z),I1e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),k1e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return I1e(t,n),t.prototype.registerSideBarComp=function(e){this.sideBarComp=e},t.prototype.getSideBarComp=function(){return this.sideBarComp},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("sideBarService")],t),t}(z),$L={version:"31.1.1",moduleName:ie.SideBarModule,beans:[R1e,k1e],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:bq},{componentName:"AgSideBar",componentClass:A1e},{componentName:"AgSideBarButtons",componentClass:Sq}],dependantModules:[ur]},DC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},L1e=function(){function n(){}return n.prototype.selectAllChildren=function(t,e,i){var r=this.extractAllLeafColumns(t);this.setAllColumns(r,e,i)},n.prototype.setColumn=function(t,e,i){this.setAllColumns([t],e,i)},n.prototype.setAllColumns=function(t,e,i){this.columnModel.isPivotMode()?this.setAllPivot(t,e,i):this.setAllVisible(t,e,i)},n.prototype.extractAllLeafColumns=function(t){var e=[],i=function(r){r.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?i(o.getChildren()):e.push(o.getColumn()))})};return i(t),e},n.prototype.setAllVisible=function(t,e,i){var r=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&r.push({colId:o.getId(),hide:!e})}),r.length>0&&this.columnModel.applyColumnState({state:r},i)},n.prototype.setAllPivot=function(t,e,i){this.gridOptionsService.get("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,i)},n.prototype.setAllPivotPassive=function(t,e){var i=this.columnModel.getPivotColumns().slice(),r=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1;t.forEach(e?function(m){m.isAnyFunctionActive()||(m.isAllowValue()?(r.push(m),s=!0):m.isAllowRowGroup()?(o.push(m),a=!0):m.isAllowPivot()&&(i.push(m),l=!0))}:function(m){m.isAnyFunctionActive()&&(i.indexOf(m)>=0&&(D.removeFromArray(i,m),a=!0),r.indexOf(m)>=0&&(D.removeFromArray(r,m),s=!0),o.indexOf(m)>=0&&(D.removeFromArray(o,m),l=!0))}),a&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:i}),l&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o}),s&&this.eventService.dispatchEvent({type:x.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o})},n.prototype.setAllPivotActive=function(t,e,i){var r=this,o=[];t.forEach(e?function(c){if(!c.isAnyFunctionActive())if(c.isAllowValue()){var u="string"==typeof c.getAggFunc()?c.getAggFunc():r.aggFuncService.getDefaultAggFunc(c);o.push({colId:c.getId(),aggFunc:u})}else c.isAllowRowGroup()?o.push({colId:c.getId(),rowGroup:!0}):c.isAllowPivot()&&o.push({colId:c.getId(),pivot:!0})}:function(c){(c.isPivotActive()||c.isRowGroupActive()||c.isValueActive())&&o.push({colId:c.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),o.length>0&&this.columnModel.applyColumnState({state:o},i)},n.prototype.updateColumns=function(t){var e=this,r=t.visibleState,o=t.pivotState,a=t.eventType,s=t.columns.map(function(l){var c=l.getColId();if(e.columnModel.isPivotMode()){var u=o?.[c];return{colId:c,pivot:u?.pivot,rowGroup:u?.rowGroup,aggFunc:u?.aggFunc}}return{colId:c,hide:!r?.[c]}});this.columnModel.applyColumnState({state:s},a)},n.prototype.createPivotState=function(t){return{pivot:t.isPivotActive(),rowGroup:t.isRowGroupActive(),aggFunc:t.isValueActive()?t.getAggFunc():void 0}},DC([C("aggFuncService")],n.prototype,"aggFuncService",void 0),DC([C("columnModel")],n.prototype,"columnModel",void 0),DC([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),DC([C("eventService")],n.prototype,"eventService",void 0),DC([oe("modelItemUtils")],n)}(),V1e={version:"31.1.1",moduleName:ie.ColumnsToolPanelModule,beans:[L1e],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:TNe},{componentName:"AgPrimaryColsList",componentClass:BNe},{componentName:"AgPrimaryCols",componentClass:WL}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:b1e}],dependantModules:[ur,vq,$L]},KL=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},yg=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Tq={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},z1e=function(n){return Math.round(96*n/72)},_g=function(n){return Math.ceil(9525*n)},ED=function(n,t){if(t)return function(n){return Math.round(72*n/96)}("number"==typeof t?t:t({rowIndex:n}))},Za=function(n){var t=B7.createHeader({encoding:"UTF-8",standalone:"yes"}),e=B7.createXml(n);return"".concat(t).concat(e)},TC=function(n){var i=String.fromCharCode,r=Math.floor(n/26),o=n%26;return r&&26!==n?o?r<26?i(65+r-1)+i(65+o-1):TC(r)+i(65+o-1):TC(r-1)+"Z":i(65+n-1)},Mq=function(n,t){return{name:"xdr:".concat(n),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},Y1e=function(n){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(n.recolor&&n.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},q1e=function(n,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:n.id,descr:null!=n.altText?n.altText:void 0}},children:[Y1e(n)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},Aq=function(n){if(n.saturation||n.tint){var t=[];return n.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*n.saturation}}}),n.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*n.tint}}}),t}},Z1e=function(n,t){var e;if(n.transparency){var i=Math.min(Math.max(n.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(n.recolor)switch(e||(e=[]),n.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(n,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:n.color}},children:Aq(n)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:Aq(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Q1e=function(n,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return n.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(n.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},eVe=function(n,t,e,i){return{name:"xdr:pic",children:[q1e(n,t+1),Z1e(n,e+1),Q1e(n,i)]}},Qa=function(n){var t=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(n,4),i=t[1],r=t[2],o=t[3];return{name:"a:".concat(t[0]),children:[{name:"a:".concat(i),properties:{rawMap:{val:r,lastClr:o}}}]}},ve=function(n){var t=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(n,4),i=t[1],r=t[2],o=t[3];return{name:"a:".concat(t[0]),properties:{rawMap:{script:r,typeface:i,panose:o}}}},MC=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Xl=function(n,t,e){return{name:"a:".concat(n),properties:{rawMap:{val:t}},children:e}},YL=function(n){var t=MC(n,6),e=t[0],i=t[1],o=t[3],a=t[4],s=t[5],l=[];return l.push(Xl("satMod",t[2])),o&&l.push(Xl("lumMod",o)),a&&l.push(Xl("tint",a)),s&&l.push(Xl("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:l}]}},DD=function(n,t){return{name:"a:solidFill",children:[Xl("schemeClr",n,t)]}},qL=function(n){var t=MC(n,5),e=t[0],i=t[1],r=t[2],o=t[3],s=MC(t[4],2),l=s[0],c=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[YL(i),YL(r),YL(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:c}}}]}},XL=function(n){var t=MC(n,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[DD("phClr"),Xl("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},ZL=function(n){var t=[];if(n){var e=MC(n,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[Xl("srgbClr","000000",[Xl("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},fVe=function(n){var t,e,i=[];try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n.keys()),o=r.next();!o.done;o=r.next()){var s=o.value.toString(),l={name:"t",textNode:D.escapeString(s)};s.trim().length!==s.length&&(l.properties={rawMap:{"xml:space":"preserve"}}),i.push({name:"si",children:[l]})}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},yVe_getTemplate=function(n){return{name:"numFmts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return function(n){var t=n.formatCode,e=n.numFmtId;return t.length&&(t=function gVe(n){for(var t=n.split(/(\[[^\]]*\])/),e=0;e<t.length;e++){var i=t[e];i.length&&(i.startsWith("[")||(i=i.replace(/\$/g,'"$"')),t[e]=D.escapeString(i))}return t.join("")}(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}(t)})}},xVe={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},EVe=["Dashed","DashDot","DashDotDot"],DVe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},TVe={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},MVe={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},Nd=function(n){return null==n?n:("#"===n.charAt(0)&&(n=n.substring(1)),6===n.length?"FF"+n:n)},TD=function(n,t){if(!n)return"thin";var e=function(n){switch(n){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),i=xVe[n];return"Continuous"===n?e:"medium"===e&&-1!==EVe.indexOf(i)?"medium".concat(i):i.charAt(0).toLowerCase()+i.substring(1)},OVe=function(n){return TVe[n]||"general"},RVe=function(n){return MVe[n]||void 0},AC=function(n){return{name:"color",properties:{rawMap:{rgb:Nd(n||"#000000")}}}},IVe_getTemplate=function(n){return{name:"borders",properties:{rawMap:{count:n.length}},children:n.map(function(t){return function(n){var t=n.left,e=n.right,i=n.top,r=n.bottom,o=n.diagonal,a=t?[AC(t.color)]:void 0,s=e?[AC(e.color)]:void 0,l=i?[AC(i.color)]:void 0,c=r?[AC(r.color)]:void 0,u=o?[AC(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:r&&r.style}},children:c},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:u}]}}(t)})}},FVe=function(n){var e=["Context","LeftToRight","RightToLeft"].indexOf(n);return Math.max(e,0)},Oq_getTemplate=function(n){var t=n.alignment,e=n.borderId,i=n.fillId,r=n.fontId,o=n.numFmtId,a=n.protection,s=n.quotePrefix,l=n.xfId,c=[];return t&&c.push(function(n){var t=n.horizontal,e=n.indent,i=n.readingOrder,r=n.rotate,o=n.shrinkToFit,a=n.vertical,s=n.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&OVe(t),indent:e,readingOrder:i&&FVe(i),textRotation:r,shrinkToFit:o,vertical:a&&RVe(a),wrapText:s}}}}(t)),a&&c.push(function(n){return{name:"protection",properties:{rawMap:{hidden:!0===n.hideFormula?1:0,locked:!1===n.protected?0:1}}}}(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:i?1:void 0,borderId:e,fillId:i,applyFont:r?1:void 0,fontId:r,applyNumberFormat:o?1:void 0,numFmtId:o,quotePrefix:s?1:void 0,xfId:l}},children:c.length?c:void 0}},MD=function(){return MD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},MD.apply(this,arguments)},Iq=function(n,t){return-1!==n.indexOf("mixedStyle")&&t>1&&(n+="_".concat(t)),n},Fq=function(){AD={base:0},Cg=[],OC=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],RC=[{patternType:"none"},{patternType:"gray125"}],PC=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Rq=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],OD=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Pq=[{builtinId:0,name:"Normal",xfId:0}]},WVe=function(n){var t=n.alignment,e=n.borders,i=n.font,r=n.interior,o=n.numberFormat,a=n.protection,s=n.quotePrefix,l=n.id,c=0,u=0,d=0,h=0;l&&(l=Iq(l,QL),null==AD[l]&&(r&&(c=function(n){var t=function(n){return n?DVe[n]||n:"none"}(n.pattern),e=Nd(n.color),i=Nd(n.patternColor),r=RC.findIndex(function(o){return!(o.patternType!=t||o.fgRgb!=e||o.bgRgb!=i)});return-1===r&&(r=RC.length,RC.push({patternType:t,fgRgb:e,bgRgb:i})),r}(r)),e&&(u=function(n){var o,a,s,l,c,u,d,h,t=n.borderBottom,e=n.borderTop,i=n.borderLeft,r=n.borderRight;i&&(s=TD(i.lineStyle,i.weight),d=Nd(i.color)),r&&(l=TD(r.lineStyle,r.weight),h=Nd(r.color)),t&&(o=TD(t.lineStyle,t.weight),c=Nd(t.color)),e&&(a=TD(e.lineStyle,e.weight),u=Nd(e.color));var p=PC.findIndex(function(f){var m=f.left,g=f.right,v=f.top,y=f.bottom;if(!m&&(s||d)||!g&&(l||h)||!v&&(a||u)||!y&&(o||c))return!1;var _=m||{},E=g||{},I=v||{},B=y||{};return!(_.style!=s||_.color!=d||E.style!=l||E.color!=h||I.style!=a||I.color!=u||B.style!=o||B.color!=c)});return-1===p&&(p=PC.length,PC.push({left:{style:s,color:d},right:{style:l,color:h},top:{style:a,color:u},bottom:{style:o,color:c},diagonal:{style:void 0,color:void 0}})),p}(e)),i&&(d=function(n){var t=n.fontName,e=void 0===t?"Calibri":t,r=n.size,o=n.bold,a=n.italic,s=n.outline,l=n.shadow,c=n.strikeThrough,u=n.underline,d=n.family,h=n.verticalAlign,p=Nd(n.color),f=function(n){if(void 0!==n){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(n||"Automatic");return Math.max(e,0)}}(d),m=u?u.toLocaleLowerCase():void 0,g=h?h.toLocaleLowerCase():void 0,v=OC.findIndex(function(y){return!(y.fontName!=e||y.color!=p||y.size!=r||y.bold!=o||y.italic!=a||y.outline!=s||y.shadow!=l||y.strikeThrough!=c||y.underline!=m||y.verticalAlign!=g||y.family!=f)});return-1===v&&(v=OC.length,OC.push({fontName:e,color:p,size:r,bold:o,italic:a,outline:s,shadow:l,strikeThrough:c,underline:m,verticalAlign:g,family:f?.toString()})),v}(i)),o&&(h=function(n){if(Tq[n])return Tq[n];var t=Cg.findIndex(function(e){return e.formatCode===n});return-1===t?Cg.push({formatCode:n,numFmtId:t=Cg.length+164}):t=Cg[t].numFmtId,t}(o.format)),AD[l]=OD.length,OD.push({alignment:t,borderId:u||0,fillId:c||0,fontId:d||0,numFmtId:h||0,protection:a,quotePrefix:s,xfId:0})))},$Ve_getTemplate=function(n){var t=yVe_getTemplate(Cg),e=function(n){return{name:"fonts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return function(n){var i=n.color,o=n.fontName,s=n.family,l=n.scheme,c=n.italic,u=n.bold,d=n.strikeThrough,h=n.outline,p=n.shadow,f=n.underline,m=n.verticalAlign,g=[{name:"sz",properties:{rawMap:{val:n.size}}},{name:"color",properties:{rawMap:{theme:n.colorTheme,rgb:void 0===i?"FF000000":i}}},{name:"name",properties:{rawMap:{val:void 0===o?"Calibri":o}}}];return s&&g.push({name:"family",properties:{rawMap:{val:s}}}),l&&g.push({name:"scheme",properties:{rawMap:{val:l}}}),c&&g.push({name:"i"}),u&&g.push({name:"b"}),d&&g.push({name:"strike"}),h&&g.push({name:"outline"}),p&&g.push({name:"shadow"}),f&&g.push({name:"u",properties:{rawMap:{val:f}}}),m&&g.push({name:"vertAlign",properties:{rawMap:{val:m}}}),{name:"font",children:g}}(t)})}}(OC.map(function(l){return MD(MD({},l),{size:null!=l.size?l.size:n})})),i=function(n){return{name:"fills",properties:{rawMap:{count:n.length}},children:n.map(function(t){return function(n){var e=n.fgTheme,i=n.fgTint,r=n.fgRgb,o=n.bgRgb,a=n.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:n.patternType}}};return(e||i||r)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:i,rgb:r}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}(t)})}}(RC),r=IVe_getTemplate(PC),o=function(n){return{name:"cellStyleXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return Oq_getTemplate(t)})}}(Rq),a=function(n){return{name:"cellXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return Oq_getTemplate(t)})}}(OD),s=function(n){return{name:"cellStyles",properties:{rawMap:{count:n.length}},children:n.map(function(t){return function(n){return{name:"cellStyle",properties:{rawMap:{builtinId:n.builtinId,name:n.name,xfId:n.xfId}}}}(t)})}}(Pq);return Fq(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,i,r,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},KVe=function(n,t){return AD[Iq(n,t)]||0},XVe_getTemplate=function(n){return{name:"sheets",children:n.map(function(t,e){return function(n,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:n,sheetId:e,"r:id":"rId".concat(e)}}}}(t,e)})}},iGe=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},nGe=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},oGe=function(n){var t;return""!==(null===(t=n.data)||void 0===t?void 0:t.value)||void 0!==n.styleId},aGe_getTemplate=function(n,t,e){var i=n.collapsed,r=n.hidden,o=n.height,a=n.outlineLevel,s=n.cells,l=void 0===s?[]:s;return function(n,t){for(var e=[],i=0,r=0;r<n.length;r++)(o=n[r]).mergeAcross&&(e.push({pos:r,excelPos:i}),i+=o.mergeAcross),i++;if(e.length)for(r=e.length-1;r>=0;r--){for(var a=[],o=n[e[r].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:"".concat(TC(e[r].excelPos+1+s)).concat(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&n.splice.apply(n,nGe([e[r].pos+1,0],iGe(a),!1))}}(l,t),{name:"row",properties:{rawMap:{r:t+1,collapsed:i?"1":"0",hidden:r?"1":"0",ht:o,customHeight:null!=o?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:l.filter(oGe).map(function(u,d){return function(n,t,e){var i=n.ref,o=n.styleId,a=n.data||{type:"empty",value:null},s=a.type,l=a.value,c=s;"f"===s?c="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(c=function(n){var t=n.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(s));var d,u={name:"c",properties:{rawMap:{r:i,t:"empty"===c?void 0:c,s:o?KVe(o,e):void 0}}};return"empty"===c?u:(d="str"===c&&"f"===s?[{name:"f",textNode:D.escapeString(l)}]:"inlineStr"===c?[{name:"is",children:[{name:"t",textNode:D.escapeString(l)}]}]:[{name:"v",textNode:l}],Object.assign({},u,{children:d}))}(u,0,e)})}},cGe=function(n){return!n||"Portrait"!==n&&"Landscape"!==n?"portrait":n.toLocaleLowerCase()},uGe=function(n){if(null==n)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(n);return-1===e?1:e+1},_Ge=function(n){return n.reduce(function(t,e){var i=function(n){return"Center"===n?"C":"Right"===n?"R":"L"}(e.position),r=function(n,t){return t&&(n+="&amp;&quot;",n+=t.fontName||"Calibri",n+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",n+="&quot;",t.size&&(n+="&amp;".concat(t.size)),t.strikeThrough&&(n+="&amp;S"),t.underline&&(n+="&amp;".concat("Double"===t.underline?"E":"U")),t.color&&(n+="&amp;K".concat(t.color.replace("#","").toUpperCase()))),n}("".concat(t,"&amp;").concat(i),e.font);return"".concat(r).concat(D.escapeString(function(n){return D.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,i){n=n.replace(e,i)}),n}(e.value)))},"")},CGe=function(n){var e=[];return["all","first","even"].forEach(function(i){var r=n[i],o="all"===i?"odd":i;!r||!r.header&&!r.footer||D.iterateObject(r,function(a,s){var l="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));s&&e.push({name:"".concat(o).concat(l),properties:{rawMap:{"xml:space":"preserve"}},textNode:_Ge(s)})})}),e},EGe_getTemplate=function(n){var e=n.currentSheet,i=n.config,r=i.margins,o=void 0===r?{}:r,a=i.pageSetup,s=i.headerFooterConfig,c=n.worksheet.table,u=c.rows,d=c.columns,h=d&&d.length?function(n,t,e){var i=[],r=[];n.forEach(function(s,l){var d,u=0;s.cells.forEach(function(h,p){var f=p+u+1,m=TC(f),g=l+1;if(h.mergeAcross){var v=TC(p+(u+=h.mergeAcross)+1);i.push("".concat(m).concat(g,":").concat(v).concat(g))}t[f-1]||(t[f-1]={});var y=h.collapsibleRanges;y&&y.forEach(function(_){r.push([f+_[0],f+_[1]])}),(d=t[f-1]).min=f,d.max=f,h.ref="".concat(m).concat(g)})}),r.sort(function(s,l){return s[0]!==l[0]?s[0]-l[0]:l[1]-s[1]});var o=new Map,a=new Map;return r.filter(function(s){var l=s.toString();return!o.get(l)&&(o.set(l,!0),!0)}).forEach(function(s){var l=t.find(function(u){return u.min==s[0]&&u.max==s[1]}),c=a.get(s[0]);t.push({min:s[0],max:s[1],outlineLevel:e?void 0:c||1,width:(l||{width:100}).width}),a.set(s[0],(c||0)+1)}),i}(u,d,!!i.suppressColumnOutline):[],p=D.compose(function(n){return n.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),n},function(n){return function(t){var e=n.reduce(function(i,r){return r.outlineLevel&&r.outlineLevel>i?r.outlineLevel:i},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}}(u),function(n){return function(t){return n.length&&t.push({name:"cols",children:n.map(function(e){return function(n){var t=n.min,e=n.max,i=n.outlineLevel,r=n.s,o=n.width,a=n.hidden,s=n.bestFit,l=1,c="0";return o>1&&(l=function(n){return Math.ceil((n-12)/7+1)}(o),c="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:i??void 0,width:l,style:r,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:c}}}}(e)})}),t}}(d),function(n,t){return function(e){return n.length&&e.push({name:"sheetData",children:n.map(function(i,r){return aGe_getTemplate(i,r,t)})}),e}}(u,e+1),function(n){return function(t){return n.length&&t.push({name:"mergeCells",properties:{rawMap:{count:n.length}},children:n.map(function(e){return function(n){return{name:"mergeCell",properties:{rawMap:{ref:n}}}}(e)})}),t}}(h),function(n){return function(t){var e=n.top,r=n.right,a=n.bottom,l=n.left,u=n.header,h=n.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===a?.75:a,footer:void 0===h?.3:h,header:void 0===u?.3:u,left:void 0===l?.7:l,right:void 0===r?.7:r,top:void 0===e?.75:e}}}),t}}(o),function(n){return function(t){return n&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:cGe(n.orientation),paperSize:uGe(n.pageSize)}}}),t}}(a),function(n){return function(t){return n?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=n.first?1:0,differentOddEven:null!=n.even?1:0}},children:CGe(n)}),t):t}}(s),function(n){return function(t){return Ai.worksheetImages.get(n)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:p([])}},RD_getTemplate=function(n){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:n.map(function(e){return function(n){return{name:"Relationship",properties:{rawMap:{Id:n.Id,Type:n.Type,Target:n.Target}}}}(e)})}},kq=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Ai=function(){function n(){}return n.createExcel=function(t,e,i){return this.addSheetName(e),function(n,t){1===(QL=t)&&Fq(),n.forEach(WVe)}(t,this.sheetNames.length),this.createWorksheet(e,i)},n.buildImageMap=function(t,e,i,r,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:r.indexOf(i)+1}));var l=t;if(function(n,t){var e=n.position,i=e.colSpan,r=e.column;if(n.width)if(i)for(var o=t.slice(r-1,r+i-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(n.width<a+l){n.position.colSpan=s+1,n.totalWidth=n.width,n.width=n.totalWidth-a;break}a+=l}else n.totalWidth=n.width}(l,r),function(n,t){var e=n.position,i=e.rowSpan,r=e.row;if(n.height)if(i)for(var o=0,a=0,s=r;s<r+i;s++){var l=z1e(ED(s,t)||20);if(n.height<o+l){n.position.rowSpan=a+1,n.totalHeight=n.height,n.height=n.totalHeight-o;break}o+=l,a++}else n.totalHeight=n.height}(l,o),s){var c=s.find(function(u){return u.sheetId===a});c?c.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},n.buildSheetImageMap=function(t,e){var i=this.worksheetImageIds.get(t);i||this.worksheetImageIds.set(t,i=new Map);var r=this.worksheetImages.get(t);r?(r.push(e),i.get(e.id)||i.set(e.id,{index:i.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),i.set(e.id,{index:0,type:e.imageType}))},n.addSheetName=function(t){for(var e=D.escapeString(t.name)||"",i="";-1!==this.sheetNames.indexOf("".concat(e).concat(i));)if(""===i)i="_1";else{var r=parseInt(i.slice(1),10);i="_".concat(r+1)}t.name="".concat(e).concat(i),this.sheetNames.push(t.name)},n.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},n.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ks.SINGLE_SHEET},n.createWorkbook=function(){return Za(function(n){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[XVe_getTemplate(n)]}}(this.sheetNames))},n.createStylesheet=function(t){return Za($Ve_getTemplate(t))},n.createSharedStrings=function(){return Za(function(n){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.size,uniqueCount:n.size}},children:fVe(n)}}(this.sharedStrings))},n.createCore=function(t){return Za(function(n){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:n},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}(t))},n.createContentTypes=function(t){return Za(function(n){var t=new Array(n).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(l+1,".xml")}}),e=Ai.worksheetImages.size,i={};Ai.workbookImageIds.forEach(function(s){i[s.type]=!0});var r=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(l+1,".xml")}}),o=Object.keys(i).map(function(s){return{name:"Default",ContentType:"image/".concat(s),Extension:s}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:yg(yg(yg(yg(yg(yg([],KL(o),!1),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],!1),KL(t),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],!1),KL(r),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}],!1).map(function(s){return function(n){return{name:n.name,properties:{rawMap:{Extension:n.Extension,PartName:n.PartName,ContentType:n.ContentType}}}}(s)})}}(t))},n.createRels=function(){var t=RD_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return Za(t)},n.createTheme=function(){return Za({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[Qa(["dk1","sysClr","windowText","000000"]),Qa(["lt1","sysClr","window","FFFFFF"]),Qa(["dk2","srgbClr","44546A"]),Qa(["lt2","srgbClr","E7E6E6"]),Qa(["accent1","srgbClr","4472C4"]),Qa(["accent2","srgbClr","ED7D31"]),Qa(["accent3","srgbClr","A5A5A5"]),Qa(["accent4","srgbClr","FFC000"]),Qa(["accent5","srgbClr","5B9BD5"]),Qa(["accent6","srgbClr","70AD47"]),Qa(["hlink","srgbClr","0563C1"]),Qa(["folHlink","srgbClr","954F72"])]},{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ve(["latin","Calibri Light",void 0,"020F0302020204030204"]),ve(["ea",""]),ve(["cs",""]),ve(["font","\u6e38\u30b4\u30b7\u30c3\u30af Light","Jpan"]),ve(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),ve(["font","\u7b49\u7ebf Light","Hans"]),ve(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),ve(["font","Times New Roman","Arab"]),ve(["font","Times New Roman","Hebr"]),ve(["font","Tahoma","Thai"]),ve(["font","Nyala","Ethi"]),ve(["font","Vrinda","Beng"]),ve(["font","Shruti","Gujr"]),ve(["font","MoolBoran","Khmr"]),ve(["font","Tunga","Knda"]),ve(["font","Raavi","Guru"]),ve(["font","Euphemia","Cans"]),ve(["font","Plantagenet Cherokee","Cher"]),ve(["font","Microsoft Yi Baiti","Yiii"]),ve(["font","Microsoft Himalaya","Tibt"]),ve(["font","MV Boli","Thaa"]),ve(["font","Mangal","Deva"]),ve(["font","Gautami","Telu"]),ve(["font","Latha","Taml"]),ve(["font","Estrangelo Edessa","Syrc"]),ve(["font","Kalinga","Orya"]),ve(["font","Kartika","Mlym"]),ve(["font","DokChampa","Laoo"]),ve(["font","Iskoola Pota","Sinh"]),ve(["font","Mongolian Baiti","Mong"]),ve(["font","Times New Roman","Viet"]),ve(["font","Microsoft Uighur","Uigh"]),ve(["font","Sylfaen","Geor"]),ve(["font","Arial","Armn"]),ve(["font","Leelawadee UI","Bugi"]),ve(["font","Microsoft JhengHei","Bopo"]),ve(["font","Javanese Text","Java"]),ve(["font","Segoe UI","Lisu"]),ve(["font","Myanmar Text","Mymr"]),ve(["font","Ebrima","Nkoo"]),ve(["font","Nirmala UI","Olck"]),ve(["font","Ebrima","Osma"]),ve(["font","Phagspa","Phag"]),ve(["font","Estrangelo Edessa","Syrn"]),ve(["font","Estrangelo Edessa","Syrj"]),ve(["font","Estrangelo Edessa","Syre"]),ve(["font","Nirmala UI","Sora"]),ve(["font","Microsoft Tai Le","Tale"]),ve(["font","Microsoft New Tai Lue","Talu"]),ve(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ve(["latin","Calibri",void 0,"020F0502020204030204"]),ve(["ea",""]),ve(["cs",""]),ve(["font","\u6e38\u30b4\u30b7\u30c3\u30af","Jpan"]),ve(["font","\ub9d1\uc740 \uace0\ub515","Hang"]),ve(["font","\u7b49\u7ebf","Hans"]),ve(["font","\u65b0\u7d30\u660e\u9ad4","Hant"]),ve(["font","Arial","Arab"]),ve(["font","Arial","Hebr"]),ve(["font","Tahoma","Thai"]),ve(["font","Nyala","Ethi"]),ve(["font","Vrinda","Beng"]),ve(["font","Shruti","Gujr"]),ve(["font","DaunPenh","Khmr"]),ve(["font","Tunga","Knda"]),ve(["font","Raavi","Guru"]),ve(["font","Euphemia","Cans"]),ve(["font","Plantagenet Cherokee","Cher"]),ve(["font","Microsoft Yi Baiti","Yiii"]),ve(["font","Microsoft Himalaya","Tibt"]),ve(["font","MV Boli","Thaa"]),ve(["font","Mangal","Deva"]),ve(["font","Gautami","Telu"]),ve(["font","Latha","Taml"]),ve(["font","Estrangelo Edessa","Syrc"]),ve(["font","Kalinga","Orya"]),ve(["font","Kartika","Mlym"]),ve(["font","DokChampa","Laoo"]),ve(["font","Iskoola Pota","Sinh"]),ve(["font","Mongolian Baiti","Mong"]),ve(["font","Arial","Viet"]),ve(["font","Microsoft Uighur","Uigh"]),ve(["font","Sylfaen","Geor"]),ve(["font","Arial","Armn"]),ve(["font","Leelawadee UI","Bugi"]),ve(["font","Microsoft JhengHei","Bopo"]),ve(["font","Javanese Text","Java"]),ve(["font","Segoe UI","Lisu"]),ve(["font","Myanmar Text","Mymr"]),ve(["font","Ebrima","Nkoo"]),ve(["font","Nirmala UI","Olck"]),ve(["font","Ebrima","Osma"]),ve(["font","Phagspa","Phag"]),ve(["font","Estrangelo Edessa","Syrn"]),ve(["font","Estrangelo Edessa","Syrj"]),ve(["font","Estrangelo Edessa","Syre"]),ve(["font","Nirmala UI","Sora"]),ve(["font","Microsoft Tai Le","Tale"]),ve(["font","Microsoft New Tai Lue","Talu"]),ve(["font","Ebrima","Tfng"])]}]},{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[DD("phClr"),qL(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),qL(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[XL(["6350","flat","sng","ctr"]),XL(["12700","flat","sng","ctr"]),XL(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[ZL(),ZL(),ZL(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[DD("phClr"),DD("phClr",[Xl("tint","95000"),Xl("satMod","170000")]),qL(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},n.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(r,o){return{Id:"rId".concat(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(o+1,".xml")}}),i=RD_getTemplate(kq(kq([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e),!1),[{Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}],!1));return Za(i)},n.createDrawing=function(t){return Za(function(n){var t=n.sheetIndex,e=Ai.worksheetImages.get(t),i=Ai.worksheetImageIds.get(t),r=e.map(function(o,a){var s=function(n){n.fitCell=!!n.fitCell||!n.width||!n.height;var t=n.position,e=void 0===t?{}:t,i=n.fitCell,r=n.width,o=void 0===r?0:r,a=n.height,s=void 0===a?0:a,l=n.totalHeight,c=n.totalWidth,u=e.offsetX,d=void 0===u?0:u,h=e.offsetY,p=void 0===h?0:h,f=e.row,m=void 0===f?1:f,g=e.rowSpan,v=void 0===g?1:g,y=e.column,_=void 0===y?1:y,b=e.colSpan,w=void 0===b?1:b;return{from:{row:m-1,col:_-1,offsetX:_g(d),offsetY:_g(p)},to:{row:m-1+(i?1:v-1),col:_-1+(i?1:w-1),offsetX:_g(o+d),offsetY:_g(s+p)},height:_g(l||s),width:_g(c||o)}}(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Mq("from",s.from),Mq("to",s.to),eVe(o,a,i.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:r}}({sheetIndex:t}))},n.createDrawingRel=function(t){var e=this,i=this.worksheetImageIds.get(t),r=[];return i.forEach(function(o,a){r.push({Id:"rId".concat(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(e.workbookImageIds.get(a).index+1,".").concat(o.type)})}),Za(RD_getTemplate(r))},n.createWorksheetDrawingRel=function(t){var e=RD_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(t+1,".xml")}]);return Za(e)},n.createWorksheet=function(t,e){return Za(EGe_getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,config:e}))},n.sharedStrings=new Map,n.sheetNames=[],n.images=new Map,n.worksheetImages=new Map,n.workbookImageIds=new Map,n.worksheetImageIds=new Map,n.factoryMode=ks.SINGLE_SHEET,n}(),MGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PD=function(){return PD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},PD.apply(this,arguments)},Lq=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},JL=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Nq=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AGe=function(n){function t(e){var i=n.call(this,e)||this;return i.mixedStyles={},i.mixedStyleCounter=0,i.rows=[],i.config=Object.assign({},e),i.stylesByIds={},i.config.baseExcelStyles.forEach(function(r){i.stylesByIds[r.id]=r}),i.excelStyles=JL(JL([],Lq(i.config.baseExcelStyles),!1),[{id:"_quotePrefix",quotePrefix:1}],!1),i}return MGe(t,n),t.prototype.addCustomContent=function(e){var i=this;e.forEach(function(r){var a,o=i.rows.length+1;!i.config.suppressRowOutline&&null!=r.outlineLevel&&(a=r.outlineLevel);var s={height:ED(o,r.height||i.config.rowHeight),cells:(r.cells||[]).map(function(l,c){var u,d,h,p=i.addImage(o,i.columnsToExport[c],null===(u=l.data)||void 0===u?void 0:u.value),f=null;l.styleId&&(f="string"==typeof l.styleId?[l.styleId]:l.styleId);var m=i.getStyleId(f);if(p)return i.createCell(m,i.getDataTypeForValue(p.value),null==p.value?"":p.value);var g=null!==(h=null===(d=l.data)||void 0===d?void 0:d.value)&&void 0!==h?h:"",v=i.getDataTypeForValue(g);return l.mergeAcross?i.createMergedCell(m,v,g,l.mergeAcross):i.createCell(m,v,g)}),outlineLevel:a};null!=r.collapsed&&(s.collapsed=r.collapsed),null!=r.hidden&&(s.hidden=r.hidden),i.rows.push(s)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,i=[];return this.rows.push({cells:i,height:ED(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(r,o,a,s,l){var c=e.config.styleLinker({rowType:Fo.HEADER_GROUPING,rowIndex:1,value:"grouping-".concat(o),columnGroup:r});i.push(PD(PD({},e.createMergedCell(e.getStyleId(c),e.getDataTypeForValue("string"),o,s)),{collapsibleRanges:l}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(e){var i=this.onNewRow(this.onNewBodyColumn,this.config.rowHeight);return e&&this.addRowOutlineIfNecessary(e),i},t.prototype.prepare=function(e){var i=this;n.prototype.prepare.call(this,e),this.columnsToExport=JL([],Lq(e),!1),this.cols=e.map(function(r,o){return i.convertColumnToExcel(r,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(r,o){return Math.max(r,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.addRowOutlineIfNecessary=function(e){var i=this.config,o=i.suppressRowOutline,a=i.rowGroupExpandState,s=void 0===a?"expanded":a;if(!i.gridOptionsService.get("groupHideOpenParents")&&!o&&null!=e.level){var c=e.footer?1:0,u=D.last(this.rows);if(u.outlineLevel=e.level+c,"expanded"!==s){var d="collapsed"===s;e.isExpandable()&&(u.collapsed=!(!d&&e.expanded)),u.hidden=!!e.parent&&-1!==e.parent.level&&(d||this.isAnyParentCollapsed(e.parent))}}},t.prototype.isAnyParentCollapsed=function(e){for(;e&&-1!==e.level;){if(!e.expanded)return!0;e=e.parent}return!1},t.prototype.convertColumnToExcel=function(e,i){var r=this.config.columnWidth;return r?"number"==typeof r?{width:r}:{width:r({column:e,index:i})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,i){var r=this;return function(o,a){var s=r.extractHeaderValue(o),l=r.config.styleLinker({rowType:Fo.HEADER,rowIndex:e,value:s,column:o});i.push(r.createCell(r.getStyleId(l),r.getDataTypeForValue("string"),s))}},t.prototype.onNewBodyColumn=function(e,i){var r=this,o=0;return function(a,s,l){if(o>0)o-=1;else{var c=r.extractRowCellValue(a,s,e,"excel",l),u=c.value,d=c.valueFormatted,h=r.config.styleLinker({rowType:Fo.BODY,rowIndex:e,value:u,column:a,node:l}),p=r.getStyleId(h),f=a.getColSpan(l),m=r.addImage(e,a,u);m?i.push(r.createCell(p,r.getDataTypeForValue(m.value),null==m.value?"":m.value)):f>1?(o=f-1,i.push(r.createMergedCell(p,r.getDataTypeForValue(u),u,f-1))):i.push(r.createCell(p,r.getDataTypeForValue(u),u,d))}}},t.prototype.onNewRow=function(e,i){var r=[];return this.rows.push({cells:r,height:ED(this.rows.length+1,i)}),{onColumn:e.bind(this,this.rows.length,r)()}},t.prototype.createExcel=function(e){return Ai.createExcel(this.excelStyles,e,this.config)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getTypeFromStyle=function(e,i){if(this.isFormula(i))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export [".concat(e.id,".dataType=").concat(e.dataType,"]"))}return null},t.prototype.addImage=function(e,i,r){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,i,r);if(o)return Ai.buildImageMap(o.image,e,i,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,i,r,o){var a=this.getStyleById(e);!a?.dataType&&"s"===i&&o&&(r=o);var s=this.getTypeFromStyle(a,r)||i,l=this.getCellValue(s,r),c=l.value,u=l.escaped,d=[];return a&&d.push(e),u&&d.push("_quotePrefix"),{styleId:e=this.getStyleId(d)||void 0,data:{type:s,value:c}}},t.prototype.createMergedCell=function(e,i,r,o){var a=r??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:i,value:"s"===i?Ai.getStringPosition(a).toString():r},mergeAcross:o}},t.prototype.getCellValue=function(e,i){var r=!1;return null==i&&(e="s",i=""),"s"===e?(i&&"'"===i[0]&&(r=!0,i=i.slice(1)),i=Ai.getStringPosition(i).toString()):"f"===e?i=i.slice(1):"n"===e&&(i=Number(i).toString()),{value:i,escaped:r}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var i=e.join("-");return this.mixedStyles[i]||this.addNewMixedStyle(e),this.mixedStyles[i].excelID},t.prototype.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.addNewMixedStyle=function(e){var i,r,o,a;this.mixedStyleCounter+=1;var s="mixedStyle".concat(this.mixedStyleCounter),l={};try{for(var c=Nq(e),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var h=(o=void 0,Nq(this.excelStyles)),p=h.next();!p.done;p=h.next()){var f=p.value;f.id===d&&D.mergeDeep(l,this.deepCloneObject(f))}}catch(g){o={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}}}catch(g){i={error:g}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}l.id=s,l.name=s;var m=e.join("-");this.mixedStyles[m]={excelID:s,key:m,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return"bigint"==typeof e||isFinite(e)&&""!==e&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t}(L7),OGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ID=function(){return ID=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ID.apply(this,arguments)},uu=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Vq=function(n,t,e){return void 0===t&&(t=11),void 0===e&&(e="AG Grid"),n&&n.length>0?(function(){if(Sr.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),Ai.images.size){Sr.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var n=0;Ai.images.forEach(function(t){var e=t[0].image[0],i=e.imageType;Sr.addFile("xl/media/image".concat(++n,".").concat(i),e.base64,!0)})}}(),function(n){var t=0;n.forEach(function(e,i){Sr.addFile("xl/worksheets/sheet".concat(i+1,".xml"),e,!1),Ai.images.size&&Ai.worksheetImages.get(i)&&kGe(i,t++)})}(n),function(n,t,e){Sr.addFile("xl/workbook.xml",Ai.createWorkbook()),Sr.addFile("xl/styles.xml",Ai.createStylesheet(n)),Sr.addFile("xl/sharedStrings.xml",Ai.createSharedStrings()),Sr.addFile("xl/theme/theme1.xml",Ai.createTheme()),Sr.addFile("xl/_rels/workbook.xml.rels",Ai.createWorkbookRels(e)),Sr.addFile("docProps/core.xml",Ai.createCore(t)),Sr.addFile("[Content_Types].xml",Ai.createContentTypes(e)),Sr.addFile("_rels/.rels",Ai.createRels())}(t,e,n.length)):console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),Ai.resetFactory(),!(!n||0===n.length)},Gq=function(n){var r=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return Vq(n.data,n.fontSize,n.author)?Sr.getZipFile(r):Promise.resolve(void 0)},Bq=function(n){var r=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if(Vq(n.data,n.fontSize,n.author))return Sr.getUncompressedZipFile(r)},kGe=function(n,t){var e="xl/drawings",i="".concat(e,"/drawing").concat(t+1,".xml"),r="".concat(e,"/_rels/drawing").concat(t+1,".xml.rels"),o="xl/worksheets/_rels/sheet".concat(n+1,".xml.rels");Sr.addFile(r,Ai.createDrawingRel(n)),Sr.addFile(i,Ai.createDrawing(n)),Sr.addFile(o,Ai.createWorksheetDrawingRel(t))},LGe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return OGe(t,n),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var i=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},i,e)},t.prototype.export=function(e){var i=this;if(this.isExportSuppressed())console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");else{var r=this.getMergedParams(e),o=this.getData(r);this.packageCompressedFile({data:[o],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType}).then(function(s){if(s){var l=r.fileName,c="function"==typeof l?l(i.gridOptionsService.getGridCommonParams()):l;SL.download(i.getFileName(c),s)}})}},t.prototype.exportDataAsExcel=function(e){this.export(e)},t.prototype.getDataAsExcel=function(e){var i=this.getMergedParams(e),r=this.getData(i);return this.packageFile({data:[r],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType})},t.prototype.setFactoryMode=function(e){Ai.factoryMode=e},t.prototype.getFactoryMode=function(){return Ai.factoryMode},t.prototype.getSheetDataForExcel=function(e){var i=this.getMergedParams(e);return this.getData(i)},t.prototype.getMultipleSheetsAsExcel=function(e){return Bq(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){!function(n){var t=n.fileName,e=void 0===t?"export.xlsx":t;Gq(n).then(function(i){if(i){var r="function"==typeof e?e():e;SL.download(r,i)}})}(e)},t.prototype.getDefaultFileExtension=function(){return"xlsx"},t.prototype.createSerializingSession=function(e){var c,i=this,r=i.columnModel,o=i.valueService,a=i.gridOptionsService,s=i.valueFormatterService,l=i.valueParserService;if(null!=e.sheetName){var u=e.sheetName,d="function"==typeof u?u(this.gridOptionsService.getGridCommonParams()):u;c=String(d).substring(0,31)}else c="ag-grid";var h=ID(ID({},e),{sheetName:c,columnModel:r,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new AGe(h)},t.prototype.styleLinker=function(e){var i=e.rowType,r=e.rowIndex,o=e.value,a=e.column,s=e.columnGroup,l=e.node,c=i===Fo.HEADER,u=i===Fo.HEADER_GROUPING,d=c?a:s,h=[];if(c||u)return h.push("header"),u&&h.push("headerGroup"),d&&(h=h.concat(Cp.getHeaderClassesFromColDef(d.getDefinition(),this.gridOptionsService,a||null,s||null))),h;var p=this.gridOptionsService.get("excelStyles"),f=["cell"];if(!p||!p.length)return f;var m=p.map(function(g){return g.id});return this.stylingService.processAllCellClasses(a.getDefinition(),this.gridOptionsService.addGridCommonParams({value:o,data:l.data,node:l,colDef:a.getDefinition(),column:a,rowIndex:r}),function(g){m.indexOf(g)>-1&&f.push(g)}),f.sort(function(g,v){return m.indexOf(g)<m.indexOf(v)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressExcelExport")},t.prototype.packageCompressedFile=function(e){return Gq(e)},t.prototype.packageFile=function(e){return Bq(e)},uu([C("columnModel")],t.prototype,"columnModel",void 0),uu([C("valueService")],t.prototype,"valueService",void 0),uu([C("stylingService")],t.prototype,"stylingService",void 0),uu([C("gridSerializer")],t.prototype,"gridSerializer",void 0),uu([C("gridOptionsService")],t.prototype,"gridOptionsService",void 0),uu([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),uu([C("valueParserService")],t.prototype,"valueParserService",void 0),uu([H],t.prototype,"postConstruct",null),uu([oe("excelCreator")],t)}(k7),VGe={version:"31.1.1",moduleName:ie.ExcelExportModule,beans:[LGe,G7,V7],dependantModules:[ZE,ur]},GGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IC=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Dr=(()=>((Dr=Dr||{})[Dr.EXPANDED=0]="EXPANDED",Dr[Dr.COLLAPSED=1]="COLLAPSED",Dr[Dr.INDETERMINATE=2]="INDETERMINATE",Dr))(),BGe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return GGe(t,n),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(Dr.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=D.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,i=!this.params.suppressExpandAll,r=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search..."));var a=this.columnModel.getAllGridColumns().some(function(s){return s.getOriginalParent()&&s.isFilterAllowed()});D.setDisplayed(this.eFilterTextField.getGui(),e),D.setDisplayed(this.eExpand,i&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=D.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===Dr.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,D.setDisplayed(this.eExpandChecked,this.currentExpandState===Dr.EXPANDED),D.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Dr.COLLAPSED),D.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Dr.INDETERMINATE)},IC([C("columnModel")],t.prototype,"columnModel",void 0),IC([V("eExpand")],t.prototype,"eExpand",void 0),IC([V("eFilterTextField")],t.prototype,"eFilterTextField",void 0),IC([Ym],t.prototype,"preConstruct",null),IC([H],t.prototype,"postConstruct",null),t}(le),HGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vd=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hq=function(n){function t(e,i){var r=n.call(this,t.TEMPLATE)||this;return r.expandedCallback=i,r.expanded=!1,r.hideHeader=e,r}return HGe(t,n),t.prototype.postConstruct=function(){this.eExpandChecked=D.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=D.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var i=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(r){(r.key===G.ENTER||r.key===G.SPACE)&&(r.preventDefault(),i.toggleExpanded())}),this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),D.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(D.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,i,r){if(null!=i){var o=D.createIconNoSpan(e,this.gridOptionsService,r);i.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){D.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:bt.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&("api"===e.source||"paramsUpdated"===e.source)&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement(!0))},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,D.setAriaExpanded(this.eFilterToolPanelHeader,!0),D.setDisplayed(this.eExpandChecked,!0),D.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())},t.prototype.addFilterElement=function(e){var i=this,r=D.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var a=o.filterPromise,s=o.guiPromise;a?.then(function(l){i.underlyingFilter=l,l&&s.then(function(c){c&&r.appendChild(c),i.agFilterToolPanelBody.appendChild(r),l.afterGuiAttached&&l.afterGuiAttached({container:"toolPanel",suppressFocus:e})})})}},t.prototype.collapse=function(){var e,i;this.expanded&&(this.expanded=!1,D.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),D.setDisplayed(this.eExpandChecked,!1),D.setDisplayed(this.eExpandUnchecked,!0),null===(i=null===(e=this.underlyingFilter)||void 0===e?void 0:e.afterGuiDetached)||void 0===i||i.call(e),this.expandedCallback())},t.prototype.removeFilterElement=function(){D.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var i;if(this.expanded){var r=this.underlyingFilter;r&&(e?"function"==typeof r.refreshVirtualList&&r.refreshVirtualList():null===(i=r.afterGuiDetached)||void 0===i||i.call(r))}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',Vd([V("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Vd([V("eFilterName")],t.prototype,"eFilterName",void 0),Vd([V("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Vd([V("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Vd([V("eExpand")],t.prototype,"eExpand",void 0),Vd([C("filterManager")],t.prototype,"filterManager",void 0),Vd([C("columnModel")],t.prototype,"columnModel",void 0),Vd([H],t.prototype,"postConstruct",null),t}(le),jGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),FD=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Gd=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.columnGroup=e,s.childFilterComps=i,s.depth=o,s.expandedCallback=r,s.showingColumn=a,s}return jGe(t,n),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-".concat(this.depth)),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(this.depth,"-header")),this.childFilterComps.forEach(function(i){e.filterGroupComp.addItem(i),i.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(e.depth+1,"-header"))}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var i=function(){var r=e.columnGroup.getColDef().headerTooltip;e.setTooltip(r)};i(),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(i){i instanceof t?i.refreshFilters(e):i.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof ei},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,i){this.filterGroupComp.hideItem(e,i)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(i){i instanceof Hq&&e(i)})},t.prototype.addExpandCollapseListeners=function(){var e=this,i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,Vs.EVENT_EXPANDED,i),this.addManagedListener(this.filterGroupComp,Vs.EVENT_COLLAPSED,r)},t.prototype.getColumns=function(){return this.columnGroup instanceof ei?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(i){e.addManagedListener(i,bt.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof ei||this.addManagedListener(this.eventService,x.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(r){return r.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ei?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',FD([V("filterGroupComp")],t.prototype,"filterGroupComp",void 0),FD([C("columnModel")],t.prototype,"columnModel",void 0),FD([Ym],t.prototype,"preConstruct",null),FD([H],t.prototype,"init",null),t}(le),UGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zGe=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.hasLoadedInitialState=!1,e.isInitialState=!1,e.filterGroupComps=[],e.suppressOnColumnsChanged=!1,e.onColumnsChangedPending=!1,e}return UGe(t,n),t.prototype.init=function(e){var i=this;this.initialised=!0;var r=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});D.mergeDeep(r,e),this.params=r,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(a){"filters"===a.key&&i.refreshFilters(a.visible)}),this.addManagedListener(this.eventService,x.EVENT_DRAG_STARTED,function(){i.suppressOnColumnsChanged=!0}),this.addManagedListener(this.eventService,x.EVENT_DRAG_STOPPED,function(){i.suppressOnColumnsChanged=!1,i.onColumnsChangedPending&&(i.onColumnsChangedPending=!1,i.onColumnsChanged())}),this.columnModel.isReady()&&this.onColumnsChanged();var o=this.getAriaElement();D.setAriaLive(o,"assertive"),D.setAriaAtomic(o,!1),D.setAriaRelevant(o,"text")},t.prototype.onColumnsChanged=function(){if(this.suppressOnColumnsChanged)this.onColumnsChangedPending=!0;else{var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout(),this.refreshAriaLabel()}},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this)),this.refreshAriaLabel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var i=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(i)},t.prototype.recreateFilters=function(e){var i=this,r=this.gridOptionsService.getDocument().activeElement;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,o);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return i.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),D.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(r)&&r.focus(),this.isInitialState=!1,this.refreshAriaLabel()},t.prototype.recursivelyAddComps=function(e,i,r){var o=this;return D.flatten(e.map(function(a){if(a instanceof ei)return D.flatten(o.recursivelyAddFilterGroupComps(a,i,r));var s=a;if(!o.shouldDisplayFilter(s))return[];var c=new Hq(0===i,function(){return o.onFilterExpanded()});if(o.createBean(c),c.setColumn(s),r.get(s.getId())&&c.expand(),i>0)return c;var u=o.createBean(new Gd(s,[c],o.onGroupExpanded.bind(o),i,!0));return u.addCssClassToTitleBar("ag-filter-toolpanel-header"),r.get(u.getFilterGroupId())||u.collapse(),u}))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=e("ariaFilterPanelList","Filter List"),r=e("filters","Filters"),u=this.getGui().querySelectorAll("".concat(".ag-filter-toolpanel-group-item",":not(").concat(".ag-filter-toolpanel-group-wrapper",", ").concat(".ag-hidden",")")).length;D.setAriaLabel(this.getAriaElement(),"".concat(i," ").concat(u," ").concat(r))},t.prototype.recursivelyAddFilterGroupComps=function(e,i,r){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var a=e.isPadding()?i:i+1,s=D.flatten(this.recursivelyAddComps(e.getChildren(),a,r));if(e.isPadding())return s;var l=new Gd(e,s,this.onGroupExpanded.bind(this),i,!1);this.createBean(l),l.addCssClassToTitleBar("ag-filter-toolpanel-header");var c=r.get(l.getFilterGroupId());return(this.isInitialState&&!c||!1===c)&&l.collapse(),[l]}},t.prototype.filtersExistInChildren=function(e){var i=this;return e.some(function(r){return r instanceof ei?i.filtersExistInChildren(r.getChildren()):i.shouldDisplayFilter(r)})},t.prototype.shouldDisplayFilter=function(e){var i=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!i},t.prototype.getExpansionState=function(){var e=new Map;if(this.isInitialState){var i=this.params.initialState,o=i.expandedGroupIds;return i.expandedColIds.forEach(function(s){return e.set(s,!0)}),o.forEach(function(s){return e.set(s,!0)}),e}var a=function(s){e.set(s.getFilterGroupId(),s.isExpanded()),s.getChildren().forEach(function(l){l instanceof Gd?a(l):e.set(l.getColumn().getId(),l.isExpanded())})};return this.filterGroupComps.forEach(a),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,i){var r=[],o=function(s){var l=s.getFilterGroupId();(!i||D.includes(i,l))&&(e&&s.isColumnGroup()?s.expand():s.collapse(),r.push(l)),s.getChildren().forEach(function(u){u instanceof Gd&&o(u)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),i){var a=i.filter(function(s){return r.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,i){var r=[],o=function(s){if(s instanceof Gd){var l=!1;return s.getChildren().forEach(function(d){o(d)&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var c=s.getColumn().getColId(),u=!i||D.includes(i,c);return u&&(e?s.expand():s.collapse(),r.push(c)),u};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),i){var a=i.filter(function(s){return r.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.onFilterExpanded=function(){this.dispatchEvent({type:"filterExpanded"})},t.prototype.fireExpandedEvent=function(){var e=0,i=0,r=function(a){a.isColumnGroup()&&(a.isExpanded()?e++:i++,a.getChildren().forEach(function(s){s instanceof Gd&&r(s)}))};this.filterGroupComps.forEach(r),this.dispatchEvent({type:"groupExpanded",state:e>0&&i>0?Dr.INDETERMINATE:i>0?Dr.COLLAPSED:Dr.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=D.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var o,a,i=function(s){return!D.exists(e)||-1!==s.toLowerCase().indexOf(e)},r=function(s,l){if(!(s instanceof Gd))return i(s.getColumnFilterName()||"");var c=s.getChildren(),u=i(s.getFilterGroupName()),d=l||u;if(d){s.hideGroup(!1);for(var h=0;h<c.length;h++)r(c[h],d),s.hideGroupItem(!1,h);return!0}var p=!1;return c.forEach(function(f,m){var g=r(f,l);s.hideGroupItem(!g,m),g&&(p=!0)}),s.hideGroup(!p),p};this.filterGroupComps.forEach(function(s,l){r(s,!1),void 0===o?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a),this.refreshAriaLabel()},t.prototype.setFirstAndLastVisible=function(e,i){this.filterGroupComps.forEach(function(r,o){r.removeCssClass("ag-first-group-visible"),r.removeCssClass("ag-last-group-visible"),o===e&&r.addCssClass("ag-first-group-visible"),o===i&&r.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(i){return i.refreshFilters(e)})},t.prototype.getExpandedFiltersAndGroups=function(){var e=[],i=new Set,r=function(o){if(o instanceof Gd){o.getChildren().forEach(function(s){return r(s)});var a=o.getFilterGroupId();o.isExpanded()&&!i.has(a)&&e.push(a)}else o.isExpanded()&&i.add(o.getColumn().getColId())};return this.filterGroupComps.forEach(r),{expandedGroupIds:e,expandedColIds:Array.from(i)}},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),D.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',jq([C("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),jq([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),WGe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kD=function(){return kD=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},kD.apply(this,arguments)},Uq=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$Ge=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return WGe(t,n),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var i=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});this.params=kD(kD({},i),e),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"filterExpanded",this.onFilterExpanded.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onFilterExpanded=function(){this.params.onStateUpdated()},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(e){return this.init(e),!0},t.prototype.getState=function(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',Uq([V("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Uq([V("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),t}(le),YGe={version:"31.1.1",moduleName:ie.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:BGe},{componentName:"AgFiltersToolPanelList",componentClass:zGe}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:$Ge}],dependantModules:[$L,ur]},eN=Object.defineProperty,qGe=Object.defineProperties,XGe=Object.getOwnPropertyDescriptor,ZGe=Object.getOwnPropertyDescriptors,LD=Object.getOwnPropertySymbols,QGe=Object.getPrototypeOf,zq=Object.prototype.hasOwnProperty,Wq=Object.prototype.propertyIsEnumerable,JGe=Reflect.get,tN=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n),Pt=Math.pow,$q=(n,t,e)=>t in n?eN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Q=(n,t)=>{for(var e in t||(t={}))zq.call(t,e)&&$q(n,e,t[e]);if(LD)for(var e of LD(t))Wq.call(t,e)&&$q(n,e,t[e]);return n},Pe=(n,t)=>qGe(n,ZGe(t)),Zn=(n,t)=>{var e={};for(var i in n)zq.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&LD)for(var i of LD(n))t.indexOf(i)<0&&Wq.call(n,i)&&(e[i]=n[i]);return e},du=(n,t)=>{for(var e in t)eN(n,e,{get:t[e],enumerable:!0})},S=(n,t,e,i)=>{for(var a,r=i>1?void 0:i?XGe(t,e):t,o=n.length-1;o>=0;o--)(a=n[o])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&eN(t,e,r),r},hu=(n,t,e)=>JGe(QGe(n),e,t),he=(n,t,e)=>new Promise((i,r)=>{var o=l=>{try{s(e.next(l))}catch(c){r(c)}},a=l=>{try{s(e.throw(l))}catch(c){r(c)}},s=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())}),eBe=function(n,t){this[0]=n,this[1]=t},tBe=n=>{var i,t=n[tN("asyncIterator")],e=!1,r={};return null==t?(t=n[tN("iterator")](),i=o=>r[o]=a=>t[o](a)):(t=t.call(n),i=o=>r[o]=a=>{if(e){if(e=!1,"throw"===o)throw a;return a}return e=!0,{done:!1,value:new eBe(new Promise(s=>{var l=t[o](a);if(!(l instanceof Object))throw TypeError("Object expected");s(l)}),1)}}),r[tN("iterator")]=()=>r,i("next"),"throw"in t?i("throw"):r.throw=o=>{throw o},"return"in t&&i("return"),r},Kq=(n=>(n.POINTER="pointer",n.NODE="node",n))(Kq||{});du({},{day:()=>r9,friday:()=>wBe,hour:()=>n9,millisecond:()=>Zq,minute:()=>t9,monday:()=>yBe,month:()=>a9,saturday:()=>SBe,second:()=>Jq,sunday:()=>o9,thursday:()=>bBe,tuesday:()=>_Be,utcDay:()=>GBe,utcHour:()=>LBe,utcMinute:()=>IBe,utcMonth:()=>jBe,utcYear:()=>WBe,wednesday:()=>CBe,year:()=>s9});var iN=new Map;function nN(n,t){iN.has(t)||(iN.set(t,!0),n())}function qq(n){return n}function Xq(n,t=0,e){const{leading:i=!0,trailing:r=!0}=e??{};let o,a,s=!1;function l(){r&&a?(o=setTimeout(l,t),n(...a)):s=!1,a=null}return Object.assign(function c(...u){s?a=u:(s=!0,o=setTimeout(l,t),i?n(...u):a=u)},{cancel(){clearTimeout(o),s=!1,a=null}})}nN.clear=()=>iN.clear();var Me={log(...n){console.log(...n)},warn(n,...t){console.warn(`AG Charts - ${n}`,...t)},error(n,...t){"object"==typeof n?console.error("AG Charts error",n,...t):console.error(`AG Charts - ${n}`,...t)},table(...n){console.table(...n)},warnOnce(n,...t){nN(()=>Me.warn(n,...t),`Logger.warn: ${n}`)},errorOnce(n,...t){nN(()=>Me.error(n,...t),`Logger.error: ${n}`)}},FC=class{constructor(n,t,e){this._encode=n,this._decode=t,this._rangeCallback=e}floor(n){const t=new Date(n),e=this._encode(t);return this._decode(e)}ceil(n){const t=new Date(Number(n)-1),e=this._encode(t);return this._decode(e+1)}range(n,t,e){var i;const r=null==(i=this._rangeCallback)?void 0:i.call(this,n,t),o=this._encode(e?this.floor(n):this.ceil(n)),a=this._encode(e?this.ceil(t):this.floor(t));if(a<o)return[];const s=[];for(let l=o;l<=a;l++){const c=this._decode(l);s.push(c)}return r?.(),s}},ya=class extends FC{getOffset(n,t){const e="number"==typeof n||n instanceof Date?this._encode(new Date(n)):0;return Math.floor(e)%t}every(n,t){let i,e=0;const r=n;r!==(n=Math.max(1,Math.round(n)))&&Me.warnOnce(`interval step of [${r}] rounded to [${n}].`);const{snapTo:o="start"}=t??{};if("string"==typeof o){const l=e;i=(c,u)=>(e=this.getOffset("start"===o?c:u,n),()=>e=l)}else"number"==typeof o?e=this.getOffset(new Date(o),n):o instanceof Date&&(e=this.getOffset(o,n));return new FC(l=>{const c=this._encode(l);return Math.floor((c-e)/n)},l=>this._decode(l*n+e),i)}},Zq=new ya(function nBe(n){return n.getTime()},function rBe(n){return new Date(n)}),oBe=Zq,no=6e4,Zl=60*no,Bd=24*Zl,kC=7*Bd,LC=30*Bd,ND=365*Bd,Qq=(new Date).getTimezoneOffset()*no,Jq=new ya(function aBe(n){return Math.floor((n.getTime()-Qq)/1e3)},function sBe(n){return new Date(Qq+1e3*n)}),lBe=Jq,e9=(new Date).getTimezoneOffset()*no,t9=new ya(function cBe(n){return Math.floor((n.getTime()-e9)/no)},function uBe(n){return new Date(e9+n*no)}),dBe=t9,i9=(new Date).getTimezoneOffset()*no,n9=new ya(function hBe(n){return Math.floor((n.getTime()-i9)/Zl)},function pBe(n){return new Date(i9+n*Zl)}),fBe=n9,r9=new ya(function mBe(n){const t=n.getTimezoneOffset()*no;return Math.floor((n.getTime()-t)/Bd)},function gBe(n){const t=new Date(1970,0,1);return t.setDate(t.getDate()+n),t}),vBe=r9;function Mp(n){const e=(7+n-4)%7;return new ya(function i(o){const a=o.getTimezoneOffset()*no;return Math.floor((o.getTime()-a)/kC-e/7)},function r(o){const a=new Date(1970,0,1);return a.setDate(a.getDate()+7*o+e),a})}var o9=Mp(0),yBe=Mp(1),_Be=Mp(2),CBe=Mp(3),bBe=Mp(4),wBe=Mp(5),SBe=Mp(6),xBe=o9,a9=new ya(function EBe(n){return 12*n.getFullYear()+n.getMonth()},function DBe(n){const t=Math.floor(n/12);return new Date(t,n-12*t,1)}),TBe=a9,s9=new ya(function MBe(n){return n.getFullYear()},function ABe(n){const t=new Date;return t.setFullYear(n),t.setMonth(0,1),t.setHours(0,0,0,0),t}),OBe=s9,IBe=new ya(function RBe(n){return Math.floor(n.getTime()/no)},function PBe(n){return new Date(n*no)}),LBe=new ya(function FBe(n){return Math.floor(n.getTime()/Zl)},function kBe(n){return new Date(n*Zl)}),GBe=new ya(function NBe(n){return Math.floor(n.getTime()/Bd)},function VBe(n){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+n),t.setUTCHours(0,0,0,0),t}),jBe=new ya(function BBe(n){return 12*n.getUTCFullYear()+n.getUTCMonth()},function HBe(n){const t=Math.floor(n/12);return new Date(Date.UTC(t,n-12*t,1))}),WBe=new ya(function UBe(n){return n.getUTCFullYear()},function zBe(n){const t=new Date;return t.setUTCFullYear(n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}),bg={isEnterprise:!1},rN=class{constructor(){this.destroyFns=[]}destroy(){for(const n of this.destroyFns)n()}},Ql=[];function Bs(n){const t=Ql.find(e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier);if(t){if("enterprise"===n.packageType&&"community"===t.packageType){const e=Ql.indexOf(t);Ql.splice(e,1,n)}}else Ql.push(n)}function oN(){return Ql.some(n=>"enterprise"===n.packageType)}var VD={};function l9(n,t){VD[n]=t}function $Be(n,t){const e=VD[n];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${n}`)}var aN={has:n=>Object.hasOwn(VD,n),get axesTypes(){return Object.keys(VD)}},c9={};function u9(n,t){c9[n]=t}function KBe(n){var t;return null!=(t=c9[n])?t:{}}var GD=Symbol("BREAK"),wg="__decorator_config";function d9(n,t){null==Object.getOwnPropertyDescriptor(n,wg)&&Object.defineProperty(n,wg,{value:{}});const e=n[wg],i=t.toString();if(typeof e[i]<"u")return e[i];const r=new WeakMap;e[i]={setters:[],getters:[],observers:[],valuesMap:r};const o=Object.getOwnPropertyDescriptor(n,t),a=o?.set,s=o?.get;return Object.defineProperty(n,t,{set:function(u){const{setters:d,observers:h}=e[i];let p;d.some(f=>f.length>2)&&(p=s?s.call(this):r.get(this));for(const f of d)if((u=f(this,t,u,p))===GD)return;a?a.call(this,u):r.set(this,u);for(const f of h)f(this,u,p)},get:function(){let u=s?s.call(this):r.get(this);for(const d of e[i].getters)if(u=d(this,t,u),u===GD)return;return u},enumerable:!0,configurable:!1}),e[i]}function pu(n,t,e){return(i,r)=>{const o=d9(i,r);o.setters.push(n),t&&o.getters.unshift(t),e&&Object.assign(o,e)}}function BD(n){return typeof n<"u"&&wg in n}function Sg(n){const t=new Set;for(;BD(n);)t.add(n?.[wg]),n=Object.getPrototypeOf(n);return Array.from(t).flatMap(e=>Object.keys(e))}function qBe(n){return Sg(n).reduce((t,e)=>{var i;return t[e]=null!=(i=n[e])?i:null,t},{})}function sN(n){return null!=n}function Fn(n){return Array.isArray(n)}function h9(n){return"boolean"==typeof n}function HD(n){return n instanceof Date}function NC(n){return HD(n)&&!isNaN(Number(n))}function p9(n){return n instanceof RegExp}function xg(n){return"function"==typeof n}function Jl(n){return"object"==typeof n&&null!==n&&!Fn(n)}function ZBe(n){return Fn(n)||Ja(n)}function Ja(n){return"object"==typeof n&&null!==n&&n.constructor===Object}function es(n){return"string"==typeof n}function Hs(n){return"number"==typeof n}function ai(n){return Hs(n)&&Number.isFinite(n)}function f9(n){return typeof window<"u"&&n instanceof HTMLElement}function QBe(n,t){return es(t)&&Object.keys(n).includes(t)}function m9(n,t){return Object.values(n).includes(t)}function g9(n){return"symbol"==typeof n}function JBe(...n){return Vt(...n.reverse())}function Vt(...n){const e={};for(const i of n){if(!Jl(i))continue;const r=BD(i)?Sg(i):Object.keys(i);for(const o of r)Ja(e[o])&&Ja(i[o])?e[o]=Vt(e[o],i[o]):null!=e[o]||(e[o]=i[o])}return e}function lN(n,...t){return t&&Fn(n)?n.map(e=>Vt(e,...t)):n}function v9(n,t){return Object.entries(n).reduce((e,[i,r])=>(e[i]=t(r,i,n),e),{})}function y9(n,t){return(Fn(t)?t:t.split(".")).reduce((i,r)=>i[r],n)}function _9(n,t,e){const i=Fn(t)?t.slice():t.split("."),r=i.pop();i.reduce((a,s)=>a[s],n)[r]=e}function cN(n,t,e){if(void 0===e)return t;for(const i of n){const r=e[i];void 0!==r&&(t[i]=r)}return t}var Ap={},uN={},ts={has:n=>Object.hasOwn(Ap,n),isCartesian:n=>"cartesian"===Ap[n],isPolar:n=>"polar"===Ap[n],isHierarchy:n=>"hierarchy"===Ap[n],get seriesTypes(){return Object.keys(Ap)},get cartesianTypes(){return this.seriesTypes.filter(n=>this.isCartesian(n))},get polarTypes(){return this.seriesTypes.filter(n=>this.isPolar(n))},get hierarchyTypes(){return this.seriesTypes.filter(n=>this.isHierarchy(n))}};function t2e(n,t){uN[n]=Vt(t,uN[n])}function C9(n){var t;return null!=(t=uN[n])?t:{}}var Eg=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function b9(n){return Eg.some(t=>"series"===t.type&&t.identifier===n)}function dN(n){var t;return null==(t=Eg.find(e=>"series"===e.type&&e.identifier===n))?void 0:t.chartTypes}function n2e(n){var t,e;return(null!=(e=null==(t=Eg.find(i=>"series"===i.type&&i.identifier===n))?void 0:t.useCount)?e:0)>0}function l2e(n){if(!function s2e(n){return"enterprise"===n.packageType}(n))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Eg.find(i=>i.type===n.type&&i.optionsKey===n.optionsKey&&i.identifier===n.identifier&&n.chartTypes.every(r=>i.chartTypes.includes(r)));return e&&(null!=e.useCount||(e.useCount=0),e.useCount++),null!=e}function VC(n){var t,e,i;return null!=(i=null==(e=null==(t=n.series)?void 0:t[0])?void 0:e.type)?i:"line"}function Op(n){const t=VC(n);return null==t||("cartesian"===t?(Me.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isCartesian(t)||function r2e(n){var t;return"cartesian"===(null==(t=dN(n))?void 0:t.find(i=>"cartesian"===i))}(t))}function hN(n){const t=VC(n);return null!=t&&("hierarchy"===t?(Me.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isHierarchy(t)||function a2e(n){var t;return"hierarchy"===(null==(t=dN(n))?void 0:t.find(i=>"hierarchy"===i))}(t))}function GC(n){const t=VC(n);return null!=t&&("polar"===t?(Me.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):ts.isPolar(t)||function o2e(n){var t;return"polar"===(null==(t=dN(n))?void 0:t.find(i=>"polar"===i))}(t))}function h2e(n){return null!=n&&aN.has(n)}var bi=class{constructor(n){this.className=n}set(n){const t=new Set(Object.keys(n));for(const e of Sg(this))if(t.has(e)){const i=n[e],r=this;r[e]=_a(r[e])?r[e]instanceof BC?r[e].reset(i):r[e].set(i):i,t.delete(e)}for(const e of t){const{className:i=this.constructor.name}=this.constructor;Me.warn(`unable to set [${e}] in ${i} - property is unknown`)}return this}isValid(){return Sg(this).every(n=>{const{optional:t}=function XBe(n,t){const e=t.toString();for(;BD(n);){const i=n[wg];if(Object.hasOwn(i,e))return i[e];n=Object.getPrototypeOf(n)}}(this,n);return t||typeof this[n]<"u"})}toJson(){return Sg(this).reduce((n,t)=>{const e=this[t];return n[t]=_a(e)?e.toJson():e,n},{})}},BC=class pie extends Array{constructor(t,...e){super(e.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(e)}set(t){if(Fn(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=(new this.itemFactory).set(t[e])}return this}reset(t){return new pie(this.itemFactory,...t)}toJson(){return this.slice()}};function _a(n){return n instanceof bi||n instanceof BC}var jD="class-instance";function Ca(n,t){if(Fn(t)){if(!Fn(n)||n.length!==t.length||t.some((e,i)=>null!=Ca(n[i],e)))return t}else{if(Ja(t)){if(!Ja(n))return t;const e={},i=new Set([...Object.keys(n),...Object.keys(t)]);for(const r of i)if(n[r]!==t[r])if(typeof n[r]!=typeof t[r])e[r]=t[r];else{const o=Ca(n[r],t[r]);null!==o&&(e[r]=o)}return Object.keys(e).length?e:null}if(n!==t)return t}return null}function Gr(n,t){return Fn(n)?n.map(e=>Gr(e,t)):Ja(n)?Object.entries(n).reduce((e,[i,r])=>{var o;return e[i]=null!=(o=t?.shallow)&&o.includes(i)?UD(r):Gr(r,t),e},{}):UD(n)}function UD(n){return Fn(n)?[...n]:Ja(n)?Q({},n):HD(n)?new Date(n):p9(n)?new RegExp(n.source,n.flags):n}function ec(n,t,e,...i){var r;if(Fn(n))t(n,...i),n.forEach((o,a)=>{ec(o,t,e,...w9(i,a))});else if(Ja(n)){t(n,...i);for(const o of Object.keys(n)){if(null!=(r=e?.skip)&&r.includes(o))continue;const a=n[o];(Fn(a)||Ja(a))&&ec(a,t,e,...w9(i,o))}}}function Hd(n,t,e={}){var i,r,o;const{path:a,matcherPath:s=(a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0),skip:l=[],constructors:c={},constructedArrays:u=new WeakMap,allowedTypes:d={},idx:h}=e;if(null==n)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(null==t)return n;if(_a(n))return n.set(t);const p=n;null!=h&&"_declarationOrder"in p&&(p._declarationOrder=h);const f=pN(n);for(const m in t){const g=`${s?s+".":""}${m}`;if(l.indexOf(g)>=0)continue;const v=t[m],y=`${a?a+".":""}${m}`,_=p.constructor,b=p[m];let w=null!=(i=c[g])?i:c[m];try{const E=pN(b),M=pN(v);if(f===jD&&!(m in n)&&!Object.hasOwn(p,m)){Me.warn(`unable to set [${y}] in ${_?.name} - property is unknown`);continue}const P=null!=(r=d[g])?r:[E];if((E!==jD||"object"!==M)&&null!=E&&null!=M&&!P.includes(M)){Me.warn(`unable to set [${y}] in ${_?.name} - can't apply type of [${M}], allowed types are: [${P}]`);continue}if("array"===M)w=null!=(o=w??u.get(b))?o:c[`${g}[]`],_a(p[m])?p[m].set(v):p[m]=null!=w?v.map((k,L)=>Hd(new w,k,Pe(Q({},e),{path:y,matcherPath:g+"[]",idx:L}))):v;else if(M===jD)p[m]=v;else if("object"===M)if(_a(b))p[m].set(v);else if(null!=b)Hd(b,v,Pe(Q({},e),{path:y,matcherPath:g,idx:void 0}));else if(null!=w){const I=new w;p[m]=_a(I)?I.set(v):Hd(I,v,Pe(Q({},e),{path:y,matcherPath:g,idx:void 0}))}else p[m]=v;else _a(p[m])?p[m].set(v):p[m]=v}catch(E){Me.warn(`unable to set [${y}] in [${_?.name}]; nested error is: ${E.message}`)}}return n}function w9(n,t){return n.map(e=>e?.[t])}function pN(n){return null==n?null:f9(n)||HD(n)?"primitive":Fn(n)?"array":Jl(n)?Ja(n)?"object":jD:xg(n)?"function":"primitive"}var S9={},x9={},fN={},E9={},D9={},T9=new Set,M9=new Set,A9=new Set,O9=new Set,mN={};function f2e({identifier:n,chartTypes:[t],instanceConstructor:e,seriesDefaults:i,themeTemplate:r,enterpriseThemeTemplate:o,paletteFactory:a,solo:s,stackable:l,groupable:c,stackedByDefault:u,swapDefaultAxesCondition:d}){S9[n]=e,x9[n]=i,R9(n,r,o),a&&function y2e(n,t){D9[n]=t}(n,a),s&&function x2e(n){T9.add(n)}(n),l&&function E2e(n){M9.add(n)}(n),c&&function S2e(n){A9.add(n)}(n),u&&function D2e(n){O9.add(n)}(n),d&&function T2e(n,t){mN[n]=t}(n,d),function e2e(n,t){Ap[n]=t}(n,t)}function R9(n,t,e={}){const i=fN[n];fN[n]=Vt(t,i),E9[n]=Vt(e,t,i)}function m2e(n,t){const e=S9[n];if(e)return new e(t);throw new Error(`AG Charts - unknown series type: ${n}`)}function v2e(n){return bg.isEnterprise?E9[n]:fN[n]}function gN(n){return T9.has(n)}var P9={};function I9(n,t,e,i){P9[n]=t,F9[t]=i}var F9={},k9=(n=>(n[n.SMALL=12]="SMALL",n[n.MEDIUM=13]="MEDIUM",n[n.LARGE=17]="LARGE",n))(k9||{}),L9=(n=>(n.NORMAL="normal",n.BOLD="bold",n.BOLDER="bolder",n.LIGHTER="lighter",n))(L9||{}),N9=(n=>(n.TOP="top",n.RIGHT="right",n.BOTTOM="bottom",n.LEFT="left",n))(N9||{}),V9=(n=>(n.CATEGORY="category",n.NUMBER="number",n.TIME="time",n.LOG="log",n))(V9||{}),G9=(n=>(n.ANGLE_CATEGORY="angle-category",n.ANGLE_NUMBER="angle-number",n.RADIUS_CATEGORY="radius-category",n.RADIUS_NUMBER="radius-number",n))(G9||{}),B9=(n=>(n.CIRCLE="circle",n.POLYGON="polygon",n))(B9||{}),tc={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Rp={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},Pp=Symbol("is-dark-theme"),H9=Symbol("extends-chart-defaults"),j9=Symbol("extends-legend-defaults"),U9=Symbol("extends-legend-item-defaults"),z9=Symbol("extends-legend-item-marker-defaults"),W9=Symbol("extends-axes-defaults"),$9=Symbol("extends-axes-label-defaults"),K9=Symbol("extends-axes-line-defaults"),Y9=Symbol("extends-axes-tick-defaults"),q9=Symbol("extends-axes-grid-line-defaults"),fu=Symbol("extends-series-defaults"),Dg=Symbol("extends-cartesian-marker-defaults"),X9=Symbol("override-series-label-defaults"),Qn=Symbol("default-font"),si=Symbol("default-label-colour"),Z9=Symbol("default-inverted-label-colour"),Tg=Symbol("default-inside-series-label-colour"),Mg=Symbol("default-muted-label-colour"),zD=Symbol("default-axis-grid-colour"),WD=Symbol("default-axis-line-colour"),HC=Symbol("default-cross-lines-colour"),jC=Symbol("default-background-colour"),Ag=Symbol("default-shadow-colour"),js=Symbol("default-waterfall-series-positive-colors"),Us=Symbol("default-waterfall-series-negative-colors"),zs=Symbol("default-waterfall-series-total-colors"),Ws=Symbol("default-waterfall-series-connector-line-stroke"),vN=Symbol("default-polar-series-stroke"),$s=Symbol("default-diverging-series-colour-range"),yN=Symbol("default-hierarchy-fills"),_N=Symbol("default-hierarchy-strokes"),CN="white",R2e={fills:Object.values(tc),strokes:Object.values(Rp)},bN={get cartesian(){return{seriesTypes:ts.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ts.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:ts.hierarchyTypes,commonOptions:[]}}},P2e=Object.values(bN).reduce((n,{commonOptions:t})=>[...n,...t],[]),Ip=class un{getPalette(){return R2e}static getAxisDefaults(t){return Vt(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Qn,color:si},label:{fontSize:12,fontFamily:Qn,padding:5,color:si,avoidCollisions:!0},line:{enabled:!0,width:1,color:WD},tick:{enabled:!1,width:1,color:WD},gridLine:{enabled:!0,style:[{stroke:zD,lineDash:[]}]},crossLines:{enabled:!1,fill:HC,stroke:HC,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Qn,padding:5,color:si}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:jC},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Qn,color:si,wrapping:un.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Qn,color:Mg,wrapping:un.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Qn,color:"rgb(140, 140, 140)",wrapping:un.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:un.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:si,fontSize:12,fontFamily:Qn}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:si},inactiveStyle:{fill:Mg},highlightStyle:{fill:si},label:{color:si}}},tooltip:{enabled:!0,darkTheme:Pp,range:"nearest",delay:0},overlays:{loading:{darkTheme:Pp},noData:{darkTheme:Pp},noVisibleSeries:{darkTheme:Pp}},listeners:{}}}constructor(t){var e;t=Gr(t??{});const{overrides:i=null,palette:r=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(i){const{common:s}=i,l=(c,u)=>{if(u)for(const d of c)o[d]=Vt(u,o[d])};for(const[,{seriesTypes:c,commonOptions:u}]of Object.entries(bN)){const d=Q({},s);for(const h of P2e)u.includes(h)||delete d[h];l(c,d)}ts.seriesTypes.forEach(c=>{i[c]&&(o[c]=Vt(i[c],o[c]))})}const a=this.getPalette();this.palette=null!=(e=function I2e(n,t){var e,i;return null==n?null:{fills:null!=(e=n.fills)?e:t.fills,strokes:null!=(i=n.strokes)?i:t.strokes}}(r,a))?e:a,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(bN).forEach(([e,{seriesTypes:i}])=>{const r=C9(e);i.forEach(o=>{t[o]||(t[o]=Gr(r))})}),t}getDefaults(){const e=(i,r)=>{var o;const a=(i=>Q(Q(Q({axes:{}},function A2e(){return F9}()),un.getChartDefaults()),C9(i)))(i),s={};for(const l of r){s[l]=Vt(v2e(l),null!=(o=s[l])?o:Gr(a));const{axes:c}=s[l];for(const u of aN.axesTypes)c[u]=Vt(c[u],KBe(u),"cartesian"===i&&un.cartesianAxisDefault[u])}return s};return Vt(e("cartesian",ts.cartesianTypes),e("polar",ts.polarTypes),e("hierarchy",ts.hierarchyTypes))}templateTheme(t){const e=Gr(t),{extensions:i,properties:r}=this.getTemplateParameters();return ec(e,o=>{if(o.__extends__){const a=o.__extends__,s=i.get(a);if(null==s)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(s).forEach(l=>{l in o?Jl(o[l])&&(o[l]=Vt(o[l],s[l])):o[l]=s[l]}),delete o.__extends__}if(o.__overrides__){const a=o.__overrides__,s=i.get(a);if(null==s)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(o,s),delete o.__overrides__}if(Fn(o))for(let a=0;a<o.length;a++){const s=o[a];r.has(s)&&(o[a]=r.get(s))}else for(const[a,s]of Object.entries(o))r.has(s)&&(o[a]=r.get(s))}),Gr(e)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:tc.BLUE,stroke:Rp.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:tc.ORANGE,stroke:Rp.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:tc.GRAY,stroke:Rp.GRAY,label:{color:si}}}getTemplateParameters(){const t=new Map;t.set(H9,un.getChartDefaults()),t.set(W9,un.getAxisDefaults()),t.set(j9,un.getChartDefaults().legend),t.set(U9,un.getChartDefaults().legend.item),t.set(z9,un.getLegendItemMarkerDefaults()),t.set($9,un.getAxisDefaults().label),t.set(K9,un.getAxisDefaults().line),t.set(Y9,un.getAxisDefaults().tick),t.set(q9,un.getAxisDefaults().gridLine),t.set(fu,un.getSeriesDefaults()),t.set(X9,{}),t.set(Dg,un.getCartesianSeriesMarkerDefaults());const e=new Map;return e.set(Pp,!1),e.set(Qn,"Verdana, sans-serif"),e.set(si,"rgb(70, 70, 70)"),e.set(Z9,"white"),e.set(Mg,"rgb(140, 140, 140)"),e.set(zD,"rgb(224,234,241)"),e.set(WD,"rgb(195, 195, 195)"),e.set(HC,"rgb(70, 70, 70)"),e.set(Tg,CN),e.set(jC,CN),e.set(Ag,"rgba(0, 0, 0, 0.5)"),e.set($s,[tc.ORANGE,tc.YELLOW,tc.GREEN]),e.set(yN,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(_N,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(vN,CN),e.set(js,un.getWaterfallSeriesDefaultPositiveColors()),e.set(Us,un.getWaterfallSeriesDefaultNegativeColors()),e.set(zs,un.getWaterfallSeriesDefaultTotalColors()),e.set(Ws,un.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:e}}};Ip.cartesianAxisDefault={number:Ip.getAxisDefaults({line:{enabled:!1}}),log:Ip.getAxisDefaults({base:10,line:{enabled:!1}}),category:Ip.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:Ip.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":Ip.getAxisDefaults()};var mu=Ip,wN="#192232",Fp={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},$D={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},F2e={fills:Object.values(Fp),strokes:Object.values($D)},UC=class lw extends mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Fp.BLUE,stroke:$D.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Fp.ORANGE,stroke:$D.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Fp.GRAY,stroke:$D.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Pp,!0),t.properties.set(js,lw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,lw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,lw.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Ws,lw.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(vN,wN),t.properties.set(si,"white"),t.properties.set(Mg,"#7D91A0"),t.properties.set(zD,"#545A6E"),t.properties.set(HC,"white"),t.properties.set($s,[Fp.ORANGE,Fp.YELLOW,Fp.GREEN]),t.properties.set(yN,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(_N,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(jC,wN),t.properties.set(Tg,wN),t}getPalette(){return F2e}constructor(t){super(t)}},kp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},KD={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},k2e={fills:Object.values(kp),strokes:Object.values(KD)},L2e=class cw extends UC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:kp.BLUE,stroke:KD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:kp.RED,stroke:KD.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:kp.GRAY,stroke:KD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,cw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,cw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,cw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[kp.ORANGE,kp.YELLOW,kp.GREEN]),t.properties.set(Ws,cw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return k2e}},Lp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},YD={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},N2e={fills:Object.values(Lp),strokes:Object.values(YD)},V2e=class uw extends mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Lp.BLUE,stroke:YD.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Lp.RED,stroke:YD.RED,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Lp.GRAY,stroke:YD.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,uw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,uw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,uw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[Lp.ORANGE,Lp.YELLOW,Lp.GREEN]),t.properties.set(Ws,uw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return N2e}},zC={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},SN={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},H2e={fills:Object.values(zC),strokes:Object.values(SN)},j2e=class dw extends UC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:zC.BLUE,stroke:SN.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:zC.RED,stroke:SN.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:"#bbbbbb",stroke:"#eeeeee",label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,dw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,dw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,dw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[zC.BLUE,zC.RED]),t.properties.set(Ws,dw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return H2e}},WC={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},xN={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},W2e={fills:Object.values(WC),strokes:Object.values(xN)},$2e=class hw extends mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:WC.BLUE,stroke:xN.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:WC.RED,stroke:xN.RED,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:"#bbbbbb",stroke:"#888888",label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,hw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,hw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,hw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[WC.BLUE,WC.RED]),t.properties.set(Ws,hw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return W2e}},Np={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},qD={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},K2e={fills:Object.values(Np),strokes:Object.values(qD)},Y2e=class pw extends UC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Np.BLUE,stroke:qD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Np.ORANGE,stroke:qD.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Np.GRAY,stroke:qD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,pw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,pw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,pw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[Np.ORANGE,Np.YELLOW,Np.GREEN]),t.properties.set(Ws,pw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return K2e}},Vp={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},XD={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},q2e={fills:Object.values(Vp),strokes:Object.values(XD)},X2e=class fw extends mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Vp.BLUE,stroke:XD.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Vp.ORANGE,stroke:XD.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Vp.GRAY,stroke:XD.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,fw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,fw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,fw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[Vp.ORANGE,Vp.YELLOW,Vp.GREEN]),t.properties.set(Ws,fw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return q2e}},Gp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},ZD={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},Z2e={fills:Object.values(Gp),strokes:Object.values(ZD)},Q2e=class mw extends UC{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Gp.BLUE,stroke:ZD.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Gp.ORANGE,stroke:ZD.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Gp.GRAY,stroke:ZD.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,mw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,mw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,mw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[Gp.ORANGE,Gp.YELLOW,Gp.GREEN]),t.properties.set(Ws,mw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return Z2e}},Bp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},QD={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},J2e={fills:Object.values(Bp),strokes:Object.values(QD)},eHe=class gw extends mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Bp.BLUE,stroke:QD.BLUE,label:{color:si}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Bp.ORANGE,stroke:QD.ORANGE,label:{color:si}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Bp.GRAY,stroke:QD.GRAY,label:{color:si}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(js,gw.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(Us,gw.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(zs,gw.getWaterfallSeriesDefaultTotalColors()),t.properties.set($s,[Bp.ORANGE,Bp.YELLOW,Bp.GREEN]),t.properties.set(Ws,gw.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return J2e}},$C=()=>new mu,EN=()=>new UC,tHe={undefined:$C,null:$C,"ag-default":$C,"ag-sheets":()=>new X2e,"ag-polychroma":()=>new $2e,"ag-vivid":()=>new eHe,"ag-material":()=>new V2e},Q9=Q(Q({},{undefined:EN,null:EN,"ag-default-dark":EN,"ag-sheets-dark":()=>new Y2e,"ag-polychroma-dark":()=>new j2e,"ag-vivid-dark":()=>new Q2e,"ag-material-dark":()=>new L2e}),tHe);function DN(n){let t=function rHe(n){return void 0===n||"string"==typeof n||n instanceof mu?n:"object"==typeof n?function nHe(n){if(null===n)return;let t=!0;const{baseTheme:e,palette:i,overrides:r}=n;if(void 0!==e&&"string"!=typeof e&&"object"!=typeof e&&(Me.warn(`invalid theme.baseTheme type ${typeof e}, expected (string | object).`),t=!1),void 0!==r&&"object"!=typeof r&&(Me.warn(`invalid theme.overrides type ${typeof r}, expected object.`),t=!1),"object"==typeof i){if(null!==i){const{fills:o,strokes:a}=i;void 0!==o&&!Array.isArray(o)&&(Me.warn("theme.overrides.fills must be undefined or an array"),t=!1),void 0!==a&&!Array.isArray(a)&&(Me.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else void 0!==i&&(Me.warn(`invalid theme.palette type ${typeof i}, expected object.`),t=!1);return t?n:void 0}(n):void Me.warn(`invalid theme value type ${typeof n}, expected object or string.`)}(n);if(t instanceof mu)return t;if(void 0===t||"string"==typeof t){const a=Q9[t];return a?a():(Me.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),$C())}const e=[];let i;for(;"object"==typeof t;)e.push(t.overrides),i??(i=t.palette),t=t.baseTheme;const r={baseTheme:t,overrides:Vt(...e),palette:i};return new((r.baseTheme?DN(r.baseTheme):$C()).constructor)(r)}function ic(n){if(0===n.length)return;let t=1/0,e=-1/0;for(let r of n)r instanceof Date&&(r=r.getTime()),"number"==typeof r&&(r<t&&(t=r),r>e&&(e=r));const i=[t,e];return i.every(isFinite)?i:void 0}function J9(n,t,e){return KC(n,t,e).extent}function KC(n,t,e){var i;let r=!1;return n.length>2&&(n=null!=(i=ic(n))?i:[NaN,NaN]),isNaN(t)||(r||(r=t>n[0]),n=[t,n[1]]),isNaN(e)||(r||(r=e<n[1]),n=[n[0],e]),n[0]>n[1]&&(n=[]),{extent:n,clipped:r}}function YC(n,t){if(null==n||null==t||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(Array.isArray(n[e])&&Array.isArray(t[e])){if(!YC(n[e],t[e]))return!1}else if(n[e]!==t[e])return!1;return!0}function JD(n){return typeof n>"u"?[]:Array.isArray(n)?n:[n]}function TN(n){return Array.from(new Set(n))}function MN(n,t){return n.reduce((e,i)=>{const o=t(i);return null!=e[o]||(e[o]=[]),e[o].push(i),e},{})}function AN(n,t,e=0){if(0===n.length)return[];const i=[];for(let r=0;r<t;r++)i.push(n.at((r+e)%n.length));return i}function ON(n){const t=typeof window<"u"?window:void 0;return t?.[n]}var eX=Date.now(),sn={create:(...n)=>Object.assign((...e)=>{sn.check(...n)&&("function"==typeof e[0]&&(e=JD(e[0]())),(()=>{const n=Date.now()-eX;if(n>2e3){const t=(Math.floor(n/100)/10).toFixed(1);Me.log(`**** ${t}s since last log message ****`)}eX=Date.now()})(),Me.log(...e))},{check:()=>sn.check(...n)}),check:(...n)=>(0===n.length&&n.push(!0),JD(ON("agChartsDebug")).some(e=>n.includes(e)))},tX=class{constructor(n,t){var e,i;const o={shallow:["data"]},a=Gr(n,o),s=this.optionsType(a);this.sanityCheckAndCleanup(a),this.userOptions=a,this.activeTheme=DN(a.theme),this.seriesDefaults=this.getOptionsDefaults(a),this.specialOverrides=this.specialOverridesDefaults(Q({},t));const l=this.getSeriesThemeConfig(s),{axes:c={}}=l,d=Zn(l,["axes","series"]);this.processedOptions=Gr(Vt(this.userOptions,d,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),(Op(this.processedOptions)||function u2e(n){const t=VC(n);return GC(n)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==(null==(e=this.processedOptions.legend)?void 0:e.enabled)&&(null!=(i=this.processedOptions).legend||(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),bg.isEnterprise||function p2e(n){var t,e,i,r;const o=[],a=function i2e(n){var t;return null!=(t=Ap[n])?t:"unknown"}(VC(n));for(const{type:s,chartTypes:l,optionsKey:c,optionsInnerKey:u,identifier:d}of Eg)if("unknown"===a||l.includes(a))if("root"===s||"legend"===s){const h=n[c];if(null==h)continue;u?h[u]&&(o.push(`${c}.${u}`),delete h[u]):(o.push(c),delete n[c])}else if("axis"===s){if(!("axes"in n)||null==(t=n.axes)||!t.some(h=>h.type===d))continue;o.push(`axis[type=${d}]`),n.axes=n.axes.filter(h=>h.type!==d)}else if("axis-option"===s){if(!("axes"in n)||null==(e=n.axes)||!e.some(h=>h[c]))continue;o.push(`axis.${c}`),n.axes.forEach(h=>{h[c]&&delete h[c]})}else if("series"===s){if(null==(i=n.series)||!i.some(h=>h.type===d))continue;o.push(`series[type=${d}]`),n.series=n.series.filter(h=>h.type!==d)}else if("series-option"===s){if(null==(r=n.series)||!r.some(h=>h[c]))continue;o.push(`series.${c}`),n.series.forEach(h=>{h[c]&&delete h[c]})}o.length&&Me.warnOnce(["unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:\n","",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join("\n"))}(this.processedOptions)}getOptions(){var n;return null!=(n=this.processedOptions)?n:{}}diffOptions(n){return Ca(n,this.processedOptions)}getSeriesThemeConfig(n){var t,e;return Gr(null!=(e=null==(t=this.activeTheme)?void 0:t.config[n])?e:{})}getOptionsDefaults(n){const e=function g2e(n){var t;return Gr(null!=(t=x9[n])?t:{})}(this.optionsType(n));return function M2e(n){var t,e;let i;for(const r of null!=(t=n.series)?t:[]){const{type:o="line"}=r,a=null==(e=mN[o])?void 0:e.call(mN,r);if(null!=a){if(null!=i&&i!=a)throw new Error("AG Charts - The provided series have incompatible directions");i=a}}return i}(n)&&this.swapAxesPosition(e),e}optionsType(n){var t,e,i;return null!=(i=null==(e=null==(t=n.series)?void 0:t[0])?void 0:e.type)?i:"line"}sanityCheckAndCleanup(n){var t;this.deprecationWarnings(n),this.axesTypeIntegrity(n),this.seriesTypeIntegrity(n),this.soloSeriesIntegrity(n),this.removeDisabledOptions(n),this.removeLeftoverSymbols(n),null!=(t=n.series)&&t.some(e=>"bullet"===e.type)&&null!=n.sync&&!1!==n.sync.enabled&&(Me.warnOnce("bullet series cannot be synced, disabling synchronization."),delete n.sync)}swapAxesPosition(n){var t;if(Op(n)){const[e,i]=null!=(t=n.axes)?t:[];n.axes=[Pe(Q({},e),{position:i.position}),Pe(Q({},i),{position:e.position})]}}processAxesOptions(n,t){"axes"in n&&(n.axes=n.axes.map(e=>{var i,r,o,a;const s=Vt(null==(i=this.seriesDefaults.axes)?void 0:i.find(({type:p})=>p===e.type),null==(r=t[e.type])?void 0:r[e.position],t[e.type]),{crossLines:l}=s,c=Zn(s,["crossLines"]);e.crossLines&&(e.crossLines=lN(e.crossLines,l));const u=null==(o=c.gridLine)?void 0:o.style;null!=(a=e.gridLine)&&a.style&&u?.length&&(e.gridLine.style=e.gridLine.style.map((p,f)=>null!=p.stroke||null!=p.lineDash?Vt(p,u.at(f%u.length)):p));const d=Vt(e,c);return Zn(d,["top","right","bottom","left"])}))}processSeriesOptions(n){const t=this.getDefaultSeriesType(n),e=this.getTooltipPositionDefaults(n),i={colourIndex:0,userPalette:!(!Jl(n.theme)||!n.theme.palette)},r=n.series.map(o=>{var s;null!=o.type||(o.type=t);const l=null!=(s=this.getSeriesThemeConfig(o.type).series)?s:{},{innerLabels:c}=l,u=Zn(l,["innerLabels"]),d=Vt(this.getSeriesGroupingOptions(o),o,e,u,this.getSeriesPalette(o.type,i));return d.innerLabels&&(d.innerLabels=lN(d.innerLabels,c)),this.activeTheme.templateTheme(d)});n.series=this.setSeriesGroupingOptions(r)}getSeriesPalette(n,t){const e=function _2e(n){return D9[n]}(n),{colourIndex:i,userPalette:r}=t,{fills:o=[],strokes:a=[]}=this.activeTheme.palette;return e?.({userPalette:r,colorsCount:Math.max(o.length,a.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors:s=>(t.colourIndex+=s,{fills:AN(o,s,i),strokes:AN(a,s,i)})})}getSeriesGroupingOptions(n){const t=function b2e(n){return A9.has(n)}(n.type),e=function C2e(n){return M9.has(n)}(n.type),i=function w2e(n){return O9.has(n)}(n.type);n.grouped&&!t&&Me.warnOnce(`unsupported grouping of series type "${n.type}".`),(n.stacked||n.stackGroup)&&!e&&Me.warnOnce(`unsupported stacking of series type "${n.type}".`);let{grouped:r,stacked:o}=n;return o??(o=(i||null!=n.stackGroup)&&!(t&&r)),r??(r=!0),{stacked:e&&o,grouped:t&&r&&!(e&&o)}}setSeriesGroupingOptions(n){const t=this.getSeriesGrouping(n);sn.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);const e={},i=t.reduce((r,o)=>{var a;return"default"===o.groupType||(null!=r[a=o.seriesType]||(r[a]=0),r[o.seriesType]+="stack"===o.groupType?1:o.series.length),r},{});return t.flatMap(r=>{var o;switch(null!=e[o=r.seriesType]||(e[o]=0),r.groupType){case"stack":const s=e[r.seriesType]++;return r.series.map((l,c)=>Object.assign(l,{seriesGrouping:{groupIndex:s,groupCount:i[r.seriesType],stackIndex:c,stackCount:r.series.length}}));case"group":return r.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:e[r.seriesType]++,groupCount:i[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(r=>Zn(r,["stacked","grouped"]))}getSeriesGroupId(n){var t;return n.stacked||n.grouped?[n.type,n.xKey,n.stacked?null!=(t=n.stackGroup)?t:"stacked":"grouped"].filter(Boolean).join("-"):"default-ag-charts-group"}getSeriesGrouping(n){const t=new Map;return n.reduce((e,i)=>{const r=i.type;if(i.stacked||i.grouped){const o=this.getSeriesGroupId(i);if(!t.has(o)){const s={groupType:i.stacked?"stack":"group",seriesType:r,series:[]};t.set(o,s),e.push(s)}t.get(o).series.push(i)}else e.push({groupType:"default",seriesType:r,series:[i]});return e},[])}getDefaultSeriesType(n){if(Op(n))return"line";if(hN(n))return"treemap";if(GC(n))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(n){var t;const e=null==(t=n.tooltip)?void 0:t.position;if(!Ja(e))return;const{type:i,xOffset:r,yOffset:o}=e,a={};return es(i)&&m9(Kq,i)&&(a.type=i),ai(r)&&(a.xOffset=r),ai(o)&&(a.yOffset=o),{tooltip:{position:a}}}deprecationWarnings(n){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,i])=>{var r;null!=(r=n.series)&&r.some(o=>null!=o[e])&&Me.warnOnce(`Property [series.${e}] is deprecated, please use [series.${i}] and multiple series instead.`)})}axesTypeIntegrity(n){var t;if("axes"in n){const e=null!=(t=n.axes)?t:[];for(const{type:i}of e)h2e(i)||(delete n.axes,Me.warnOnce(`unknown axis type: ${i}; expected one of: ${aN.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(n){var t;const e=null!=(t=n.series)?t:[];n.series=e.filter(({type:i})=>{if(null==i||function d2e(n){return null!=n&&ts.has(n)}(i)||b9(i))return!0;Me.warnOnce(`unknown series type: ${i}; expected one of: ${ts.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(n){const t=n.series;if(t&&t.length>1&&t.some(e=>gN(e.type))){const e=this.optionsType(n);if(gN(e))Me.warn(`series[0] of type '${e}' is incompatible with other series types. Only processing series[0]`),n.series=t.slice(0,1);else{const{solo:i,nonSolo:r}=MN(t,a=>gN(a.type)?"solo":"nonSolo"),o=TN(i.map(a=>a.type)).join(", ");Me.warn(`Unable to mix these series types with the lead series type: ${o}`),n.series=r}}}enableConfiguredOptions(n){ec(this.userOptions,(t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&null==t.enabled&&(e.enabled=!0)},{skip:["data","theme"]},n),ec(n,t=>{null!=t._enabledFromTheme&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(n){ec(n,t=>{"enabled"in t&&!1===t.enabled&&Object.keys(t).forEach(e=>{"enabled"!==e&&delete t[e]})},{skip:["data","theme"]})}removeLeftoverSymbols(n){ec(n,t=>{if(t&&Jl(t))for(const[e,i]of Object.entries(t))g9(i)&&delete t[e]},{skip:["data"]})}specialOverridesDefaults(n){if(null==n.window)if(typeof window<"u")n.window=window;else{if(!(typeof global<"u"))throw new Error("AG Charts - unable to resolve global window");n.window=global.window}if(null==n.document)if(typeof document<"u")n.document=document;else{if(!(typeof global<"u"))throw new Error("AG Charts - unable to resolve global document");n.document=global.document}return n}};function eT(){return(n,t)=>{const e=[`Property [${n}] is deprecated.`,t].filter(Boolean).join(" ");Me.warnOnce(e)}}function Hp(n,t){const e=eT(),i=t?.default;return pu((r,o,a)=>(a!==i&&e(o.toString(),n),a))}function sHe(n,t){const e=eT();return pu((i,r,o)=>(o!==i[n]&&(e(r.toString(),`Use [${n}] instead.`),i[n]=t?t(o):o),GD),(i,r)=>(e(r.toString(),`Use [${n}] instead.`),i[n]))}var iX={};function RN(n,t){const e={};if(Array.isArray(t))for(let i=0;i<n.length;i++)e[`${n[i]}`]=t[i];else for(let i=0;i<n.length;i++)e[`${n[i]}`]=t;return e}du(iX,{NODE_UPDATE_PHASES:()=>gX,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ro,fromToMotion:()=>Hi,staticFromToMotion:()=>oc});var PN=new Map;function nX(){PN.clear()}function nc(n){var t;const e=n.constructor,i=Object.hasOwn(e,"className")?e.className:e.name;if(!i)throw new Error(`The ${e} is missing the 'className' property.`);const r=(null!=(t=PN.get(i))?t:0)+1;return PN.set(i,r),`${i}-${r}`}var jd=(n=>(n[n.NONE=0]="NONE",n[n.TRIVIAL=1]="TRIVIAL",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n))(jd||{}),cHe=function lHe(){try{return new Function("return true"),!0}catch{return!1}}();function Le(n){const{changeCb:t,convertor:e}=n??{};return function(i,r){const o=`__${r}`;i[r]||(cHe&&null==t&&null==e?function uHe(n,t,e,i){const{redraw:r=1,type:o="normal",checkDirtyOnAssignment:a=!1}=i??{},s=new Function("value",`\n        const oldValue = this.${e};\n        if (value !== oldValue) {\n            this.${e} = value;\n            ${"normal"===o?`this.markDirty(this, ${r});`:""}\n            ${"transform"===o?`this.markDirtyTransform(${r});`:""}\n            ${"path"===o?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${r}); }`:""}\n            ${"font"===o?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${r}); }`:""}\n        }\n        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}\n`),l=new Function(`return this.${e};`);Object.defineProperty(n,t,{set:s,get:l,enumerable:!0,configurable:!0})}(i,r,o,n):function dHe(n,t,e,i){const{redraw:r=1,type:o="normal",changeCb:a,convertor:s,checkDirtyOnAssignment:l=!1}=i??{};Object.defineProperty(n,t,{set:function(d){const h=this[e];(d=s?s(d):d)!==h&&(this[e]=d,"normal"===o&&this.markDirty(this,r),"transform"===o&&this.markDirtyTransform(r),"path"===o&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,r)),"font"===o&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,r)),a&&a(this)),l&&null!=d&&d._dirty>0&&this.markDirty(d,d._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}(i,r,o,n))}}var hHe=class{constructor(){this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}};function ti(n,t,e){return Math.min(e,Math.max(n,t))}function tT(n,t){const[e,i]=gu(t);return ti(e,n,i)}function gu(n){return n.length?[Math.min(...n),Math.max(...n)]:[]}function Og(n){const[t,e]=gu(n);return e-t}function jp(n,t,e=1e-10){return Math.abs(n-t)<e}function qC(n){return-1===Math.sign(n)||Object.is(n,-0)}function IN(n,t=2){const e=Pt(10,t);return Math.round(n*e)/e}function iT(n,t=2){const e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}function nT(n,t){return Math.floor(n%t+(n<0?t:0))}function FN(n,t=10){const[,e=""]=(Math.abs(n)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return e.length}function rX(n,t,e=1/0){const i={nearest:void 0,distanceSquared:e};for(const r of t){const o=r.distanceSquared(n);if(0===o)return{nearest:r,distanceSquared:0};o<i.distanceSquared&&(i.nearest=r,i.distanceSquared=o)}return i}function pHe(n,t,e=1/0){const i=t.transformPoint(n.x,n.y),r={nearest:void 0,distanceSquared:e};for(const o of t.children){const{nearest:a,distanceSquared:s}=o.nearestSquared(i,r.distanceSquared);if(0===s)return{nearest:a,distanceSquared:s};s<r.distanceSquared&&(r.nearest=a,r.distanceSquared=s)}return r}var kN=class LG{constructor(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r}clone(){const{x:t,y:e,width:i,height:r}=this;return new LG(t,e,i,r)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const e=t.x-ti(this.x,t.x,this.x+this.width),i=t.y-ti(this.y,t.y,this.y+this.height);return e*e+i*i}static nearestBox(t,e){return rX(t,e)}shrink(t,e){const i=(r,o)=>{switch(r){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=2*o;break;case"horizontal":this.x+=o,this.width-=2*o;break;case void 0:this.x+=o,this.width-=2*o,this.y+=o,this.height-=2*o}};return"number"==typeof t?i(e,t):"object"==typeof t&&Object.entries(t).forEach(([r,o])=>i(r,o)),this}grow(t,e){if("number"==typeof t)this.shrink(-t,e);else{const i=Q({},t);for(const r in i)i[r]*=-1;this.shrink(i)}return this}static merge(t){let e=1/0,i=1/0,r=-1/0,o=-1/0;return t.forEach(a=>{a.x<e&&(e=a.x),a.y<i&&(i=a.y),a.x+a.width>r&&(r=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new LG(e,i,r-e,o-i)}};kN.zero=new kN(0,0,0,0);var wt=kN,LN=class vw{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}AxB(t,e,i){const o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],c=t[1]*e[4]+t[3]*e[5]+t[5];(i=i??t)[0]=t[0]*e[0]+t[2]*e[1],i[1]=o,i[2]=a,i[3]=s,i[4]=l,i[5]=c}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new vw(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],i=t[1],r=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-i*r);return e*=l,i*=l,r*=l,o*=l,new vw([o,-i,-r,e,r*s-o*a,i*a-e*s])}inverseTo(t){const e=this.elements;let i=e[0],r=e[1],o=e[2],a=e[3];const s=e[4],l=e[5],c=1/(i*a-r*o);return i*=c,r*=c,o*=c,a*=c,t.setElements([a,-r,-o,i,o*l-a*s,r*s-i*l]),this}invertSelf(){const t=this.elements;let e=t[0],i=t[1],r=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-i*r);return e*=l,i*=l,r*=l,o*=l,t[0]=o,t[1]=-i,t[2]=-r,t[3]=e,t[4]=r*s-o*a,t[5]=i*a-e*s,this}transformPoint(t,e){const i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}}transformBBox(t,e){const i=this.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=.5*t.width,c=.5*t.height,u=t.x+l,d=t.y+c,h=Math.abs(l*r)+Math.abs(c*a),p=Math.abs(l*o)+Math.abs(c*s);return e||(e=new wt(0,0,0,0)),e.x=u*r+d*a+i[4]-h,e.y=u*o+d*s+i[5]-p,e.width=h+h,e.height=p+p,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return vw.instance.setElements(t.elements)}static updateTransformMatrix(t,e,i,r,o,a,s){const[l,c]=[0,0],u=e,d=i;let h,p;1===u&&1===d?(h=0,p=0):(h=null==s?.scalingCenterX?l:s?.scalingCenterX,p=null==s?.scalingCenterY?c:s?.scalingCenterY);const f=r,m=Math.cos(f),g=Math.sin(f);let v,y;0===f?(v=0,y=0):(v=null==s?.rotationCenterX?l:s?.rotationCenterX,y=null==s?.rotationCenterY?c:s?.rotationCenterY);const w=h*(1-u)-v,E=p*(1-d)-y;return t.setElements([m*u,g*u,-g*d,m*d,m*w-g*E+v+o,g*w+m*E+y+a]),t}static fromContext(t){const e=t.getTransform();return new vw([e.a,e.b,e.c,e.d,e.e,e.f])}};LN.instance=new LN;var Ks=LN,oX=(n=>(n[n.All=0]="All",n[n.None=1]="None",n))(oX||{}),aX=n=>{n.parent&&(n.parent.dirtyZIndex=!0),n.zIndexChanged()},Lo=class fie extends hHe{constructor({isVirtual:t,tag:e}={}){super(),this.serialNumber=fie._nextSerialNumber++,this.id=nc(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Ks,this.inverseMatrix=new Ks,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=e??NaN}get datum(){var t,e;return null!=(e=this._datum)?e:null==(t=this._parent)?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(0===this._virtualChildren.length)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const i=e??Object.keys(t);for(const r of i)this[r]=t[r];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const i=this._virtualChildren.indexOf(t);i<0&&e(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(t);i<0&&e(),this._children.splice(i,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=Ks.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,e){return!1}pickNode(t,e){var i;if(!this.visible||1===this.pointerEvents||!this.containsPoint(t,e))return;const r=this.children;if(r.length>1e3)for(let o=r.length-1;o>=0;o--){const a=r[o],l=(null==(i=a.computeTransformedBBox())?void 0:i.containsPoint(t,e))?a.pickNode(t,e):void 0;if(l)return l}else if(r.length)for(let o=r.length-1;o>=0;o--){const a=r[o].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const i of this.children){const r=i.findNodes(t);r&&e.push(...r)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=Ks.flyweight(this.matrix);let i=this.parent;for(;i;)i.computeTransformMatrix(),e.preMultiplySelf(i.matrix),i=i.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:i,rotation:r,translationX:o,translationY:a,scalingCenterX:s,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}=this;Ks.updateTransformMatrix(t,e,i,r,o,a,{scalingCenterX:s,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=0,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(null==e)return;const{x:i,y:r,width:o,height:a}=e,s=this.transformPoint(i,r),l=this.transformPoint(i+o,r+a);t.clearRect(s.x,s.y,l.x-s.x,l.y-s.y)}markDirty(t,e=1,i=e){this._dirty>e||this._dirty===e&&e===i||(this._dirty=e,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:i=!0}=t??{};if(0!==this._dirty||e){if(this._dirty=0,!1!==i)for(const r of this._virtualChildren)r.markClean({force:e});if(!0===i)for(const r of this._children)r.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const r=o=>{const{count:a,visibleCount:s,dirtyCount:l}=o.nodeCount;t+=a,i+=s,e+=l};for(const o of this._children)r(o);for(const o of this._virtualChildren)r(o);return{count:t,visibleCount:i,dirtyCount:e}}zIndexChanged(){}};Lo._nextSerialNumber=0,S([Le({type:"transform"})],Lo.prototype,"scalingX",2),S([Le({type:"transform"})],Lo.prototype,"scalingY",2),S([Le({type:"transform"})],Lo.prototype,"scalingCenterX",2),S([Le({type:"transform"})],Lo.prototype,"scalingCenterY",2),S([Le({type:"transform"})],Lo.prototype,"rotationCenterX",2),S([Le({type:"transform"})],Lo.prototype,"rotationCenterY",2),S([Le({type:"transform"})],Lo.prototype,"rotation",2),S([Le({type:"transform"})],Lo.prototype,"translationX",2),S([Le({type:"transform"})],Lo.prototype,"translationY",2),S([Le({redraw:3,changeCb:n=>n.visibilityChanged()})],Lo.prototype,"visible",2),S([Le({redraw:1,changeCb:aX})],Lo.prototype,"zIndex",2),S([Le({redraw:1,changeCb:aX})],Lo.prototype,"zIndexSubOrder",2);var Rg=Lo,NN=n=>{const t=n<0?-1:1,e=Math.abs(n);return e<=.04045?n/12.92:t*Pt((e+.055)/1.055,2.4)},VN=n=>{const t=n<0?-1:1,e=Math.abs(n);return e>.0031308?t*(1.055*Pt(e,1/2.4)-.055):12.92*n},GN=class Xt{constructor(t,e,i,r=1){this.r=ti(0,t||0,1),this.g=ti(0,e||0,1),this.b=ti(0,i||0,1),this.a=ti(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Xt.parseHex(t):t.indexOf("rgb")>=0?!!Xt.stringToRgba(t):!!Xt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Xt.fromHexString(t);const e=Xt.nameToHex[t.toLowerCase()];if(e)return Xt.fromHexString(e);if(t.indexOf("rgb")>=0)return Xt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return Xt.fromString(t)}catch{return Me.warnOnce(`invalid color string: '${t}'.`),Xt.fromArray([0,0,0])}}static parseHex(t){let e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(let i=0;i<t.length;i+=2)e.push(parseInt(`${t[i]}${t[i+1]}`,16));break;case 3:case 4:e=t.split("").map(i=>parseInt(i,16)).map(i=>i+16*i)}if(e?.length>=3&&e.every(i=>i>=0))return 3===e.length&&e.push(255),e}static fromHexString(t){const e=Xt.parseHex(t);if(e){const[i,r,o,a]=e;return new Xt(i/255,r/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,i]=[NaN,NaN];for(let s=0;s<t.length;s++){const l=t[s];if(e||"("!==l){if(")"===l){i=s;break}}else e=s}const r=e&&i&&t.substring(e+1,i);if(!r)return;const o=r.split(","),a=[];for(let s=0;s<o.length;s++){const l=o[s];let c=parseFloat(l);if(isNaN(c))return;l.indexOf("%")>=0?(c=ti(0,c,100),c/=100):3===s?c=ti(0,c,1):(c=ti(0,c,255),c/=255),a.push(c)}return a}static fromRgbaString(t){const e=Xt.stringToRgba(t);if(e){if(3===e.length)return new Xt(e[0],e[1],e[2]);if(4===e.length)return new Xt(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new Xt(t[0],t[1],t[2],t[3]);if(3===t.length)return new Xt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,i,r=1){const o=Xt.HSBtoRGB(t,e,i);return new Xt(o[0],o[1],o[2],r)}static fromHSL(t,e,i,r=1){const o=Xt.HSLtoRGB(t,e,i);return new Xt(o[0],o[1],o[2],r)}static fromOKLCH(t,e,i,r=1){const o=Xt.OKLCHtoRGB(t,e,i);return new Xt(o[0],o[1],o[2],r)}static padHex(t){return 1===t.length?"0"+t:t}toHexString(){let t="#"+Xt.padHex(Math.round(255*this.r).toString(16))+Xt.padHex(Math.round(255*this.g).toString(16))+Xt.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=Xt.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(t=3){const e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return Xt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,i){const r=NN(t),o=NN(e),a=NN(i),s=Math.cbrt(.4122214708*r+.5363325363*o+.0514459929*a),l=Math.cbrt(.2119034982*r+.6806995451*o+.1073969566*a),c=Math.cbrt(.0883024619*r+.2817188376*o+.6299787005*a),u=.2104542553*s+.793617785*l-.0040720468*c,d=1.9779984951*s-2.428592205*l+.4505937099*c,h=.0259040371*s+.7827717662*l-.808675766*c,p=180*Math.atan2(h,d)/Math.PI;return[u,Math.hypot(d,h),p>=0?p:p+360]}static OKLCHtoRGB(t,e,i){const r=t,o=e*Math.cos(i*Math.PI/180),a=e*Math.sin(i*Math.PI/180),s=Pt(r+.3963377774*o+.2158037573*a,3),l=Pt(r-.1055613458*o-.0638541728*a,3),c=Pt(r-.0894841775*o-1.291485548*a,3),d=-1.2684380046*s+2.6097574011*l-.3413193965*c,h=-.0041960863*s-.7034186147*l+1.707614701*c;return[VN(4.0767416621*s-3.3077115913*l+.2309699292*c),VN(d),VN(h)]}static RGBtoHSL(t,e,i){const r=Math.min(t,e,i),o=Math.max(t,e,i),a=(o+r)/2;let s,l;if(o===r)s=NaN,l=0;else{const c=o-r;l=a>.5?c/(2-o-r):c/(o+r),s=o===t?(e-i)/c+(e<i?6:0):o===e?(i-t)/c+2:(t-e)/c+4,s*=60}return[s,l,a]}static HSLtoRGB(t,e,i){if(0===e)return[i,i,i];const r=i<.5?i*(1+e):i+e-i*e,o=2*i-r;function a(u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?o+6*(r-o)*u:u<.5?r:u<2/3?o+(r-o)*(2/3-u)*6:o}return[a(t/360+1/3),a(t/360),a(t/360-1/3)]}static RGBtoHSB(t,e,i){const r=Math.min(t,e,i),o=Math.max(t,e,i);let s=NaN;if(r!==o){const l=o-r,c=(o-t)/l,u=(o-e)/l,d=(o-i)/l;s=t===o?d-u:e===o?2+c-d:4+u-c,s/=6,s<0&&(s+=1)}return[360*s,0!==o?(o-r)/o:0,o]}static HSBtoRGB(t,e,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let r=0,o=0,a=0;if(0===e)r=o=a=i;else{const s=6*(t-Math.floor(t)),l=s-Math.floor(s),c=i*(1-e),u=i*(1-e*l),d=i*(1-e*(1-l));switch(s>>0){case 0:r=i,o=d,a=c;break;case 1:r=u,o=i,a=c;break;case 2:r=c,o=i,a=d;break;case 3:r=c,o=u,a=i;break;case 4:r=d,o=c,a=i;break;case 5:r=i,o=c,a=u}}return[r,o,a]}derive(t,e,i,r){const o=Xt.RGBtoHSB(this.r,this.g,this.b);let a=o[2];0==a&&i>1&&(a=.05);const s=((o[0]+t)%360+360)%360,l=ti(0,o[1]*e,1);a=ti(0,a*i,1);const c=ti(0,this.a*r,1),u=Xt.HSBtoRGB(s,l,a);return u.push(c),Xt.fromArray(u)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const i=Xt.tryParseFromString(t),r=Xt.tryParseFromString(e);return o=>{const a=(l,c)=>l*(1-o)+c*o;return new Xt(a(i.r,r.r),a(i.g,r.g),a(i.b,r.b),a(i.a,r.a)).toString()}}};GN.didDebug=!1,GN.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var rc=GN;function XC(n,t){return e=>Number(n)*(1-e)+Number(t)*e}var BN={};du(BN,{easeIn:()=>mHe,easeInOut:()=>gHe,easeInOutQuad:()=>_He,easeInQuad:()=>vHe,easeOut:()=>ZC,easeOutQuad:()=>yHe,inverseEaseOut:()=>lX,linear:()=>sX});var sX=n=>n,mHe=n=>1-Math.cos(n*Math.PI/2),ZC=n=>Math.sin(n*Math.PI/2),gHe=n=>-(Math.cos(n*Math.PI)-1)/2,vHe=n=>n*n,yHe=n=>1-Pt(1-n,2),_He=n=>n<.5?2*n*n:1-Pt(-2*n+2,2)/2,lX=n=>2*Math.asin(n)/Math.PI,cX={animationDuration:1,animationDelay:0},uX={animationDuration:.25,animationDelay:0},dX={animationDuration:.5,animationDelay:.25},HN={animationDuration:.25,animationDelay:.75},hX={animationDuration:.2,animationDelay:1},Up=["initial","remove","update","add","trailing","end"],pX={initial:cX,add:HN,remove:uX,update:dX,trailing:hX,end:{animationDelay:1.2,animationDuration:0}},fX=(n=>(n.Loop="loop",n.Reverse="reverse",n))(fX||{});function oT(n){return function CHe(n){return n.every(t=>t instanceof Rg)}(n)?{nodes:n,selections:[]}:{nodes:[],selections:n}}var mX=class{constructor(n){var t,e,i,r,o,a,s,l;this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=n.id,this.groupId=n.groupId,this.autoplay=null==(t=n.autoplay)||t,this.ease=null!=(e=n.ease)?e:sX,this.phase=n.phase;const c=null!=(i=n.duration)?i:pX[this.phase].animationDuration;this.duration=c*n.defaultDuration,this.delay=(null!=(r=n.delay)?r:0)*n.defaultDuration,this.onComplete=n.onComplete,this.onPlay=n.onPlay,this.onStop=n.onStop,this.onUpdate=n.onUpdate,this.interpolate=this.createInterpolator(n.from,n.to),!0===n.skip?(null==(o=this.onUpdate)||o.call(this,n.to,!1,this),null==(a=this.onStop)||a.call(this,this),null==(s=this.onComplete)||s.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),null==(l=this.onUpdate)||l.call(this,n.from,!0,this)),!1!==n.collapsable&&(this.duration=this.checkCollapse(n,this.duration))}checkCollapse(n,t){let e=n.from===n.to;return e||(e="object"==typeof n.from&&null==Ca(n.from,n.to)),e?0:t}play(){var n;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,null==(n=this.onPlay)||n.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var n;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,null==(n=this.onStop)||n.call(this,this))}update(n){var t,e;const i=this.elapsed;if(this.elapsed+=n,this.delay>this.elapsed)return 0;const r=this.interpolate(this.isReverse?1-this.delta:this.delta);null==(t=this.onUpdate)||t.call(this,r,!1,this);const o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,null==(e=this.onComplete)||e.call(this,this),n-(o-i)):0}get delta(){return this.ease(ti(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(n,t){if("object"!=typeof t)return this.interpolateValue(n,t);const e=[];for(const i in t){const r=this.interpolateValue(n[i],t[i]);null!=r&&e.push([i,r])}return i=>{const r={};for(const[o,a]of e)r[o]=a(i);return r}}interpolateValue(n,t){if(void 0!==n&&void 0!==t){try{switch(typeof n){case"number":return XC(n,t);case"string":return function fHe(n,t){if("string"==typeof n)try{n=rc.fromString(n)}catch{n=rc.fromArray([0,0,0])}if("string"==typeof t)try{t=rc.fromString(t)}catch{t=rc.fromArray([0,0,0])}const e=XC(n.r,t.r),i=XC(n.g,t.g),r=XC(n.b,t.b),o=XC(n.a,t.a);return a=>rc.fromArray([e(a),i(a),r(a),o(a)]).toRgbaString()}(n,t)}}catch{}throw new Error(`Unable to interpolate values: ${n}, ${t}`)}}},gX=["removed","updated","added"],ro={added:"add",updated:"update",removed:"remove",unknown:"initial"};function Hi(n,t,e,i,r,o,a){const{fromFn:s,toFn:l,intermediateFn:c}=r,{nodes:u,selections:d}=oT(i),h={added:{},removed:{}};o&&a&&(h.added=RN(a.added,!0),h.removed=RN(a.removed,!0));const p=(m,g)=>{var v;let y,_=0,b=0;for(const w of g){const E=m[_]===w,M={last:b>=g.length-1,lastLive:_>=m.length-1,prev:g[b-1],prevFromProps:y,prevLive:m[_-1],next:g[b+1],nextLive:m[_+(E?1:0)]},P=`${n}_${t}_${w.id}`;e.stopByAnimationId(P);let I="unknown";E?o&&a&&(I=bHe(w,w.datum,o,h)):I="removed";const k=s(w,w.datum,I,M),{phase:L,start:B,finish:Y,delay:ne,duration:fe}=k,W=Zn(k,["phase","start","finish","delay","duration"]),$=l(w,w.datum,I,M),{phase:X,start:ce,finish:Ee,delay:ke,duration:Ae}=$,nt=Zn($,["phase","start","finish","delay","duration"]);e.animate({id:P,groupId:n,phase:null!=(v=L??X)?v:"update",duration:fe??Ae,delay:ne??ke,from:W,to:nt,ease:ZC,collapsable:null==Y&&null==Ee,onPlay:()=>{w.setProperties(Q(Q({},B),ce))},onUpdate(tn){w.setProperties(tn),c&&w.setProperties(c(w,w.datum,I,M))},onStop:()=>{w.setProperties(Q(Q(Q({},nt),Y),Ee))}}),E&&_++,b++,y=W}};let f=0;for(const m of d){const g=m.nodes();p(g.filter(y=>!m.isGarbage(y)),g),e.animate({id:`${n}_${t}_selection_${f}`,groupId:n,phase:"end",from:0,to:1,ease:ZC,onStop(){m.cleanup()}}),f++}p(u,u)}function oc(n,t,e,i,r,o,a){const{nodes:s,selections:l}=oT(i),{start:c={},finish:u,phase:d}=a;e.animate({id:`${n}_${t}`,groupId:n,phase:d??"update",from:r,to:o,ease:ZC,collapsable:null==u,onPlay:()=>{for(const p of s)p.setProperties(c);for(const p of l)for(const f of p.nodes())f.setProperties(c)},onUpdate(p){for(const f of s)f.setProperties(p);for(const f of l)for(const m of f.nodes())m.setProperties(p)},onStop:()=>{for(const p of s)p.setProperties(Q(Q({},o),u));for(const p of l)for(const f of p.nodes())f.setProperties(Q(Q({},o),u))}})}function bHe(n,t,e,i){const r=e(n,t);return i.added[r]?"added":"updated"}var ac=2*Math.PI;function gn(n){return n%=ac,(n+=ac)%ac}function wHe(n){return n%=ac,(n+=ac)!==ac&&(n%=ac),n}function QC(n){return(n%=ac)<-Math.PI?n+=ac:n>=Math.PI&&(n-=ac),n}function Br(n){return n/180*Math.PI}function SHe(n){return n/Math.PI*180}function jN(n,t){return n=gn(n),(t=gn(t))-n+(n>t?2*Math.PI:0)}var No=(n,t)=>{const e=Symbol(String(t));n[e]=void 0,Object.defineProperty(n,t,{get(){return this[e]},set(i){this[e]!==i&&(this[e]=i,this.invalid=!0)},enumerable:!0,configurable:!1})},sc=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Me.warnOnce("Expected update to not invalidate scale"))}set domain(n){this.invalid=!0;const t=[];this.index=new Map;const e=this.index;n.forEach(i=>{void 0===e.get(i)&&e.set(i,t.push(i)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:n=1}=this,t=Math.abs(Math.round(n));return this._domain.filter((e,i)=>i%t==0)}convert(n){this.refresh();const t=this.index.get(n);if(void 0===t)return NaN;const e=this.ordinalRange[t];return void 0===e?NaN:e}invert(n){this.refresh();const t=this.ordinalRange.findIndex(e=>e===n);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(n){n=ti(0,n,1),this._paddingInner=n,this._paddingOuter=n}get padding(){return this._paddingInner}set paddingInner(n){this._paddingInner=ti(0,n,1)}get paddingInner(){return this._paddingInner}set paddingOuter(n){this._paddingOuter=ti(0,n,1)}get paddingOuter(){return this._paddingOuter}update(){const n=this._domain.length;if(0===n)return;const t=this.round,e=this._paddingInner,i=this._paddingOuter,[r,o]=this.range,a=o-r,s=a/Math.max(1,n+2*i-e),l=t?Math.floor(s):s,u=r+(a-l*(n-e))/2,d=t?Math.round(u):u,h=l*(1-e),p=t?Math.round(h):h,f=s*(1-e),m=[];for(let g=0;g<n;g++)m.push(d+l*g);this._bandwidth=p,this._rawBandwidth=f,this._step=l,this.ordinalRange=m}};function R(n,t={}){const{optional:e=!1}=t;return pu((i,r,o)=>{var a;const s=Pe(Q({},t),{target:i,property:r});if(e&&typeof o>"u"||n(o,s))return _a(i[r])&&!_a(o)?(i[r].set(o),i[r]):o;const l=String(r).replace(/^_*/,""),c=null!=(a=i.constructor.className)?a:i.constructor.name.replace(/Properties$/,"");return Me.warn(`Property [${l}] of [${c}] cannot be set to [${nb(o)}]${n.message?`; expecting ${ib(n,s)}`:""}, ignoring.`),GD},void 0,{optional:e})}S([No],sc.prototype,"interval",2),S([No],sc.prototype,"range",2),S([No],sc.prototype,"round",2);var lc=(...n)=>{const t=[];return wi((e,i)=>(t.length=0,n.every(r=>{const o=r(e,i);return o||t.push(ib(r,i)),o})),()=>t.filter(Boolean).join(" AND "))},zp=(...n)=>wi((t,e)=>n.some(i=>i(t,e)),t=>n.map(function OHe(n){return t=>ib(t,n)}(t)).filter(Boolean).join(" OR ")),Ye=function IHe(n){return Object.assign(n,{restrict(t){const e=i=>_a(i)&&i instanceof t;return wi((i,r)=>e(i)||Jl(i)&&e(r.target[r.property]),i=>{var r;return null!=(r=ib(n,i))?r:"an object"})}})}(wi((n,t)=>_a(n)||Jl(n)&&_a(t.target[t.property]),"an object")),rt=wi(h9,"a boolean"),is=wi(xg,"a function"),xe=wi(es,"a string"),Di=function PHe(n){return Object.assign(n,{restrict({min:t,max:e}={}){const i=["a number"],r=Hs(t),o=Hs(e);return r&&o?i.push(`between ${t} and ${e} inclusive`):r?i.push(`greater than or equal to ${t}`):o&&i.push(`less than or equal to ${e}`),wi(a=>ai(a)&&(!r||a>=t)&&(!o||a<=e),i.join(" "))}})}(wi(ai,"a number")),aT=wi(n=>Hs(n)&&isNaN(n),"NaN"),Ce=Di.restrict({min:0}),di=Di.restrict({min:0,max:1}),Ud=Di.restrict({min:-360,max:360}),Pg=zp(Di,aT),JC=function RHe(n){return Object.assign(n,{restrict:({length:t,minLength:e}={})=>wi(i=>Fn(i)&&(!Hs(t)||i.length===t)&&(!Hs(e)||i.length>=e),Hs(e)&&e>0?"a non-empty array":Hs(t)?`an array of length ${t}`:"an array")})}(wi(Fn,"an array")),vu=(n,t)=>wi((e,i)=>Fn(e)&&e.every(r=>n(r,i)),e=>{var i;const r=null!=(i=ib(JC,e))?i:"";return t?`${r} of ${t}`:r}),sT=n=>ai(n)||NC(n),eb=n=>wi((t,e)=>!sT(t)||!sT(e.target[n])||t<e.target[n],`expected to be less than ${n}`),tb=n=>wi((t,e)=>!sT(t)||!sT(e.target[n])||t>e.target[n],`expected to be greater than ${n}`),UN=wi(NC,"Date object"),zN=zp(UN,Ce),vX="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",qt=wi(n=>es(n)&&rc.validColorString(n),`color String. ${vX}`),ns=wi(vu(qt),`color strings. ${vX}`),xHe=vu(rt,"boolean values"),lT=vu(Di,"numbers"),yX=vu(xe,"strings"),EHe=wi(vu(UN),"Date objects"),WN=wi(vu(Ye),"objects"),_X=vn(["butt","round","square"],"a line cap"),DHe=vn(["round","bevel","miter"],"a line join"),yu=wi(vu(Ce),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),$N=vn(["top","right","bottom","left"],"a position"),zd=vn(["normal","italic","oblique"],"a font style"),Wd=zp(vn(["normal","bold","bolder","lighter"],"a font weight"),Di.restrict({min:1,max:1e3})),cT=vn(["never","always","hyphenate","on-space"],"a text wrap strategy"),CX=vn(["left","center","right"],"a text align"),THe=vn(["top","middle","bottom"],"a vertical align"),MHe=vn(["ellipsis","hide"],"an overflow strategy"),bX=vn(["horizontal","vertical"],"a direction"),wX=vn(["inside","outside"],"a placement"),KN=zp(vn(["exact","nearest"],"interaction range"),Di);function vn(n,t="a"){return wi(e=>n.includes(e),`${t} keyword such as ${function AHe(n){const t=n.map(i=>`'${i}'`);if(1===t.length)return t[0];const e=t.pop();return`${t.join(", ")} or ${e}`}(n)}`)}var SX=zp(lc(Di.restrict({min:1}),eb("maxSpacing")),aT),YN=zp(lc(Di.restrict({min:1}),tb("minSpacing")),aT);function wi(n,t){return n.message=t,n}function ib(n,t){return xg(n.message)?n.message(t):n.message}function nb(n){if("number"==typeof n){if(isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity"}return JSON.stringify(n)}var xX=(n=>(n.X="x",n.Y="y",n))(xX||{});function EX(){if(typeof navigator>"u")return!1;const n=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(null==n)return!1;const t=n[1].split("_"),e=Number(t[0]);return!(e>16)&&(16!==e||Number(t[1])<6)}var qN=class NG{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:e,window:i,width:r=600,height:o=300,domLayer:a=!1,zIndex:s=0,name:l,overrideDevicePixelRatio:c}=t;this.document=e,this.window=i,NG.document=e,this.element=e.createElement("canvas"),this.element.width=r,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:u}=this.element;u.userSelect="none",u.display="block",a&&(u.position="absolute",u.zIndex=String(s),u.top="0",u.left="0",u.pointerEvents="none",u.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(c),this.resize(r,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t?.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,e="image/png"){t=(t??"").trim()||"image";const i=this.getDataURL(e),r=this.document,o=r.createElement("a");o.href=i,o.download=t,o.style.display="none",r.body.appendChild(o),o.click(),r.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??this.window.devicePixelRatio;return EX()&&(e=1),this._pixelRatio=e,NG.overrideScale(this.realContext,e)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return"pixelated"===this.element.style.imageRendering}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{element:i,context:r,pixelRatio:o}=this;i.width=Math.round(t*o),i.height=Math.round(e*o),i.style.width=t+"px",i.style.height=e+"px",r.resetTransform(),this._width=t,this._height=e}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";const i=document.createElementNS(t,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),e.appendChild(i),document.body.appendChild(e),this._svgText=i,i}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,e=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,i=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has}static measureText(t,e,i,r){const o=this.textMeasuringContext;return o.font=e,o.textBaseline=i,o.textAlign=r,o.measureText(t)}static getTextSize(t,e){if(this.has.textMetrics){const i=this.textMeasuringContext;i.font=e;const r=i.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}return this.measureSvgText(t,e)}static measureSvgText(t,e){const i=this.textSizeCache,r=i[e];if(r){const l=r[t];if(l)return l}else i[e]={};const o=this.svgText;o.style.font=e,o.textContent=t;const a=o.getBBox(),s={width:a.width,height:a.height};return i[e][t]=s,s}static overrideScale(t,e){let i=0;const r={save(){this.$save(),i++},restore(){if(!(i>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),i--},setTransform(o,a,s,l,c,u){"object"==typeof o?this.$setTransform(o):this.$setTransform(o*e,a*e,s*e,l*e,c*e,u*e)},resetTransform(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero(){if(0!==i)throw new Error("AG Charts - Save/restore depth is non-zero: "+i)}};for(const o in r)Object.hasOwn(r,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=r[o]);return t}};qN.document=globalThis.document,qN.textSizeCache={};var ln=qN,FHe=class{constructor(){this.stops=[]}},kHe=class extends FHe{constructor(){super(...arguments),this.angle=0}createGradient(n,t){const{stops:i,angle:r}=this,o=gn(Br(r+90)),a=Math.cos(o),s=Math.sin(o),l=t.width,c=t.height,u=t.x+.5*l,d=t.y+.5*c;if(l>0&&c>0){const h=Math.sqrt(c*c+l*l)/2,p=Math.atan2(c,l);let f;f=o<Math.PI/2?o:o<Math.PI?Math.PI-o:o<3*Math.PI/2?o-Math.PI:2*Math.PI-o;const m=h*Math.abs(Math.cos(f-p)),g=n.createLinearGradient(u+a*m,d+s*m,u-a*m,d-s*m);return i.forEach(v=>{g.addColorStop(v.offset,v.color)}),g}return"black"}},LHe=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,ba=class bc extends Rg{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=bc.defaultStyles.fill,this.stroke=bc.defaultStyles.stroke,this.strokeWidth=bc.defaultStyles.strokeWidth,this.lineDash=bc.defaultStyles.lineDash,this.lineDashOffset=bc.defaultStyles.lineDashOffset,this.lineCap=bc.defaultStyles.lineCap,this.lineJoin=bc.defaultStyles.lineJoin,this.opacity=bc.defaultStyles.opacity,this.fillShadow=bc.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let i=0,r=e.length;i<r;i++){const o=e[i];this[o]=t[o]}}updateGradient(){const{fill:t}=this;let e;if(t?.startsWith("linear-gradient")&&(e=LHe.exec(t))){const i=parseFloat(e[1]),r=[],o=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(o);)r.push(s[0]);this.gradient=new kHe,this.gradient.angle=i,this.gradient.stops=r.map((l,c)=>({offset:c/(r.length-1),color:l}))}else this.gradient=void 0}align(t,e){var i,r,o;const a=null!=(o=null==(r=null==(i=this.layerManager)?void 0:i.canvas)?void 0:r.pixelRatio)?o:1,s=Math.round(t*a)/a;return null==e?s:0===e?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-s}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){t.fillStyle=this.gradient?this.gradient.createGradient(t,this.computeBBox()):this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,i;const r=null!=(i=null==(e=this.layerManager)?void 0:e.canvas.pixelRatio)?i:1,o=this.fillShadow;o?.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*r,t.shadowOffsetY=o.yOffset*r,t.shadowBlur=o.blur*r)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}};ba.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),S([Le({redraw:2})],ba.prototype,"fillOpacity",2),S([Le({redraw:2})],ba.prototype,"strokeOpacity",2),S([Le({redraw:2,changeCb:n=>n.updateGradient()})],ba.prototype,"fill",2),S([Le({redraw:2})],ba.prototype,"stroke",2),S([Le({redraw:2})],ba.prototype,"strokeWidth",2),S([Le({redraw:2})],ba.prototype,"lineDash",2),S([Le({redraw:2})],ba.prototype,"lineDashOffset",2),S([Le({redraw:2})],ba.prototype,"lineCap",2),S([Le({redraw:2})],ba.prototype,"lineJoin",2),S([Le({redraw:2,convertor:n=>ti(0,n,1)})],ba.prototype,"opacity",2),S([Le({redraw:2,checkDirtyOnAssignment:!0})],ba.prototype,"fillShadow",2);var rs=ba;function uT(n){const{redraw:t=3,changeCb:e}=n??{};return Le({redraw:t,type:"font",changeCb:e})}var Hr=class Aa extends rs{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Aa.defaultStyles.textAlign,this.textBaseline=Aa.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=AX(this.text)}get font(){return(null==this._font||this._dirtyFont)&&(this._dirtyFont=!1,this._font=$d(this)),this._font}computeBBox(){return ln.has.textMetrics?DX(this.lines,this.x,this.y,this):TX(this.lines,this.x,this.y,this)}getLineHeight(t){var e,i;if(this.lineHeight)return this.lineHeight;if(ln.has.textMetrics){const r=ln.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!=(e=r.fontBoundingBoxAscent)?e:r.emHeightAscent)+(null!=(i=r.fontBoundingBoxDescent)?i:r.emHeightDescent)}return ln.getTextSize(t,this.font).height}isPointInPath(t,e){const i=this.transformPoint(t,e),r=this.computeBBox();return!!r&&r.containsPoint(i.x,i.y)}render(t){const{ctx:e,forceRender:i,stats:r}=t;if(0===this.dirty&&!i)return void(r&&(r.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(r&&(r.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:a,strokeWidth:s}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:c}=e;if(o){e.fillStyle=o,e.globalAlpha=c*this.opacity*this.fillOpacity;const{fillShadow:u}=this;u?.enabled&&(e.shadowColor=u.color,e.shadowOffsetX=u.xOffset*l,e.shadowOffsetY=u.yOffset*l,e.shadowBlur=u.blur*l),this.renderLines((d,h,p)=>e.fillText(d,h,p))}if(a&&s){e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=c*this.opacity*this.strokeOpacity;const{lineDash:u,lineDashOffset:d,lineCap:h,lineJoin:p}=this;u&&e.setLineDash(u),d&&(e.lineDashOffset=d),h&&(e.lineCap=h),p&&(e.lineJoin=p),this.renderLines((f,m,g)=>e.strokeText(f,m,g))}super.render(t)}renderLines(t){const{lines:e,x:i,y:r}=this,o=this.lines.map(l=>this.getLineHeight(l));let s=-(o.reduce((l,c)=>l+c,0)-o[0])*MX(this.textBaseline);for(let l=0;l<e.length;l++)t(e[l],i,r+s),s+=o[l]}static wrapLines(t,e,i,r,o,a){const s="hide"!==a,c=function NHe(n){const t=new Map,e=r=>ln.getTextSize(r,n);return{size:e,width:r=>{if(t.has(r))return t.get(r);const{width:o}=e(r);return t.set(r,o),o}}}($d(r)),u=t.split(/\r?\n/g);if(0===u.length)return{lines:void 0,truncated:!1};if("never"===o){const{text:f,truncated:m}=Aa.truncateLine(u[0],e,c,s?"auto":"never");return{lines:null!=f?[f]:void 0,truncated:m}}const d=[];let h=0,p=!1;for(const f of u){const m=Aa.wrapLine(f,e,i,c,r,o,h,s);if(null==m)return{lines:void 0,truncated:!1};if(d.push(...m.result),h=m.cumulativeHeight,m.truncated){p=!0;break}}return{lines:d,truncated:p}}static wrap(t,e,i,r,o,a="ellipsis"){const{lines:s,truncated:l}=Aa.wrapLines(t,e,i,r,o,a);return{text:null!=s?s.join("\n").trim():"",truncated:l}}static wrapLine(t,e,i,r,o,a,s,l){if(!(t=t.trim()))return{result:[],truncated:!1,cumulativeHeight:s};const c=r.size(t);if(c.width<=e)return{result:[t],truncated:!1,cumulativeHeight:s+c.height};if(c.height>i||r.width("W")>e)return l?{result:[],truncated:!0,cumulativeHeight:s}:void 0;const u=t.split(/\s+/g),d=Aa.wrapLineSequentially(u,e,i,r,o,a,s,l);if(null==d)return;s=d.cumulativeHeight;let{lines:h}=d;if(!d.wordsBrokenOrTruncated&&!d.linesTruncated){const m=Aa.wrapLineBalanced(u,e,r,d.lines.length);m.length===h.length&&(h=m)}return{result:h.map(f=>f.join(" ")),truncated:d.linesTruncated,cumulativeHeight:s}}static breakWord(t,e,i,r,o){const a=p=>Aa.punctuationMarks.includes(t[p]),s=r?o.width("-"):0,l=[];let c=0,u=0;for(let p=0;p<t.length;p++){const m=o.width(t[p]);c+m+s>(0===u?e:i)&&(l.push(p),c=0,u++),c+=m}const d=[];let h=0;for(const p of l){let f=t.substring(h,p);r&&f.length>0&&!a(p-1)&&!a(p)&&(f+="-"),d.push(f),h=p}return d.push(t.substring(h)),d}static truncateLine(t,e,i,r){t=t.trimEnd();const o=i.width(t);if(o>e&&"never"===r)return{text:void 0,truncated:!1};if(o<=e&&"force"!==r)return{text:t,truncated:!1};const a=i.width("\u2026");let s=t,l=o;for(;s.length>0&&l+a>e;)s=s.slice(0,-1).trimEnd(),l=i.width(s);return l+a<=e?{text:`${s}\u2026`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,e,i,r,o,a,s,l){const{fontSize:c=0,lineHeight:u=c*Aa.defaultLineHeightRatio}=o,d="always"===a||"hyphenate"===a,h="hyphenate"===a,p=r.width(" ");let f=!1,m=!1;const g=[];let v=[],y=0;const _=()=>({lines:g,linesTruncated:m,wordsBrokenOrTruncated:f,cumulativeHeight:s}),b=()=>{if(!l)return;const E=v.join(" "),{text:M}=Aa.truncateLine(E,e,r,"force");return null!=M?(v.splice(0,v.length,M),m=!0,_()):void 0},w=()=>{const E=s+u;return!(E>=i||(v=[],y=0,s=E,g.push(v),0))};if(!w())return b();for(let E=0;E<t.length;E++){const M=t[E],P=r.width(M),I=0===v.length?0:p,k=y+I+P;if(k<=e)v.push(M),y=k;else if(P<=e){if(!w())return b();v.push(M),y=P}else{if(f=!0,!d){if(l){if(!w())return b();const{text:L}=Aa.truncateLine(M,e,r,"force");if(null==L)return;v.push(L),E<t.length-1&&(m=!0);break}return}{const B=Aa.breakWord(M,e-y-I,e,h,r);for(let Y=0;Y<B.length;Y++){const ne=B[Y];if(ne&&v.push(ne),Y===B.length-1)y=r.width(ne);else if(!w())return b()}}}}return _()}static wrapLineBalanced(t,e,i,r){const o=t.reduce((p,f)=>p+i.width(f),0),a=i.width(" "),l=(o+a*(t.length-r-2))/r,c=[];let u=[],d=i.width(t[0]),h=!0;for(const p of t){const f=i.width(p);if(h){u=[],u.push(p),d=f,h=!1,c.push(u);continue}const m=d+a+f;m<=l?(u.push(p),d=m):m<=e?(u.push(p),h=!0):(u=[p],d=f,c.push(u))}return c}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};Hr.className="Text",Hr.defaultLineHeightRatio=1.15,Hr.defaultStyles=Object.assign({},rs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),Hr.ellipsis="\u2026",Hr.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"],S([Le({redraw:3})],Hr.prototype,"x",2),S([Le({redraw:3})],Hr.prototype,"y",2),S([Le({redraw:3,changeCb:n=>n._setLines()})],Hr.prototype,"text",2),S([uT()],Hr.prototype,"fontStyle",2),S([uT()],Hr.prototype,"fontWeight",2),S([uT()],Hr.prototype,"fontSize",2),S([uT()],Hr.prototype,"fontFamily",2),S([Le({redraw:3})],Hr.prototype,"textAlign",2),S([Le({redraw:3})],Hr.prototype,"textBaseline",2),S([Le({redraw:3})],Hr.prototype,"lineHeight",2);var ii=Hr;function $d(n){const{fontFamily:t,fontSize:e,fontStyle:i,fontWeight:r}=n;return[i??"",r??"",e+"px",t].join(" ").trim()}function VHe(n,t,e,i){return ln.has.textMetrics?DX(n,t,e,i):TX(n,t,e,i)}function DX(n,t,e,i){var r,o;let a=0,s=0,l=0,c=0,u=0;const d=$d(i),{lineHeight:h,textBaseline:p=ii.defaultStyles.textBaseline,textAlign:f=ii.defaultStyles.textAlign}=i;for(let m=0;m<n.length;m++){const g=ln.measureText(n[m],d,p,f);a=Math.max(a,g.actualBoundingBoxLeft),l=Math.max(l,g.width),0==m?(s+=g.actualBoundingBoxAscent,c+=g.actualBoundingBoxAscent):u+=null!=(r=g.fontBoundingBoxAscent)?r:g.emHeightAscent,m==n.length-1?c+=g.actualBoundingBoxDescent:u+=null!=(o=g.fontBoundingBoxDescent)?o:g.emHeightDescent}return void 0!==h&&(u=(n.length-1)*h),c+=u,s+=u*MX(p),new wt(t-a,e-s,l,c)}function TX(n,t,e,i){let r=0,o=0,a=0;const s=$d(i),{lineHeight:l,textBaseline:c=ii.defaultStyles.textBaseline,textAlign:u=ii.defaultStyles.textAlign}=i;if(n.length>0){const d=ln.getTextSize(n[0],s);r=d.width,o=d.height}for(let d=1;d<n.length;d++){const h=ln.getTextSize(n[d],s);r=Math.max(r,h.width),a+=l??h.height}switch(u){case"end":case"right":t-=r;break;case"center":t-=r/2}switch(c){case"alphabetic":e-=.7*o+.5*a;break;case"middle":e-=.45*o+.5*a;break;case"ideographic":case"bottom":e-=o+a;break;case"hanging":e-=.2*o+.5*a}return new wt(t,e,r,o+a)}function MX(n){switch(n){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}}function AX(n){return"string"==typeof n?n.split(/\r?\n/g):[]}function Kd(n){const t=Fn(n)?n:n.split(".");if(1===t.length){const[e]=t;return pu((i,r,o)=>i[e]=o,i=>i[e])}return pu((e,i,r)=>_9(e,t,r),e=>y9(e,t))}function GHe(n){return pu((t,e,i)=>t[n]=i)}function Oi(n,t){return pu((e,i,r)=>e[n][t??i]=r)}function Jn(n){const{newValue:t,oldValue:e,changeValue:i}=n;return pu((r,o,a,s)=>(a!==s&&(void 0!==s&&e?.call(r,s),void 0!==a&&t?.call(r,a),i?.call(r,a,s)),a))}function Ig(n){return function YBe(n){return(t,e)=>{d9(t,e).observers.push(n)}}(n)}function dT(n,t){const e=n.createElement("style");e.innerHTML=t,n.head.insertBefore(e,n.head.querySelector("style"))}var kn="ag-chart-tooltip",HHe=`\n.${kn} {\n    transition: transform 0.1s ease;\n    max-width: 100%;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: rgb(70, 70, 70);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n}\n\n.${kn}-wrap-always {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: none;\n}\n\n.${kn}-wrap-hyphenate {\n    overflow-wrap: break-word;\n    word-break: break-word;\n    hyphens: auto;\n}\n\n.${kn}-wrap-on-space {\n    overflow-wrap: normal;\n    word-break: normal;\n}\n\n.${kn}-wrap-never {\n    white-space: pre;\n    text-overflow: ellipsis;\n}\n\n.${kn}-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n.${kn}-no-animation {\n    transition: none !important;\n}\n\n.${kn}-hidden {\n    visibility: hidden;\n}\n\n.${kn}-title {\n    overflow: hidden;\n    position: relative;\n    padding: 8px 14px;\n    border-top-left-radius: 2px;\n    border-top-right-radius: 2px;\n    color: white;\n    background-color: #888888;\n    z-index: 1;\n    text-overflow: inherit;\n}\n\n.${kn}-title:only-child {\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n}\n\n.${kn}-content {\n    overflow: hidden;\n    padding: 6px 14px;\n    line-height: 1.7em;\n    background: white;\n    border-bottom-left-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    text-overflow: inherit;\n}\n\n.${kn}-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid #d9d9d9;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.${kn}-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: calc(100% - 1px);\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid white;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n`;function rb(n,t){var e,i,r;if("string"==typeof n)return n;const{content:o=(null!=(e=t?.content)?e:""),title:a=t?.title,color:s=(null!=(i=t?.color)?i:"white"),backgroundColor:l=(null!=(r=t?.backgroundColor)?r:"#888")}=n;return`${a?`<div class="${kn}-title"\n        style="color: ${s}; background-color: ${l}">${a}</div>`:""}${o?`<div class="${kn}-content">${o}</div>`:""}`}var ob=class extends bi{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};S([R(vn(["pointer","node"],"a position type"))],ob.prototype,"type",2),S([R(Di)],ob.prototype,"xOffset",2),S([R(Di)],ob.prototype,"yOffset",2);var _u=class VG{constructor(t,e,i,r){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new ob,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=r,this.window=i;const o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(kn),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(s=>{for(const l of s)l.target===this.canvasElement&&0===l.intersectionRatio&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}VG.tooltipDocuments.indexOf(e)<0&&(dT(e,HHe),VG.tooltipDocuments.push(e))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(kn+"-hidden")}updateClass(t,e,i=!0){const{element:r,class:o,lastClass:a,enableInteraction:s,lastVisibilityChange:l}=this,c=this.isVisible(),u=!!t;let d=1/0;if(c!==u){const g=Date.now();d=g-l,this.lastVisibilityChange=g}const h=(g,v)=>{const y=`${kn}-${g}`;v?r.classList.add(y):r.classList.remove(y)};d>5&&h("no-animation",!c&&u&&d>100),h("no-interaction",!s),h("hidden",!t),h("arrow",!!e),r.classList.toggle("ag-chart-dark-tooltip",this.darkTheme),this.updateWrapping(),i?(o!==a&&(a&&r.classList.remove(a),o&&r.classList.add(o)),this.lastClass=o):(a&&r.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:e}=this,i={always:!1,hyphenate:!1,"on-space":!1,never:!1};i[e]=!0,Object.entries(i).forEach(([r,o])=>{t.classList.toggle(`${kn}-wrap-${r}`,o)})}show(t,e,i=!1){var r,o,a,s,l,c,u;const{element:d,canvasElement:h}=this;if(void 0!==e)d.innerHTML=e;else if(!d.innerHTML)return void this.toggle(!1);const p=null!=(o=null==(r=t.position)?void 0:r.xOffset)?o:0,f=null!=(s=null==(a=t.position)?void 0:a.yOffset)?s:0,m=h.getBoundingClientRect(),g=m.left+t.offsetX-d.clientWidth/2+p,v=m.top+t.offsetY-d.clientHeight-8+f,y=this.getWindowBoundingBox(),b=y.y+y.height-d.clientHeight,w=ti(y.x,g,y.x+y.width-d.clientWidth-1),E=ti(y.y,v,b),I=null!=(c=null!=(l=t.showArrow)?l:this.showArrow)?c:!(w!==g||E!==v||p||f);if(this.updateShowArrow(I),d.style.transform=`translate(${Math.round(w)}px, ${Math.round(E)}px)`,this.enableInteraction=null!=(u=t.enableInteraction)&&u,this.delay>0&&!i)return this.toggle(!1),void(this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay));this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new wt(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,e){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,e)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const i=null==(e=t.sourceEvent.relatedTarget)?void 0:e.classList,o=!!["","-title","-content"].filter(a=>i?.contains(`${kn}${a}`));return void 0!==i&&o}updateShowArrow(t){this._showArrow=t}};_u.tooltipDocuments=[],S([R(rt)],_u.prototype,"enabled",2),S([R(rt,{optional:!0})],_u.prototype,"showArrow",2),S([R(xe,{optional:!0})],_u.prototype,"class",2),S([R(Ce)],_u.prototype,"delay",2),S([R(KN)],_u.prototype,"range",2),S([R(cT)],_u.prototype,"wrapping",2),S([R(rt)],_u.prototype,"darkTheme",2);var OX=_u,qi=class extends bi{constructor(){super(...arguments),this.id=nc(this),this.node=(new ii).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(n){return n.interactionManager.addListener("hover",t=>this.handleMouseMove(n,t))}computeTextWrap(n,t){var e,i;const{text:r,wrapping:o}=this,a=Math.min(null!=(e=this.maxWidth)?e:1/0,n),s=null!=(i=this.maxHeight)?i:t;if(!isFinite(a)&&!isFinite(s))return void(this.node.text=r);const{text:l,truncated:c}=ii.wrap(r??"",a,s,this,o);this.node.text=l,this.truncated=c}handleMouseMove(n,t){if(!this.enabled)return;const{offsetX:e,offsetY:i}=t,r=this.node.computeBBox(),o=this.node.visible&&r.containsPoint(e,i);o&&t.consume(),this.truncated&&o?n.tooltipManager.updateTooltip(this.id,{offsetX:e,offsetY:i,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},rb({content:this.text})):n.tooltipManager.removeTooltip(this.id)}};qi.SMALL_PADDING=10,qi.LARGE_PADDING=20,S([R(rt)],qi.prototype,"enabled",2),S([R(xe,{optional:!0}),Oi("node")],qi.prototype,"text",2),S([R(CX,{optional:!0}),Oi("node")],qi.prototype,"textAlign",2),S([R(zd,{optional:!0}),Oi("node")],qi.prototype,"fontStyle",2),S([R(Wd,{optional:!0}),Oi("node")],qi.prototype,"fontWeight",2),S([R(Ce),Oi("node")],qi.prototype,"fontSize",2),S([R(xe),Oi("node")],qi.prototype,"fontFamily",2),S([R(qt,{optional:!0}),Oi("node","fill")],qi.prototype,"color",2),S([R(Ce,{optional:!0})],qi.prototype,"spacing",2),S([R(Ce,{optional:!0})],qi.prototype,"lineHeight",2),S([R(Ce,{optional:!0})],qi.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],qi.prototype,"maxHeight",2),S([R(cT)],qi.prototype,"wrapping",2);var Ys=class{constructor(){this.enabled=!1,this.spacing=qi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};S([R(rt)],Ys.prototype,"enabled",2),S([R(xe,{optional:!0})],Ys.prototype,"text",2),S([R(Ce,{optional:!0})],Ys.prototype,"spacing",2),S([R(zd,{optional:!0})],Ys.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],Ys.prototype,"fontWeight",2),S([R(Ce)],Ys.prototype,"fontSize",2),S([R(xe)],Ys.prototype,"fontFamily",2),S([R(qt,{optional:!0})],Ys.prototype,"color",2),S([R(cT)],Ys.prototype,"wrapping",2),S([R(is,{optional:!0})],Ys.prototype,"formatter",2);var RX={constructedArrays:new WeakMap};function PX(n,t){var e;null==(e=RX.constructedArrays)||e.set(n,t)}var IX={constructors:{"axes[].title":Ys},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},cc=class GG{constructor(t,e){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=GG.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=e}static is(t){return t instanceof GG}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{range:e}=this,i=this.getDomain(),r=Math.abs(e[1]-e[0]),o=Math.abs(i[1]-i[0])/t+1,a=Math.floor(r),s=Math.min(o,a);return r/Math.max(1,s)}fromDomain(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var i;const r=null!=(i=e?.clampMode)?i:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map(d=>this.transform(d)),[a,s]=o,{range:l}=this,[c,u]=l;if(t=this.transform(t),"clamped"===r){const d=Math.min(this.fromDomain(a),this.fromDomain(s)),h=Math.max(this.fromDomain(a),this.fromDomain(s));if(this.fromDomain(t)<d)return c;if(this.fromDomain(t)>h)return u}return a===s?(c+u)/2:t===a?c:t===s?u:c+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(s)-this.fromDomain(a))*(u-c)}invert(t){this.refresh();const e=this.getDomain().map(h=>this.transform(h)),[i,r]=e,{range:o}=this,[a,s]=o,l=a>s;let d;return t<(l?s:a)?l?r:i:t>(l?a:s)?l?i:r:(d=this.toDomain(a===s?(this.fromDomain(i)+this.fromDomain(r))/2:this.fromDomain(i)+(t-a)/(s-a)*(this.fromDomain(r)-this.fromDomain(i))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Me.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((e,i)=>e-i);return t[1]-t[0]}isDenseInterval({start:t,stop:e,interval:i,count:r}){return r??(r=(e-t)/("number"==typeof i?i:1)),r>=this.getPixelRange()&&(Me.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}};cc.defaultTickCount=5,cc.defaultMaxTickCount=6,S([No],cc.prototype,"domain",2),S([No],cc.prototype,"range",2),S([No],cc.prototype,"nice",2),S([No],cc.prototype,"interval",2),S([No],cc.prototype,"tickCount",2),S([No],cc.prototype,"minTickCount",2),S([No],cc.prototype,"maxTickCount",2);var Si=cc;function FX(n,t){let e=0;return"number"==typeof n&&"number"==typeof t?e=n-t:"string"==typeof n&&"string"==typeof t?e=n.localeCompare(t):null==n&&null==t||(e=null==n?-1:null==t?1:String(n).localeCompare(String(t))),e}function kX(n,t,e){const i=r=>"function"==typeof r?r():r;for(const r in n){const o=e(i(n[r]),i(t[r]));if(0!==o)return o}return 0}var ZN=class BG extends Rg{constructor(t){var e;super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:i,zIndexSubOrder:r}=t??{};this.isContainerNode=!0,void 0!==i&&(this.zIndex=i),void 0!==r&&(this.zIndexSubOrder=r),this.name=null==(e=this.opts)?void 0:e.name}zIndexChanged(){var t;this.layer&&(null==(t=this._layerManager)||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return null!=this.layer}_setLayerManager(t){var e,i;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&null!=(e=this.opts)&&e.layer){const{zIndex:r,zIndexSubOrder:o,name:a}=null!=(i=this.opts)?i:{};this.layer=t.addLayer({zIndex:r,zIndexSubOrder:o,name:a,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})}}getComputedOpacity(){let t=1,e=this;do{e instanceof BG&&(t*=e.opacity)}while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=1){if(this.isVirtual)return void super.markDirty(t,e);let i=e;(e<2||null!=this.layer)&&(i=1),super.markDirty(t,e,i)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),BG.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,i;const{opts:{name:r}={},_debug:o=(()=>{})}=this,{dirty:a,dirtyZIndex:s,layer:l,children:c,clipRect:u,dirtyTransform:d}=this;let{ctx:h,forceRender:p,clipBBox:f}=t;const{resized:m,stats:g}=t,v=h.getTransform(),y=a>=2||s||m;let _=y,b=!1;for(const k of c)if(_||(_=null==k.layerManager&&k.dirty>=1),b||(b=null!=k.layerManager&&k.dirty>=1),_)break;if(r&&o({name:r,group:this,isDirty:y,isChildDirty:_,dirtyTransform:d,renderCtx:t,forceRender:p}),d)p="dirtyTransform";else if(l){const k=this.computeBBox();(void 0===this.lastBBox||!this.lastBBox.equals(k))&&(p="dirtyTransform",this.lastBBox=k)}if(!(y||_||b||p))return r&&g&&o({name:r,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const w=this.visible;if(l){if(h=l.context,h.save(),h.resetTransform(),"dirtyTransform"!==p&&(p=_||s),p&&l.clear(),f){const{width:k,height:L,x:B,y:Y}=f;o(()=>({name:r,clipBBox:f,ctxTransform:h.getTransform(),renderCtx:t,group:this})),this.clipCtx(h,B,Y,k,L)}h.setTransform(v)}else h.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(h),u){const{x:k,y:L,width:B,height:Y}=u;h.save(),o(()=>({name:r,clipRect:u,ctxTransform:h.getTransform(),renderCtx:t,group:this})),this.clipCtx(h,k,L,B,Y),f=this.matrix.transformBBox(u)}const E=this.hasVirtualChildren();s?(this.sortChildren(c),"dirtyTransform"!==p&&(p=!0)):E&&this.sortChildren(c);const P=p!==t.forceRender||f!==t.clipBBox||h!==t.ctx?Pe(Q({},t),{ctx:h,forceRender:p,clipBBox:f}):t;let I=0;for(const k of c)k.visible&&w?p||0!==k.dirty?(h.save(),k.render(P),h.restore()):g&&(I+=k.nodeCount.count):(k.markClean(),g&&(I+=k.nodeCount.count));if(g&&(g.nodesSkipped+=I),super.render(t),u&&h.restore(),E)for(const k of this.virtualChildren)k.markClean({recursive:"virtual"});l&&(g&&g.layersRendered++,h.restore(),p&&l.snapshot(),null==(i=(e=l.context).verifyDepthZero)||i.call(e)),r&&g&&o({name:r,result:"rendered",skipped:I,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,i)=>{var r,o;return kX([e.zIndex,...null!=(r=e.zIndexSubOrder)?r:[void 0,void 0],e.serialNumber],[i.zIndex,...null!=(o=i.zIndexSubOrder)?o:[void 0,void 0],i.serialNumber],FX)})}clipCtx(t,e,i,r,o){t.beginPath(),t.moveTo(e,i),t.lineTo(e+r,i),t.lineTo(e+r,i+o),t.lineTo(e,i+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,i=-1/0,r=1/0,o=-1/0;return t.forEach(a=>{if(!a.visible)return;const s=a.computeTransformedBBox();if(!s)return;const l=s.x,c=s.y;l<e&&(e=l),c<r&&(r=c),l+s.width>i&&(i=l+s.width),c+s.height>o&&(o=c+s.height)}),new wt(e,r,i-e,o-r)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};ZN.className="Group",S([Le({redraw:3,convertor:n=>ti(0,n,1)})],ZN.prototype,"opacity",2);var $e=ZN,uc=class extends rs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new wt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(n,t){return!1}render(n){var t;const{ctx:e,forceRender:i,stats:r}=n;if(0===this.dirty&&!i)return void(r&&(r.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:o,y1:a,x2:s,y2:l}=this;o=this.align(o),a=this.align(a),s=this.align(s),l=this.align(l);const{fill:c,opacity:u,isRange:d}=this;if(d&&c){const{fillOpacity:y}=this;e.fillStyle=c,e.globalAlpha=u*y,e.beginPath(),e.moveTo(o,a),e.lineTo(s,a),e.lineTo(s,l),e.lineTo(o,l),e.closePath(),e.fill()}const{stroke:p,strokeWidth:f,startLine:m,endLine:g}=this;if((m||g)&&p&&f){const{strokeOpacity:y,lineDash:_,lineDashOffset:b,lineCap:w,lineJoin:E}=this;e.strokeStyle=p,e.globalAlpha=u*y,e.lineWidth=f,_&&e.setLineDash(_),b&&(e.lineDashOffset=b),w&&(e.lineCap=w),E&&(e.lineJoin=E),e.beginPath(),m&&(e.moveTo(o,a),e.lineTo(s,a)),g&&(e.moveTo(s,l),e.lineTo(o,l)),e.stroke()}null==(t=this.fillShadow)||t.markClean(),super.render(n)}};uc.className="Range",uc.defaultStyles=Pe(Q({},rs.defaultStyles),{strokeWidth:1}),S([Le({redraw:2})],uc.prototype,"x1",2),S([Le({redraw:2})],uc.prototype,"y1",2),S([Le({redraw:2})],uc.prototype,"x2",2),S([Le({redraw:2})],uc.prototype,"y2",2),S([Le({redraw:2})],uc.prototype,"startLine",2),S([Le({redraw:2})],uc.prototype,"endLine",2),S([Le({redraw:2})],uc.prototype,"isRange",2);var Ln=class extends bi{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return $d(this)}};function hT(n){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=n,i=n.rotation?gn(Br(n.rotation)):0,r=!i&&t>=0&&t<=Math.PI?-1:1,o=!i&&e>=0&&e<=Math.PI?-1:1;let a=0;return n.parallel?a=r*Math.PI/2:-1===o&&(a=Math.PI),{configuredRotation:i,defaultRotation:a,parallelFlipFlag:r,regularFlipFlag:o}}function QN(n,t,e,i,r){const o=t>0&&t<=Math.PI,a=e>0&&e<=Math.PI;if(n){if(!t&&!e)return"center";if(i*(o||a?-1:1)==-1)return"end"}else if(i*r==-1)return"end";return"start"}function zHe(n,t,e,i,r){const{width:o,height:a}=t,s=new wt(e,i,0,0);r.transformBBox(s,t);const{x:l=0,y:c=0}=t;return t.width=o,t.height=a,{point:{x:l,y:c,size:0},label:{width:o,height:a,text:n}}}S([R(rt)],Ln.prototype,"enabled",2),S([R(qt)],Ln.prototype,"color",2),S([R(zd,{optional:!0})],Ln.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],Ln.prototype,"fontWeight",2),S([R(Ce)],Ln.prototype,"fontSize",2),S([R(xe)],Ln.prototype,"fontFamily",2),S([R(is,{optional:!0})],Ln.prototype,"formatter",2);var LX=(n=>(n[n.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",n[n.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",n[n.AXIS_ZINDEX=2]="AXIS_ZINDEX",n[n.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",n[n.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",n[n.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",n[n.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",n[n.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",n[n.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",n[n.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",n))(LX||{}),JN=n=>!!n&&Object.hasOwn(n,"toString")&&es(n.toString()),e1=n=>ai(n)||(n=>!!n&&Object.hasOwn(n,"valueOf")&&ai(n.valueOf()))(n)||NC(n);function ab(n,t){return t&&e1(n)?n:t?void 0:es(n)||JN(n)?n:String(n)}function Fg(n){return JN(n)&&Object.hasOwn(n,"id")?n.id:n}var t1=n=>"value"===n?wi((t,e)=>"line"===e.target.type,t=>"range"===t.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):wi((t,e)=>"range"===e.target.type,t=>"line"===t.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),NX=(n,t,e,i)=>{const r="line"===n&&void 0!==t,o="range"===n&&void 0!==e;if(!r&&!o)return!0;const[a,s]=e??[t,void 0],l=Si.is(i),c=null!=ab(a,l)&&!isNaN(i.convert(a)),u=null!=ab(s,l)&&!isNaN(i.convert(s));if(r&&c||o&&c&&u)return!0;const d=["Expecting crossLine"];return o?(c||d.push(`range start ${nb(a)}`),u||d.push(`${c?"":"and "}range end ${nb(s)}`)):d.push(`value ${nb(a)}`),d.push("to match the axis scale domain."),Me.warnOnce(d.join(" ")),!1},$He={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},KHe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function VX({yDirection:n,padding:t=0,position:e="top",bbox:i}){const r=n?$He:KHe,{xTranslationDirection:o,yTranslationDirection:a}=r[e];return{xTranslation:o*(t+(n?i.width:i.height)/2),yTranslation:a*(t+(n?i.height:i.width)/2)}}var n1=({yDirection:n,xEnd:t,yStart:e,yEnd:i})=>n?{x:t/2,y:e}:{x:t,y:isNaN(i)?e:(e+i)/2},GX=({yDirection:n,xStart:t,xEnd:e,yStart:i,yEnd:r})=>n?{x:t,y:isNaN(r)?i:(i+r)/2}:{x:e/2,y:i},BX=({yDirection:n,xEnd:t,yStart:e,yEnd:i})=>n?{x:t,y:isNaN(i)?e:(e+i)/2}:{x:t/2,y:isNaN(i)?e:i},HX=({yDirection:n,xStart:t,xEnd:e,yStart:i,yEnd:r})=>n?{x:e/2,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:(i+r)/2},jX=({yDirection:n,xStart:t,xEnd:e,yStart:i})=>n?{x:t/2,y:i}:{x:e,y:i},UX=({yDirection:n,xStart:t,yStart:e,yEnd:i})=>n?{x:t,y:isNaN(i)?e:i}:{x:t,y:e},zX=({yDirection:n,xEnd:t,yStart:e,yEnd:i})=>n?{x:t,y:e}:{x:t,y:isNaN(i)?e:i},WX=({yDirection:n,xStart:t,xEnd:e,yStart:i,yEnd:r})=>n?{x:e,y:isNaN(r)?i:r}:{x:t,y:isNaN(r)?i:r},XHe={top:{c:n1},bottom:{c:HX},left:{c:GX},right:{c:BX},topLeft:{c:jX},topRight:{c:zX},bottomLeft:{c:UX},bottomRight:{c:WX},inside:{c:({xEnd:n,yStart:t,yEnd:e})=>({x:n/2,y:isNaN(e)?t:(t+e)/2})},insideLeft:{c:GX},insideRight:{c:BX},insideTop:{c:n1},insideBottom:{c:HX},insideTopLeft:{c:jX},insideBottomLeft:{c:UX},insideTopRight:{c:zX},insideBottomRight:{c:WX}},ZHe=vn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),os=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};S([R(rt,{optional:!0})],os.prototype,"enabled",2),S([R(xe,{optional:!0})],os.prototype,"text",2),S([R(zd,{optional:!0})],os.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],os.prototype,"fontWeight",2),S([R(Ce)],os.prototype,"fontSize",2),S([R(xe)],os.prototype,"fontFamily",2),S([R(Di)],os.prototype,"padding",2),S([R(qt,{optional:!0})],os.prototype,"color",2),S([R(ZHe,{optional:!0})],os.prototype,"position",2),S([R(Ud,{optional:!0})],os.prototype,"rotation",2),S([R(rt,{optional:!0})],os.prototype,"parallel",2);var oo=class yw{constructor(){this.id=nc(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new os,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new $e({name:`${this.id}`,layer:!0,zIndex:yw.LINE_LAYER_ZINDEX}),this.labelGroup=new $e({name:`${this.id}`,layer:!0,zIndex:yw.LABEL_LAYER_ZINDEX}),this.crossLineRange=new uc,this.crossLineLabel=new ii,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:e,crossLineRange:i,crossLineLabel:r}=this;t.append(i),e.append(r),i.pointerEvents=1}update(t){const{enabled:e,data:i,type:r,value:o,range:a,scale:s}=this;if(!(r&&s&&e&&t&&NX(r,o,a,s)&&0!==i.length))return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t||!this.createNodeData(e))return;const{sideFlag:r,gridLength:o,data:a}=this,s=[],c=r*o,u=a[0],d=a[1],h=new wt(Math.min(0,c),Math.min(u,d),Math.abs(0-c),Math.abs(u-d));s.push(h);const p=this.computeLabelBBox();return p&&s.push(p),wt.merge(s)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,i,r;const{scale:o,gridLength:a,sideFlag:s,direction:l,label:{position:c="top"},clippedRange:u,strokeWidth:d=0}=this;if(this.data=[],!o)return!1;const h=null!=(e=o.bandwidth)?e:0,p=null!=(i=o.step)?i:0,f=(t?-1:1)*(o instanceof sc?(p-h)/2:0),[m,g]=[0,s*a];let[v,y]=this.getRange(),[_,b]=[Number(o.convert(v,{clampMode:"clamped"}))-f,o.convert(y,{clampMode:"clamped"})+h+f];_=tT(_,u),b=tT(b,u),[v,y]=[Number(o.convert(v)),o.convert(y)+h];const w=(v===_||y===b||_!==b)&&Math.abs(b-_)>0;if(w&&_>b&&([_,b]=[b,_],[v,y]=[y,v]),v-f>=_&&(v-=f),y+f<=b&&(y+=f),this.isRange=w,this.startLine=d>0&&v>=_&&v<=_+f,this.endLine=d>0&&y>=b-h-f&&y<=b,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[_,b],this.label.enabled){const E="y"===l,{c:M=n1}=null!=(r=XHe[c])?r:{},{x:P,y:I}=M({yDirection:E,xStart:m,xEnd:g,yStart:_,yEnd:b});this.labelPoint={x:P,y:I}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:i,gridLength:r,data:o,startLine:a,endLine:s,isRange:l,fill:c,fillOpacity:u,stroke:d,strokeWidth:h,lineDash:p}=this;e.x1=0,e.x2=i*r,e.y1=o[0],e.y2=o[1],e.startLine=a,e.endLine=s,e.isRange=l,e.fill=c,e.fillOpacity=u??1,e.stroke=d,e.strokeWidth=h??1,e.strokeOpacity=null!=(t=this.strokeOpacity)?t:1,e.lineDash=p}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e,y:i}={},label:{parallel:r,rotation:o,position:a="top",padding:s=0},direction:l,parallelFlipRotation:c,regularFlipRotation:u}=this;if(void 0===e||void 0===i)return;const{defaultRotation:d,configuredRotation:h}=hT({rotation:o,parallel:r,regularFlipRotation:u,parallelFlipRotation:c});t.rotation=d+h,t.textBaseline="middle",t.textAlign="center";const p=t.computeTransformedBBox();if(!p)return;const f="y"===l,{xTranslation:m,yTranslation:g}=VX({yDirection:f,padding:s,position:a,bbox:p});t.translationX=e+m,t.translationY=i+g}getZIndex(t=!1){return t?yw.RANGE_LAYER_ZINDEX:yw.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:i,scale:r}=this,o=Si.is(r),a=null!=(t=i?.[0])?t:e;let s=i?.[1];return!o&&void 0===s&&(s=a),o&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new ii;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:i,y:r}={},label:{parallel:o,rotation:a,position:s="top",padding:l=0},direction:c,parallelFlipRotation:u,regularFlipRotation:d}=this;if(void 0===i||void 0===r)return;const{configuredRotation:h}=hT({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:u});e.rotation=h,e.textBaseline="middle",e.textAlign="center";const p=e.computeTransformedBBox();if(!p)return;const f="y"===c,{xTranslation:m,yTranslation:g}=VX({yDirection:f,padding:l,position:s,bbox:p});return e.translationX=i+m,e.translationY=r+g,e.computeTransformedBBox()}calculatePadding(t){var e,i,r,o,a,s,l,c;const{isRange:u,startLine:d,endLine:h,direction:p,label:{padding:f=0,position:m="top"}}=this;if(!u&&!d&&!h)return;const g=this.computeLabelBBox();if(null==g?.x||null==g?.y)return;const v=function YHe({yDirection:n,bbox:t,padding:e=0,position:i="top"}){const r={};return i.startsWith("inside")||("top"!==i||n?"bottom"!==i||n?"left"===i&&n?r.left=e+t.width:"right"===i&&n&&(r.right=e+t.width):r.bottom=e+t.height:r.top=e+t.height),r}({yDirection:"y"===p,padding:f,position:m,bbox:g});t.left=Math.max(null!=(e=t.left)?e:0,null!=(i=v.left)?i:0),t.right=Math.max(null!=(r=t.right)?r:0,null!=(o=v.right)?o:0),t.top=Math.max(null!=(a=t.top)?a:0,null!=(s=v.top)?s:0),t.bottom=Math.max(null!=(l=t.bottom)?l:0,null!=(c=v.bottom)?c:0)}};oo.LINE_LAYER_ZINDEX=8,oo.RANGE_LAYER_ZINDEX=3,oo.LABEL_LAYER_ZINDEX=7,oo.className="CrossLine",S([R(rt,{optional:!0})],oo.prototype,"enabled",2),S([R(vn(["range","line"],"a crossLine type"),{optional:!0})],oo.prototype,"type",2),S([R(lc(t1("range"),JC.restrict({length:2})),{optional:!0})],oo.prototype,"range",2),S([R(t1("value"),{optional:!0})],oo.prototype,"value",2),S([R(qt,{optional:!0})],oo.prototype,"fill",2),S([R(di,{optional:!0})],oo.prototype,"fillOpacity",2),S([R(qt,{optional:!0})],oo.prototype,"stroke",2),S([R(Di,{optional:!0})],oo.prototype,"strokeWidth",2),S([R(di,{optional:!0})],oo.prototype,"strokeOpacity",2),S([R(yu,{optional:!0})],oo.prototype,"lineDash",2);var r1=oo,$X=class{constructor(){this.moduleMap=new Map}addModule(n,t){if(this.moduleMap.has(n.optionsKey))throw new Error(`AG Charts - module already initialised: ${n.optionsKey}`);this.moduleMap.set(n.optionsKey,t(n))}removeModule(n){var t;const e=es(n)?n:n.optionsKey;null==(t=this.moduleMap.get(e))||t.destroy(),this.moduleMap.delete(e)}isModuleEnabled(n){return this.moduleMap.has(es(n)?n:n.optionsKey)}getModule(n){return this.moduleMap.get(es(n)?n:n.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(n){return Array.from(this.moduleMap.values()).map(n)}destroy(){for(const n of this.moduleMap.keys())this.removeModule({optionsKey:n})}},KX={};function er(n,t){const{nodes:e,selections:i}=oT(n);for(const r of i){for(const o of r.nodes()){const a=t(o,o.datum);o.setProperties(a)}r.cleanup()}for(const r of e){const o=t(r,r.datum);r.setProperties(o)}}du(KX,{resetMotion:()=>er});var sb=class{constructor(n,t,e){this.states=t,this.preTransitionCb=e,this.debug=sn.create(!0,"animation"),this.state=n,this.debug(`%c${this.constructor.name} | init -> ${n}`,"color: green")}transition(n,t){var e,i;const r=this.states[this.state],o=r?.[n];if(!o)return void this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${this.state}`,"color: grey");let a=this.state;return"string"==typeof o?a=o:"object"==typeof o&&(a=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${a}`,"color: green"),null==(e=this.preTransitionCb)||e.call(this,this.state,a),this.state=a,"function"==typeof o?o(t):"object"==typeof o&&(null==(i=o.action)||i.call(o,t)),this.state}},kg=n=>`(${n})`,Cu=n=>`${kg(n)}?`,YX=n=>Cu(`?:${n}`),QHe=new RegExp(["^",YX(`${Cu(".")}${kg("[<>=^]")}`),Cu("[+\\-( ]"),Cu("[$\u20ac\xa3\xa5\u20a3\u20b9#]"),Cu("0"),Cu("\\d+"),Cu(","),YX(`\\.${kg("\\d+")}`),Cu("~"),Cu("[%a-z]"),"$"].join(""),"i"),JHe=new RegExp(["^",kg(".*?"),`#\\{${kg(".+?")}\\}`,kg(".*?"),"$"].join(""));function qX(n){let t,e;const i=JHe.exec(n);i&&([,t,n,e]=i);const r=QHe.exec(n);if(!r)throw new Error(`The number formatter is invalid: ${n}`);const[,o,a,s,l,c,u,d,h,p,f]=r;return{fill:o,align:a,sign:s,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:!!p,type:f,prefix:t,suffix:e}}function XX(n){const t="string"==typeof n?qX(n):n,{fill:e,align:i,sign:r="-",symbol:o,zero:a,width:s,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t;let{trim:p}=t;const f=void 0===h||isNaN(h);let m,g;if(c)if(c in wa&&c in Lg)m=f?Lg[c]:wa[c];else if(c in wa)m=wa[c];else{if(!(c in Lg))throw new Error(`The number formatter type is invalid: ${c}`);m=Lg[c]}else m=wa.g,p=!0;return g=null==h||f?c?6:12:h,v=>{let y=m(v,g);return p&&(y=function eje(n){return n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}(y)),l&&(y=function tje(n,t){let e=n.indexOf(".");e<0&&(e=n.length);const i=n.substring(0,e).split(""),r=n.substring(e);for(let o=i.length-3;o>0;o-=3)i.splice(o,0,t);return`${i.join("")}${r}`}(y,l)),y=function oje(n,t,e=""){if("("===e)return n>=0?t:`(${t})`;return`${n>=0?"+"===e?"+":"":rje}${t}`}(v,y,r),o&&"#"!==o&&(y=`${o}${y}`),"#"===o&&"x"===c&&(y=`0x${y}`),"s"===c&&(y=`${y}${function ije(n){return nje[ZX(n)]}(v)}`),("%"===c||"p"===c)&&(y=`${y}%`),null!=s&&!isNaN(s)&&(y=function aje(n,t,e=" ",i=">"){let r=n;if(">"!==i&&i){if("<"===i)r=r.padEnd(t,e);else if("^"===i){const o=Math.max(0,t-r.length),a=Math.ceil(o/2),s=Math.floor(o/2);r=r.padStart(a+r.length,e),r=r.padEnd(s+r.length,e)}}else r=r.padStart(t,e);return r}(y,s,e??a,i)),y=`${u}${y}${d}`,y}}var pT=n=>Math.floor(Math.abs(n)),Lg={b:n=>pT(n).toString(2),c:n=>String.fromCharCode(n),d:n=>Math.round(Math.abs(n)).toFixed(0),o:n=>pT(n).toString(8),x:n=>pT(n).toString(16),X:n=>Lg.x(n).toUpperCase(),n:n=>Lg.d(n),"%":n=>`${pT(100*n).toFixed(0)}`},wa={e:(n,t)=>Math.abs(n).toExponential(t),E:(n,t)=>wa.e(n,t).toUpperCase(),f:(n,t)=>Math.abs(n).toFixed(t),F:(n,t)=>wa.f(n,t).toUpperCase(),g:(n,t)=>{if(0===n)return"0";const e=Math.abs(n),i=Math.floor(Math.log10(e));return i>=-4&&i<t?e.toFixed(t-1-i):e.toExponential(t-1)},G:(n,t)=>wa.g(n,t).toUpperCase(),n:(n,t)=>wa.g(n,t),p:(n,t)=>wa.r(100*n,t),r:(n,t)=>{if(0===n)return"0";const e=Math.abs(n),r=Math.floor(Math.log10(e))-(t-1);if(r<=0)return e.toFixed(-r);const o=Math.pow(10,r);return(Math.round(e/o)*o).toFixed()},s:(n,t)=>{const e=ZX(n);return wa.r(n/Math.pow(10,e),t)},"%":(n,t)=>wa.f(100*n,t)};function ZX(n){return ti(QX,3*Math.floor(Math.log10(Math.abs(n))/3),JX)}var QX=-24,JX=24,nje={[QX]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[JX]:"Y"},rje="\u2212";function eZ(n,t){const e=qX(t??",f"),{precision:i}=e;(null==i||isNaN(i))&&("f"===e.type||"%"===e.type?e.precision=Math.max(...n.map(o=>{if("number"!=typeof o||0===o)return 0;const a=Math.floor(Math.log10(Math.abs(o))),l=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e"),c=l.indexOf(".");if(c<0)return a>=0?0:-a;const u=l.indexOf("e")-c;return Math.max(0,u-a-1)})):(!e.type||e.type in wa)&&(e.precision=Math.max(...n.map(o=>{if("number"!=typeof o)return 0;const a=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const r=XX(e);return o=>r(Number(o))}var lb=(n,t=[])=>Object.assign(t,{fractionDigits:n});function fT(n,t,e,i,r){if(e<2)return cb(n,t,t-n);const o=Ng(n,t,e,i,r);return isNaN(o)?lb(0):cb(n=Math.ceil(n/o)*o,t=Math.floor(t/o)*o,o)}var tZ=[1,2,5,10];function Ng(n,t,e,i=0,r=1/0){const o=Math.abs(t-n),s=Math.floor(Math.log10(o/e)),l=Math.pow(10,s),c=tZ.map(u=>{const h=Math.ceil(o/(u*l));return{multiplier:u,isWithinBounds:h>=i&&h<=r,diffCount:Math.abs(h-e)}}).sort((u,d)=>u.isWithinBounds!==d.isWithinBounds?u.isWithinBounds?-1:1:u.diffCount-d.diffCount)[0].multiplier;return!c||isNaN(c)?NaN:c*l}function cb(n,t,e){const i=Math.min(n,t),r=Math.max(n,t),o=FN(e),a=Math.pow(10,o),s=Math.ceil((r-i)/e),l=lb(o);for(let c=0;c<=s;c++)l.push(Math.round((i+e*c)*a)/a);return l}var iZ=class HG extends Si{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=qq,this.basePow=qq,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Me.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=HG.getBaseLogMethod(this.base),this.basePow=HG.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,i=t>e?Math.ceil:Math.floor,r=t>e?Math.floor:Math.ceil,o=this.pow(i(this.log(t))),a=this.pow(r(this.log(e)));this.niceDomain=[o,a]}ticks(){var t;const e=null!=(t=this.tickCount)?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const i=this.base,[r,o]=this.getDomain(),a=Math.min(r,o),s=Math.max(r,o);let l=this.log(a),c=this.log(s);if(this.interval){const g=Math.abs(this.interval),v=Math.abs(c-l);let y=cb(l,c,Math.min(v,g));if(y=lb(y.fractionDigits,y.map(_=>this.pow(_)).filter(_=>_>=a&&_<=s)),!this.isDenseInterval({start:a,stop:s,interval:g,count:y.length}))return y}if(i%1!=0||c-l>=e){let g=fT(l,c,Math.min(c-l,e));return g=lb(g.fractionDigits,g.map(v=>this.pow(v))),g}const h=[],p=a>0;l=Math.floor(l)-1,c=Math.round(c)+1;const f=Og(this.range)/e;let m=1/0;for(let g=l;g<=c;g++){const v=this.convert(this.pow(g+1));for(let y=1;y<i;y++){const _=p?y:i-y+1,b=this.pow(g)*_,w=this.convert(b),E=Math.abs(m-w),M=Math.abs(w-v);b>=a&&b<=s&&(1===y||E>=f&&M>=f)&&(h.push(b),m=w)}}return h}tickFormat({count:t,ticks:e,specifier:i}){return t!==1/0&&null==e&&this.ticks(),i??(i=10===this.base?".0e":","),es(i)?XX(i):i}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return i=>Math.log(i)/e}}static getBasePowerMethod(t){switch(t){case 10:return e=>e>=0?Pt(10,e):1/Pt(10,-e);case Math.E:return Math.exp;default:return e=>Pt(t,e)}}};S([No],iZ.prototype,"base",2);var o1=iZ,mT={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function a1(n,t=new Date(n.getFullYear(),0,1)){const e=n.getTimezoneOffset()-t.getTimezoneOffset(),i=n.getTime()-t.getTime()+6e4*e;return Math.floor(i/864e5)}function nZ(n,t){const r=(t-new Date(n.getFullYear(),0,1).getDay()+7)%7,o=new Date(n.getFullYear(),0,r+1);return o<=n?Math.floor(a1(n,o)/7)+1:0}function aZ(n,t=n.getFullYear()){const i=new Date(t,0,1).getDay(),o=new Date(t,0,(4-i+7)%7-3+1);return o<=n?Math.floor(a1(n,o)/7)+1:aZ(n,t-1)}var uje={a:n=>mT.shortDays[n.getDay()],A:n=>mT.days[n.getDay()],b:n=>mT.shortMonths[n.getMonth()],B:n=>mT.months[n.getMonth()],c:"%x, %X",d:(n,t)=>Tr(n.getDate(),2,t??"0"),e:"%_d",f:(n,t)=>Tr(1e3*n.getMilliseconds(),6,t??"0"),H:(n,t)=>Tr(n.getHours(),2,t??"0"),I:(n,t)=>{const e=n.getHours()%12;return 0===e?"12":Tr(e,2,t??"0")},j:(n,t)=>Tr(a1(n)+1,3,t??"0"),m:(n,t)=>Tr(n.getMonth()+1,2,t??"0"),M:(n,t)=>Tr(n.getMinutes(),2,t??"0"),L:(n,t)=>Tr(n.getMilliseconds(),3,t??"0"),p:n=>n.getHours()<12?"AM":"PM",Q:n=>String(n.getTime()),s:n=>String(Math.floor(n.getTime()/1e3)),S:(n,t)=>Tr(n.getSeconds(),2,t??"0"),u:n=>{let t=n.getDay();return t<1&&(t+=7),String(t%7)},U:(n,t)=>Tr(nZ(n,0),2,t??"0"),V:(n,t)=>Tr(aZ(n),2,t??"0"),w:(n,t)=>Tr(n.getDay(),2,t??"0"),W:(n,t)=>Tr(nZ(n,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(n,t)=>Tr(n.getFullYear()%100,2,t??"0"),Y:(n,t)=>Tr(n.getFullYear(),4,t??"0"),Z:n=>function cje(n){const t=n.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${Tr(Math.floor(e/60),2,"0")}${Tr(Math.floor(e%60),2,"0")}`}(n),"%":()=>"%"},dje={_:" ",0:"0","-":""};function Tr(n,t,e){const i=String(Math.floor(n));return i.length>=t?i:`${e.repeat(t-i.length)}${i}`}function s1(n){const t=[];for(;n.length>0;){let e=n.indexOf("%");if(0!==e){const s=e>0?n.substring(0,e):n;t.push(s)}if(e<0)break;const r=dje[n[e+1]];null!=r&&e++;const o=n[e+1],a=uje[o];if("function"==typeof a)t.push([a,r]);else if("string"==typeof a){const s=s1(a);t.push([s,r])}else t.push(`${r??""}${o}`);n=n.substring(e+2)}return e=>{const i="number"==typeof e?new Date(e):e;return t.map(r=>"string"==typeof r?r:r[0](i,r[1])).join("")}}var Wp={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function as(n){return n instanceof Date?n.getTime():n}var l1=class extends Si{constructor(){super([],[0,1]),this.type="time",this.year=OBe,this.month=TBe,this.week=xBe,this.day=vBe,this.hour=fBe,this.minute=dBe,this.second=lBe,this.millisecond=oBe,this.tickIntervals=[[this.second,1,1e3],[this.second,5,5e3],[this.second,15,15e3],[this.second,30,3e4],[this.minute,1,no],[this.minute,5,5*no],[this.minute,15,15*no],[this.minute,30,30*no],[this.hour,1,Zl],[this.hour,3,3*Zl],[this.hour,6,6*Zl],[this.hour,12,12*Zl],[this.day,1,Bd],[this.day,2,2*Bd],[this.week,1,kC],[this.week,2,2*kC],[this.week,3,3*kC],[this.month,1,LC],[this.month,2,2*LC],[this.month,3,3*LC],[this.month,4,4*LC],[this.month,6,6*LC],[this.year,1,ND]]}toDomain(n){return new Date(n)}calculateDefaultTickFormat(n=[]){let t=8;const e=l=>{l<t&&(t=l)};for(const l of n)e(this.getLowestGranularityFormat(l));const i=as(n[0]),r=as(n.at(-1)),o=new Date(i).getFullYear(),s=new Date(r).getFullYear()-o>0;return this.buildFormatString(t,s)}buildFormatString(n,t){let e=[Wp[n]],i=0;const o=Og(this.getDomain().map(as));switch(n){case 1:o/no>1&&e.push(Wp[2]);case 2:o/Zl>1&&e.push(Wp[3]);case 3:i=e.length,o/Bd>1&&e.push(Wp[4]);case 4:if(o/kC>1||t){const a=e.indexOf(Wp[4]);a>-1&&e.splice(a,1,Wp[5])}case 5:case 6:(o/ND>1||t)&&e.push(Wp[8])}return i<e.length&&(e=[...e.slice(0,i),e.slice(i).join(" ")]),i>0&&(e=[...e.slice(0,i).reverse(),...e.slice(i)],i<e.length&&e.splice(i,0," ")),e.join("")}getLowestGranularityFormat(n){return this.second.floor(n)<n?0:this.minute.floor(n)<n?1:this.hour.floor(n)<n?2:this.day.floor(n)<n?3:this.month.floor(n)<n?this.week.floor(n)<n?4:5:this.year.floor(n)<n?6:8}defaultTickFormat(n){const t=this.calculateDefaultTickFormat(n);return e=>s1(t)(e)}getTickInterval({start:n,stop:t,count:e,minCount:i,maxCount:r}){const{tickIntervals:o}=this;let a,s;const l=e??Si.defaultTickCount,c=Math.abs(t-n)/Math.max(l,1);let u=0;for(;u<o.length&&c>o[u][2];)u++;if(0===u)s=Math.max(Ng(n,t,l,i,r),1),a=this.millisecond;else if(u===o.length)s=Ng(n/ND,t/ND,l,i,r),a=this.year;else{const p=c-o[u-1][2]<o[u][2]-c?u-1:u;[a,s]=o[p]}return a.every(s)}invert(n){return new Date(super.invert(n))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[n,t]=this.getDomain().map(as),e=Math.min(n,t),i=Math.max(n,t);if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:i});if(this.nice){const{tickCount:r}=this;if(2===r)return this.niceDomain;if(1===r)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:i})}getDefaultTicks({start:n,stop:t}){const e=this.getTickInterval({start:n,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return e?e.range(new Date(n),new Date(t)):[]}getTicksForInterval({start:n,stop:t}){const{interval:e,tickIntervals:i}=this;if(!e)return[];if(e instanceof FC){const u=e.range(new Date(n),new Date(t));return this.isDenseInterval({start:n,stop:t,interval:e,count:u.length})?this.getDefaultTicks({start:n,stop:t}):u}const r=Math.abs(e);if(this.isDenseInterval({start:n,stop:t,interval:r}))return this.getDefaultTicks({start:n,stop:t});const o=[...i];o.reverse();const a=o.find(u=>r%u[2]==0);if(a)return a[0].every(r/(a[2]/a[1])).range(new Date(n),new Date(t));let s=new Date(n);const l=new Date(t),c=[];for(;s<=l;)c.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+r);return c}tickFormat({ticks:n,specifier:t}){return null==t?this.defaultTickFormat(n):s1(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(t,e);const[r,o]=this.niceDomain;if(as(t)===as(r)&&as(e)===as(o))break;t=r,e=o}}updateNiceDomainIteration(n,t){const e=Math.min(as(n),as(t)),i=Math.max(as(n),as(t)),r=n>t,{interval:o}=this;let a;if(o instanceof FC)a=o;else{const s="number"==typeof o?(i-e)/Math.max(o,1):this.tickCount;a=this.getTickInterval({start:e,stop:i,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const s=a.range(new Date(e),new Date(i),!0),l=r?[...s].reverse():s,c=l[0],u=l.at(-1);this.niceDomain=[c,u]}}},ji=class _f{constructor(t,e,i=!0){this.parentNode=t,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=sn.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Rg,e)?()=>new e:e}static select(t,e,i=!0){return new _f(t,e,i)}static selectAll(t,e){const i=[],r=o=>{e(o)&&i.push(o),o.children.forEach(r)};return r(t),i}static selectByClass(t,e){return _f.selectAll(t,i=>i instanceof e)}static selectByTag(t,e){return _f.selectAll(t,i=>i.tag===e)}createNode(t,e,i){const r=this.nodeFactory(t);return r.datum=t,e?.(r),null!=i?this._nodes.splice(i,0,r):this._nodes.push(r),this.parentNode.appendChild(r),r}update(t,e,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),i){const r=new Map(t.map((o,a)=>[i(o),[o,a]]));for(const[o,a]of this._nodesMap.entries())if(r.has(a)){const[s]=r.get(a);o.datum=s,this.garbageBin.delete(o),r.delete(a)}else this.garbageBin.add(o);for(const[o,[a,s]]of r.entries())this._nodesMap.set(this.createNode(a,e,s),o)}else{const r=Math.max(t.length,this.data.length);for(let o=0;o<r;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],e):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter(t=>!this.garbageBin.has(t)||(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1))),this}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((e,i)=>t(e,e.datum,i)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],i=this._nodes[t].datum;yield{node:e,datum:i,index:t}}}select(t){return _f.selectAll(this.parentNode,t)}selectByClass(t){return _f.selectByClass(this.parentNode,t)}selectByTag(t){return _f.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},tr=class extends rs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(n){this.x1=n,this.x2=n}set y(n){this.y1=n,this.y2=n}computeBBox(){return new wt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(n,t){if(this.x1===this.x2||this.y1===this.y2){const{x:e,y:i}=this.transformPoint(n,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(e,i)}return!1}render(n){var t;const{ctx:e,forceRender:i,stats:r,devicePixelRatio:o}=n;if(0===this.dirty&&!i)return void(r&&(r.nodesSkipped+=this.nodeCount.count));this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:a,y1:s,x2:l,y2:c}=this;if(a===l){const{strokeWidth:u}=this,d=Math.round(a*o)/o+Math.trunc(u*o)%2/(2*o);a=d,l=d}else if(s===c){const{strokeWidth:u}=this,d=Math.round(s*o)/o+Math.trunc(u*o)%2/(2*o);s=d,c=d}e.beginPath(),e.moveTo(a,s),e.lineTo(l,c),this.fillStroke(e),null==(t=this.fillShadow)||t.markClean(),super.render(n)}};function hje(n,t,e,i,r){let o=n.x;n.x<t?o=t:n.x>t+i&&(o=t+i);let a=n.y;n.y<e?a=e:n.y>e+r&&(a=e+r);const s=n.x-o,l=n.y-a;return Math.sqrt(s*s+l*l)<=.5*n.size}function sZ(n,t,e,i,r){return n.x+n.width>t&&n.x<t+i&&n.y+n.height>e&&n.y<e+r}function pje(n,t,e,i,r){return t+i<n.x+n.width&&t>n.x&&e>n.y&&e+r<n.y+n.height}function fje(n){return null!=n&&"object"==typeof n.point&&"object"==typeof n.label}function vje(n,t){return n.length===t.length&&n.every((e,i)=>Number(e)===Number(t[i]))}tr.className="Line",tr.defaultStyles=Object.assign({},rs.defaultStyles,{fill:void 0,strokeWidth:1}),S([Le({redraw:3})],tr.prototype,"x1",2),S([Le({redraw:3})],tr.prototype,"y1",2),S([Le({redraw:3})],tr.prototype,"x2",2),S([Le({redraw:3})],tr.prototype,"y2",2);var yje=["stroke","lineDash"],_je=vu(n=>Jl(n)&&Object.keys(n).every(t=>yje.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),gT=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function bu(n,t=[void 0]){return pu((e,i,r)=>t.includes(r)?xg(n)?n(r):n:r)}S([R(rt)],gT.prototype,"enabled",2),S([R(Ce)],gT.prototype,"width",2),S([R(_je)],gT.prototype,"style",2);var Nn=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return $d(this)}};S([R(rt)],Nn.prototype,"enabled",2),S([R(rt,{optional:!0})],Nn.prototype,"autoWrap",2),S([R(Ce,{optional:!0})],Nn.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],Nn.prototype,"maxHeight",2),S([R(zd,{optional:!0})],Nn.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],Nn.prototype,"fontWeight",2),S([R(Di.restrict({min:1}))],Nn.prototype,"fontSize",2),S([R(xe)],Nn.prototype,"fontFamily",2),S([R(Ce)],Nn.prototype,"padding",2),S([R(Pg),bu(NaN)],Nn.prototype,"minSpacing",2),S([R(qt,{optional:!0})],Nn.prototype,"color",2),S([R(Ud,{optional:!0})],Nn.prototype,"rotation",2),S([R(rt)],Nn.prototype,"avoidCollisions",2),S([R(rt)],Nn.prototype,"mirrored",2),S([R(rt)],Nn.prototype,"parallel",2),S([R(xe,{optional:!0})],Nn.prototype,"format",2);var ub=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};S([R(rt)],ub.prototype,"enabled",2),S([R(Ce)],ub.prototype,"width",2),S([R(qt,{optional:!0})],ub.prototype,"color",2);var Cje=wi(n=>ai(n)&&n>0||n instanceof FC,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),qs=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};function c1(n){const[t,e]=gu(n.range),i=Math.floor(t),r=Math.ceil(e);return{min:i,max:r,visible:i!==r}}S([R(rt)],qs.prototype,"enabled",2),S([R(Ce)],qs.prototype,"width",2),S([R(Ce)],qs.prototype,"size",2),S([R(qt,{optional:!0})],qs.prototype,"color",2),S([R(Cje,{optional:!0})],qs.prototype,"interval",2),S([R(JC,{optional:!0})],qs.prototype,"values",2),S([R(SX),bu(NaN)],qs.prototype,"minSpacing",2);var u1=2*Math.PI,bje=u1/2;function lZ(n){const t=(a,s)=>{const[l=n.min,c=n.max]=gu(s??[]);return a<l||a>c};return{tick:{fromFn(a,s,l){let c=a.y1+a.translationY,u=a.opacity;return("added"===l||t(a.datum.translationY,a.datum.range))&&(c=s.translationY,u=0),{y:0,translationY:c,opacity:u,phase:ro[l]}},toFn(a,s,l){const c=s.translationY;let u=1;return"removed"===l&&(u=0),{y:0,translationY:c,opacity:u,finish:{y:c,translationY:0}}},intermediateFn:(a,s,l)=>({visible:!t(a.y)})},line:{fromFn(a,s){var l;return Pe(Q({},null!=(l=a.previousDatum)?l:s),{phase:ro.updated})},toFn:(a,s)=>Q({},s)},label:{fromFn(a,s,l){var c;const u=null!=(c=a.previousDatum)?c:s,d=u.x,h=u.y,p=u.rotationCenterX;let f=Math.round(a.translationY),m=u.rotation,g=a.opacity;return"removed"===l||t(u.y,u.range)||("added"===l||t(a.datum.y,a.datum.range))&&(f=Math.round(u.translationY),g=0,m=s.rotation),{x:d,y:h,rotationCenterX:p,translationY:f,rotation:m,opacity:g,phase:ro[l]}},toFn(a,s,l){var c,u;const d=s.x,h=s.y,p=s.rotationCenterX,f=Math.round(s.translationY);let m=0,g=1;return"added"===l?(g=1,m=s.rotation):"removed"===l?(g=0,m=s.rotation):m=function wje(n,t){return Math.abs(t-n)<bje?t:n>t?t+u1:t-u1}(null!=(u=null==(c=a.previousDatum)?void 0:c.rotation)?u:s.rotation,s.rotation),{x:d,y:h,rotationCenterX:p,translationY:f,rotation:m,opacity:g,finish:{rotation:s.rotation}}}},group:{fromFn(a,s){const{rotation:l,translationX:c,translationY:u}=a;return{rotation:l,translationX:c,translationY:u,phase:ro.updated}},toFn(a,s){const{rotation:l,translationX:c,translationY:u}=s;return{rotation:l,translationX:c,translationY:u}}}}}function cZ(){return(n,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function uZ(n){const{visible:t,min:e,max:i}=n;return(r,o)=>{const a=o.translationY;return{y:a,translationY:0,opacity:1,visible:t&&a>=e&&a<=i}}}function dZ(){return(n,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function hZ(){return(n,t)=>Q({},t)}var pZ=(n=>(n[n.TickLine=0]="TickLine",n[n.TickLabel=1]="TickLabel",n[n.GridLine=2]="GridLine",n[n.GridArc=3]="GridArc",n[n.AxisLine=4]="AxisLine",n))(pZ||{}),$p=class mie{constructor(t,e,i){let r;this.moduleCtx=t,this.scale=e,this.id=nc(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new $e({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new tr),this.tickLineGroup=this.axisGroup.appendChild(new $e({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new $e({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new $e({name:`${this.id}-CrossLines`}),this.gridGroup=new $e({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new $e({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=ji.select(this.tickLineGroup,tr,!1),this.tickLabelGroupSelection=ji.select(this.tickLabelGroup,ii,!1),this.gridLineGroupSelection=ji.select(this.gridLineGroup,tr,!1),this.line=new ub,this.tick=this.createTick(),this.gridLine=new gT,this.label=this.createLabel(),this.defaultTickMinSpacing=mie.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new qi,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new $X,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new sb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines),this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{null!=r&&null!=Ca(o.chart,r)&&this.animationState.transition("resize"),r=Q({},o.chart)})),!1!==i?.respondsToZoom&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return null!=(t=this.constructor.type)?t:""}set crossLines(t){var e,i;null==(e=this._crossLines)||e.forEach(r=>this.detachCrossLine(r)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,null==(i=this._crossLines)||i.forEach(r=>{this.attachCrossLine(r),this.initCrossLine(r)})}get crossLines(){return this._crossLines}resetAnimation(t){"initial"===t&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),null==(t=this.crossLines)||t.forEach(this.initCrossLine,this)}updateRange(){var t;const{range:e,visibleRange:i,scale:r}=this,o=(e[1]-e[0])/(i[1]-i[0]),s=e[0]-o*i[0];r.range=[s,s+o],null==(t=this.crossLines)||t.forEach(l=>{l.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,i=0){const[r,o]=gu(this.range);return t+e>=r-i&&t<=o+i}onLabelFormatChange(t,e){const{scale:i,fractionDigits:r}=this,a=!(i instanceof o1)&&r>0?s=>"number"==typeof s?s.toFixed(r):String(s):s=>String(s);if(e&&i&&i.tickFormat)try{this.labelFormatter=i.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=a,Me.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setTickInterval(t){var e;this.scale.interval=null!=(e=this.tick.interval)?e:t}setTickCount(t,e,i){const{scale:r}=this;if(t&&Si.is(r)){if("number"==typeof t)return r.tickCount=t,r.minTickCount=e??0,void(r.maxTickCount=i??1/0);r instanceof l1&&this.setTickInterval(t)}}onGridLengthChange(t,e){var i;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),null==(i=this.crossLines)||i.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new qs}createLabel(){return new Nn}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,e=!0){if(!this.tickGenerationResult)return;const{rotation:i,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:u,textAlign:d,primaryTickCount:h}=this.tickGenerationResult,p=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(s,l.ticks,{combinedRotation:c,textAlign:d,textBaseline:u,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(p,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:i,parallelFlipRotation:r,regularFlipRotation:o}),this.updateLayoutState(),h}getAxisLineCoordinates(){const[t,e]=gu(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const i=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,i);return{x1:r,x2:r+Math.abs(i),y:t.translationY}}getTickLabelProps(t,e){const{label:i}=this,{combinedRotation:r,textBaseline:o,textAlign:a,range:s}=e,l=t.tickLabel,u=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding);return{tickId:t.tickId,translationY:t.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:r,rotationCenterX:u,text:l,textAlign:a,textBaseline:o,visible:""!==l&&null!=l,x:u,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,e){var i;const{title:r}=this;if(r){if(t.color=r.color,t.fontFamily=r.fontFamily,t.fontSize=r.fontSize,t.fontStyle=r.fontStyle,t.fontWeight=r.fontWeight,t.enabled=r.enabled,t.wrapping=r.wrapping,r.enabled){const o=t.node,a=(null!=(i=r.spacing)?i:0)+e.spacing,s=this.label.getSideFlag(),l=gn(this.rotation),c=-1===s&&l>Math.PI&&l<2*Math.PI?-1:1,u=c*s*Math.PI/2,d=1===c?"bottom":"top",{range:h}=this,p=Math.floor(c*s*(h[0]+h[1])/2),f=Math.floor(-1===s?c*-a:-a),{callbackCache:m}=this.moduleCtx,{formatter:g=(y=>y.defaultValue)}=r,v=m.call(g,this.getTitleFormatterParams());o.setProperties({rotation:u,text:v,textBaseline:d,visible:!0,x:p,y:f})}}else t.enabled=!1}calculateLayout(t){var e,i;const{rotation:r,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),l=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:s}),this.updateLayoutState();const c=this.tickGenerationResult,{tickData:u,combinedRotation:d,textBaseline:h,textAlign:p}=c,f=Zn(c,["tickData","combinedRotation","textBaseline","textAlign"]),m=[],{x:g,y1:v,y2:y}=this.getAxisLineCoordinates(),_=new wt(g+Math.min(s*this.seriesAreaPadding,0),v,this.seriesAreaPadding,y-v);if(m.push(_),this.tick.enabled&&u.ticks.forEach(P=>{const{x1:I,x2:k,y:L}=this.getTickLineCoordinates(P),B=new wt(I,L,k-I,0);m.push(B)}),this.label.enabled){const P=new ii;u.ticks.forEach(I=>{const k=this.getTickLabelProps(I,{combinedRotation:d,textAlign:p,textBaseline:h,range:this.scale.range});if(!k.visible)return;P.setProperties(Pe(Q({},k),{translationY:Math.round(I.translationY)}));const L=P.computeTransformedBBox();L&&m.push(L)})}if(null!=(e=this.title)&&e.enabled){const P=new qi,I=wt.merge(m).width;this.setTitleProps(P,{spacing:I});const L=P.node.computeTransformedBBox();L&&m.push(L)}const E=(P=>{const I=new Ks,{rotation:k,translationX:L,translationY:B,rotationCenterX:Y,rotationCenterY:ne}=this.getAxisTransform();return Ks.updateTransformMatrix(I,1,1,k,L,B,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Y,rotationCenterY:ne}),I.transformBBox(P)})(wt.merge(m)),M=this.isAnySeriesActive();return null==(i=this.crossLines)||i.forEach(P=>{var I;P.sideFlag=-s,P.direction=r===-Math.PI/2?"x":"y",P instanceof r1&&(P.label.parallel=null!=(I=P.label.parallel)?I:this.label.parallel),P.parallelFlipRotation=o,P.regularFlipRotation=a,P.calculateLayout(M,this.reverse)}),{primaryTickCount:t=f.primaryTickCount,bbox:E}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;Si.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=Br(this.rotation);return{rotation:t,parallelFlipRotation:gn(t),regularFlipRotation:gn(t-Math.PI/2)}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:i,labelX:r,sideFlag:o}){var a;const{scale:s,tick:l,label:{parallel:c,rotation:u,fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f}}=this,m=void 0!==t,{defaultRotation:g,configuredRotation:v,parallelFlipFlag:y,regularFlipFlag:_}=hT({rotation:u,parallel:c,regularFlipRotation:i,parallelFlipRotation:e}),b=v+g,w=new Ks,{maxTickCount:E}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:null!=(a=l.maxSpacing)?a:NaN}),P=!Si.is(s)||isNaN(E)?10:E;let I=QN(c,v,0,o,_);const k=function UHe(n,t,e,i){return n&&!t?e*i==-1?"hanging":"bottom":"middle"}(c,v,o,y),L={fontFamily:d,fontSize:h,fontStyle:p,fontWeight:f,textBaseline:k,textAlign:I};let B={rawTicks:[],ticks:[],labelCount:0},Y=0,ne=0,fe=!0,W=!1;for(;fe&&Y<=P&&!W;){ne=0,I=QN(c,v,0,o,_);const X=this.getTickStrategies({secondaryAxis:m,index:Y});for(const ce of X){({tickData:B,index:Y,autoRotation:ne,terminate:W}=ce({index:Y,tickData:B,textProps:L,labelOverlap:fe,terminate:W,primaryTickCount:t}));const Ee=0!==v||0!==ne,ke=b+ne;I=QN(c,v,ne,o,_),fe=this.checkLabelOverlap(ke,Ee,w,B.ticks,r,Pe(Q({},L),{textAlign:I}))}}return!m&&B.rawTicks.length>0&&(t=B.rawTicks.length),{tickData:B,primaryTickCount:t,combinedRotation:g+v+ne,textBaseline:k,textAlign:I}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:i,label:r,tick:o}=this,a=Si.is(i),s=r.enabled&&r.avoidCollisions,c=!0===r.autoRotate&&void 0===r.rotation,u=[];let d;return d=this.tick.values?3:e?1:!a&&0!==t&&s?2:0,u.push(({index:p,tickData:f,primaryTickCount:m,terminate:g})=>this.createTickData(d,p,f,g,m)),a||isNaN(o.minSpacing)||u.push(({index:f,tickData:m,primaryTickCount:g,terminate:v})=>this.createTickData(2,f,m,v,g)),s?(r.autoWrap?u.push(({index:f,tickData:m,textProps:g})=>this.wrapLabels(m,f,g)):c&&u.push(({index:f,tickData:m,labelOverlap:g,terminate:v})=>({index:f,tickData:m,autoRotation:this.getAutoRotation(g),terminate:v})),u):u}createTickData(t,e,i,r,o){var a;const{scale:s,tick:l}=this,{maxTickCount:c,minTickCount:u,defaultTickCount:d}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:null!=(a=l.maxSpacing)?a:NaN}),h=Si.is(s),p=!h||isNaN(c)?10:c;let f=h?Math.max(d-e,u):c;const m=void 0===l.interval&&void 0===l.values&&f>u&&(h||2===t);let g=!0;for(;g&&e<=p;){const y=i.rawTicks;f=h?Math.max(d-e,u):c;const{rawTicks:_,ticks:b,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:y,tickCount:f,minTickCount:u,maxTickCount:c,primaryTickCount:o});i.rawTicks=_,i.ticks=b,i.labelCount=w,g=!!m&&vje(_,y),e++}return r||(r=void 0!==l.interval||void 0!==l.values),{tickData:i,index:e,autoRotation:0,terminate:r}}checkLabelOverlap(t,e,i,r,o,a){Ks.updateTransformMatrix(i,1,1,t,0,0);const s=this.createLabelData(r,o,a,i),l=function jHe(n,t){return isNaN(n)?t?0:10:n}(this.label.minSpacing,e);return function gje(n,t){const e=[];for(let i=0;i<n.length;i++){const r=n[i],{point:{x:o,y:a},label:{text:s}}=r;let{label:{width:l,height:c}}=r;if(l+=t??0,c+=t??0,e.some(d=>sZ(d,o,a,l,c)))return!0;e.push({index:i,text:s,x:o,y:a,width:l,height:c,datum:r})}return!1}(s,l)}createLabelData(t,e,i,r){const o=[];for(const a of t){const{tickLabel:s,translationY:l}=a;if(""===s||null==s)continue;const c=AX(s),{width:u,height:d}=VHe(c,e,l,i),p=zHe(s,new wt(e,l,u,d),e,l,r);o.push(p)}return o}getAutoRotation(t){var e;return t?gn(Br(null!=(e=this.label.autoRotateAngle)?e:0)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:i,minTickCount:r,maxTickCount:o,primaryTickCount:a}){var s;const{range:l,scale:c,visibleRange:u}=this;let d;switch(t){case 3:if(Si.is(c)){const y=c.getDomain(),_=c.fromDomain(y[0]),b=c.fromDomain(y[1]),w=Math.min(_,b),E=Math.max(_,b);d=this.tick.values.filter(M=>M>=w&&M<=E).sort((M,P)=>M-P)}else d=this.tick.values;break;case 1:d=this.updateSecondaryAxisTicks(a);break;case 2:d=this.filterTicks(e,i);break;default:d=this.createTicks(i,r,o)}this.fractionDigits=d.fractionDigits>=0?d.fractionDigits:0,this.onLabelFormatChange(d,this.label.format);const h=(null!=(s=c.bandwidth)?s:0)/2,p=[];let f=0;const m=new Map,g=Math.max(0,Math.floor(u[0]*d.length)),v=Math.min(d.length,Math.ceil(u[1]*d.length));for(let y=g;y<v;y++){const _=d[y],b=c.convert(_)+h;if(l.length>0&&!this.inRange(b,0,.001))continue;const w=this.formatTick(_,y);let E=w;if(m.has(E)){const M=m.get(E);m.set(E,M+1),E=`${E}_${M}`}else m.set(E,1);p.push({tick:_,tickId:E,tickLabel:w,translationY:b}),""!==w&&null!=w&&f++}return{rawTicks:d,ticks:p,labelCount:f}}filterTicks(t,e){var i;const o=isNaN(this.tick.minSpacing)&&isNaN(null!=(i=this.tick.maxSpacing)?i:NaN)?2:Math.ceil(t.length/e);return t.filter((a,s)=>s%o==0)}createTicks(t,e,i){var r,o,a;return this.setTickCount(t,e,i),null!=(a=null==(o=(r=this.scale).ticks)?void 0:o.call(r))?a:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const{minRect:i}=this,r=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,r/Si.defaultMaxTickCount);let a=!isNaN(e);isNaN(t)&&(t=o),isNaN(e)&&(e=r),t>e&&(t===o?t=e:e=t);const s=i?"x"===this.direction?i.width:i.height:1;a&&(a=s<o);const l=ti(1,Math.floor(r/t),a?Math.floor(r/s):1/0),c=Math.min(l,Math.ceil(r/e));return{minTickCount:c,maxTickCount:l,defaultTickCount:ti(c,Si.defaultTickCount,l)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:i}){var r;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();null==(r=this.crossLines)||r.forEach(s=>{var l;s.sideFlag=-o,s.direction=t===-Math.PI/2?"x":"y",s instanceof r1&&(s.label.parallel=null!=(l=s.label.parallel)?l:this.label.parallel),s.parallelFlipRotation=e,s.regularFlipRotation=i,s.update(a)})}updateTickLines(){const{tick:t,label:e}=this,i=e.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=t.width,r.stroke=t.color,r.x1=i*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return Og(this.range)}calculateRangeWithBleed(){const t=1/Og(this.visibleRange);return IN(this.calculateAvailableRange()*t,2)}calculateDomain(){const e=this.boundSeries.filter(i=>this.includeInvisibleDomains||i.isEnabled()).flatMap(i=>i.getDomain(this.direction));this.setDomain(e)}getAxisTransform(){return{rotation:Br(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:i,translation:r,gridLineGroupSelection:o,gridPadding:a,gridLength:s}=this,{rotation:l}=this.calculateRotations(),c=this.label.getSideFlag(),u=Math.floor(r.x),d=Math.floor(r.y);t.setProperties({rotation:l,translationX:u,translationY:d}),i.setProperties({rotation:l,translationX:u,translationY:d}),e.datum=this.getAxisTransform(),o.each(h=>{h.x1=a,h.x2=-c*s+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,i){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],r=>r.append(new tr({tag:2})),r=>r.tickId),this.tickLineGroupSelection.update(e,r=>r.appendChild(new tr({tag:0})),r=>r.tickId),this.tickLabelGroupSelection.update(e.map(r=>this.getTickLabelProps(r,i)),r=>r.appendChild(new ii({tag:1})),r=>r.tickId)}updateAxisLine(){const{line:t}=this;this.lineNode.setProperties({stroke:t.color,strokeWidth:t.enabled?t.width:0})}updateGridLines(t){const{gridLine:{style:e,width:i},gridPadding:r,gridLength:o}=this;0===o||0===e.length||this.gridLineGroupSelection.each((a,s,l)=>{const{stroke:c,lineDash:u}=e[l%e.length];a.setProperties({x1:r,x2:-t*o+r,fill:void 0,stroke:c,strokeWidth:i,lineDash:u})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((e,i)=>{e.setProperties(i,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,e,i){const{parallel:r,maxWidth:o,maxHeight:a}=this.label;let s=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return r&&([s,l]=[l,s]),t.ticks.forEach(c=>{const{text:u}=ii.wrap(c.tickLabel,o??s,a??l,i,"hyphenate");c.tickLabel=u}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:i,_titleCaption:r,lineNode:o,tickLineGroup:a,tickLabelGroup:s}=this;if(!i)return void(r.enabled=!1);let l=0;if(i.enabled&&t.anyTickVisible){const c=$e.computeBBox([a,s,o]);l+=(0===e?c.width:c.height)+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(r,{spacing:l})}formatTick(t,e){var i,r;const{label:o,labelFormatter:a,fractionDigits:s,moduleCtx:{callbackCache:l}}=this;if(o.formatter){const c=s>0?t:String(t);return null!=(i=l.call(o.formatter,{value:c,index:e,fractionDigits:s,formatter:a}))?i:c}return a&&null!=(r=l.call(a,t))?r:String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,i,r){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new wt(t,e,i,r))}clipGrid(t,e,i,r){this.gridGroup.setClipRectInGroupCoordinateSpace(new wt(t,e,i,r))}calculatePadding(t,e,i){const r=.01*Math.abs(i?e:t);return[r,r]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((i,r)=>{const o=r.getKeys(this.direction),a=r.getNames(this.direction);for(let s=0;s<o.length;s++)i.push({key:o[s],name:a[s]});return i},[]);return{direction:this.direction,boundSeries:e,defaultValue:null==(t=this.title)?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return Q({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return null!=this.axisContext||(this.axisContext=this.createAxisContext()),Pe(Q({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Si.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var e,i;return null==(i=(e=this.scale).tickFormat)?void 0:i.call(e,{specifier:t})},scaleBandwidth:()=>{var t;return null!=(t=this.scale.bandwidth)?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var e,i;return null==(i=(e=this.scale).invert)?void 0:i.call(e,t)}}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,r=lZ(c1(this));Hi(this.id,"axis-group",e,[this.axisGroup],r.group),Hi(this.id,"line",e,[this.lineNode],r.line),Hi(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,a)=>a.tickId,t),Hi(this.id,"tick-labels",e,[this.tickLabelGroupSelection],r.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:i,lineNode:r}=this,o=c1(this);er([this.axisGroup],(n,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})),er([t,e],uZ(o)),er([i],(n,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})),er([r],hZ())}calculateUpdateDiff(t,e){const i=new Set,r=new Set,o=Math.max(t.length,e.ticks.length);for(let a=0;a<o;a++){const s=e.ticks[a],l=t[a],c=s?.tickId;l!==c&&(r.has(c)?r.delete(c):c&&i.add(c),i.has(l)?i.delete(l):l&&r.add(l))}return{changed:i.size>0||r.size>0,added:Array.from(i.values()),removed:Array.from(r.values())}}isReversed(){return this.reverse}};$p.defaultTickMinSpacing=50,S([R(rt)],$p.prototype,"nice",2),S([R(rt)],$p.prototype,"reverse",2),S([R(yX)],$p.prototype,"keys",2),S([R(wi(n=>"object"==typeof n,"Title object"),{optional:!0})],$p.prototype,"title",2),S([Ig((n,t,e)=>n.onGridLengthChange(t,e))],$p.prototype,"gridLength",2);var d1=$p,h1=class extends Nn{constructor(){super(...arguments),this.autoRotateAngle=335}};S([R(rt,{optional:!0})],h1.prototype,"autoRotate",2),S([R(Ud)],h1.prototype,"autoRotateAngle",2);var p1=class gie extends d1{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof gie}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return Pe(Q({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){PX(t,r1)}createLabel(){return new h1}};S([R(Ce)],p1.prototype,"thickness",2),S([R($N)],p1.prototype,"position",2);var db=p1,wu=class extends db{constructor(n){super(n,new sc),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(n){this._paddingOverrideEnabled=!0,this.scale.paddingInner=n}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(n){this.scale.paddingOuter=n}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(n){const t=[],e=new Set;for(const i of n){const r=i instanceof Date?i.getTime():i;e.has(r)||(e.add(r),t.push(i))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const n=this.boundSeries.map(t=>{var e;return null==(e=t.getBandScalePadding)?void 0:e.call(t)}).filter(t=>null!=t);n.length>0&&(this.scale.paddingInner=Math.min(...n.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...n.map(t=>t.outer)))}return super.calculateDomain()}};wu.className="CategoryAxis",wu.type="category",S([R(di)],wu.prototype,"groupPaddingInner",2);var fZ=class{constructor(n="",t,e=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=n,this.parent=t,this.depth=t?t.depth+1:0,this.number=e}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((n,t)=>t!==this.number):[]}};function Eje(n,t,e){const r=e/(t.number-n.number);t.change-=r,t.shift+=e,n.change+=r,t.prelim+=e,t.mod+=e}function Dje(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function mZ(n,t){const e=n.children;if(e.length){let i=e[0];e.forEach(a=>{mZ(a,t),i=function Mje(n,t,e){const i=n.getLeftSibling();if(i){let r=n,o=n,a=i,s=o.getLeftmostSibling(),l=o.mod,c=r.mod,u=a.mod,d=s.mod;for(;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),r=r.nextRight(),r.ancestor=n;const h=a.prelim+u-(o.prelim+l)+e;h>0&&(Eje(Dje(a,n,t),n,h),l+=h,c+=h),u+=a.mod,l+=o.mod,d+=s.mod,c+=r.mod}a.nextRight()&&!r.nextRight()?(r.thread=a.nextRight(),r.mod+=u-c):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=n)}return t}(a,i,t)}),function Tje(n){const t=n.children;if(t){let e=0,i=0;for(let r=t.length-1;r>=0;r--){const o=t[r];o.prelim+=e,o.mod+=e,i+=o.change,e+=o.shift+i}}}(n);const r=(e[0].prelim+e.at(-1).prelim)/2,o=n.getLeftSibling();o?(n.prelim=o.prelim+t,n.mod=n.prelim-r):n.prelim=r}else{const i=n.getLeftSibling();n.prelim=i?i.prelim+t:0}}var gZ=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(n,t){const{x:e,y:i}=t(n);e>this.right&&(this.right=e),e<this.left&&(this.left=e),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)}};function vZ(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(i=>vZ(i,t+n.mod,e))}function yZ(n){const t=n.children;let e=0;t.forEach(i=>{yZ(i),i.children.length?e+=i.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function Aje(n){const t=new Oje;return mZ(n,1),vZ(n,-n.prelim,t),yZ(n),t}var Oje=class{constructor(){this.dimensions=new gZ,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(n){this.dimensions.update(n,t=>({x:t.x,y:t.y})),n.children.length?this.nonLeafNodes.push(n):(this.leafCount++,this.leafNodes.push(n)),n.depth>this.depth&&(this.depth=n.depth),this.nodes.push(n)}resize(n,t,e=0,i=0,r=!1){const o=this.leafCount-1,a=this.depth,s=this.dimensions;let l=1,c=1;n>0&&o&&(l=n/o/((s.right-s.left)/o),r&&(l=-l)),t>0&&a&&(c=t/a/((s.bottom-s.top)/a));const u=new gZ;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,u.update(p,f=>({x:f.screenX,y:f.screenY}))});const d=-u.left,h=-u.top;this.nodes.forEach(p=>{p.screenX+=d+e,p.screenY+=h+i})}},_Z=class extends Nn{constructor(){super(...arguments),this.grid=!1}};S([R(rt)],_Z.prototype,"grid",2);var Yd=class extends db{constructor(n){super(n,new sc),this.tickScale=new sc,this.line=new ub,this.label=new _Z,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:e,gridLineGroup:i,tickScale:r,scale:o}=this;o.paddingOuter=.1,o.paddingInner=2*o.paddingOuter,this.refreshScale(),r.paddingInner=1,r.paddingOuter=0,this.gridLineSelection=ji.select(i,tr),this.axisLineSelection=ji.select(t,tr),this.separatorSelection=ji.select(t,tr),this.labelSelection=ji.select(e,ii)}updateRange(){const{range:n,visibleRange:t,scale:e}=this,i=(n[1]-n[0])/(t[1]-t[0]),o=n[0]-i*t[0];this.tickScale.range=e.range=[o,o+i],this.resizeTickTree()}resizeTickTree(){var n;const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,r=this.lineHeight;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*r,(Math.min(e[0],e[1])||0)+(null!=(n=t.bandwidth)?n:0)/2,-i.depth*r,e[1]-e[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var n;const{direction:t}=this;let e=null;const i=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if("y"===t||e)return o.getDomain(t);if(null===e){const a=o.getDomain(t);return e=Hs(a[0]),a}return[]});this.setDomain(null!=(n=ic(i))?n:TN(i));const{domain:r}=this.dataDomain;this.tickTreeLayout=Aje(function Sje(n,t=!0){const e=new fZ;let i=0;return t&&n.forEach(r=>i=Math.max(i,r.labels.length)),n.forEach(r=>{if(t)for(;r.labels.length<i;)r.labels.unshift("");!function xje(n,t){const e=t.labels.slice().reverse(),i=e.length-1;e.forEach((r,o)=>{const a=n.children,s=a.find(c=>c.label===r),l=o!==i;if(s&&l)n=s;else{const c=new fZ(r,n);c.number=a.length,a.push(c),l&&(n=c)}})}(e,r)}),e}(r)),this.tickScale.domain=r.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:n}=this;n.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:n}=this.computedLayout;this.labelSelection.update(n).each((e,i)=>{e.setProperties(i)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:n}=this.computedLayout,{range:t}=this;this.separatorSelection.update(n).each((r,o)=>{r.x1=o.x1,r.x2=o.x2,r.y1=o.y,r.y2=o.y,r.visible=o.y>=t[0]-1e-7&&o.y<=t[1]+1e-7,r.stroke=this.tick.color,r.fill=void 0,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:n}=this.computedLayout;this.axisLineSelection.update(n).each((e,i)=>{e.setProperties(Pe(Q({},i),{stroke:this.line.color,strokeWidth:this.line.width})),e.x1=i.x,e.x2=i.x,e.y1=i.y1,e.y2=i.y2,e.strokeWidth=this.line.width,e.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:n,gridLine:t,label:e,range:i,tickScale:r}=this,o=r.ticks(),a=e.getSideFlag(),s=this.gridLineSelection.update(n?o:[]);if(n){const{width:l,style:c}=t,u=c.length;s.each((d,h,p)=>{const f=Math.round(r.convert(h));d.x1=0,d.x2=-a*n,d.y1=f,d.y2=f,d.visible=f>=i[0]&&f<=i[1];const{stroke:m,lineDash:g}=c[p%u];d.stroke=m,d.strokeWidth=l,d.lineDash=g,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:n,label:t,label:{parallel:e},moduleCtx:{callbackCache:i},range:r,title:o,title:{formatter:a=(Ie=>Ie.defaultValue)}={}}=this,s=n.range[0],l=n.range[1],u=Math.abs(l-s)/n.domain.length||0,d=Math.ceil(t.fontSize/u),h=Br(this.rotation),p=Math.abs(Math.cos(h))<1e-8,f=t.getSideFlag(),m=this.lineHeight,g=this.tickTreeLayout,v=n.ticks(),y=g?g.nodes:[],_=!!g&&g.depth>1,{defaultRotation:b,configuredRotation:w,parallelFlipFlag:E}=hT({rotation:t.rotation,parallel:e,regularFlipRotation:gn(h-Math.PI/2),parallelFlipRotation:gn(h)}),M=[],I=new Map;let k=0;const L=new ii,B=(Ie,Je)=>{var Kt;if(L.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===E?"bottom":"hanging",translationX:Ie.screenY-.25*t.fontSize,translationY:Ie.screenX}),0===Je){if(!(o?.enabled&&v.length>0))return!1;const zi=i.call(a,this.getTitleFormatterParams());L.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:zi,textBaseline:"hanging",translationX:Ie.screenY-.25*t.fontSize,translationY:Ie.screenX})}else{if(Je%d!=0)return!1;if(!(Ie.screenX>=r[0]&&Ie.screenX<=r[1]))return!1;L.text=t.formatter&&null!=(Kt=i.call(t.formatter,{value:String(Ie.label),index:Je}))?Kt:String(Ie.label)}return!0};y.forEach((Ie,Je)=>{if(!B(Ie,Je))return;const Ht=L.computeTransformedBBox();Ht&&(I.set(Je,Ht),!Ie.children.length&&Ht.width>k&&(k=Ht.width))});const Y=f*t.padding,ne=this.label.grid,fe=[];y.forEach((Ie,Je)=>{let Kt=B(Ie,Je);const Ht=Je;L.x=Y,L.rotationCenterX=Y;const zi=!Ie.children.length;if(zi)L.rotation=w,L.textAlign="end",L.textBaseline="middle";else{L.translationX-=k-m+this.label.padding;const pr=Ie.leafCount*u,Wo=I.get(Ht);Wo&&Wo.width>pr?(Kt=!1,I.delete(Ht)):L.rotation=p?b:-Math.PI/2}if(Ie.parent&&_){const pr=zi?Ie.screenX-u/2:Ie.screenX-Ie.leafCount*u/2;if(zi)(Ie.number!==Ie.children.length-1||ne)&&fe.push({y:pr,x1:0,x2:-k-2*this.label.padding});else{const Wo=-k-2*this.label.padding+Ie.screenY;fe.push({y:pr,x1:Wo+m,x2:Wo})}}let Wr;if(Kt){const pr=L.computeTransformedBBox();pr&&I.set(Je,pr),Wr=Pe(Q({},(Ie=>({fill:Ie.fill,fontFamily:Ie.fontFamily,fontSize:Ie.fontSize,fontStyle:Ie.fontStyle,fontWeight:Ie.fontWeight,rotation:Ie.rotation,rotationCenterX:Ie.rotationCenterX,rotationCenterY:Ie.rotationCenterY,text:Ie.text,textAlign:Ie.textAlign,textBaseline:Ie.textBaseline,translationX:Ie.translationX,translationY:Ie.translationY,visible:Ie.visible,x:Ie.x,y:Ie.y}))(L)),{visible:Kt})}else I.delete(Je),Wr={visible:Kt};M.push(Wr)});let W=0;fe.forEach(Ie=>W=Math.min(W,Ie.x2)),fe.push({y:Math.max(s,l),x1:0,x2:W});const $=[],X=[];fe.forEach(Ie=>{if(Ie.y>=r[0]-1e-7&&Ie.y<=r[1]+1e-7){const{x1:Je,x2:Kt,y:Ht}=Ie,zi=new wt(Math.min(Je,Kt),Ht,Math.abs(Je-Kt),0);X.push(zi),$.push({x1:Je,x2:Kt,y:Ht})}});const Ee=[],ke=[],Ae=g?g.depth+1:1;for(let Ie=0;Ie<Ae;Ie++){const Je=v.length>0&&(0===Ie||ne&&_),Kt=Ie>0?-k-2*this.label.padding-(Ie-1)*m:0,Ht=new wt(Kt,Math.min(...r),0,Math.abs(r[1]-r[0]));ke.push(Ht),Ee.push({x:Kt,y1:r[0],y2:r[1],visible:Je})}return{bbox:(Ie=>{const Je=new Ks,{rotation:Kt,translationX:Ht,translationY:zi,rotationCenterX:Wr,rotationCenterY:pr}=this.getAxisTransform();return Ks.updateTransformMatrix(Je,1,1,Kt,Ht,zi,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:Wr,rotationCenterY:pr}),Je.transformBBox(Ie)})(wt.merge([...I.values(),...X,...ke])),tickLabelLayout:M,separatorLayout:$,axisLineLayout:Ee}}calculateLayout(){const{axisLineLayout:n,separatorLayout:t,tickLabelLayout:e,bbox:i}=this.computeLayout();return this.computedLayout={axisLineLayout:n,separatorLayout:t,tickLabelLayout:e},{bbox:i,primaryTickCount:void 0}}};Yd.className="GroupedCategoryAxis",Yd.type="grouped-category",S([R(qt,{optional:!0})],Yd.prototype,"labelColor",2);var CZ=class{constructor({width:n=600,height:t=300,overrideDevicePixelRatio:e}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(e),this.resize(n,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&null!=OffscreenCanvas.prototype.transferToImageBitmap}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(n){let t=n??window.devicePixelRatio;return EX()&&(t=1),this._pixelRatio=t,ln.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(n,t){if(!(n>0&&t>0))return;const{canvas:e,context:i,pixelRatio:r}=this;e.width=Math.round(n*r),e.height=Math.round(t*r),i.resetTransform(),this._width=n,this._height=t}},f1="adv-composite",m1="dom-composite",g1=class{constructor(n){var t;this.id=nc(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=sn.create(!0,"scene");const{document:e,window:i,mode:r=(null!=(t=ON("agChartsSceneRenderModel"))?t:f1),width:o,height:a,overrideDevicePixelRatio:s}=n;this.overrideDevicePixelRatio=s,this.opts={document:e,window:i,mode:r},this.canvas=new ln({document:e,window:i,width:o,height:a,overrideDevicePixelRatio:s})}set container(n){this.canvas.container=n}get container(){return this.canvas.container}download(n,t){this.canvas.download(n,t)}getDataURL(n){return this.canvas.getDataURL(n)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(n,t){n=Math.round(n),t=Math.round(t);const e=n<=0||t<=0,i=isNaN(n)||isNaN(t);return!(n===this.width&&t===this.height||i||e||(this.pendingSize=[n,t],this.markDirty(),0))}addLayer(n){var t;const{mode:e}=this.opts;if(!["composite",m1,f1].includes(e))return;const{zIndex:r=this._nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:s,getVisibility:l}=n,{width:c,height:u,overrideDevicePixelRatio:d}=this,h=e===m1,f=e===f1&&CZ.isSupported()?new CZ({width:c,height:u,overrideDevicePixelRatio:d}):new ln({document:this.opts.document,window:this.opts.window,width:c,height:u,domLayer:h,zIndex:r,name:o,overrideDevicePixelRatio:d}),m={id:this._nextLayerId++,name:o,zIndex:r,zIndexSubOrder:a,canvas:f,getComputedOpacity:s,getVisibility:l};if(r>=this._nextZIndex&&(this._nextZIndex=r+1),this.layers.push(m),this.sortLayers(),h){const g=this.layers.map(_=>_.canvas).filter(_=>_ instanceof ln),v=g.findIndex(_=>_===f);(null!=(t=g[v-1])?t:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug("Scene.addLayer() - layers",this.layers),m.canvas}removeLayer(n){const t=this.layers.findIndex(e=>e.canvas===n);t>=0&&(this.layers.splice(t,1),n.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(n,t,e){const i=this.layers.find(r=>r.canvas===n);i&&(i.zIndex=t,i.zIndexSubOrder=e,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((n,t)=>{var e,i;return kX([n.zIndex,...null!=(e=n.zIndexSubOrder)?e:[void 0,void 0],n.id],[t.zIndex,...null!=(i=t.zIndexSubOrder)?i:[void 0,void 0],t.id],FX)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(n){var t;n!==this._root&&(null==(t=this._root)||t._setLayerManager(),this._root=n,n&&n._setLayerManager({addLayer:e=>this.addLayer(e),moveLayer:(...e)=>this.moveLayer(...e),removeLayer:(...e)=>this.removeLayer(...e),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:sn.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:n}=this;for(const t of n)t.canvas.destroy(),delete t.canvas;n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(n){return he(this,null,function*(){var t,e;const{debugSplitTimes:i={start:performance.now()},extraDebugStats:r={}}=n??{},{canvas:o,canvas:{context:a},root:s,layers:l,pendingSize:c,opts:{mode:u}}=this;if(c&&(this.canvas.resize(...c),this.layers.forEach(p=>p.canvas.resize(...c)),this.pendingSize=void 0),s&&!s.visible)return void(this._dirty=!1);if(s&&!this.dirty)return this.debug("Scene.render() - no-op",{redrawType:jd[s.dirty],tree:this.buildTree(s)}),void this.debugStats(i,a,void 0,r);const d={ctx:a,devicePixelRatio:null!=(t=this.canvas.pixelRatio)?t:1,forceRender:!0,resized:!!c,debugNodes:{}};sn.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let h=!1;if((!s||s.dirty>=1)&&(h=!0,o.clear()),s&&sn.check("scene:dirtyTree")){const{dirtyTree:p,paths:f}=this.buildDirtyTree(s);sn.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:p,paths:f})}s&&h&&(this.debug("Scene.render() - before",{redrawType:jd[s.dirty],canvasCleared:h,tree:this.buildTree(s)}),s.visible&&(a.save(),s.render(d),a.restore())),i["\u270d\ufe0f"]=performance.now(),u!==m1&&l.length>0&&h&&(this.sortLayers(),a.save(),a.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:p,enabled:f},getComputedOpacity:m,getVisibility:g})=>{!f||!g()||(a.globalAlpha=m(),a.drawImage(p,0,0))}),a.restore(),i["\u26d9"]=performance.now()),null==(e=a.verifyDepthZero)||e.call(a),this._dirty=!1,this.debugStats(i,a,d.stats,r),this.debugSceneNodeHighlight(a,d.debugNodes),s&&this.debug("Scene.render() - after",{redrawType:jd[s.dirty],canvasCleared:h,tree:this.buildTree(s)})})}debugStats(n,t,e,i={}){if(sn.check("scene:stats","scene:stats:verbose")){const r=performance.now(),o=n.start;n.end=performance.now();const a=(w,E)=>{const M=w+E;return`${w} / ${M} (${Math.round(100*w/M)}%)`},s=(w,E,M)=>`${w}: ${Math.round(100*(M-E))/100}ms`,{layersRendered:l=0,layersSkipped:c=0,nodesRendered:u=0,nodesSkipped:d=0}=e??{};let h=0;const p=Object.entries(n).filter(([w])=>"end"!==w).map(([w,E],M)=>{const P=M>0?s(w,h,E):null;return h=E,P}).filter(w=>null!=w).join(" + "),f=Object.entries(i).map(([w,E])=>`${w}: ${E}`).join(" ; "),m=sn.check("scene:stats:verbose"),v=[`${s("\u23f1\ufe0f",o,r)} (${p})`,`${f}`,`Layers: ${m?a(l,c):this.layers.length}`,m?`Nodes: ${a(u,d)}`:null].filter(w=>null!=w).map(w=>[w,ln.getTextSize(w,t.font)]),y=Math.max(...v.map(([,{width:w}])=>w)),_=v.reduce((w,[,{height:E}])=>w+E,0);t.save(),t.fillStyle="white",t.fillRect(0,0,y,_),t.fillStyle="black";let b=0;for(const[w,E]of v)b+=E.height,t.fillText(w,2,b);t.restore()}}debugSceneNodeHighlight(n,t){var e;const i=a=>s=>!!a.test(s.id)||s instanceof $e&&null!=s.name&&a.test(s.name),r=a=>s=>a===s.id||s instanceof $e&&null!=s.name&&a===s.name,o=JD(ON("agChartsSceneDebug")).flatMap(a=>"layout"===a?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of o){if("string"==typeof a&&null!=t[a])continue;const s="string"==typeof a?r(a):i(a),l=null==(e=this.root)?void 0:e.findNodes(s);if(l&&0!==l.length)for(const c of l)c instanceof $e&&c.name?t[c.name]=c:t[c.id]=c;else Me.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`)}n.save();for(const[a,s]of Object.entries(t)){const l=s.computeTransformedBBox();l?(n.globalAlpha=.8,n.strokeStyle="red",n.lineWidth=1,n.strokeRect(l.x,l.y,l.width,l.height),n.fillStyle="red",n.strokeStyle="white",n.font="16px sans-serif",n.textBaseline="top",n.textAlign="left",n.lineWidth=2,n.strokeText(a,l.x,l.y,l.width),n.fillText(a,l.x,l.y,l.width)):Me.log(`Scene.render() - no bbox for debugged node [${a}].`)}n.restore()}buildTree(n){var t,e;const i=null!=(t=n instanceof $e?n.name:null)?t:n.id;return this.debug.check()?Q(Q({name:i,node:n,dirty:jd[n.dirty]},null!=(e=n.parent)&&e.isVirtual?{virtualParentDirty:jd[n.parent.dirty],virtualParent:n.parent}:{}),n.children.map(r=>this.buildTree(r)).reduce((r,o)=>{let{name:a}=o;const{node:{visible:s,opacity:l,zIndex:c,zIndexSubOrder:u},node:d,virtualParent:h}=o;(!s||l<=0)&&(a=`(${a})`),d instanceof $e&&d.isLayer()&&(a=`*${a}*`);const p=[`${a??"<unknown>"}`,`z: ${c}`,u&&`zo: ${u.map(g=>"function"==typeof g?`${g()} (fn)`:g).join(" / ")}`,h&&"(virtual parent)"].filter(g=>!!g).join(" ");let f=p,m=1;for(;null!=r[f]&&m<100;)f=`${p} (${m++})`;return r[f]=o,r},{})):{}}buildDirtyTree(n){var t;if(0===n.dirty)return{dirtyTree:{},paths:[]};const e=n.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),i=null!=(t=n instanceof $e?n.name:null)?t:n.id,r=0===e.length?[i]:e.map(o=>o.paths).reduce((o,a)=>o.concat(a),[]).map(o=>`${i}.${o}`);return{dirtyTree:Q({name:i,node:n,dirty:jd[n.dirty]},e.map(o=>o.dirtyTree).filter(o=>void 0!==o.dirty).reduce((o,a)=>{var s;return o[null!=(s=a.name)?s:"<unknown>"]=a,o},{})),paths:r}}};function Rje(n){return new Promise(t=>{setTimeout(()=>t(void 0),n)})}g1.className="Scene";var bZ=class{constructor(){this.eventListeners=new Map}addEventListener(n,t){if("function"!=typeof t)throw new Error("AG Charts - listener must be a Function");const e=this.eventListeners.get(n);e?e.add(t):this.eventListeners.set(n,new Set([t]))}removeEventListener(n,t){var e;null==(e=this.eventListeners.get(n))||e.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(n)}hasEventListener(n){return this.eventListeners.has(n)}clearEventListeners(){this.eventListeners.clear()}fireEvent(n){var t;null==(t=this.eventListeners.get(n.type))||t.forEach(e=>e(n))}},qd=class extends bi{constructor(n=0,t=n,e=n,i=t){super(),this.top=n,this.right=t,this.bottom=e,this.left=i}clear(){this.top=this.right=this.bottom=this.left=0}};function wZ(n,t){let r,o,e=0,i=!1;const a=()=>i,s=()=>{i=!1,o?.(),o=void 0,r=void 0,e>0&&n(l)},l=()=>{const c=e;e=0,i=!0;const u=t({count:c});u?u.then(s,s):s()};return{schedule(c){0===e&&!a()&&n(l,c),e++},await(){return he(this,null,function*(){if(a())for(null==r&&(r=new Promise(c=>{o=c}));a();)yield r})}}}S([R(Ce)],qd.prototype,"top",2),S([R(Ce)],qd.prototype,"right",2),S([R(Ce)],qd.prototype,"bottom",2),S([R(Ce)],qd.prototype,"left",2);var ss=class{static init(t){if(typeof ResizeObserver>"u")for(const[e,i]of this.elements)this.checkClientSize(e,i);else this.resizeObserver=new ResizeObserver(e=>{for(const i of e){const{width:r,height:o}=i.contentRect;this.checkSize(this.elements.get(i.target),i.target,r,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady="loading"!==t.readyState,this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,e;null==(t=this.ownerDocument)||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),null==(e=this.resizeObserver)||e.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,e,i,r){var o,a;t&&(i!==(null==(o=t.size)?void 0:o.width)||r!==(null==(a=t.size)?void 0:a.height))&&(t.size={width:i,height:r},t.cb(t.size,e))}static observe(t,e){var i;this.ready||this.init(t.ownerDocument),this.documentReady?(this.elements.has(t)?this.removeFromQueue(t):null==(i=this.resizeObserver)||i.observe(t),this.elements.set(t,{cb:e})):this.queuedObserveRequests.push([t,e])}static unobserve(t){var e;null==(e=this.resizeObserver)||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}static checkClientSize(t,e){var i,r;const o=null!=(i=t.clientWidth)?i:0,a=null!=(r=t.clientHeight)?r:0;this.checkSize(e,t,o,a)}};ss.elements=new Map,ss.ready=!1,ss.documentReady=!1,ss.queuedObserveRequests=[],ss.onContentLoaded=()=>{var n;const t="loading"!==(null==(n=ss.ownerDocument)?void 0:n.readyState),e=ss.documentReady;ss.documentReady=t,t&&t!==e&&(ss.queuedObserveRequests.forEach(([i,r])=>ss.observe(i,r)),ss.queuedObserveRequests=[])};var SZ=ss,xZ=class{constructor(){this.range="tooltip"}};S([R(vn(["tooltip","node"],"a range"))],xZ.prototype,"range",2);var hb=(n=>(n[n.FULL=0]="FULL",n[n.UPDATE_DATA=1]="UPDATE_DATA",n[n.PROCESS_DATA=2]="PROCESS_DATA",n[n.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",n[n.SERIES_UPDATE=4]="SERIES_UPDATE",n[n.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",n[n.SCENE_RENDER=6]="SCENE_RENDER",n[n.NONE=7]="NONE",n))(hb||{}),v1=class{constructor(n){this.type=n,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(n){"discrete"===this.type?this.discreteDomain.add(n):"continuous"===this.type&&(this.continuousDomain[0]>n&&(this.continuousDomain[0]=n),this.continuousDomain[1]<n&&(this.continuousDomain[1]=n))}getDomain(){if("discrete"===this.type)return this.discreteDomain;if("continuous"===this.type)return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function pb(n,t=[1/0,-1/0]){for(const e of n)"number"==typeof e&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function Lje(n){return n.map(t=>Jl(t)?JSON.stringify(t):t).join("-")}function Nje(n){return Number.isInteger(n)?n:Math.abs(n)>1e4?Math.trunc(n):Math.round(1e4*n)/1e4}function ao(n,t){var e;const i=function Vje(n){if(void 0===n)return[];let[t,e]=n;return t=Number(t),e=Number(e),0===t&&0===e?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),ai(t)&&ai(e)?[t,e]:[])}(n);if(0===i.length)return i;let[r,o]=i;if(r===o){const[a,s]=null!=(e=t?.calculatePadding(r,o,t.isReversed()))?e:[1,1];r-=a,o+=s}return[r,o]}function EZ(){return new Map([[void 0,0]])}function y1(n,t){var e;return void 0===t?0:null!=(e=t.get(n.id))?e:0}var Kp=Symbol("invalid"),DZ=class{constructor(n){this.debug=sn.create(!0,"data-model");const{props:t,mode:e="standalone"}=n;this.mode=e;let i=!0;for(const a of t){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}this.opts=Q({dataVisible:!0},n),this.keys=t.filter(a=>"key"===a.type).map((a,s)=>Pe(Q({},a),{index:s,missing:EZ()})),this.values=t.filter(a=>"value"===a.type).map((a,s)=>Pe(Q({},a),{index:s,missing:EZ()})),this.aggregates=t.filter(a=>"aggregate"===a.type).map((a,s)=>Pe(Q({},a),{index:s})),this.groupProcessors=t.filter(a=>"group-value-processor"===a.type).map((a,s)=>Pe(Q({},a),{index:s})),this.propertyProcessors=t.filter(a=>"property-value-processor"===a.type).map((a,s)=>Pe(Q({},a),{index:s})),this.reducers=t.filter(a=>"reducer"===a.type).map((a,s)=>Pe(Q({},a),{index:s})),this.processors=t.filter(a=>"processor"===a.type).map((a,s)=>Pe(Q({},a),{index:s}));for(const a of this.values)if(null==a.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const r=({matchGroupIds:a})=>{for(const s of a??[])if(!this.values.some(l=>l.groupId===s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)},o=({matchIds:a})=>{for(const s of a??[])if(!this.values.some(l=>{var c;return null==(c=l.ids)?void 0:c.some(([u,d])=>u===s[0]&&d===s[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const a of[...this.groupProcessors,...this.aggregates])o(a),r(a)}resolveProcessedDataIndexById(n,t){var e;const{index:i,def:r}=null!=(e=this.resolveProcessedDataDefById(n,t))?e:{};return{index:i,def:r}}resolveProcessedDataIndicesById(n,t){return this.resolveProcessedDataDefsById(n,t).map(({index:e,def:i})=>({index:e,def:i}))}resolveProcessedDataDefById(n,t){return this.resolveProcessedDataDefsById(n,t)[0]}resolveProcessedDataDefsByIds(n,t){const e=[];for(const i of t)e.push([i,this.resolveProcessedDataDefsById(n,i)]);return e}resolveProcessedDataDefsValues(n,{keys:t,values:e}){const i={};for(const[r,[{index:o,def:a}]]of n)i[r]=("key"===a.type?t:e)[o];return i}resolveProcessedDataDefsById(n,t){const{keys:e,values:i,aggregates:r,groupProcessors:o,reducers:a}=this,s=u=>{const{ids:d,scopes:h}=u;return!(null==d||null!=n&&!h?.some(p=>p===n.id))&&d.some(([p,f])=>p===n.id&&("string"==typeof t?f===t:t.test(f)))},l=[e,i,r,o,a],c=[];for(const u of l)c.push(...u.filter(s).map(d=>({index:d.index,def:d})));if(c.length>0)return c;throw new Error(`AG Charts - didn't find property definition for [${t}, ${n.id}]`)}getDomain(n,t,e="value",i){var r,o,a,s;let l,c;try{l=this.resolveProcessedDataIndicesById(n,t)}catch(h){if("string"!=typeof t&&/didn't find property definition/.test(h.message))return[];throw h}switch(e){case"key":c="keys";break;case"value":c="values";break;case"aggregate":c="aggValues";break;case"group-value-processor":c="groups";break;default:return[]}const u=null!=(o=null==(r=i.domain[c])?void 0:r[l[0].index])?o:[];if(1===l.length)return u;const d=[...u];for(const h of l.slice(1))pb(null!=(s=null==(a=i.domain[c])?void 0:a[h.index])?s:[],d);return d}processData(n,t){const{opts:{groupByKeys:e,groupByFn:i},aggregates:r,groupProcessors:o,reducers:a,processors:s,propertyProcessors:l}=this,c=performance.now();if(e&&0===this.keys.length)return;let u=this.extractData(n,t);e?u=this.groupData(u):i&&(u=this.groupData(u,i(u))),o.length>0&&this.postProcessGroups(u),r.length>0&&this.aggregateData(u),l.length>0&&this.postProcessProperties(u),a.length>0&&this.reduceData(u),s.length>0&&this.postProcessData(u);for(const h of[...this.keys,...this.values])if(n.length>0)for(const[p,f]of h.missing)f>=n.length&&Me.warnOnce(`the key '${h.property}' was not found in any data element${void 0===p?"":` for ${p}`}.`);const d=performance.now();return u.time=d-c,this.debug.check()&&function Gje(n){var t,e;const i=(r,o)=>{o.length>0&&(Me.log(`DataModel.processData() - ${r}`),Me.table(o))};if(Me.log("DataModel.processData() - processedData",n),i("Key Domains",n.domain.keys),i("Group Domains",null!=(t=n.domain.groups)?t:[]),i("Value Domains",n.domain.values),i("Aggregate Domains",null!=(e=n.domain.aggValues)?e:[]),"grouped"===n.type){const r=n.data.reduce((o,a)=>{var s,l;const c=null!=(s=a.keys)?s:[],u=null!=(l=a.aggValues)?l:[],d=a.keys.map(()=>{}),h=u?.map(()=>{});return o.push(...a.values.map((p,f)=>[...0===f?c:d,...p??[],...0==f?u:h])),o},[]);i("Values",r)}else{const r=n.data.reduce((o,a)=>{var s;const l=null!=(s=a.aggValues)?s:[];return o.push([...a.keys,...a.values,...l]),o},[]);i("Values",r)}}(u),u}valueGroupIdxLookup({matchGroupIds:n,matchIds:t}){return this.values.map((e,i)=>({def:e,index:i})).filter(({def:e})=>!(n&&(null==e.groupId||!n.includes(e.groupId)))&&(!t||null!=e.ids&&t.some(([i,r])=>{var o;return null==(o=e.ids)?void 0:o.some(([a,s])=>a===i&&s===r)}))).map(({index:e})=>e)}valueIdxLookup(n,t){const e=null==n||0===n.length,i=s=>null==s||(e===(null==s||0===s.length)||s?.some(u=>n.includes(u))),r="string"==typeof t?t:t.id,a=this.values.findIndex(s=>{var l;return i(s.scopes)&&((null==(l=s.ids)?void 0:l.some(c=>(([s,l])=>i([s])&&l===r)(c)))||s.property===r||s.id===r)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(n)}`)}extractData(n,t){var e,i,r,s;const{keys:l,values:c,opts:{dataVisible:u}}=this,{dataDomain:d,processValue:h,scopes:p,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),m=new Array(u?n.length:0);let g=0,v=0;for(const[_,b]of n.entries()){const w={},E=p.size>0?new Set(p):void 0,M=u?new Array(l.length):void 0;let I,P=0;for(const Y of l){if(I=h(Y,b,I),I===Kp)break;M&&(M[P++]=I)}if(I===Kp)continue;const k=u&&c.length>0?new Array(c.length):void 0;let L;const B={};for(const Y of t??[])B[Y.id]=Y;for(const[Y,ne]of c.entries()){for(const fe of null!=(e=ne.scopes)?e:p){const W=B[fe];L=h(ne,null!=(i=W?.data[_])?i:b,L,fe),L!==Kp&&k&&(void 0!==W&&(null!=w[r=W.id]||(w[r]={}),w[W.id][ne.property]=L),ne.useScopedValues?(null!=k[Y]||(k[Y]={}),k[Y][fe]=L):k[Y]=L)}if(L===Kp){if(f)break;for(const fe of null!=(s=ne.scopes)?s:p)E?.delete(fe);if(0===E?.size)break}}if((L!==Kp||!f)&&0!==E?.size&&u){const Y={datum:Q(Q({},b),w),keys:M,values:k};!f&&E&&E.size<p.size&&(v++,Y.validScopes=[...E]),m[g++]=Y}}m.length=g;const y=_=>{const b=d.get(_).getDomain();return Array.isArray(b)&&b[0]>b[1]?[]:[...b]};return{type:"ungrouped",input:{count:n.length},data:m,domain:{keys:l.map(_=>y(_)),values:c.map(_=>y(_))},defs:{allScopesHaveSameDefs:f,keys:l,values:c},partialValidDataCount:v,time:0}}groupData(n,t){var e,i,r,o;const a=new Map;for(const u of n.data){const{keys:d,values:h,datum:p,validScopes:f}=u,m=t?t(u):d,g=Lje(m);if(a.has(g)){const v=a.get(g);if(v.values.push(h),v.datum.push(p),null!=f)for(let y=0;y<(null!=(i=null==(e=v.validScopes)?void 0:e.length)?i:0);y++){const _=null==(r=v.validScopes)?void 0:r[y];f.some(b=>b===_)||null==(o=v.validScopes)||o.splice(y,1)}}else a.set(g,{keys:m,values:[h],datum:[p],validScopes:f})}const s=new Array(a.size),l=new Array(a.size);let c=0;for(const[,{keys:u,values:d,datum:h,validScopes:p}]of a.entries())0!==p?.length&&(l[c]=u,s[c++]={keys:u,values:d,datum:h,validScopes:p});return Pe(Q({},n),{type:"grouped",data:s,domain:Pe(Q({},n.domain),{groups:l})})}aggregateData(n){var e,i,r,o,a,s,l;const{aggregates:c}=this;if(!c)return;const u=c.map(()=>[1/0,-1/0]),d=c.map(m=>this.valueGroupIdxLookup(m)),h=c.map(m=>m.aggregateFunction),p=c.map(m=>m.groupAggregateFunction),f=c.map(m=>m.finalFunction);for(const m of n.data){let{values:g}=m;const{validScopes:v}=m;null!=m.aggValues||(m.aggValues=new Array(d.length)),"ungrouped"===n.type&&(g=[g]);let y=0;for(const _ of d){if(null!=(e=v?.some(M=>{var P;return null==(P=c[y].matchScopes)?void 0:P.some(I=>M===I)}))&&!e){y++;continue}let w=null!=(r=null==(i=p[y])?void 0:i.call(p))?r:pb([]);for(const M of g){const P=_.map(k=>M[k]),I=h[y](P,m.keys);I&&(w=null!=(a=null==(o=p[y])?void 0:o.call(p,I,w))?a:pb(I,w))}const E=(null!=(l=null==(s=f[y])?void 0:s.call(f,w))?l:w).map(M=>Nje(M));pb(E,u[y]),m.aggValues[y++]=E}}n.domain.aggValues=u}postProcessGroups(n){var t,e,i,r,o;const{groupProcessors:a}=this;if(!a)return;const s=new Set,l=new Map,c=new Map,u=new Map;for(const h of a){const p=this.valueGroupIdxLookup(h);c.set(h,p),u.set(h,h.adjust());for(const f of p){const m=this.values[f];s.add(f),l.set(f,new v1("category"===m.valueType?"discrete":"continuous"))}}const d=h=>{var p;for(const f of s)null==(p=l.get(f))||p.extend(h[f])};for(const h of n.data){for(const p of a){if(null!=(e=null==(t=h.validScopes)?void 0:t.some(v=>{var y;return null==(y=p.matchScopes)?void 0:y.some(_=>v===_)}))&&!e)continue;const m=null!=(i=c.get(p))?i:[],g=null!=(o=null==(r=u.get(p))?void 0:r())?o:()=>{};if("grouped"!==n.type)h.values&&g(h.values,m);else for(const v of h.values)v&&g(v,m)}if("grouped"===n.type)for(const p of h.values)d(p);else d(h.values)}for(const[h,p]of l)n.domain.values[h]=[...p.getDomain()]}postProcessProperties(n){const{propertyProcessors:t}=this;if(t)for(const{adjust:e,property:i,scopes:r}of t)e()(n,this.valueIdxLookup(r??[],i))}reduceData(n){var t,e;const{reducers:r}=this,o=r.map(l=>l.scopes),a=r.map(l=>l.reducer()),s=r.map(l=>l.initialValue);for(const l of n.data){let c=0;for(const u of a)null==(e=null==(t=l.validScopes)?void 0:t.some(h=>{var p;return null==(p=o[c])?void 0:p.some(f=>h===f)}))||e?(s[c]=u(s[c],l),c++):c++}for(let l=0;l<s.length;l++)null!=n.reduced||(n.reduced={}),n.reduced[r[l].property]=s[l]}postProcessData(n){const{processors:e}=this;for(const i of e)null!=n.reduced||(n.reduced={}),n.reduced[i.property]=i.calculate(n)}initDataDomainProcessor(){var n;const{keys:t,values:e}=this,i=new Set;for(const h of e)for(const p of null!=(n=h.scopes)?n:[])i.add(p);const r=i.size,o=new Map,a=new Map;let s=!0;const l=(h,p,f=o)=>{var m;"category"===p?f.set(h,new v1("discrete")):(f.set(h,new v1("continuous")),s&&(s=(null!=(m=h.scopes)?m:[]).length===r))},c=()=>{t.forEach(h=>l(h,h.valueType)),e.forEach(h=>l(h,h.valueType))};c();const u=this.buildAccessors(...t,...e);return{dataDomain:o,processValue:(h,p,f,m)=>{var g,v,y,_,b;let M,E=!1;if(h.property in u){try{M=u[h.property](p)}catch{}E=void 0!==M}else E=h.property in p,M=E?p[h.property]:h.missingValue;if(null!=h.forceValue&&(M=E&&qC(M)?-1*h.forceValue:h.forceValue,E=!0),!E&&!("missingValue"in h)){const I=null!=(g=h.missing.get(m))?g:0;h.missing.set(m,I+1)}if(o.has(h)||c(),E&&null!=(y=null==(v=h.validation)?void 0:v.call(h,M,p))&&!y){if(!("invalidValue"in h))return"integrated"!==this.mode&&Me.warnOnce(`invalid value of type [${typeof M}] ignored:`,`[${M}]`),Kp;M=h.invalidValue}return h.processor&&(a.has(h)||a.set(h,h.processor()),M=null==(_=a.get(h))?void 0:_(M,f!==Kp?f:void 0)),null==(b=o.get(h))||b.extend(M),M},initDataDomain:c,scopes:i,allScopesHaveSameDefs:s}}buildAccessors(...n){const t={};if("integrated"===this.mode)return t;for(const e of n){if(!(e.property.indexOf(".")>=0||e.property.indexOf("[")>=0))continue;let r;r=e.property.startsWith("[")?`return datum${e.property};`:`return datum.${e.property};`,t[e.property]=new Function("datum",r)}return t}},TZ=class{constructor(n){this.mode=n,this.debug=sn.create(!0,"data-model"),this.requested=[],this.status="setup"}request(n,t,e){return he(this,null,function*(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise((i,r)=>{this.requested.push({id:n,opts:e,data:t,resultCb:i,reject:r})})})}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:n,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const e=this.mergeRequested(n);this.debug("DataController.execute() - merged",e),this.debug.check()&&(window.processedData=[]);const i=n.some(r=>null!=r.data);for(const{opts:r,data:o,resultCbs:a,rejects:s,ids:l}of e){const c=i||r.props.some(u=>{var d;return("value"===u.type||"key"===u.type)&&null!=(d=u.useScopedValues)&&d});try{const u=new DZ(Pe(Q({},r),{mode:this.mode})),d=u.processData(o,n);this.debug.check()&&window.processedData.push(d),d&&0===d.partialValidDataCount?a.forEach((h,p)=>{let m=d;c&&(m=this.extractScopedData(l[p],d)),h({dataModel:u,processedData:m})}):d?this.splitResult(u,d,l,a):s.forEach(h=>h(new Error("AG Charts - no processed data generated")))}catch(u){s.forEach(d=>d(u))}}t.forEach(({error:r,reject:o})=>o(r))}extractScopedData(n,t){const e=r=>Array.isArray(r)?r.map(e):Q(Q({},r),r[n]),i=r=>{var o;return Array.isArray(r)?r.map(i):null!=(o=r?.[n])?o:r};return Pe(Q({},t),{data:t.data.map(r=>Pe(Q({},r),{datum:e(r.datum),values:r.values.map(i)}))})}validateRequests(n){const t=[],e=[];for(const[i,r]of n.entries())i>0&&r.data.length!==n[0].data.length&&!1===r.opts.groupByData?e.push(Pe(Q({},r),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(r);return{valid:t,invalid:e}}mergeRequested(n){const t=[],e=l=>l.filter(c=>"key"===c.type).map(c=>c.property).join(";"),i=({opts:l,data:c})=>u=>(!1===l.groupByData||u[0].data===c)&&u[0].opts.groupByKeys===l.groupByKeys&&u[0].opts.dataVisible===l.dataVisible&&u[0].opts.groupByFn===l.groupByFn&&e(u[0].opts.props)===e(l.props),r=l=>c=>{var u;if(c.type!==l.type)return!1;const d=null!=(u=Ca(c,l))?u:{};return delete d.scopes,delete d.id,delete d.ids,"useScopedValues"in d&&delete d.useScopedValues,0===Object.keys(d).length},o=l=>{var c;if("key"!==l.type&&"value"!==l.type)return;const u=new Set(null!=(c=l.scopes)?c:[]);l.useScopedValues=u.size>1},a=l=>Pe(Q({},l[0]),{props:l.reduce((c,u)=>{var h,f,m,g;for(const v of u.props){if(null!=v.id){null!=v.ids||(v.ids=[]);for(const _ of null!=(h=v.scopes)?h:[])v.ids.push([_,v.id])}const y=c.find(r(v));y?(null!=y.scopes||(y.scopes=[]),y.scopes.push(...null!=(f=v.scopes)?f:[]),o(v),("key"===y.type||"value"===y.type)&&null!=(m=v.ids)&&m.length&&(null==(g=y.ids)||g.push(...v.ids))):(o(v),c.push(v))}return c},[])});for(const l of n){const c=t.find(i(l));c?c.push(l):t.push([l])}return t.map(l=>({ids:l.map(({id:c})=>c),resultCbs:l.map(({resultCb:c})=>c),rejects:l.map(({reject:c})=>c),data:l[0].data,opts:a(l.map(({opts:c})=>c))}))}splitResult(n,t,e,i){for(let r=0;r<e.length;r++){const o=e[r];(0,i[r])({dataModel:n,processedData:Pe(Q({},t),{data:t.data.filter(({validScopes:s})=>null==s||s.some(l=>l===o))})})}}},Vg=class{constructor(){this.registeredListeners=new Map}addListener(n,t){const e={symbol:Symbol(n),handler:t};return this.registeredListeners.has(n)?this.registeredListeners.get(n).push(e):this.registeredListeners.set(n,[e]),()=>this.removeListener(e.symbol)}removeListener(n){for(const[t,e]of this.registeredListeners.entries()){const i=e.findIndex(r=>r.symbol===n);if(i>=0){e.splice(i,1),0===e.length&&this.registeredListeners.delete(t);break}}}dispatch(n,...t){for(const e of this.getListenersByType(n))try{e.handler(...t)}catch(i){Me.errorOnce(i)}}dispatchWrapHandlers(n,t,...e){for(const i of this.getListenersByType(n))try{t(i.handler,...e)}catch(r){Me.errorOnce(r)}}getListenersByType(n){var t;return null!=(t=this.registeredListeners.get(n))?t:[]}destroy(){this.registeredListeners.clear()}},vT=class extends Vg{constructor(n){super(),this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=sn.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(n){"function"==typeof n&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=n,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(n){this.throttledFetch(n)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(n){return Xq(t=>this.fetch(t),n,{leading:!1,trailing:!0})}createThrottledDispatch(n){return Xq((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})},n,{leading:!0,trailing:!0})}fetch(n){return he(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),e=this.requestCounter++;let i;this.debug(`DataService - requesting | ${e}`),this.freshRequests.push(e);try{i=yield this.dataSourceCallback(n),this.debug(`DataService - response | ${performance.now()-t}ms | ${e}`)}catch(o){this.debug(`DataService - request failed | ${e}`),Me.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const r=this.freshRequests.findIndex(o=>o===e);-1===r||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1?this.debug(`DataService - discarding stale request | ${e}`):(this.freshRequests=this.freshRequests.slice(r+1),Array.isArray(i)?this.throttledDispatch(e,i):this.dispatch("data-error"))})}};S([Jn({newValue(n){this.throttledDispatch=this.createThrottledDispatch(n)}})],vT.prototype,"dispatchThrottle",2),S([Jn({newValue(n){this.throttledFetch=this.createThrottledFetch(n)}})],vT.prototype,"requestThrottle",2);var Bje=[!0,"animation"],MZ=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=sn.create(...Bje),this.currentPhase=0,this.phases=new Map(Up.map(n=>[n,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var n;return null!=(n=this.phases.get(Up[this.currentPhase]))?n:[]}checkOverlappingId(n){null!=n&&this.controllers.has(n)&&(this.controllers.get(n).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${n}`),this.skip())}addAnimation(n){var t;if(!n.isComplete)return Up.indexOf(n.phase)<this.currentPhase?(this.debug("Skipping animation due to being for an earlier phase",n.id),void n.stop()):(this.controllers.set(n.id,n),void(null==(t=this.phases.get(n.phase))||t.push(n)))}removeAnimation(n){this.controllers.delete(n.id);const t=this.phases.get(n.phase),e=t?.indexOf(n);null!=e&&e>=0&&t?.splice(e,1)}progress(n){const t=Up[this.currentPhase];let e=[...this.getActiveControllers()];const i=this.controllers.size;this.debug(`AnimationBatch - progressing by ${n}; current phase ${t} with ${e?.length} active controllers of ${i} total`,this.phases);let r=0===n?.01:n;const o=()=>null==Up[this.currentPhase],a=()=>{for(e=[...this.getActiveControllers()];!o()&&0===e.length;)this.currentPhase++,e=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${Up[this.currentPhase]}`,{unusedTime:r},e)};for(;r>0&&!o();){a();const s=r;let l=0;for(const c of e)r=Math.min(c.update(s),r),c.isComplete&&(l++,this.removeAnimation(c));this.debug(`AnimationBatch - updated ${e.length} controllers; ${l} completed`)}}skip(n=!0){if(!1===this.skipAnimations&&!0===n){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=n}play(){for(const n of this.controllers.values())n.play()}pause(){for(const n of this.controllers.values())n.pause()}stop(){for(const n of this.controllers.values())try{n.stop(),this.removeAnimation(n)}catch(t){Me.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(n){if(null!=n&&this.controllers.has(n)){const t=this.controllers.get(n);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(n){for(const t of this.controllers.values())t.groupId===n&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(n=>n()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},Yp=class{constructor(){this.listeners=new Vg}addListener(n,t){return this.listeners.addListener(n,t)}removeListener(n){this.listeners.removeListener(n)}destroy(){this.listeners.destroy()}},AZ=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],OZ=["pagehide","mousemove","mouseup"],RZ=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],yT=(n=>(n[n.Default=8]="Default",n[n.ZoomDrag=4]="ZoomDrag",n[n.ContextMenu=2]="ContextMenu",n[n.Animation=1]="Animation",n[n.All=15]="All",n))(yT||{}),jje=[!0,"interaction"],_1=class _w extends Yp{constructor(t,e,i){super(),this.debug=sn.create(...jje),this.eventHandler=r=>this.processEvent(r),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=e.body,this.element=t,this.window=i;for(const r of RZ)r.startsWith("touch")?t.addEventListener(r,this.eventHandler,{passive:!0}):"wheel"===r?t.addEventListener(r,this.eventHandler,{passive:!1}):t.addEventListener(r,this.eventHandler);for(const r of OZ)this.window.addEventListener(r,this.eventHandler);_w.interactionDocuments.includes(e)||(dT(e,"\n.ag-chart-wrapper {\n    touch-action: none;\n}\n"),_w.interactionDocuments.push(e))}destroy(){super.destroy();for(const t of OZ)this.window.removeEventListener(t,this.eventHandler);for(const t of RZ)this.element.removeEventListener(t,this.eventHandler)}addListener(t,e,i=8){return super.addListener(t,r=>{this.getState()&i&&e(r)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e).catch(i=>Me.errorOnce(i))}dispatchEvent(t,e){return he(this,null,function*(){const i=this.calculateCoordinates(t);if(null!=i)for(const r of e)this.listeners.dispatchWrapHandlers(r,(o,a)=>{a.consumed||o(a)},this.buildEvent(Q({type:r,event:t},i)))})}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[e];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[e];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const i=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==i?(this.mouseDown=i,[i?e:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var e;return t.target===this.element||(null==(e=t.target)?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const i=null!=(e=t.touches[0])?e:t.changedTouches[0],{clientX:r,clientY:o,pageX:a,pageY:s}=i;return Pe(Q({},_w.NULL_COORDS),{clientX:r,clientY:o,pageX:a,pageY:s})}return t instanceof PageTransitionEvent?t.persisted?void 0:_w.NULL_COORDS:void 0}getMouseEventCoords(t){const{clientX:e,clientY:i,pageX:r,pageY:o}=t;let{offsetX:a,offsetY:s}=t;const l=c=>{let u=0,d=0;for(;c;)u+=c.offsetLeft,d+=c.offsetTop,c=c.offsetParent;return{x:u,y:d}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){const c=l(this.dragStartElement),u=l(t.target);a-=c.x-u.x,s-=c.y-u.y}return{clientX:e,clientY:i,pageX:r,pageY:o,offsetX:a,offsetY:s}}isWheelEvent(t){return"wheel"===t.type}buildEvent(t){const{type:e,event:i,clientX:r,clientY:o}=t;let{offsetX:a,offsetY:s,pageX:l,pageY:c}=t;if(!ai(a)||!ai(s)){const f=this.element.getBoundingClientRect();a=r-f.left,s=o-f.top}if(!ai(l)||!ai(c)){const f=this.rootElement.getBoundingClientRect();l=r-f.left,c=o-f.top}const u=f=>{const y=Math.sign(f);return(3*Math.log10(Math.abs(f)/60+.1)+3)*y};let[d,h]=[NaN,NaN];if(this.isWheelEvent(i)){const f=0===i.deltaMode?u:m=>m;d=f(i.deltaX),h=f(i.deltaY)}const p={type:e,offsetX:a,offsetY:s,pageX:l,pageY:c,deltaX:d,deltaY:h,sourceEvent:i,consumed:!1,consume(){p.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",p),p}};_1.interactionDocuments=[],_1.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var PZ=_1,Uje=[!0,"animation"],IZ=class extends Yp{constructor(n,t){super(),this.interactionManager=n,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new MZ,this.debug=sn.create(...Uje),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(n){var i,e=Zn(n,["disableInteractions"]);const r=this.batch;try{r.checkOverlappingId(e.id)}catch(l){return void this.failsafeOnError(l)}const o=null!=(i=e.id)?i:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");const s=new mX(Pe(Q({},e),{id:o,skip:a,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(n){this.failsafeOnError(n)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(n){this.failsafeOnError(n)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(n){try{this.batch.stopByAnimationId(n)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(n){try{this.batch.stopByAnimationGroupId(n)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(n=!0){this.skipAnimations=n}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(n){this.requestId=requestAnimationFrame(n)}forceTimeJump(n,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||null!==this.requestId)return;let n;const t=e=>he(this,null,function*(){const i=()=>he(this,null,function*(){const r=e-(n??e);n=e,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:r}),this.interactionManager.pushState(1);try{this.batch.progress(r)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:r})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(i):yield this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(n,t=!0){Me.error("Error during animation, skipping animations",n),t&&this.cancelAnimation()}startBatch(n){this.debug(`AnimationManager - startBatch() with skipAnimations=${n}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new MZ,!0===n&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(n){this.batch.stoppedCbs.add(n)}},FZ=class extends Yp{legendItemClick(n,t,e,i){this.listeners.dispatch("legend-item-click",{type:"legend-item-click",series:n,itemId:t,enabled:e,legendItemName:i})}legendItemDoubleClick(n,t,e,i,r){this.listeners.dispatch("legend-item-double-click",{type:"legend-item-double-click",series:n,itemId:t,enabled:e,legendItemName:r,numVisibleItems:i})}axisHover(n,t){this.listeners.dispatch("axis-hover",{type:"axis-hover",axisId:n,direction:t})}},kZ=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(n){n.id&&this.defaultActions.find(({id:t})=>t===n.id)||this.defaultActions.push(n)}enableAction(n){this.disabledActions.delete(n)}disableAction(n){this.disabledActions.add(n)}isDisabled(n){return this.disabledActions.has(n)}},LZ=class{constructor(n){this.states={},this.element=n}updateCursor(n,t){delete this.states[n],null!=t&&(this.states[n]={style:t}),this.applyStates()}applyStates(){let n="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:e}])=>n=e),this.element.style.cursor=n}getCursor(){return this.element.style.cursor}};function NZ(n,t){return Math.sqrt(function zje(n,t){const e=n.screenX-t.screenX,i=n.screenY-t.screenY;return e*e+i*i}(n,t))}var VZ=class extends Yp{constructor(n){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=n,n.addEventListener("touchstart",this.touchstart,{passive:!0}),n.addEventListener("touchmove",this.touchmove,{passive:!0}),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:n}=this;n.removeEventListener("touchstart",this.touchstart),n.removeEventListener("touchmove",this.touchmove),n.removeEventListener("touchend",this.touchend),n.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(n){const{touches:t}=n,{finger1:e,finger2:i}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===e.identifier&&t[1].identifier===i.identifier)return[t[0],t[1]];if(t[0].identifier===i.identifier&&t[1].identifier===e.identifier)return[t[1],t[0]]}}copyTouchData(n){const t=["identifier","screenX","screenY"];cN(t,this.pinch.finger1,n.touches[0]),cN(t,this.pinch.finger2,n.touches[1]),this.pinch.distance=NZ(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(n,t){const{finger1:e,finger2:i,origin:r}=this.pinch;this.listeners.dispatch(n,{type:n,finger1:e,finger2:i,deltaDistance:t,origin:r})}onTouchStart(n){this.stopPinchTracking();const{pinch:t}=this;2===n.touches.length&&(t.status=1,this.copyTouchData(n),t.origin.x=(n.touches[0].clientX+n.touches[1].clientX)/2,t.origin.y=(n.touches[0].clientY+n.touches[1].clientY)/2)}onTouchMove(n){const t=this.findPinchTouches(n);if(void 0!==t){const[e,i]=t,{pinch:r}=this,o=NZ(e,i),a=o-r.distance;1===r.status?Math.abs(a)>1&&(r.status=2,this.copyTouchData(n),this.dispatchPinchEvent("pinch-start",0)):2===r.status?(r.distance=o,this.copyTouchData(n),this.dispatchPinchEvent("pinch-move",a)):Me.error(`unexpected pinch.status: ${r.status}`)}}onTouchEnd(n){this.stopPinchTracking()}onTouchCancel(n){this.stopPinchTracking()}stopPinchTracking(){const{pinch:n}=this;2===n.status&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},C1=class extends Yp{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(n,t){this.highlightStates.delete(n),null!=t&&this.highlightStates.set(n,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(n,t){this.pickedStates.delete(n),null!=t&&this.pickedStates.set(n,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:n}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(n,t){return n===t||n?.series===t?.series&&n?.itemId===t?.itemId&&n?.datum===t?.datum}};function GZ(n){var t;const{width:e=0,height:i=0}=null!=(t=n.bbox.computeBBox())?t:{};return e*i}var Kje=class{constructor(){this.nodes=[]}add(n,t){this.nodes.push({value:n,bbox:t})}find(n,t){return this.nodes.filter(e=>function $je(n,t,e){var i,r;return null!=(r=null==(i=n.bbox.computeBBox())?void 0:i.containsPoint(t,e))&&r}(e,n,t)).sort((e,i)=>GZ(e)-GZ(i)).map(e=>e.value)}*[Symbol.iterator](){for(const{value:n}of Object.values(this.nodes))yield n}clear(){this.nodes.length=0}},Yje=class extends Vg{},b1=class Cf extends Yp{constructor(t){super(),this.chart=t}subscribe(t=Cf.DEFAULT_GROUP){let e=this.get(t);return e||(e=new Set,Cf.chartsGroups.set(t,e)),e.add(this.chart),this}unsubscribe(t=Cf.DEFAULT_GROUP){var e;return null==(e=this.get(t))||e.delete(this.chart),this}getChart(){return this.chart}getGroup(t=Cf.DEFAULT_GROUP){const e=this.get(t);return e?Array.from(e):[]}getGroupSiblings(t=Cf.DEFAULT_GROUP){return this.getGroup(t).filter(e=>e!==this.chart)}get(t){return Cf.chartsGroups.get(t)}};b1.chartsGroups=new Map,b1.DEFAULT_GROUP=Symbol("sync-group-default");var Xje=b1,w1=class{constructor(n,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=n,this.destroyFns.push(t.addListener("hover",e=>this.checkExclusiveRects(e)))}getRange(){return this.tooltip.range}updateTooltip(n,t,e){var i;null==e&&(e=null==(i=this.states[n])?void 0:i.content),this.states[n]={content:e,meta:t},this.applyStates()}updateExclusiveRect(n,t){t?this.exclusiveAreas[n]=t:delete this.exclusiveAreas[n]}removeTooltip(n){delete this.states[n],this.applyStates()}getTooltipMeta(n){var t;return null==(t=this.states[n])?void 0:t.meta}destroy(){for(const n of this.destroyFns)n()}checkExclusiveRects(n){let t;for(const[e,i]of Object.entries(this.exclusiveAreas))if(i.containsPoint(n.offsetX,n.offsetY)){t=e;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var n;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let e,i;if(t.reverse(),t.slice(0,1).forEach(r=>{var o;const{content:a,meta:s}=null!=(o=this.states[r])?o:{};e=a,i=s}),void 0===i||void 0===e)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null==(n=this.appliedState)?void 0:n.content)===e){const r=this.tooltip.isVisible();this.tooltip.show(i,void 0,r)}else this.tooltip.show(i,e);this.appliedState={content:e,meta:i}}static makeTooltipMeta(n,t){var e,i,r,o;const{offsetX:a,offsetY:s}=n,{tooltip:l}=t.series.properties,u={offsetX:a,offsetY:s,lastPointerEvent:{offsetX:a,offsetY:s},showArrow:l.showArrow,position:{xOffset:l.position.xOffset,yOffset:l.position.yOffset}},d=null!=(i=null==(e=t.yBar)?void 0:e.upperPoint)?i:t.midPoint;if("node"===l.position.type&&d){const{x:h,y:p}=d,f=t.series.contentGroup.inverseTransformPoint(h,p);return Pe(Q({},u),{offsetX:Math.round(f.x),offsetY:Math.round(f.y)})}return u.enableInteraction=null!=(o=null==(r=l.interaction)?void 0:r.enabled)&&o,u}},BZ=class extends Yp{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(n){var t;const e=new Map(n.map(i=>[i.id,this.axisZoomManagers.get(i.id)]));this.axisZoomManagers.clear();for(const i of n)this.axisZoomManagers.set(i.id,null!=(t=e.get(i.id))?t:new Zje(i));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(n){0!==this.axisZoomManagers.size?(this.axisZoomManagers.forEach(t=>{t.updateZoom(n?.[t.getDirection()])}),this.applyChanges()):this.initialZoom=n}updateAxisZoom(n,t){var e;null==(e=this.axisZoomManagers.get(n))||e.updateZoom(t),this.applyChanges()}getZoom(){let n,t;if(this.axisZoomManagers.forEach(e=>{"x"===e.getDirection()?n??(n=e.getZoom()):"y"===e.getDirection()&&(t??(t=e.getZoom()))}),n||t)return{x:n,y:t}}getAxisZoom(n){var t,e;return null!=(e=null==(t=this.axisZoomManagers.get(n))?void 0:t.getZoom())?e:{min:0,max:1}}getAxisZooms(){const n={};for(const[t,e]of this.axisZoomManagers.entries())n[t]={direction:e.getDirection(),zoom:e.getZoom()};return n}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(e=>e.applyChanges()).some(Boolean))return;const t={};for(const[e,i]of this.axisZoomManagers.entries())t[e]=i.getZoom();this.listeners.dispatch("zoom-change",Pe(Q({type:"zoom-change"},this.getZoom()),{axes:t}))}},Zje=class{constructor(n){this.pendingZoom=null,this.axis=n;const[t=0,e=1]=n.visibleRange;this.initialZoom=this.currentZoom={min:t,max:e}}getDirection(){return this.axis.direction}updateZoom(n){this.pendingZoom=n?Q({},n):null}getZoom(){return Gr(this.currentZoom)}applyChanges(){var n;const t=this.currentZoom;return this.currentZoom=null!=(n=this.pendingZoom)?n:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},HZ=class extends Vg{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(n,t){if(this.isLayoutStage(n)||this.isLayoutComplete(n))return super.addListener(n,t);throw new Error(`AG Charts - unsupported listener type: ${n}`)}dispatchPerformLayout(n,t){return this.isLayoutStage(n)?this.getListenersByType(n).reduce((e,i)=>{try{return i.handler(e)}catch(r){return Me.errorOnce(r),e}},t):t}dispatchLayoutComplete(n){this.dispatch(this.layoutComplete,n)}isLayoutStage(n){return n!==this.layoutComplete}isLayoutComplete(n){return n===this.layoutComplete}};function Qje({orientation:n,bboxes:t,maxHeight:e,maxWidth:i,itemPaddingY:r=0,itemPaddingX:o=0,forceResult:a=!1}){const s="horizontal"===n,l={max:s?i:e,fn:s?h=>h.width:h=>h.height,padding:s?o:r},c={max:s?e:i,fn:s?h=>h.height:h=>h.width,padding:s?r:o};let u=0;const d=[];for(;u<t.length;){const p=Jje(t.slice(u),u,l,c,a);if(!p)return;u+=p.processedBBoxCount,d.push(p.pageIndices)}return function t3e(n,t,e,i,r){let o=0,a=0;return{pages:n.map(l=>{"horizontal"===t&&(l=function i3e(n){const t=[];for(const e of n[0])t.push([]);return n.forEach((e,i)=>{e.forEach((r,o)=>{t[o][i]=r})}),t}(l));let c=0;const u=l.map(p=>{const f=p.map(v=>(c=Math.max(v,c),e[v]));let m=0,g=0;return f.forEach(v=>{m+=v.height+i,g=Math.max(g,v.width+r)}),{indices:p,bboxes:f,columnHeight:Math.ceil(m),columnWidth:Math.ceil(g)}});let d=0,h=0;return u.forEach(p=>{d+=p.columnWidth,h=Math.max(h,p.columnHeight)}),o=Math.max(d,o),a=Math.max(h,a),{columns:u,startIndex:l[0][0],endIndex:c,pageWidth:d,pageHeight:h}}),maxPageWidth:o,maxPageHeight:a}}(d,n,t,r,o)}function Jje(n,t,e,i,r){let a=function n3e(n,t){const e=n.length;let i=0;for(let r=0;r<e;r++)if(i+=t.fn(n[r])+t.padding,i>t.max)return e/r<2?Math.ceil(e/2):r;return e}(n,e);if(a<1){if(!r)return;a=1}for(let s=a;s>=1;s--){const l=e3e(n,t,s,e,i,r);if(null==l&&s<=1)return;if(null!=l){if("number"!=typeof l)return{processedBBoxCount:l.length*l[0].length,pageIndices:l};if(l<=1)return;s=l<s&&l>1?l:s}}}function e3e(n,t,e,i,r,o){var a;const s=[];let l=0,c=0,u=[];const d=[];for(let h=0;h<n.length;h++){const p=(h+e)%e;0===p&&(l+=c,c=0,u.length>0&&s.push(u),u=[]);const f=i.fn(n[h])+i.padding;if(d[p]=Math.max(null!=(a=d[p])?a:0,f),c=Math.max(c,r.fn(n[h])+r.padding),l+c>r.max&&(!o||s.length>0)){u=[];break}if(d.reduce((y,_)=>y+_,0)>i.max&&!o)return d.length<e?d.length:void 0;u.push(h+t)}return u.length>0&&s.push(u),s.length>0?s:void 0}function fb(n,t,e,i,r,o,a,s){const l=(e-n)*(s-o)-(i-t)*(a-r);if(0===l)return null;const c=((a-r)*(t-o)-(n-r)*(s-o))/l,u=((e-n)*(t-o)-(i-t)*(n-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:n+c*(e-n),y:t+c*(i-t)}:null}function s3e(n,t,e,i,r,o,a,s,l,c,u,d){const h=[],p=c-d,f=u-l,m=l*(d-c)-c*(u-l),g=jZ(n,e,r,a),v=jZ(t,i,o,s),E=function a3e(n,t,e,i){if(0===n)return function o3e(n,t,e){if(0===n)return function r3e(n,t){const e=-t/n;return 0!==n&&e>=0&&e<=1?[e]:[]}(t,e);const i=t*t-4*n*e,r=[];if(0===i){const o=-t/(2*n);o>=0&&o<=1&&r.push(o)}else if(i>0){const o=Math.sqrt(i),a=(-t-o)/(2*n),s=(-t+o)/(2*n);a>=0&&a<=1&&r.push(a),s>=0&&s<=1&&r.push(s)}return r}(t,e,i);const r=t/n,o=e/n,s=(3*o-r*r)/9,l=(9*r*o-i/n*27-2*r*r*r)/54,c=s*s*s+l*l,u=1/3,d=[];if(c>=0){const h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),u),f=Math.sign(l-h)*Math.pow(Math.abs(l-h),u),m=Math.abs(Math.sqrt(3)*(p-f)/2),g=-u*r+(p+f);if(g>=0&&g<=1&&d.push(g),0===m){const v=-u*r-(p+f)/2;v>=0&&v<=1&&d.push(v)}}else{const h=Math.acos(l/Math.sqrt(-s*s*s)),p=u*r,f=2*Math.sqrt(-s),m=f*Math.cos(u*h)-p,g=f*Math.cos(u*(h+2*Math.PI))-p,v=f*Math.cos(u*(h+4*Math.PI))-p;m>=0&&m<=1&&d.push(m),g>=0&&g<=1&&d.push(g),v>=0&&v<=1&&d.push(v)}return d}(p*g[0]+f*v[0],p*g[1]+f*v[1],p*g[2]+f*v[2],p*g[3]+f*v[3]+m);for(const M of E){const P=M*M,I=M*P,k=g[0]*I+g[1]*P+g[2]*M+g[3],L=v[0]*I+v[1]*P+v[2]*M+v[3];let B;B=l!==u?(k-l)/(u-l):(L-c)/(d-c),B>=0&&B<=1&&h.push({x:k,y:L})}return h}function jZ(n,t,e,i){return[3*t-n-3*e+i,3*n-6*t+3*e,-3*n+3*t,n]}function UZ(n,t,e,i,r,o,a,s,l,c){const u=(c-s)/(l-a),d=s-u*a,h=Math.pow(u,2)+1,p=2*(u*(d-t)-n),f=Math.pow(n,2)+Math.pow(d-t,2)-Math.pow(e,2),m=Math.pow(p,2)-4*h*f;if(m<0)return[];const g=(-p+Math.sqrt(m))/2/h,v=(-p-Math.sqrt(m))/2/h,y=[];return[g,v].forEach(_=>{if(!(_>=Math.min(a,l)&&_<=Math.max(a,l)))return;const w=u*_+d,E=gn(i);let M=gn(r),P=gn(Math.atan2(w,_));M<=E&&(M+=2*Math.PI),P<E&&(P+=2*Math.PI),o!==(P>=E&&P<=M)&&y.push({x:_,y:w})}),y}var Gg=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let n=0;n<this.commands.length;n++)if(this.commands[n]!==this.previousCommands[n])return!0;for(let n=0;n<this.params.length;n++)if(this.params[n]!==this.previousParams[n])return!0;return!1}draw(n){const t=this.commands,e=this.params;let i=0;n.beginPath();for(const r of t)switch(r){case 0:n.moveTo(e[i++],e[i++]);break;case 1:n.lineTo(e[i++],e[i++]);break;case 3:n.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);break;case 2:n.arc(e[i++],e[i++],e[i++],e[i++],e[i++],1===e[i++]);break;case 4:n.closePath()}0===t.length&&n.closePath()}moveTo(n,t){this.xy?(this.xy[0]=n,this.xy[1]=t):this.xy=[n,t],this.commands.push(0),this.params.push(n,t)}lineTo(n,t){this.xy?(this.commands.push(1),this.params.push(n,t),this.xy[0]=n,this.xy[1]=t):this.moveTo(n,t)}rect(n,t,e,i){this.moveTo(n,t),this.lineTo(n+e,t),this.lineTo(n+e,t+i),this.lineTo(n,t+i),this.closePath()}roundRect(n,t,e,i,r){r=Math.min(r,e/2,i/2),this.moveTo(n,t+r),this.arc(n+r,t+r,r,Math.PI,3*Math.PI/2),this.lineTo(n+r,t),this.lineTo(n+e-r,t),this.arc(n+e-r,t+r,r,3*Math.PI/2,2*Math.PI),this.lineTo(n+e,t+r),this.lineTo(n+e,t+i-r),this.arc(n+e-r,t+i-r,r,0,Math.PI/2),this.lineTo(n+e-r,t+i),this.lineTo(n+r,t+i),this.arc(n+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(n,t+i-r),this.closePath()}arc(n,t,e,i,r,o=!1){const a=n+e*Math.cos(r),s=t+e*Math.sin(r);this.xy?(this.xy[0]=a,this.xy[1]=s):this.xy=[a,s],this.commands.push(2),this.params.push(n,t,e,i,r,o?1:0)}cubicCurveTo(n,t,e,i,r,o){this.xy||this.moveTo(n,t),this.commands.push(3),this.params.push(n,t,e,i,r,o),this.xy&&(this.xy[0]=r,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:n}={trackChanges:!1}){n?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(n,t){const e=this.commands,i=this.params,r=e.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<r;h++)switch(e[h]){case 0:!isNaN(s)&&fb(s,l,c,u,o,a,n,t)&&d++,c=i[p++],s=c,u=i[p++],l=u;break;case 1:fb(c,u,i[p++],i[p++],o,a,n,t)&&d++,c=i[p-2],u=i[p-1];break;case 3:d+=s3e(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],o,a,n,t).length,c=i[p-2],u=i[p-1];break;case 2:const f=i[p++],m=i[p++],g=i[p++],v=i[p++],y=i[p++];d+=UZ(f,m,g,v,y,!!i[p++],o,a,n,t).length,c=f+Math.cos(y)*g,u=m+Math.sin(y)*g;break;case 4:!isNaN(s)&&fb(s,l,c,u,o,a,n,t)&&d++}return d%2==1}getPoints(){const{commands:n,params:t}=this,e=[];let i=0;for(let r=0;r<n.length;r++)switch(n[r]){case 0:case 1:e.push({x:t[i++],y:t[i++]});break;case 3:i+=4,e.push({x:t[i++],y:t[i++]});break;case 2:e.push({x:t[i++],y:t[i++]}),i+=4}return e}};function Ot(n){const{redraw:t=3,changeCb:e,convertor:i}=n??{};return Le({redraw:t,type:"path",convertor:i,changeCb:e})}var Sa=class extends rs{constructor(){super(...arguments),this.path=new Gg,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(n){this._clipX=n,this.dirtyPath=!0}set clipY(n){this._clipY=n,this.dirtyPath=!0}set dirtyPath(n){this._dirtyPath!==n&&(this._dirtyPath=n,n&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var n,t,e,i;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!=(t=null==(n=this.fillShadow)?void 0:n.isDirty())&&t||null!=(i=null==(e=this._clipPath)?void 0:e.isDirty())&&i)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.path.closedPath&&this.path.isPointInPath(e.x,e.y)}isDirtyPath(){return!1}updatePath(){}render(n){var e,i,r,o;const{ctx:a,forceRender:s,stats:l}=n;if(0!==this.dirty||s){if(this.computeTransformMatrix(),this.matrix.toContext(a),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),isNaN(this._clipX)||isNaN(this._clipY)||null==this.clipMode)this.path.draw(a),this.fillStroke(a);else{a.save();const c=this.strokeWidth/2;if(null!=this._clipPath||(this._clipPath=new Gg),this._clipPath.clear(),this._clipPath.rect(-c,-c,this._clipX+c,this._clipY+c+c),"normal"===this.clipMode&&(null==(e=this._clipPath)||e.draw(a),a.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(a),this.fillStroke(a)),"punch-out"===this.clipMode){null==(i=this._clipPath)||i.draw(a),a.clip();const{x:u=-1e4,y:d=-1e4,width:h=2e4,height:p=2e4}=null!=(r=this.computeBBox())?r:{};a.clearRect(u,d,h,p)}a.restore()}null==(o=this.fillShadow)||o.markClean(),super.render(n)}else l&&(l.nodesSkipped+=this.nodeCount.count)}};Sa.className="Path",S([Ot()],Sa.prototype,"clipMode",2),S([Ot()],Sa.prototype,"clipX",1),S([Ot()],Sa.prototype,"clipY",1);var ls=class extends Sa{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:n,y:t,size:e}=this,i=e/2;return new wt(n-i,t-i,e,e)}applyPath(n,t){const{path:e}=this;let{x:i,y:r}=this;e.clear();for(const{x:o,y:a,t:s}of t)i+=o*n,r+=a*n,"move"===s?e.moveTo(i,r):e.lineTo(i,r);e.closePath()}};S([Ot()],ls.prototype,"x",2),S([Ot()],ls.prototype,"y",2),S([Ot({convertor:Math.abs})],ls.prototype,"size",2);var dc=class extends ls{updatePath(){const{x:n,y:t,path:e,size:i}=this,r=i/2;e.clear(),e.arc(n,t,r,0,2*Math.PI),e.closePath()}};dc.className="Circle";var S1=class vie extends ls{updatePath(){super.applyPath(this.size/4.2,vie.moves)}};S1.className="Cross",S1.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var l3e=S1,x1=class yie extends ls{updatePath(){super.applyPath(this.size/2,yie.moves)}};x1.className="Diamond",x1.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var zZ=x1,WZ=class extends ls{rad(n){return n/180*Math.PI}updatePath(){const{x:n,path:t,size:e,rad:i}=this,r=e/4,o=this.y+r/2;t.clear(),t.arc(n-r,o-r,r,i(130),i(330)),t.arc(n+r,o-r,r,i(220),i(50)),t.lineTo(n,o+r),t.closePath()}};WZ.className="Heart";var E1=class _ie extends ls{updatePath(){super.applyPath(this.size/3,_ie.moves)}};E1.className="Plus",E1.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var c3e=E1,Bg=class extends ls{updatePath(){const{path:n,x:t,y:e}=this,i=this.size/2;n.clear(),n.moveTo(this.align(t-i),this.align(e-i)),n.lineTo(this.align(t+i),this.align(e-i)),n.lineTo(this.align(t+i),this.align(e+i)),n.lineTo(this.align(t-i),this.align(e+i)),n.closePath()}};Bg.className="Square";var D1=class Cie extends ls{updatePath(){super.applyPath(1.1*this.size,Cie.moves)}};D1.className="Triangle",D1.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Hg=D1,$Z={circle:dc,cross:l3e,diamond:zZ,heart:WZ,plus:c3e,square:Bg,triangle:Hg},u3e=Object.keys($Z);function KZ(n){return"string"==typeof n&&u3e.includes(n)}function Xd(n=Bg){return KZ(n)?$Z[n]:"function"==typeof n?n:Bg}var Vn=class extends $e{constructor(){super({name:"markerLabelGroup"}),this.label=new ii,this.line=new tr,this._marker=new Bg,this._markerSize=15,this._spacing=8;const{marker:n,label:t,line:e}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=ln.has.textMetrics?1:0,this.append([e,n,t]),this.update()}set marker(n){this._marker!==n&&(this.removeChild(this._marker),this._marker=n,this.appendChild(n),this.update())}get marker(){return this._marker}set markerSize(n){this._markerSize!==n&&(this._markerSize=n,this.update())}get markerSize(){return this._markerSize}set spacing(n){this._spacing!==n&&(this._spacing=n,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(n){const t=this.marker.size/2+n;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize,this.label.x=Math.max(this.line.visible?this.line.x2:-1/0,this.markerSize/2)+this.spacing}render(n){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(n)}};Vn.className="MarkerLabel",S([Oi("label")],Vn.prototype,"text",2),S([Oi("label")],Vn.prototype,"fontStyle",2),S([Oi("label")],Vn.prototype,"fontWeight",2),S([Oi("label")],Vn.prototype,"fontSize",2),S([Oi("label")],Vn.prototype,"fontFamily",2),S([Oi("label","fill")],Vn.prototype,"color",2),S([Oi("marker","fill")],Vn.prototype,"markerFill",2),S([Oi("marker","stroke")],Vn.prototype,"markerStroke",2),S([Oi("marker","strokeWidth")],Vn.prototype,"markerStrokeWidth",2),S([Oi("marker","fillOpacity")],Vn.prototype,"markerFillOpacity",2),S([Oi("marker","strokeOpacity")],Vn.prototype,"markerStrokeOpacity",2),S([Oi("marker","visible")],Vn.prototype,"markerVisible",2),S([Oi("line","stroke")],Vn.prototype,"lineStroke",2),S([Oi("line","strokeWidth")],Vn.prototype,"lineStrokeWidth",2),S([Oi("line","strokeOpacity")],Vn.prototype,"lineStrokeOpacity",2),S([Oi("line","lineDash")],Vn.prototype,"lineLineDash",2),S([Oi("line","visible")],Vn.prototype,"lineVisible",2);var jg=class extends bi{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};S([R(qt)],jg.prototype,"color",2),S([R(zd,{optional:!0})],jg.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],jg.prototype,"fontWeight",2),S([R(Ce)],jg.prototype,"fontSize",2),S([R(xe)],jg.prototype,"fontFamily",2);var Su=class extends bi{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};S([R(Ce)],Su.prototype,"size",2),S([R(qt,{optional:!0})],Su.prototype,"fill",2),S([R(di,{optional:!0})],Su.prototype,"fillOpacity",2),S([R(qt,{optional:!0})],Su.prototype,"stroke",2),S([R(Ce)],Su.prototype,"strokeWidth",2),S([R(di)],Su.prototype,"strokeOpacity",2);var _T=class extends bi{constructor(n){super(),this.parent=n,this.shape=Hg,this.size=15,this.padding=8}};S([Jn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],_T.prototype,"shape",2),S([R(Ce)],_T.prototype,"size",2),S([R(Ce)],_T.prototype,"padding",2);var qp=class extends bi{constructor(n,t,e,i){super(),this.chartUpdateCallback=n,this.pageUpdateCallback=t,this.regionManager=e,this.cursorManager=i,this.id=nc(this),this.marker=new _T(this),this.activeStyle=new Su,this.inactiveStyle=new Su,this.highlightStyle=new Su,this.label=new jg,this.group=new $e({name:"pagination"}),this.labelNode=new ii,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Hg,this._previousButton=new Hg,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:ln.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const r=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(r.addListener("click",o=>this.onPaginationClick(o)),r.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(n=>n())}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(n){this._enabled=n,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(n){"horizontal"===(this._orientation=n,n)?(this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2):(this.previousButton.rotation=0,this.nextButton.rotation=Math.PI)}get orientation(){return this._orientation}set nextButton(n){this._nextButton!==n&&(this.group.removeChild(this._nextButton),this._nextButton=n,this.group.appendChild(n))}get nextButton(){return this._nextButton}set previousButton(n){this._previousButton!==n&&(this.group.removeChild(this._previousButton),this._previousButton=n,this.group.appendChild(n))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:n,padding:t}=this.marker;this.nextButton.size=n,this.previousButton.size=n,this.labelNode.x=n/2+t}updateNextButtonPosition(){const n=this.labelNode.computeBBox();this.nextButton.translationX=n.x+n.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:n,totalPages:t,labelNode:e,label:{color:i,fontStyle:r,fontWeight:o,fontSize:a,fontFamily:s}}=this;e.text=`${n+1} / ${t}`,e.fill=i,e.fontStyle=r,e.fontWeight=o,e.fontSize=a,e.fontFamily=s}updateMarkers(){const{nextButton:n,previousButton:t,nextButtonDisabled:e,previousButtonDisabled:i,activeStyle:r,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(c,u)=>u?o:c===s?a:r;this.updateMarker(n,l("next",e)),this.updateMarker(t,l("previous",i))}updateMarker(n,t){var e;const{size:i}=this.marker;n.size=i,n.fill=t.fill,n.fillOpacity=null!=(e=t.fillOpacity)?e:1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:n,totalPages:t}=this,e=0===t,r=0===n;this.nextButtonDisabled=n===t-1||e,this.previousButtonDisabled=r||e}nextButtonContainsPoint(n,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(n,t)}previousButtonContainsPoint(n,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(n,t)}onPaginationClick(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.incrementPage(),this.onPaginationChanged(),n.consume()):this.previousButtonContainsPoint(t,e)&&(this.decrementPage(),this.onPaginationChanged(),n.consume())}onPaginationMouseMove(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const n=Xd(this.marker.shape||Hg);this.previousButton=new n,this.nextButton=new n,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(n){n.append(this.group)}computeBBox(){return this.group.computeBBox()}};qp.className="Pagination",S([R(Ye)],qp.prototype,"marker",2),S([R(Ye)],qp.prototype,"activeStyle",2),S([R(Ye)],qp.prototype,"inactiveStyle",2),S([R(Ye)],qp.prototype,"highlightStyle",2),S([R(Ye)],qp.prototype,"label",2);var Zd=class extends bi{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};S([R(Ce,{optional:!0})],Zd.prototype,"maxLength",2),S([R(qt)],Zd.prototype,"color",2),S([R(zd,{optional:!0})],Zd.prototype,"fontStyle",2),S([R(Wd,{optional:!0})],Zd.prototype,"fontWeight",2),S([R(Ce)],Zd.prototype,"fontSize",2),S([R(xe)],Zd.prototype,"fontFamily",2),S([R(is,{optional:!0})],Zd.prototype,"formatter",2);var Ug=class extends bi{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};S([Ig(n=>{var t;return null==(t=n.parent)?void 0:t.onMarkerShapeChange()})],Ug.prototype,"shape",2),S([R(Ce)],Ug.prototype,"size",2),S([R(Ce)],Ug.prototype,"padding",2),S([R(Ce,{optional:!0})],Ug.prototype,"strokeWidth",2),S([R(rt)],Ug.prototype,"enabled",2);var T1=class extends bi{};S([R(Ce,{optional:!0})],T1.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],T1.prototype,"length",2);var xu=class extends bi{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new Ug,this.label=new Zd,this.line=new T1}};S([R(Ce,{optional:!0})],xu.prototype,"maxWidth",2),S([R(Ce)],xu.prototype,"paddingX",2),S([R(Ce)],xu.prototype,"paddingY",2),S([R(rt)],xu.prototype,"toggleSeriesVisible",2),S([R(rt)],xu.prototype,"showSeriesStroke",2),S([R(Ye)],xu.prototype,"marker",2),S([R(Ye)],xu.prototype,"label",2),S([R(Ye)],xu.prototype,"line",2);var M1=class extends bi{};S([R(is,{optional:!0})],M1.prototype,"legendItemClick",2),S([R(is,{optional:!0})],M1.prototype,"legendItemDoubleClick",2);var Vo=class extends bi{constructor(n){super(),this.ctx=n,this.id=nc(this),this.group=new $e({name:"legend",layer:!0,zIndex:9}),this.itemSelection=ji.select(this.group,Vn),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new xu,this.listeners=new M1,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new qp(i=>n.updateService.update(i),i=>this.updatePageNumber(i),n.regionManager,n.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const e=n.regionManager.addRegion("legend",this.group);this.destroyFns.push(e.addListener("click",i=>this.checkLegendClick(i),9),e.addListener("dblclick",i=>this.checkLegendDoubleClick(i),9),e.addListener("hover",i=>this.handleLegendMouseMove(i)),e.addListener("leave",i=>this.handleLegendMouseExit(i)),n.layoutService.addListener("start-layout",i=>this.positionLegend(i.shrinkRect)),()=>this.detachLegend())}set data(n){this._data=n,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(n=>n()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(n){const{characterWidths:t}=this;if(t.has(n))return t.get(n);const e={"...":ln.getTextSize("...",n).width};return t.set(n,e),e}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(n){n.append(this.group)}detachLegend(){var n;null==(n=this.group.parent)||n.removeChild(this.group)}getItemLabel(n){const{ctx:{callbackCache:t}}=this,{formatter:e}=this.item.label;return e?t.call(e,{itemId:n.itemId,value:n.label.text,seriesId:n.seriesId}):n.label.text}performLayout(n,t){const{paddingX:e,paddingY:i,label:r,maxWidth:o,marker:{size:a,padding:s,shape:l},label:{maxLength:c=1/0,fontStyle:u,fontWeight:d,fontSize:h,fontFamily:p},line:f,showSeriesStroke:m}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const v=[],y=$d(r),b=o??.8*n,w=a+s+e;if(this.itemSelection.each((Y,ne)=>{var fe,W,$;const X=Xd(l??ne.marker.shape),ce=null!=(fe=ne.marker.enabled)?fe:this.item.marker.enabled;Y.marker&&Y.marker instanceof X||(Y.marker=new X),Y.markerSize=a,Y.spacing=s,Y.fontStyle=u,Y.fontWeight=d,Y.fontSize=h,Y.fontFamily=p;const Ee=null!=(W=ne.itemId)?W:ne.id,Ae=(this.getItemLabel(ne)??"<unknown>").replace(/\r?\n/g," ");Y.text=this.truncate(Ae,c,b,w,y,Ee),m&&void 0!==ne.line?(Y.lineVisible=!0,Y.markerVisible=ce,Y.setSeriesStrokeOffset(null!=($=f.length)?$:5)):(Y.lineVisible=!1,Y.markerVisible=!0),v.push(Y.computeBBox())}),n=Math.max(1,n),t=Math.max(1,t),!isFinite(n))return!1;const E=this.size,M=this.oldSize;E[0]=n,E[1]=t,(E[0]!==M[0]||E[1]!==M[1])&&(M[0]=E[0],M[1]=E[1]);const{pages:P,maxPageHeight:I,maxPageWidth:k}=this.updatePagination(v,n,t);this.pages=P,this.maxPageSize=[k-e,I-i];const L=this.pagination.currentPage;this.pages.length<1||!this.pages[L]?this.visible=!1:(this.visible=!0,this.updatePositions(L),this.update())}truncate(n,t,e,i,r,o){const s=n.split("");let l=!1;if(n.length>t&&(n=`${n.substring(0,t)}`,l=!0),Math.floor(i+ln.getTextSize(n,r).width)>e){let u="";const d=this.getCharacterWidths(r);let h=i+d["..."];for(const p of s){if(d[p]||(d[p]=ln.getTextSize(p,r).width),h+=d[p],h>e)break;u+=p}n=u,l=!0}return l?(n+="...",this.truncatedItems.add(o)):this.truncatedItems.delete(o),n}updatePagination(n,t,e){const i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,n.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(n,t,e),u=o.findIndex(y=>y.endIndex>=r);this.pagination.currentPage=ti(0,u,o.length-1);const{paddingX:d,paddingY:h}=this.item,m=a-h;let g=0,v=-l.y-this.item.marker.size/2;return c?v+=m+8:(g+=s-d-l.x+8,v+=(m-l.height)/2),this.pagination.translationX=g,this.pagination.translationY=v,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(n,t,e){var i,r,o;const{paddingX:a,paddingY:s}=this.item,l=this.getOrientation(),c=["left","right"].includes(this.position);let u=this.pagination.computeBBox(),d=new wt(0,0,0,0),h=[],p=0,f=0,m=0;const g=y=>{const{width:_,height:b}=y;return _===u.width&&b===u.height},v=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(m++>10){Me.warn("unable to find stable legend layout.");break}u=d;const b=Qje({orientation:l,bboxes:n,maxHeight:e-(c?u.height:0),maxWidth:t-(c?0:u.width),itemPaddingY:s,itemPaddingX:a,forceResult:v});h=null!=(i=b?.pages)?i:[],p=null!=(r=b?.maxPageWidth)?r:0,f=null!=(o=b?.maxPageHeight)?o:0;const w=h.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:p,maxPageHeight:f,pages:h,paginationBBox:u,paginationVertical:c}}updatePositions(n=0){const{item:{paddingY:t},itemSelection:e,pages:i}=this;if(i.length<1||!i[n])return;const{columns:r,startIndex:o,endIndex:a}=i[n];let s=0,l=0;const c=r.length,u=r[0].indices.length,d="horizontal"===this.getOrientation(),h=r[0].bboxes[0].height+t,p=[];e.each((f,m,g)=>{var v,y;if(g<o||g>a)return void(f.visible=!1);const _=g-o;let b=0,w=0;d?(b=_%c,w=Math.floor(_/c)):(b=Math.floor(_/u),w=_%u),f.visible=!0;const E=r[b];E&&(l=h*w,s=null!=(v=p[w])?v:0,p[w]=(null!=(y=p[w])?y:0)+E.columnWidth,f.translationX=Math.floor(s),f.translationY=Math.floor(l))})}updatePageNumber(n){const{pages:t}=this,{startIndex:e,endIndex:i}=t[n];this.paginationTrackingIndex=0===e?0:n===t.length-1?i:Math.floor((e+i)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(n),this.ctx.updateService.update(6)}update(){const{label:{color:n},marker:t,line:e,showSeriesStroke:i}=this.item;this.itemSelection.each((r,o)=>{var a,s;const l=o.marker;r.markerFill=l.fill,r.markerStroke=l.stroke,r.markerStrokeWidth=null!=(a=t.strokeWidth)?a:Math.min(2,l.strokeWidth),r.markerFillOpacity=l.fillOpacity,r.markerStrokeOpacity=l.strokeOpacity,r.opacity=o.enabled?1:.5,r.color=n;const{line:c}=o;i&&void 0!==c&&(r.lineStroke=c.stroke,r.lineStrokeOpacity=c.strokeOpacity,r.lineStrokeWidth=null!=(s=e.strokeWidth)?s:Math.min(2,c.strokeWidth),r.lineLineDash=c.lineDash)})}getDatumForPoint(n,t){const e=[],i={dist:1/0,datum:void 0};for(const o of this.group.children){if(!(o.visible&&o instanceof Vn))continue;const a=o.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(n,t))return o.datum;const s=n-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,c=Pt(s,2)+Pt(l,2);s>=0&&l>=0&&c<i.dist&&(i.dist=c,i.datum=o.datum),e.push(a)}if(wt.merge(e).containsPoint(n,t))return i.datum}computePagedBBox(){const n=this.group.computeBBox();if(this.pages.length<=1)return n;const[t,e]=this.maxPageSize;return n.height=Math.max(e,n.height),n.width=Math.max(t,n.width),n}checkLegendClick(n){const{listeners:{legendItemClick:t},ctx:{chartService:e,highlightManager:i},item:{toggleSeriesVisible:r},preventHidingAll:o}=this,a=this.getDatumForPoint(n.offsetX,n.offsetY);if(!a)return;const{id:s,itemId:l,enabled:c}=a,u=e.series.find(h=>h.id===s);if(!u)return;n.consume();let d=c;r&&(d=!c,o&&!d&&e.series.flatMap(p=>p.getLegendData("category")).filter(p=>p.enabled).length<2&&(d=!0),this.ctx.chartEventManager.legendItemClick(u,l,d,a.legendItemName)),d?i.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):i.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:d,itemId:l,seriesId:u.id})}checkLegendDoubleClick(n){var t;const{listeners:{legendItemDoubleClick:e},ctx:{chartService:i},item:{toggleSeriesVisible:r}}=this;if("integrated"===i.mode)return;const o=this.getDatumForPoint(n.offsetX,n.offsetY);if(!o)return;const{id:a,itemId:s,seriesId:l}=o,c=i.series.find(u=>u.id===a);if(c){if(n.consume(),r){const u=i.series.flatMap(p=>p.getLegendData("category")),d=u.filter(p=>p.enabled).length,h=u.find(p=>p.itemId===s&&p.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(c,s,null!=(t=h?.enabled)&&t,d,h?.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e?.({type:"dblclick",enabled:!0,itemId:s,seriesId:c.id})}}handleLegendMouseMove(n){var t;const{enabled:e,item:{toggleSeriesVisible:i},listeners:r}=this;if(!e)return;const{offsetX:o,offsetY:a}=n;n.consume();const s=this.getDatumForPoint(o,a);if(void 0===s)return this.ctx.cursorManager.updateCursor(this.id),void this.ctx.highlightManager.updateHighlight(this.id);const l=s?this.ctx.chartService.series.find(c=>c.id===s?.id):void 0;s&&this.truncatedItems.has(null!=(t=s.itemId)?t:s.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:n,showArrow:!1,addCustomClass:!1},rb({content:this.getItemLabel(s)})):this.ctx.tooltipManager.removeTooltip(this.id),(i||null!=r.legendItemClick||null!=r.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),s?.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:s?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(n){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(n){const t=n.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[e,i]=this.calculateLegendDimensions(n);this.group.translationX=0,this.group.translationY=0,this.performLayout(e,i);const r=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return n.height-r.height;default:return n.width-r.width}};if(this.visible){let a,s;switch(this.position){case"top":case"bottom":a=(n.width-r.width)/2,s=o(),t.shrink(r.height,this.position);break;default:a=o(),s=(n.height-r.height)/2,t.shrink(r.width,this.position)}this.group.translationX=Math.floor(-r.x+n.x+a),this.group.translationY=Math.floor(-r.y+n.y+s)}if(this.visible&&this.enabled&&this.data.length){t.shrink(this.spacing,this.position);const s=r.clone();s.x+=this.group.translationX,s.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,s)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(n){const{width:t,height:e}=n,i=t/e;let s,l;switch(this.position){case"top":case"bottom":const c=i<1?Math.min(.5,1/i*.2):.2;s=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,e):Math.round(e*c);break;default:const u=i>1?Math.min(.5,.25*i):.25;s=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*u),l=this.maxHeight?Math.min(this.maxHeight,e):e}return[s,l]}};Vo.className="Legend",S([R(Ye)],Vo.prototype,"pagination",2),S([R(Ye)],Vo.prototype,"item",2),S([R(Ye)],Vo.prototype,"listeners",2),S([Ig(n=>n.updateGroupVisibility()),R(rt)],Vo.prototype,"enabled",2),S([R($N)],Vo.prototype,"position",2),S([R(Ce,{optional:!0})],Vo.prototype,"maxWidth",2),S([R(Ce,{optional:!0})],Vo.prototype,"maxHeight",2),S([R(rt,{optional:!0})],Vo.prototype,"reverseOrder",2),S([R(vn(["horizontal","vertical"],"an orientation"),{optional:!0})],Vo.prototype,"orientation",2),S([R(rt,{optional:!0})],Vo.prototype,"preventHidingAll",2),S([R(Ce)],Vo.prototype,"spacing",2);var d3e=["top","right","bottom","left"],YZ=["category","grouped-category","number","log","time"],Eu="ag-chart-overlay",A1="ag-chart-dark-overlay",zg=class{constructor(n,t,e){this.className=n,this.parentElement=t,this.animationManager=e,this.darkTheme=!1}show(n){var t,e;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,Eu)),this.element.classList.toggle(A1,this.darkTheme);const{element:i}=this;if(i.style.position="absolute",i.style.left=`${n.x}px`,i.style.top=`${n.y}px`,i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,this.renderer)i.innerHTML=this.renderer();else{const r=this.createElement("div");r.style.alignItems="center",r.style.boxSizing="border-box",r.style.display="flex",r.style.justifyContent="center",r.style.margin="8px",r.style.height="100%",r.style.font="12px Verdana, sans-serif",r.innerText=null!=(t=this.text)?t:"No data to display",i.replaceChildren(r),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){i.style.opacity=String(o)},onStop(){i.style.opacity="1"}})}null==(e=this.parentElement)||e.append(i)}hide(){if(!this.element)return;const n=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){n.style.opacity=String(t)},onStop(){n.remove()}}),this.element=void 0}createElement(n,t){return this.parentElement.ownerDocument.createElement(n,t)}};S([R(is,{optional:!0})],zg.prototype,"renderer",2),S([R(xe,{optional:!0})],zg.prototype,"text",2),S([R(rt)],zg.prototype,"darkTheme",2);var v3e=`\n.${Eu} {\n    color: #181d1f;\n}\n\n.${Eu}.${A1} {\n    color: #ffffff;\n}\n\n.${Eu}--loading {\n    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */\n}\n\n.${Eu}__loading-background {\n    background: white; /* DEFAULT_BACKGROUND_FILL */\n}\n\n.${Eu}.${A1} .${Eu}__loading-background {\n    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */\n}\n`,qZ=class jG{constructor(t,e){this.loading=new zg("ag-chart-loading-overlay",t,e),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,e),this.noData=new zg("ag-chart-no-data-overlay",t,e),this.noVisibleSeries=new zg("ag-chart-no-visible-series",t,e),this.noVisibleSeries.text="No visible series",jG.overlayDocuments.indexOf(t.ownerDocument)<0&&(dT(t.ownerDocument,v3e),jG.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,e){var i;const r=this.createElement(t,"div");r.className=`${Eu}--loading`,r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.flexDirection="column",r.style.height="100%",r.style.boxSizing="border-box",r.style.font="13px Verdana, sans-serif",r.style.userSelect="none",r.style.animation=`ag-charts-loading ${HN.animationDuration*e.defaultDuration}ms linear 50ms both`;const o=this.createElement(r,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";const a=this.createElement(r,"p");a.style.marginTop="1em",a.innerText=null!=(i=this.loading.text)?i:"Loading data...";const s=this.createElement(t,"div");s.className=`${Eu}__loading-background`,s.style.position="absolute",s.style.top="0",s.style.right="0",s.style.bottom="0",s.style.left="0",s.style.opacity="0.5",s.style.zIndex="-1";const l=this.createElement(r,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),r.replaceChildren(l,o,a,s),r.outerHTML}createElement(t,e,i){return t.ownerDocument.createElement(e,i)}};qZ.overlayDocuments=[];var y3e=qZ;function CT(n,t=[0,0]){for(const e of n)"number"==typeof e&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function _3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:r=>CT(r)}}function XZ(n,t,e){return{id:t,scopes:[n.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:i=>CT(i),groupAggregateFunction:(i,r=[0,0])=>{var o,a;return r[0]+=null!=(o=i?.[0])?o:0,r[1]+=null!=(a=i?.[1])?a:0,r}}}function ZZ(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:r=>pb(r)}}function C3e(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function O1(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,i=[0,0])=>{var r,o;return i[0]+=null!=(r=e?.[0])?r:0,i[1]+=null!=(o=e?.[1])?o:0,i}}}function b3e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:r=>CT(r).map(o=>o/r.length)}}function QZ(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:r=>CT(r),groupAggregateFunction:(r,o=[0,0,-1])=>{var a,s;return o[0]+=null!=(a=r?.[0])?a:0,o[1]+=null!=(s=r?.[1])?s:0,o[2]++,o},finalFunction:(r=[0,0,0])=>{const o=r[0]+r[1];return o>=0?[0,o/r[2]]:[o/r[2],0]}}}function R1(n,t,e,i){const r={id:t,scopes:[n.id],matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:(o,a=[])=>{const s=a[1]-a[0];return e.aggregateFunction(o).map(l=>l/s)}};return e.groupAggregateFunction&&(r.groupAggregateFunction=e.groupAggregateFunction),r}function JZ(n){return()=>{let t=0;return e=>ai(e)?(t+=n?Math.max(0,e):e,t):e}}function eQ(){return()=>{let n=0;return t=>{if(!ai(t))return t;const e=n;return n+=t,e}}}var mb=new Map;function bT(n,t){var e,i,r;const o=JSON.stringify(n,null,0);return mb.has(t)||mb.set(t,new Map),null!=(e=mb.get(t))&&e.has(o)||null==(i=mb.get(t))||i.set(o,t(n)),null==(r=mb.get(t))?void 0:r.get(o)}var P1={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let n=NaN;return(t=1/0,e)=>{const i=e.keys[0],r=Math.abs(i-n);return n=i,!isNaN(r)&&r>0&&r<t?r:t}}},w3e={type:"processor",property:"aggValuesExtent",calculate:n=>{var t,e,i,r;const o=[...null!=(e=null==(t=n.domain.aggValues)?void 0:t[0])?e:[0,0]];for(const[a,s]of null!=(r=null==(i=n.domain.aggValues)?void 0:i.slice(1))?r:[])a<o[0]&&(o[0]=a),s>o[1]&&(o[1]=s);return o}},tQ={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:n}})=>{if(null!=n)return[...n].sort((t,e)=>{for(let i=0;i<t.length;i++){const r=t[i]-e[i];if(0!==r)return r}return 0})}};function S3e({normaliseTo:n,mode:t}){const e=(i,r)=>{const o=i*n/r;return o>=0?Math.min(n,o):Math.max(-n,o)};return()=>()=>(i,r)=>{const o=[0,0];for(const s of r){const l=i[s],c=l<0?0:1;"sum"===t?o[c]+=l:o[c]=0===c?Math.min(o[c],l):Math.max(o[c],l)}const a=Math.max(Math.abs(o[0]),o[1]);for(const s of r)i[s]=e(i[s],a)}}function wT(n,t,e,i="sum"){return{scopes:[n.id],type:"group-value-processor",matchGroupIds:t,adjust:bT({normaliseTo:e,mode:i},S3e)}}function x3e({normaliseTo:n,zeroDomain:t,rangeMin:e,rangeMax:i}){const r=n[1]-n[0],o=(a,s,l)=>{const c=n[0]+(a-s)/l*r;return 0===l?t:c>=n[1]?n[1]:c<n[0]?n[0]:c};return()=>(a,s)=>{let[l,c]=a.domain.values[s];null!=e&&(l=e),null!=i&&(c=i);const u=c-l;a.domain.values[s]=[n[0],n[1]];for(const d of a.data){let h=d.values;"ungrouped"===a.type&&(h=[h]);for(const p of h)p[s]=o(p[s],l,u)}}}function gb(n,t,e,i,r,o){return{scopes:[n.id],type:"property-value-processor",property:t,adjust:bT({normaliseTo:e,rangeMin:r,rangeMax:o,zeroDomain:i},x3e)}}function Wg(n,t=[]){return{type:"processor",scopes:[n.id],property:"animationValidation",calculate(e){var i;const{keys:r,values:o}=e.defs,{input:a,data:s}=e;let l=!0,c=!0;const u=[];for(let h=0;h<o.length;h++)null!=(i=o[h].scopes)&&i.some(p=>p===n.id)&&t.some(p=>o[h].id===p)&&u.push([h,o[h]]);const d=(h,p,f)=>{var m;if("category"===p.valueType)return void(l&&(l=e.domain[f][h].length===a.count));let g=null==(m=s[0])?void 0:m[f][h];for(let v=1;(l||c)&&v<s.length;v++){const y=s[v][f][h];c&&(c=g<=y),l&&(l=g!==y),g=y}};for(let h=0;(l||c)&&h<r.length;h++)d(h,r[h],"keys");for(let h=0;(l||c)&&h<u.length;h++){const[p,f]=u[h];d(p,f,"values")}return{uniqueKeys:l,orderedKeys:c}}}}function E3e({mode:n,separateNegative:t}){return()=>()=>(e,i)=>{const r=[0,0];for(const o of i){const a=e[o],s=qC(a)&&t?0:1;ai(a)&&("normal"===n&&(r[s]+=a),e[o]=r[s],"trailing"===n&&(r[s]+=a))}}}function D3e({mode:n,sum:t}){return()=>{const e=[];let i=!0;return()=>(r,o)=>{let a=0;for(const s of o){const l=r[s],c=i&&"current"===t?0:e[s];e[s]=l;const u="current"===t?l:c;ai(l)&&ai(c)?("normal"===n&&(a+=u),r[s]=a,"trailing"===n&&(a+=u)):r[s]=a}i=!1}}}function iQ(n,t,e,i,r=!1){let o;return o=e.startsWith("window")?bT({mode:e.endsWith("-trailing")?"trailing":"normal",sum:i},D3e):bT({mode:e,separateNegative:r},E3e),{scopes:[n.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function Xp(n,t=!0){return{type:"processor",property:"diff",calculate:e=>{const i={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},r=new Map,o=new Map,a=new Map,s=new Map,l=new Map,c=new Map,u=new Map;for(let d=0;d<Math.max(n.data.length,e.data.length);d++){const h=n.data[d],p=e.data[d],f=h?Qd(h.keys):"",m=p?Qd(p.keys):"";f!==m?(s.has(m)?((t||!YC(s.get(m).values,p.values))&&(a.set(m,p),c.set(m,d),r.set(m,p)),s.delete(m),u.delete(m)):p&&(o.set(m,p),l.set(m,d)),o.has(f)?((t||!YC(o.get(f).values,h.values))&&(a.set(f,h),c.set(f,d),r.set(f,h)),o.delete(f),l.delete(f)):h&&(a.delete(f),c.delete(f),s.set(f,h),u.set(f,d))):YC(h.values,p.values)||(a.set(m,p),c.set(m,d))}return i.added=Array.from(o.keys()),i.updated=Array.from(a.keys()),i.removed=Array.from(s.keys()),i.moved=Array.from(r.keys()),i.addedIndices=Array.from(l.values()),i.updatedIndices=Array.from(c.values()),i.removedIndices=Array.from(u.values()),i.changed=i.added.length>0||i.updated.length>0||i.removed.length>0,i}}}function Qd(n){return Fn(n)?n.map(t=>Fg(t)).join("___"):Fg(n)}var nQ=(n=>(n[n.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",n[n.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",n[n.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",n[n.NEAREST_NODE=3]="NEAREST_NODE",n))(nQ||{});function I1(n){return null!=ab(n,!0)}function rQ(n){return null!=ab(n,!1)}function Mr(n,t,e,i={}){return Q({scopes:[n.id],property:t,type:"key",valueType:e?"range":"category",validation:e?I1:rQ},i)}function xi(n,t,e,i={}){return Q({scopes:[n.id],property:t,type:"value",valueType:e?"range":"category",validation:e?I1:rQ},i)}function F1(n,t,e={}){const i=e,{min:r=-1/0,max:o=1/0}=i,a=Zn(i,["min","max"]);return Q({scopes:[n.id],type:"value",property:t,valueType:"range",validation:I1,processor:()=>s=>ai(s)?ti(r,s,o):s},a)}function T3e(n,t,e,i={}){return Pe(Q({},xi(n,t,e,i)),{processor:()=>{let n=0;return t=>{const e=n;return n=t,e}}})}function oQ(){return()=>{let n=0;return t=>{const e=n;return n=t,e}}}function k1(n,t,e,i={}){const r=i,{onlyPositive:o}=r,a=Zn(r,["onlyPositive"]);return Pe(Q({},xi(n,t,e,a)),{processor:JZ(o)})}function M3e(n,t,e,i={}){return Pe(Q({},xi(n,t,e,i)),{processor:eQ()})}function Jd(n,t,e,i,r="current",o){return[xi(n,t,e,o),iQ(n,o.groupId,i,r,o.separateNegative),...null!=o.rangeId?[ZZ(n,o.rangeId,o.groupId)]:[]]}var vb=class{constructor(n,t,{datum:e},i){this.type=n,this.event=t,this.datum=e,this.seriesId=i.id}},L1=class{constructor(n,t,e){this.series=n,this.seriesGrouping=t,this.oldGrouping=e,this.type="groupingChanged"}},$g=class extends bZ{constructor(n){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=vb,this.internalId=nc(this),this.rootGroup=new $e({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new $X,this._declarationOrder=-1,this.seriesListeners=new Vg;const{moduleCtx:t,useLabelLayer:e=!1,pickModes:i=[1],directionKeys:r={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:s=!1}=n;this.ctx=t,this.directionKeys=r,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new $e({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new $e({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new $e({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new $e({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new $e({name:`${this.internalId}-series-labels`,layer:e,zIndex:7})),this.annotationGroup=new $e({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var n,t;return null!=(t=null==(n=this.properties)?void 0:n.id)?t:this.internalId}get type(){var n;return null!=(n=this.constructor.type)?n:""}set data(n){this._data=n,this.onDataChange()}get data(){var n;return null!=(n=this._data)?n:this._chartData}set visible(n){this.properties.visible=n,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(n){this._chartData=n,this.data===n&&this.onDataChange()}onSeriesGroupingChange(n,t){const{internalId:e,type:i,visible:r}=this;n&&this.ctx.seriesStateManager.deregisterSeries({id:e,type:i}),t&&this.ctx.seriesStateManager.registerSeries({id:e,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new L1(this,t,n))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(n,t=0){let e=0;switch(n){case"data":case"paths":break;case"labels":e+=2e4;break;case"marker":e+=1e4;break;case"highlight":t+=15e3;break;case"annotation":e+=15e3}return[()=>this._declarationOrder+e,t]}addListener(n,t){return this.seriesListeners.addListener(n,t)}dispatch(n,t){this.seriesListeners.dispatch(n,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(n=>n()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(n,t){const e=this.resolveKeyDirection(n),i=t?.[e],r=[];if(!i)return r;const o=(...a)=>{for(const s of a)Array.isArray(s)?o(...s):"object"==typeof s?o(...Object.values(s)):r.push(s)};return o(...i.map(a=>this.properties[a])),r}getKeys(n){return this.getDirectionValues(n,this.directionKeys)}getNames(n){return this.getDirectionValues(n,this.directionNames)}resolveKeyDirection(n){return n}getDomain(n){const t=this.getSeriesDomain(n),e=this.moduleMap.mapValues(i=>i.getDomain(n));return t.concat(e.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||1===t)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return t}}getStrokeWidth(n){const{strokeWidth:t,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||void 0===t)return n;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return n}}isItemIdHighlighted(){var n,t;const{series:e}=null!=(t=null==(n=this.ctx.highlightManager)?void 0:n.getActiveHighlight())?t:{};return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,e)=>Q(Q({},e),t),{})}pickNode(n,t){const{pickModes:e,visible:i,rootGroup:r}=this;if(i&&r.visible)for(const o of e){if(t&&!t.includes(o))continue;let a;switch(o){case 0:a=this.pickNodeExactShape(n);break;case 1:case 2:a=this.pickNodeMainAxisFirst(n,2===o);break;case 3:a=this.pickNodeClosestDatum(n)}if(a)return{pickMode:o,match:a.datum,distance:a.distance}}}pickNodeExactShape(n){const t=this.contentGroup.pickNode(n.x,n.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(n){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(n,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeClick",n,t,this))}fireNodeDoubleClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",n,t,this))}toggleSeriesItem(n,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:n,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return Pe(Q({},this.ctx),{series:this})}getLabelText(n,t,e=String){var i;return n.formatter&&null!=(i=this.ctx.callbackCache.call(n.formatter,Q({seriesId:this.id},t)))?i:e(t.value)}getMarkerStyle(n,t,e=n.getStyle()){var i,r;const a=Vt({size:null!=(r=null==(i=t.datum.point)?void 0:i.size)?r:0},e);return n.formatter?Vt(this.ctx.callbackCache.call(n.formatter,Pe(Q(Q({seriesId:this.id},a),t),{datum:t.datum.datum})),a):a}updateMarkerStyle(n,t,e,i=t.getStyle(),{applyTranslation:r=!0}={}){const{point:o}=e.datum,a=this.getMarkerStyle(t,e,i),s=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);n.setProperties(r?Pe(Q({visible:s},a),{translationX:o?.x,translationY:o?.y}):Q({visible:s},a)),"function"==typeof t.shape&&!n.dirtyPath&&(n.path.clear({trackChanges:!0}),n.updatePath(),n.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var n;return null!=(n=this._nodeDataDependencies)?n:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(n){const{width:t,height:e}=n??{width:NaN,height:NaN},i=n?{seriesRectWidth:t,seriesRectHeight:e}:void 0,r=null!=Ca(this.nodeDataDependencies,i);return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}};$g.highlightedZIndex=1e12,S([Jn({changeValue:function(n,t){this.onSeriesGroupingChange(t,n)}})],$g.prototype,"seriesGrouping",2);var R3e=class{constructor(n,t){this.chartLike=n,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",e=>this.layoutComplete(e)),this.layoutService.addListener("start-layout",e=>this.positionPadding(e.shrinkRect)),this.layoutService.addListener("start-layout",e=>this.positionCaptions(e.shrinkRect)))}destroy(){this.destroyFns.forEach(n=>n())}layoutComplete({clipSeries:n,series:{paddedRect:t}}){const{seriesArea:e,seriesRoot:i}=this.chartLike;e.clip||n?i.setClipRectInGroupCoordinateSpace(t):i.setClipRectInGroupCoordinateSpace()}positionPadding(n){const{padding:t}=this.chartLike;return n.shrink(t.left,"left"),n.shrink(t.top,"top"),n.shrink(t.right,"right"),n.shrink(t.bottom,"bottom"),{shrinkRect:n}}positionCaptions(n){var t,e,i,r;const{title:o,subtitle:a,footnote:s}=this.chartLike,l=n.clone(),c=p=>{var f;const g=null!=(f=p.lineHeight)?f:p.fontSize*ii.defaultLineHeightRatio,v=n.width,y=Math.max(g,n.height/10);p.computeTextWrap(v,y)},u=p=>"left"===p?l.x:"right"===p?l.x+l.width:("center"!==p&&Me.error(`invalid textAlign value: ${p}`),l.x+l.width/2),d=(p,f)=>{const m=l.y;p.node.x=u(p.textAlign),p.node.y=m,p.node.textBaseline="top",c(p);const g=p.node.computeBBox(),v=Math.ceil(g.y-m+g.height+f);l.shrink(v,"top")};return a&&(a.node.visible=null!=(t=a.enabled)&&t),o&&(o.node.visible=o.enabled,o.node.visible)&&d(o,null!=(e=o.spacing)?e:a?.node.visible?qi.SMALL_PADDING:qi.LARGE_PADDING),a&&a.node.visible&&d(a,null!=(i=a.spacing)?i:0),s&&(s.node.visible=s.enabled,s.node.visible&&((p,f)=>{const m=l.y+l.height;p.node.x=u(p.textAlign),p.node.y=m,p.node.textBaseline="bottom",c(p);const g=p.node.computeBBox(),v=Math.ceil(m-g.y+f);l.shrink(v,"bottom")})(s,null!=(r=s.spacing)?r:0)),{shrinkRect:l}}},P3e=class{constructor(n,t,e,i){this.chart=n,this.dataService=t,this.updateService=e,this.zoomManager=i,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(n=>n())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return he(this,null,function*(){if(!this.dataService.isLazy())return;const n=this.getValidAxis();let t,e=!0;if(n){const i=this.zoomManager.getAxisZoom(n.id);t=this.getAxisWindow(n,i),e=this.shouldRefresh(n,i)}this.dirtyZoom=!1,this.dirtyDataSource=!1,e&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})})}getValidAxis(){return this.chart.axes.find(n=>"time"===n.type)}shouldRefresh(n,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const e=this.lastAxisZooms.get(n.id);return!(e&&t.min===e.min&&t.max===e.max||(this.lastAxisZooms.set(n.id,t),0))}getAxisWindow(n,t){var e,i;const r=null==(i=(e=n.scale).getDomain)?void 0:i.call(e);if(!t||!r||0===r.length||isNaN(Number(r[0])))return;const o=Number(r[1])-Number(r[0]);return{min:new Date(Number(r[0])+o*t.min),max:new Date(Number(r[0])+o*t.max)}}},I3e=class{constructor(n,t,e,i){this.chartLike=n,this.overlays=t,this.dataService=e,this.layoutService=i,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(n=>n())}onLayoutComplete({series:{rect:n}}){const t=this.dataService.isLoading(),e=this.chartLike.series.some(r=>{var o;return null==(o=r.data)?void 0:o.length}),i=this.chartLike.series.some(r=>r.visible);this.toggleOverlay(this.overlays.loading,n,t),this.toggleOverlay(this.overlays.noData,n,!t&&!e),this.toggleOverlay(this.overlays.noVisibleSeries,n,e&&!i)}toggleOverlay(n,t,e){e&&t?n.show(t):n.hide()}},sQ=class extends Vg{constructor(n){super(),this.updateCallback=n}update(n=0,t){this.updateCallback(n,t)}dispatchUpdateComplete(n){this.dispatch("update-complete",{type:"update-complete",minRect:n})}},Xs=sn.create(!0,"opts"),N1=class extends bi{constructor(){super(...arguments),this.padding=new qd(0)}};S([R(rt,{optional:!0})],N1.prototype,"clip",2),S([R(Ye)],N1.prototype,"padding",2);var Gn=class bie extends bZ{constructor(t,e){var i;super(),this.id=nc(this),this.seriesRoot=new $e({name:`${this.id}-Series-root`}),this.debug=sn.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new qd(20),this.seriesArea=new N1,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new C1,this.syncManager=new Xje(this),this.zoomManager=new BZ,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(n){return new Promise(t=>{this.acquireQueue.push([n,t]),this.available&&this.dispatchNext()})}acquireImmediately(n){return he(this,null,function*(){return!!this.available&&(yield this.acquire(n),!0)})}waitForClearAcquireQueue(){return he(this,null,function*(){return this.acquire(()=>he(this,null,function*(){}))})}dispatchNext(){return he(this,null,function*(){var n,t;this.available=!1;let[e,i]=null!=(n=this.acquireQueue.shift())?n:[];for(;e;){try{yield e(),i?.()}catch(r){Me.error("mutex callback error",r),i?.()}[e,i]=null!=(t=this.acquireQueue.shift())?t:[]}this.available=!0})}},this.updateRequestors={},this.performUpdateTrigger=function kje(n){return wZ((t,e=0)=>setTimeout(t,e),n)}(d=>he(this,[d],function*({count:h}){this.destroyed||this.updateMutex.acquire(()=>he(this,null,function*(){try{yield this.performUpdate(h)}catch(p){Me.error("update error",p)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=function Fje(n){return wZ((t,e)=>requestAnimationFrame(t),n)}(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=d=>{const h=Pe(Q({},d),{type:"seriesNodeClick"});Object.defineProperty(h,"series",{enumerable:!1,get:()=>d.series}),this.fireEvent(h)},this.onSeriesNodeDoubleClick=d=>{const h=Pe(Q({},d),{type:"seriesNodeDoubleClick"});this.fireEvent(h)},this.seriesGroupingChanged=d=>{if(!(d instanceof L1))return;const{series:h,seriesGrouping:p,oldGrouping:f}=d;null!=h.rootGroup.parent&&this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,rootGroup:h.rootGroup,highlightGroup:h.highlightGroup,annotationGroup:h.annotationGroup,getGroupZIndexSubOrder:m=>h.getGroupZIndexSubOrder(m),seriesGrouping:p,oldGrouping:f})},this.chartOptions=t;const{window:r,document:o}=t.specialOverrides,a=e?.scene,s=null!=(i=e?.element)?i:o.createElement("div"),l=e?.container,c=new $e({name:"root"});c.visible=!1,c.append(this.seriesRoot),this.axisGridGroup=new $e({name:"Axes-Grids",layer:!0,zIndex:1}),c.appendChild(this.axisGridGroup),this.axisGroup=new $e({name:"Axes",layer:!0,zIndex:2}),c.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=a??new g1(this.chartOptions.specialOverrides),this.scene.root=c,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new FZ,this.contextMenuRegistry=new kZ,this.cursorManager=new LZ(s),this.highlightManager=new C1,this.interactionManager=new PZ(s,o,r),this.regionManager=new class{constructor(n){this.interactionManager=n,this.eventHandler=t=>this.processEvent(t),this.regions=new Kje,this.destroyFns=[],AZ.forEach(t=>this.destroyFns.push(n.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(n=>n()),this.currentRegion=void 0;for(const n of this.regions)n.listeners.destroy();this.regions.clear()}pushRegion(n,t){const e={name:n,listeners:new Yje};return this.regions.add(e,t),e}addRegion(n,t){const e=this.pushRegion(n,t),{interactionManager:i}=this;return new class r{addListener(a,s,l=8){return e.listeners.addListener(a,c=>{c.consumed||i.getState()&l&&s(c)})}}}processEvent(n){const{currentRegion:t}=this,e=this.pickRegion(n.offsetX,n.offsetY);void 0!==t&&e?.name!==t.name&&t?.listeners.dispatch("leave",Pe(Q({},n),{type:"leave"})),void 0!==e&&(()=>he(this,null,function*(){return e.listeners.dispatch(n.type,n)}))().catch(r=>Me.errorOnce(r)),this.currentRegion=e}pickRegion(n,t){const e=this.regions.find(n,t);return e.length>0?e[0]:void 0}}(this.interactionManager),this.gestureDetector=new VZ(s),this.layoutService=new HZ,this.updateService=new sQ((d=0,h)=>this.update(d,h)),this.seriesStateManager=new class{constructor(){this.groups={}}registerSeries({id:n,seriesGrouping:t,visible:e,type:i}){var r;t&&(null!=(r=this.groups)[i]||(r[i]={}),this.groups[i][n]={grouping:t,visible:e})}deregisterSeries({id:n,type:t}){this.groups[t]&&delete this.groups[t][n],this.groups[t]&&0===Object.keys(this.groups[t]).length&&delete this.groups[t]}getVisiblePeerGroupIndex({type:n,seriesGrouping:t,visible:e}){var i;if(!t)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};const r=new Set,o=new Set;for(const[s,l]of Object.entries(null!=(i=this.groups[n])?i:{}))l.visible&&(r.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));const a=[...r.values()];return a.sort((s,l)=>s-l),{visibleGroupCount:a.length,visibleSameStackCount:o.size,index:a.indexOf(t.groupIndex)}}},this.seriesLayerManager=new class{constructor(n){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=n}setSeriesCount(n){this.expectedSeriesCount=n}requestGroup(n){var t,i,r;const{internalId:o,type:a,rootGroup:s,highlightGroup:l,annotationGroup:c,seriesGrouping:u}=n,{groupIndex:d=o}=u??{};if(null!=this.series[o])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),null!=(t=this.groups)[a]||(t[a]={});const h=this.lookupIdx(d);let p=this.groups[a][h];return p||(p=null!=(r=(i=this.groups[a])[h])?r:i[h]={seriesIds:[],group:this.rootGroup.appendChild(new $e({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new $e({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new $e({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:p,seriesConfig:n},p.seriesIds.push(o),p.group.appendChild(s),p.highlight.appendChild(l),p.annotation.appendChild(c),p.group}changeGroup(n){var t,e;const{internalId:i,seriesGrouping:r,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l,oldGrouping:c}=n,{groupIndex:u=i}=r??{};null!=(e=null==(t=this.groups[o])?void 0:t[u])&&e.seriesIds.includes(i)||(null!=this.series[i]&&this.releaseGroup({internalId:i,seriesGrouping:c,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l}),this.requestGroup(n))}releaseGroup(n){var t,e,i,r,o;const{internalId:a,seriesGrouping:s,rootGroup:l,highlightGroup:c,annotationGroup:u,type:d}=n,{groupIndex:h=a}=s??{};if(null==this.series[a])throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const p=this.lookupIdx(h),f=null!=(i=null==(t=this.groups[d])?void 0:t[p])?i:null==(e=this.series[a])?void 0:e.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(m=>m!==a),f.group.removeChild(l),f.highlight.removeChild(c),f.annotation.removeChild(u)),0===f?.seriesIds.length)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[d][p],delete this.groups[d][a];else if(f?.seriesIds.length>0){const m=null==(o=this.series[null==(r=f?.seriesIds)?void 0:r[0]])?void 0:o.seriesConfig;f.group.zIndexSubOrder=m?.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=m?.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=m?.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(n){return"normal"===this.mode?n:"string"!=typeof n||(n=Number(n.split("-").slice(-1)[0]))?Math.floor(30*Math.max(Math.min(n/this.expectedSeriesCount,1),0)):0}destroy(){for(const n of Object.values(this.groups))for(const t of Object.values(n))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}}(this.seriesRoot),this.callbackCache=new class{constructor(){this.cache=new WeakMap}call(n,...t){let e,i=this.cache.get(n);const r=()=>{try{const o=n(...t);return i&&null!=e&&i.set(e,o),o}catch(o){return void Me.warnOnce("User callback errored, ignoring",o)}};try{e=JSON.stringify(t)}catch{return r()}return null==i&&(i=new Map,this.cache.set(n,i)),i.has(e)?i.get(e):r()}invalidateCache(){this.cache=new WeakMap}},this.animationManager=new IZ(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new vT(this.animationManager),this.overlays=new y3e(this.element,this.animationManager),this.processors=[new R3e(this,this.layoutService),new P3e(this,this.dataService,this.updateService,this.zoomManager),new I3e(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new OX(this.scene.canvas.element,o,r,o.body),this.tooltipManager=new w1(this.tooltip,this.interactionManager),this.highlight=new xZ,this.container=l,this.attachLegend("category",Vo),this.legend=this.legends.get("category");const{All:u}=yT;SZ.observe(this.element,d=>this.rawResize(d)),this._destroyFns.push(this.dataService.addListener("data-load",d=>{this.data=d.data}),this.interactionManager.addListener("click",d=>this.onClick(d)),this.interactionManager.addListener("dblclick",d=>this.onDoubleClick(d)),this.interactionManager.addListener("hover",d=>this.onMouseMove(d)),this.interactionManager.addListener("leave",d=>this.onLeave(d)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",d=>this.onContextMenu(d),u),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",d=>this.changeHighlightDatum(d)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return bie.chartsInstances.get(t)}onAutoSizeChange(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}getOptions(){var t;return null!=(t=this.queuedUserOptions.at(-1))?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);const e=new t.instanceConstructor(this.getModuleContext());if("legend"===t.type){const i=e;this.legends.set(t.identifier,i),i.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,e)}removeModule(t){var e;"legend"===t.type&&this.legends.delete(t.identifier),null==(e=this.modules.get(t.optionsKey))||e.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,e){const i=new e(this.getModuleContext());this.legends.set(t,i),i.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,null==(t=this.animationManager)||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t?.keepTransferableResources;let i;this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(r=>r.destroy()),this.legends.clear(),this.overlays.destroy(),SZ.unobserve(this.element);for(const r of this.modules.values())r?.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),e?(this.scene.strip(),i={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),i}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>he(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,e){var i,r;const{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:l}=e??{};o&&this.series.forEach(c=>c.markNodeDataDirty());for(const c of s)this.seriesToUpdate.add(c);if(a&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=null!=(i=e?.skipSync)&&i,this.debug.check()){let c=null!=(r=(new Error).stack)?r:"<unknown>";c=c.replace(/\([^)]*/g,""),this.updateRequestors[c]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(e?.backOffMs))}performUpdate(t){return he(this,null,function*(){const{performUpdateType:e,extraDebugStats:i}=this,r=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&e<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",hb[e]);const o={start:performance.now()};switch(e){case 0:case 1:yield this.updateData(),o["\u2b07\ufe0f"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["\u{1f3ed}"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(r))break;yield this.processLayout(),o["\u2316"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:s}=this;yield Promise.all(r.map(c=>c.update({seriesRect:s}))),o["\u{1f914}"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const l=this.tooltipManager.getTooltipMeta(this.id);e<=4&&void 0!==l&&this.handlePointer(l.lastPointerEvent,!0),o["\u2196"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;i.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:i}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(a-o.start))/100,count:t,performUpdateType:hb[e]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Me.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,i=10*Pt(e,2);if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,e){var i,r;const o=null!=(i=e?.filter(a=>!t.includes(a)))?i:[];this.destroySeries(o),null==(r=this.seriesLayerManager)||r.setSeriesCount(t.length);for(const a of t){if(e?.includes(a))continue;null==a.rootGroup.parent&&this.seriesLayerManager.requestGroup(a);const s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels:()=>s.placeLabels()},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t?.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t=MN(this.axes,e=>e.direction);this.series.forEach(e=>{e.directions.forEach(i=>{const r=t[i];if(!r)return void Me.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const o=e.getKeys(i),a=this.findMatchingAxis(r,o);a?e.axes[i]=a:Me.warnOnce(`no matching axis for direction [${i}] and keys [${o}]; check series and axes configuration.`)})})}findMatchingAxis(t,e){for(const i of t){if(!i.keys.length)return i;if(e)for(const r of e)if(i.keys.includes(r))return i}}rawResize(t){var e;let{width:i,height:r}=t;if(i=Math.floor(i),r=Math.floor(r),!this.autoSize||0===i&&0===r)return;const[o=0,a=0]=null!=(e=this._lastAutoSize)?e:[];o===i&&a===r||(this._lastAutoSize=[i,r],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,e,i){var r,o,a,s;if(t??(t=null!=(o=this.width)?o:this.autoSize?null==(r=this._lastAutoSize)?void 0:r[0]:this.scene.canvas.width),e??(e=null!=(s=this.height)?s:this.autoSize?null==(a=this._lastAutoSize)?void 0:a[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${i}`,{width:t,height:e,stack:(new Error).stack}),t&&e&&ai(t)&&ai(e)&&this.scene.resize(t,e)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return he(this,null,function*(){this.series.forEach(e=>e.setChartData(this.data));const t=Array.from(this.modules.values(),e=>{var i;return null==(i=e.updateData)?void 0:i.call(e,{data:this.data})});yield Promise.all(t)})}processData(){return he(this,null,function*(){if(this.series.some(r=>r.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();const r=this.modules.get("sync");r?.enabled&&r.syncAxes(this._skipSync)}const t=new TZ(this.mode),e=this.series.map(r=>r.processData(t)),i=Array.from(this.modules.values(),r=>{var o;return null==(o=r.processData)?void 0:o.call(r,{dataController:t})});t.execute(),yield Promise.all([...e,...i]),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const c of this.series){if(!c.visible)continue;const u=c.getLabelData();fje(u?.[0])&&(e.push(u),t.push(c))}const{seriesRect:i}=this,{top:r,right:o,bottom:a,left:s}=this.seriesArea.padding,l=i&&e.length>0?function mje(n,t,e=5){const i=[];n=n.map(r=>r.slice().sort((o,a)=>a.point.size-o.point.size));for(let r=0;r<n.length;r++){const o=i[r]=[],a=n[r];if(a?.length&&a[0].label)for(let s=0,l=a.length;s<l;s++){const c=a[s],u=c.label,h=c.point.x-.5*u.width,p=c.point.y-.5*c.point.size-u.height-e,{width:f,height:m}=u;t&&!pje(t,h,p,f,m)||n.some(_=>_.some(b=>hje(b.point,h,p,f,m)))||i.some(_=>_.some(b=>sZ(b,h,p,f,m)))||o.push({index:s,text:u.text,x:h,y:p,width:f,height:m,datum:c})}}return i}(e,{x:-s,y:-r,width:i.width+s+o,height:i.height+r+a}):[];return new Map(l.map((c,u)=>[t[u],c]))}updateLegend(){return he(this,null,function*(){this.legends.forEach((t,e)=>{const r=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(e));r.every(a=>"category"===a.legendType)&&"integrated"!==this.mode&&this.validateCategoryLegendData(r),t.data=r})})}validateCategoryLegendData(t){const e={};t.forEach(i=>{var r,a,s;const c=null==(r=this.series.find(u=>u.id===i.seriesId))?void 0:r.type;c&&(null!=e[c]||(e[c]={}),null!=(a=e[c])[s=i.label.text]||(a[s]=new Set),null!=i.marker.fill&&e[c][i.label.text].add(i.marker.fill))});for(const i of Object.values(e))for(const[r,o]of Object.entries(i))o.size>1&&Me.warnOnce(`legend item '${r}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return he(this,null,function*(){var t;const e=this.animationRect;yield this.performLayout(),e&&!(null!=(t=this.animationRect)&&t.equals(e))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return he(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:t,height:e}=this.scene;let i={shrinkRect:new wt(0,0,t,e)};i=this.layoutService.dispatchPerformLayout("start-layout",i),i=this.layoutService.dispatchPerformLayout("before-series",i);const r=Array.from(this.modules.values(),o=>he(this,null,function*(){var a;null!=o.performLayout&&(i=yield null==(a=o.performLayout)?void 0:a.call(o,i))}));return yield Promise.all(r),i.shrinkRect})}pickSeriesNode(t,e,i){var r,o;const a=performance.now(),s=e?[0]:void 0,l=[...this.series].reverse();let c;for(const u of l){if(!u.visible||!u.rootGroup.visible)continue;const{match:d,distance:h}=null!=(r=u.pickNode(t,s))?r:{};if(d&&null!=h&&((!c||c.distance>h)&&h<=(i??1/0)&&(c={series:u,distance:h,datum:d}),0===h))break}return this.extraDebugStats.pickSeriesNode=Math.round((null!=(o=this.extraDebugStats.pickSeriesNode)?o:0)+(performance.now()-a)),c}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:i}=yT;this.interactionManager.getState()&(e|i)&&this.checkSeriesNodeRange(t,(r,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,e){if(8!==this.interactionManager.getState())return;const{lastPick:i,hoverRect:r}=this,{offsetX:o,offsetY:a}=t,s=(l=!1)=>{i&&this.resetPointer(l)};e&&this.animationManager.isActive()?s():r?.containsPoint(o,a)?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()}handlePointerTooltip(t,e){const{lastPick:i,tooltip:r}=this,{range:o}=r,{offsetX:a,offsetY:s}=t;let l;ai(o)&&(l=o);const c=this.pickSeriesNode({x:a,y:s},"exact"===o,l);if(!c)return this.tooltipManager.removeTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));const u="node"===this.highlight.range||!i||i!==c.datum;let d;u&&(d=c.series.getTooltipHtml(c.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,c.datum));const g=this.tooltip.enabled&&c.series.properties.tooltip.enabled&&("nearest"===o||null!=l||"exact"===o&&0===c.distance)&&(!u||void 0!==d),v=w1.makeTooltipMeta(t,c.datum);g&&this.tooltipManager.updateTooltip(this.id,v,d)}handlePointerNode(t){this.checkSeriesNodeRange(t,(i,r)=>{(i.hasEventListener("nodeClick")||i.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,r)})||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))}onClick(t){this.checkSeriesNodeClick(t)?this.update(4):this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){this.checkSeriesNodeDoubleClick(t)?this.update(4):this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,i)=>e.fireNodeClickEvent(t.sourceEvent,i))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,i)=>e.fireNodeDoubleClickEvent(t.sourceEvent,i))}checkSeriesNodeRange(t,e){const i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),r=i?.datum,o=r?.series.properties.nodeClickRange;let a;ai(o)&&(a=o);let s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);return s?this.highlightManager.updatePicked(this.id,s.datum):this.highlightManager.updatePicked(this.id),r&&"nearest"===o?(e(r.series,r),!0):("exact"!==o&&(s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,a)),!!s&&!(null==a&&("exact"!==o||0!==s.distance)||(e(s.series,s.datum),0)))}changeHighlightDatum(t){var e,i;const r=new Set,{series:o,datum:a}=null!=(e=t.currentHighlight)?e:{},{series:s,datum:l}=null!=(i=t.previousHighlight)?i:{};s&&r.add(s),o&&r.add(o),s?.properties.cursor&&l&&this.cursorManager.updateCursor(s.id),o?.properties.cursor&&a&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,null==o||null==s?this.update(4):this.update(4,{seriesToUpdate:r})}waitForUpdate(t=5e3){return he(this,null,function*(){const e=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());7!==this.performUpdateType;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield Rje(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){const t=this.series.map(e=>e.getMinRect()).filter(e=>void 0!==e);if(t.length)return new wt(0,0,t.reduce((e,i)=>Math.max(e,i.width),0),t.reduce((e,i)=>Math.max(e,i.height),0))}filterMiniChartSeries(t){return null!=t?t.filter(e=>!1!==e.showInMiniChart):t}applyOptions(t){var e,i,r,o,a,s;const l=this.processedOptions,c=t.diffOptions(l),u=t.userOptions;if(null==c)return;Xs("AgChartV2.updateDelta() - applying delta",c);const d=Vt(c,l),h=this.applyModules(d),p=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(Op(c)||GC(c))&&p.push("axes"),c.listeners&&this.registerListeners(this,c.listeners),this.applyOptionValues(this,c,{skip:p});let f=!1,m="no-op";c.series&&c.series.length>0&&(m=this.applySeries(this,c.series,l?.series),f=!0),"replaced"===m&&this.resetAnimations(),this.applyAxes(this,d,l,m)&&(f=!0);const g=!!c.data||"data-change"===m||"replaced"===m,v=function O2e(){return P9}(),y=Object.values(v).some(I=>null!=c[I]);f=f||g||y||null!=c.title&&null!=c.subtitle,c.data&&(this.data=c.data),null!=(e=c.legend)&&e.listeners&&Object.assign(this.legend.listeners,c.legend.listeners),c.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=d,this.userOptions=Vt(u,this.userOptions);const b=this.modules.get("navigator"),w=this.modules.get("zoom");!b?.enabled&&!w?.enabled&&this.zoomManager.updateZoom();const E=b?.miniChart;if(!0===E?.enabled&&null!=c?.series){const I=this.applySeries(E,this.filterMiniChartSeries(c.series),this.filterMiniChartSeries(l?.series));this.applyAxes(E,c,l,I,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const k=E.axes,L=k.find(B=>"x"===B.direction);for(const B of k)B.gridLine.enabled=!1,B.label.enabled=B===L,B.tick.enabled=!1,B.interactionEnabled=!1;if(null!=L){const B=null==(r=null==(i=c.navigator)?void 0:i.miniChart)?void 0:r.label,Y=null==(s=null==(a=null==(o=c.navigator)?void 0:o.miniChart)?void 0:a.label)?void 0:s.interval;Hd(L.label,B,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),Hd(L.tick,Y,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});const ne=Y?.step;null!=ne&&(L.tick.interval=ne)}}else!1===E?.enabled&&(E.series=[],E.axes=[]);const P=f||h?1:3;Xs("AgChartV2.applyChartOptions() - update type",hb[P]),this.update(P,{forceNodeDataRefresh:f,newAnimationBatch:!0})}applyModules(t){let e=!1;for(const i of Ql){if("root"!==i.type&&"legend"!==i.type)continue;const r=t[i.optionsKey],o=i.chartTypes.includes(this.constructor.type)&&null!=r;o!==this.isModuleEnabled(i)&&(o?(this.addModule(i),this[i.optionsKey]=this.modules.get(i.optionsKey)):(this.removeModule(i),delete this[i.optionsKey]),e=!0)}return e}applySeries(t,e,i){if(!e)return"no-change";const r=function g3e(n,t,e){var i,r,o;const a=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],s=(f,m)=>{const g=[f];for(const v of a)v in m&&null!=m[v]&&g.push(`${v}=${m[v]}`);return g.join(";")},l=new Map;let c=0;for(const f of n){const m=s(f.type,f.properties);l.has(m)||l.set(m,[]),null==(i=l.get(m))||i.push([f,c++])}const u=new Map;for(const f of t){const m=s(f.type,f);u.has(m)||u.set(m,[]),null==(r=u.get(m))||r.push(f)}if(![...l.keys()].some(f=>u.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:u.keys()};const h=[];let p=-1;for(const[f,m]of u.entries())for(const g of m){p++;const v=l.get(f);if(null==v||v.length<1){h.push({opts:g,idx:p,status:"add"}),l.delete(f);continue}const[y,_]=v.shift(),w=Ca(null!=(o=e?.[_])?o:{},g??{});h.push(w?{opts:g,series:y,diff:w,idx:_,status:"update"}:{opts:g,series:y,idx:_,status:"no-op"}),0===v.length&&l.delete(f)}for(const f of l.values())for(const[m,g]of f)h.push({series:m,idx:g,status:"remove"});return{status:"overlap",changes:h}}(t.series,e,i);if("no-overlap"===r.status)return Xs(`AgChartV2.applySeries() - creating new series instances, status: ${r.status}`,r),t.series=this.createSeries(e),"replaced";Xs("AgChartV2.applySeries() - matchResult",r);const o=[];for(const l of r.changes){if("add"===l.status){const h=this.createSeries([l.opts])[0];o.push(h),Xs("AgChartV2.applySeries() - created new series",h);continue}if("remove"===l.status){Xs(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}if("no-op"===l.status){o.push(l.series),Xs(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}const{series:c,diff:u,idx:d}=l;Xs(`AgChartV2.applySeries() - applying series diff previous idx ${d}`,u,c),this.applySeriesValues(c,u),c.markNodeDataDirty(),o.push(c)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;Xs("AgChartV2.applySeries() - final series instances",o),t.series=o;const a=r.changes.some(({diff:l})=>l&&(null!=l.seriesGrouping||null!=l.data)),s=r.changes.every(l=>"no-op"===l.status);return a?"data-change":s?"no-op":"updated"}applyAxes(t,e,i,r,o=[]){if(!("axes"in e)||!e.axes)return!1;o=["axes[].type",...o];const{axes:a}=e;return"replaced"!==r&&t.axes.length===a.length&&t.axes.every((c,u)=>c.type===a[u].type)&&Op(i)?(t.axes.forEach((c,u)=>{var d,h;const f=Ca(null!=(h=null==(d=i.axes)?void 0:d[u])?h:{},a[u]);Xs(`AgChartV2.applyAxes() - applying axis diff idx ${u}`,f),this.applyOptionValues(c,f,{path:`axes[${u}]`,skip:o})}),!0):(Xs(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(a,o),!0)}createSeries(t){var e;const i=[],r=this.getModuleContext();for(const o of t??[]){const a=null!=(e=o.type)?e:"unknown";if(b9(a)&&!n2e(a))continue;const s=m2e(a,r);this.applySeriesOptionModules(s,o),this.applySeriesValues(s,o),i.push(s)}return i}applySeriesOptionModules(t,e){const i=t.createModuleContext(),r=t.getModuleMap();for(const o of Ql)"series-option"===o.type&&o.optionsKey in e&&o.seriesTypes.includes(t.type)&&r.addModule(o,a=>new a.instanceConstructor(i))}applySeriesValues(t,e){const i=t.getModuleMap(),r=e,{seriesGrouping:c}=r,d=Zn(r,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(d),"data"in e&&(t.data=e.data),"errorBar"in e&&i.isModuleEnabled("errorBar")&&i.getModule("errorBar").properties.set(e.errorBar),e?.listeners&&this.registerListeners(t,e.listeners),c&&(t.seriesGrouping=Q(Q({},t.seriesGrouping),c))}createAxis(t,e){const i=new class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(n,t){const{result:e,valid:i,invalid:r}=this;(function p3e(n){return YZ.includes(n.type)})(t)&&(function f3e(n){return"string"==typeof n&&d3e.includes(n)}(t.position)?i.push(n):r.push(n)),e.push(n)}guessInvalidPositions(){const n=this.valid.filter(e=>function h3e(n){return YZ.includes(n.type)}(e)).map(e=>e.position).filter(e=>void 0!==e),t=["top","right","bottom","left"];for(const e of this.invalid){let i=t.pop();for(;n.includes(i)&&void 0!==i;)i=t.pop();if(void 0===i)break;e.position=i}return this.result}},r=this.getModuleContext();let o=0;for(const a of t??[]){const s=$Be(a.type,r),l=`axes[${o++}]`;this.applyAxisModules(s,a),this.applyOptionValues(s,a,{path:l,skip:e}),i.push(s,a)}return i.guessInvalidPositions()}applyAxisModules(t,e){let i=!1;const r=Ql.filter(a=>"axis-option"===a.type),o=t.createModuleContext();for(const a of r){const s=null!=e[a.optionsKey],l=t.getModuleMap();s!==l.isModuleEnabled(a)&&(i=!0,s?(l.addModule(a,u=>new u.instanceConstructor(o)),t[a.optionsKey]=l.getModule(a)):(l.removeModule(a),delete t[a.optionsKey]))}return i}applyOptionValues(t,e,{skip:i,path:r}={}){const o=this.getModuleContext();class a extends qi{constructor(){super(),this.registerInteraction(o)}}return Hd(t,e,{constructors:Pe(Q({},IX.constructors),{title:a,subtitle:a,footnote:a}),constructedArrays:RX.constructedArrays,allowedTypes:Q({},IX.allowedTypes),skip:i,path:r})}registerListeners(t,e){t.clearEventListeners();for(const[i,r]of Object.entries(e))xg(r)&&t.addEventListener(i,r)}};Gn.chartsInstances=new WeakMap,Gn.NodeValueChangeOptions={newValue(n){var t;null==(t=this.scene.root)||t.appendChild(n.node)},oldValue(n){var t;null==(t=this.scene.root)||t.removeChild(n.node)}},S([Jn({newValue(n){this.destroyed||(n.setAttribute("data-ag-charts",""),n.appendChild(this.element),Gn.chartsInstances.set(n,this))},oldValue(n){n.removeAttribute("data-ag-charts"),n.removeChild(this.element),Gn.chartsInstances.delete(n)}})],Gn.prototype,"container",2),S([Jn({newValue(n){this.resize(n,void 0,"width option")}})],Gn.prototype,"width",2),S([Jn({newValue(n){this.resize(void 0,n,"height option")}})],Gn.prototype,"height",2),S([Jn({newValue(n){this.onAutoSizeChange(n)}}),R(rt)],Gn.prototype,"autoSize",2),S([R(Ye)],Gn.prototype,"padding",2),S([R(Ye)],Gn.prototype,"seriesArea",2),S([Jn(Gn.NodeValueChangeOptions)],Gn.prototype,"title",2),S([Jn(Gn.NodeValueChangeOptions)],Gn.prototype,"subtitle",2),S([Jn(Gn.NodeValueChangeOptions)],Gn.prototype,"footnote",2),S([R(vn(["standalone","integrated"],"a chart mode"))],Gn.prototype,"mode",2),S([Jn({changeValue(n,t=[]){for(const e of t)n.includes(e)||(e.detachAxis(this.axisGroup,this.axisGridGroup),e.destroy());for(const e of n)t?.includes(e)||e.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(n)}})],Gn.prototype,"axes",2),S([Jn({changeValue(n,t){this.onSeriesChange(n,t)}})],Gn.prototype,"series",2);var ST=Gn,lQ=class extends $g{isContinuous(){var n,t;return{isContinuousX:Si.is(null==(n=this.axes.x)?void 0:n.scale),isContinuousY:Si.is(null==(t=this.axes.y)?void 0:t.scale)}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(n=>n.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(n,t,e){return he(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:r}=yield n.request(this.id,t??[],e);return this.dataModel=i,this.processedData=r,this.dispatch("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}})}isProcessedDataAnimatable(){var n,t;const e=null==(t=null==(n=this.processedData)?void 0:n.reduced)?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:i,uniqueKeys:r}=e;return i&&r}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},Du=class extends bi{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};S([R(qt,{optional:!0})],Du.prototype,"fill",2),S([R(di,{optional:!0})],Du.prototype,"fillOpacity",2),S([R(qt,{optional:!0})],Du.prototype,"stroke",2),S([R(Ce,{optional:!0})],Du.prototype,"strokeWidth",2),S([R(di,{optional:!0})],Du.prototype,"strokeOpacity",2),S([R(yu,{optional:!0})],Du.prototype,"lineDash",2),S([R(Ce,{optional:!0})],Du.prototype,"lineDashOffset",2);var xT=class extends bi{};S([R(Ce,{optional:!0})],xT.prototype,"strokeWidth",2),S([R(di,{optional:!0})],xT.prototype,"dimOpacity",2),S([R(rt,{optional:!0})],xT.prototype,"enabled",2);var cQ=class extends bi{constructor(){super(...arguments),this.color="black"}};S([R(qt,{optional:!0})],cQ.prototype,"color",2);var yb=class extends bi{constructor(){super(...arguments),this.item=new Du,this.series=new xT,this.text=new cQ}};S([R(Ye)],yb.prototype,"item",2),S([R(Ye)],yb.prototype,"series",2),S([R(Ye)],yb.prototype,"text",2);var Zs=class extends bi{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new yb}};S([R(xe,{optional:!0})],Zs.prototype,"id",2),S([R(rt)],Zs.prototype,"visible",2),S([R(rt)],Zs.prototype,"showInLegend",2),S([R(xe)],Zs.prototype,"cursor",2),S([R(KN)],Zs.prototype,"nodeClickRange",2),S([R(Ye)],Zs.prototype,"highlightStyle",2);var F3e={x:["xKey"],y:["yKey"]},k3e={x:["xName"],y:["yName"]},V1=class extends vb{constructor(n,t,e,i){super(n,t,e,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},eh=class extends Zs{};S([R(xe,{optional:!0})],eh.prototype,"legendItemName",2);var th=class extends lQ{constructor(n){var t=n,{pathsPerSeries:e=1,hasMarkers:i=!1,hasHighlightedLabels:r=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:a=F3e,directionNames:s=k3e,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:c=!0,animationAlwaysUpdateSelections:u=!1,animationResetFns:d}=t,h=Zn(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(Q({directionKeys:a,directionNames:s,useSeriesGroupLayer:!0,canHaveAxes:!0},h)),this._contextNodeData=[],this.NodeClickEvent=V1,this.highlightSelection=ji.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=ji.select(this.highlightLabel,ii),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=sn.create(),this.opts={pathsPerSeries:e,hasMarkers:i,hasHighlightedLabels:r,pathsZIndexSubOrderOffset:o,directionKeys:a,directionNames:s,animationResetFns:d,animationAlwaysUpdateSelections:u,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:c},this.animationState=new sb("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:p=>this.animateWaitingUpdateReady(p)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(n){"initial"===n?this.animationState.transition("reset"):"ready"===n&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",n=>this.onLegendItemClick(n)),this.ctx.chartEventManager.addListener("legend-item-double-click",n=>this.onLegendItemDoubleClick(n)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(n){return he(this,arguments,function*({seriesRect:t}){var e,i;const{visible:r,_contextNodeData:o}=this,{series:a}=null!=(i=null==(e=this.ctx.highlightManager)?void 0:e.getActiveHighlight())?i:{},s=a?a===this:void 0,l=this.checkResize(t),c=yield this.updateHighlightSelection(s);yield this.updateSelections(r),yield this.updateNodes(c,s,r);const u=this.getAnimationData(t,o);l&&this.animationState.transition("resize",u),this.animationState.transition("update",u)})}updateSelections(n){return he(this,null,function*(){const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((n||!t)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{null!=o.animationValid||(o.animationValid=e)}),yield this.updateSeriesGroups();const{dataModel:i,processedData:r}=this;void 0!==i&&void 0!==r&&this.dispatch("data-update",{dataModel:i,processedData:r})}yield Promise.all(this.subGroups.map((e,i)=>this.updateSeriesGroupSelections(e,i)))}})}updateSeriesGroupSelections(n,t,e){return he(this,null,function*(){const{datumSelection:i,labelSelection:r,markerSelection:o,paths:a}=n,s=this._contextNodeData[t],{nodeData:l,labelData:c,itemId:u}=s;yield this.updatePaths({seriesHighlighted:e,itemId:u,contextData:s,paths:a,seriesIdx:t}),n.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:i,seriesIdx:t}),n.labelSelection=yield this.updateLabelSelection({labelData:c,labelSelection:r,seriesIdx:t}),o&&(n.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){return new(Xd())}updateSeriesGroups(){return he(this,null,function*(){const{_contextNodeData:n,contentGroup:t,subGroups:e,opts:{pathsPerSeries:i,hasMarkers:r,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a}}=this;if(n.length===e.length)return;n.length<e.length&&e.splice(n.length).forEach(({dataNodeGroup:l,markerGroup:c,labelGroup:u,paths:d})=>{t.removeChild(l),c&&t.removeChild(c),u&&t.removeChild(u);for(const h of d)t.removeChild(h)});const s=n.length;for(;s>e.length;){const c=this.subGroupId++,u=new $e({name:`${this.id}-series-sub${c}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",c)}),d=r?new $e({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",c)}):void 0,h=new $e({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",c)});t.appendChild(u),t.appendChild(h),d&&t.appendChild(d);const p=[];for(let f=0;f<i;f++)p[f]=new Sa,p[f].zIndex=4,p[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),t.appendChild(p[f]);e.push({paths:p,dataNodeGroup:u,markerGroup:d,labelGroup:h,labelSelection:ji.select(h,ii),datumSelection:ji.select(u,()=>this.nodeFactory(),o),markerSelection:d?ji.select(d,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(n,t=0){var e;const i=super.getGroupZIndexSubOrder(n,t);if("paths"===n){const r=null!=(e=this.opts.pathsZIndexSubOrderOffset[t])?e:0,o=i[0];i[0]="function"==typeof o?()=>+o()+r:+o+r}return i}updateNodes(n,t,e){return he(this,null,function*(){var i;const{highlightSelection:r,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),c=this.visible&&(null==(i=this._contextNodeData)?void 0:i.length)>0&&e;this.rootGroup.visible=l||c,this.contentGroup.visible=l||c,this.highlightGroup.visible=(l||c)&&!!t;const u=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:r,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",r)):(yield this.updateDatumNodes({datumSelection:r,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",r)),s&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((d,h)=>he(this,null,function*(){const{dataNodeGroup:p,markerGroup:f,datumSelection:m,labelSelection:g,markerSelection:v,paths:y,labelGroup:_}=d,{itemId:b}=this.contextNodeData[h],w=c;p.opacity=u,p.visible=l||w,_.visible=w,f&&(f.opacity=u,f.zIndex=p.zIndex>=4?p.zIndex:p.zIndex+1,f.visible=w),_&&(_.opacity=u),yield this.updatePathNodes({seriesHighlighted:t,itemId:b,paths:y,seriesIdx:h,opacity:u,visible:w,animationEnabled:l}),p.visible&&(yield this.updateDatumNodes({datumSelection:m,highlightedItems:n,isHighlight:!1,seriesIdx:h}),yield this.updateLabelNodes({labelSelection:g,seriesIdx:h}),a&&v&&(yield this.updateMarkerNodes({markerSelection:v,isHighlight:!1,seriesIdx:h})))})))})}getHighlightLabelData(n,t){const e=n.filter(i=>i.datum===t.datum&&i.itemId===t.itemId);return 0!==e.length?e:void 0}getHighlightData(n,t){return t?[t]:void 0}updateHighlightSelection(n){return he(this,null,function*(){var t;const{highlightSelection:e,highlightLabelSelection:i,_contextNodeData:r}=this,o=null==(t=this.ctx.highlightManager)?void 0:t.getActiveHighlight(),a=n&&o?.datum?o:void 0;let s,l;if(null!=a){const c=this.isLabelEnabled();for(const{labelData:u,nodeData:d}of r)if(l=this.getHighlightData(d,a),s=c?this.getHighlightLabelData(u,a):void 0,(!c||null!=s)&&null!=l)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:i}),l})}pickNodeExactShape(n){var t;const e=super.pickNodeExactShape(n);if(e)return e;const{x:i,y:r}=n,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:a,markerGroup:s}of this.subGroups){let l=a.pickNode(i,r);if(!l&&o&&(l=s?.pickNode(i,r)),l)break}for(const a of this.moduleMap.modules){const{datum:s}=null!=(t=a.pickNodeExact(n))?t:{};if(void 0!==s)return{datum:s,distance:0}}}pickNodeClosestDatum(n){var t,e;const{x:i,y:r}=n,{axes:o,rootGroup:a,_contextNodeData:s}=this,l=o.x,c=o.y,u=a.transformPoint(i,r);let h,d=1/0;for(const p of s)for(const f of p.nodeData){const{point:{x:m=NaN,y:g=NaN}={}}=f;if(isNaN(m)||isNaN(g)||!l?.inRange(m)||!c?.inRange(g))continue;const y=Math.max(Pt(u.x-m,2)+Pt(u.y-g,2),0);y<d&&(d=y,h=f)}for(const p of this.moduleMap.modules){const f=p.pickNodeNearest(n);if(void 0!==f&&f.distanceSquared<d){d=f.distanceSquared,h=f.datum;break}}if(h)return{datum:h,distance:Math.max(Math.sqrt(d)-(null!=(e=null==(t=h.point)?void 0:t.size)?e:0),0)}}pickNodeMainAxisFirst(n,t){var e,i;const{x:r,y:o}=n,{axes:a,rootGroup:s,_contextNodeData:l}=this,c=a.x,u=a.y,d=[c,u].filter(v=>v instanceof wu).map(v=>v.direction);if(t&&0===d.length)return;const[h="x"]=d,p=s.transformPoint(r,o),f="x"===h?[p.x,p.y]:[p.y,p.x],m=[1/0,1/0];let g;for(const v of l)for(const y of v.nodeData){const{point:{x:_=NaN,y:b=NaN}={}}=y;if(isNaN(_)||isNaN(b)||!c?.inRange(_)||!u?.inRange(b))continue;const E="x"===h?[_,b]:[b,_];let M=!0;for(let P=0;P<E.length;P++){const I=Math.abs(E[P]-f[P]);if(I>m[P]){M=!1;break}I<m[P]&&(m[P]=I,m.fill(1/0,P+1,m.length))}M&&(g=y)}if(g){let v=Math.max(Pt(m[0],2)+Pt(m[1],2)-(null!=(i=null==(e=g.point)?void 0:e.size)?i:0),0);for(const y of this.moduleMap.modules){const _=y.pickNodeMainAxisFirst(n);if(void 0!==_&&_.distanceSquared<v){g=_.datum,v=_.distanceSquared;break}}return{datum:g,distance:Math.sqrt(v)}}}onLegendItemClick(n){const{legendItemName:t}=this.properties,{enabled:e,itemId:i,series:r}=n;(r.id===this.id||null!=t&&t===n.legendItemName)&&this.toggleSeriesItem(i,e)}onLegendItemDoubleClick(n){const{enabled:t,itemId:e,series:i,numVisibleItems:r}=n,{legendItemName:o}=this.properties;this.toggleSeriesItem(e,!!(i.id===this.id||null!=o&&o===n.legendItemName||t&&1===r))}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[n]=this._contextNodeData;if(!n?.nodeData.length)return;const t=n.nodeData.map(({midPoint:i})=>{var r;return null!=(r=i?.x)?r:0}).sort((i,r)=>i-r).reduce((i,r,o,a)=>o>0?Math.max(i,r-a[o-1]):i,0),e=n.nodeData.map(({midPoint:i})=>{var r;return null!=(r=i?.y)?r:0}).sort((i,r)=>i-r).reduce((i,r,o,a)=>o>0?Math.max(i,r-a[o-1]):i,0);return new wt(0,0,t,e)}updateHighlightSelectionItem(n){return he(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:e,highlightSelection:i}=n,r=e??[];return t?this.updateMarkerSelection({nodeData:r,markerSelection:i,seriesIdx:-1}):this.updateDatumSelection({nodeData:r,datumSelection:i,seriesIdx:-1})})}updateHighlightSelectionLabel(n){return he(this,null,function*(){var t;return this.updateLabelSelection({labelData:null!=(t=n.items)?t:[],labelSelection:n.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(n){return he(this,null,function*(){return n.datumSelection})}updateDatumNodes(n){return he(this,null,function*(){})}updateMarkerSelection(n){return he(this,null,function*(){return n.markerSelection})}updateMarkerNodes(n){return he(this,null,function*(){})}updatePaths(n){return he(this,null,function*(){n.paths.forEach(t=>t.visible=!1)})}updatePathNodes(n){return he(this,null,function*(){const{paths:t,opacity:e,visible:i}=n;for(const r of t)r.opacity=e,r.visible=i})}resetAllAnimation(n){var t,e;const{path:i,datum:r,label:o,marker:a}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),i&&n.paths.forEach(s=>{er(s,i)}),r&&er(n.datumSelections,r),o&&er(n.labelSelections,o),a&&er(n.markerSelections,a),n.contextData.some(s=>!1===s.animationValid)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t,e;const{datum:i}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};i&&er([n],i)}animateReadyHighlightMarkers(n){var t,e;const{marker:i}=null!=(e=null==(t=this.opts)?void 0:t.animationResetFns)?e:{};i&&er([n],i)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n,t){return{datumSelections:this.subGroups.map(({datumSelection:i})=>i),markerSelections:this.subGroups.filter(({markerSelection:i})=>void 0!==i).map(({markerSelection:i})=>i),labelSelections:this.subGroups.map(({labelSelection:i})=>i),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:i})=>i),seriesRect:n}}calculateScaling(){const n={},t=e=>{const i=this.axes[e];if(i)if(i.scale instanceof o1){const{range:r,domain:o}=i.scale;n[e]={type:"log",convert:a=>i.scale.convert(a),domain:[o[0],o[1]],range:[r[0],r[1]]}}else if(i.scale instanceof Si){const{range:r}=i.scale,o=i.scale.getDomain();n[e]={type:"continuous",domain:[o[0],o[1]],range:[r[0],r[1]]}}else if(i.scale){const{domain:r}=i.scale;n[e]={type:"category",domain:r,range:r.map(o=>i.scale.convert(o))}}};return t("x"),t("y"),n}},L3e=["top","right","bottom","left"],G1=class wie extends ST{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return he(this,null,function*(){const t=yield hu(wie.prototype,this,"performLayout").call(this),{firstSeriesTranslation:e,seriesRoot:i}=this,{animationRect:r,seriesRect:o,visibility:a,clipSeries:s}=this.updateAxes(t);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=r;const{x:l,y:c}=o;if(e)i.translationX=Math.floor(l),i.translationY=Math.floor(c),this.firstSeriesTranslation=!1;else{const{translationX:h,translationY:p}=i;oc(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:h,translationY:p},{translationX:Math.floor(l),translationY:Math.floor(c)},{phase:"update"})}const u=o.clone().grow(this.seriesArea.padding);this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:s,series:{rect:o,paddedRect:u,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(h=>Q({id:h.id},h.getLayoutState()))});const d=Array.from(this.modules.values(),h=>{var p;return null==(p=h.performCartesianLayout)?void 0:p.call(h,{seriesRect:o})});return yield Promise.all(d),t})}updateAxes(t){var e;const i=this.axes.flatMap(v=>{var y;return null!=(y=v.crossLines)?y:[]}).map(v=>v.id);let o,a;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===i.length&&this._lastCrossLineIds.every((v,y)=>i[y]===v)?(o=Q({},this._lastAxisWidths),a=Q({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=i);const s=new Set(this.axes.map(v=>v.position));for(const v of Object.keys(o))s.has(v)||delete o[v];const l=(v,y)=>!Object.keys(v).some(_=>null==o[_])&&a.crossLines===y.crossLines&&a.series===y.series&&Object.entries(o).every(([_,b])=>{const w=v[_];return null==b&&null==w||b===w}),c=v=>v9(v,y=>y&&Math.abs(y)===1/0?0:null!=y?Math.ceil(y):y);let u={},d={},h=!1,p=null==(e=this.seriesRect)?void 0:e.clone(),f=0,m={};do{Object.assign(o,u),Object.assign(a,d);const v=this.updateAxesPass(o,t.clone(),p);if(u=c(v.axisWidths),d=v.visibility,h=v.clipSeries,p=v.seriesRect,m=v.primaryTickCounts,f++>10){Me.warn("unable to find stable axis layout.");break}}while(!l(u,d));return this.axes.forEach(v=>{v.update(m[v.direction])}),this.axes.forEach(v=>{if(v.setCrossLinesVisible(a.crossLines),p)switch(v.clipGrid(p.x,p.y,p.width+5,p.height+5),v.position){case"left":case"right":v.clipTickLines(t.x,p.y,t.width+5,p.height+5);break;case"top":case"bottom":v.clipTickLines(p.x,t.y,p.width+5,t.height+5)}}),this._lastAxisWidths=o,this._lastVisibility=a,{seriesRect:p,animationRect:t,visibility:a,clipSeries:h}}updateAxesPass(t,e,i){const r={},o={},a={series:!0,crossLines:!0};let s=!1;const l={},c=this.applySeriesPadding(e),u=i?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(c,t,u,a),h=this.buildSeriesRect(d,t);return this.axes.forEach(p=>{var f,m;const{position:g="left"}=p,{clipSeries:v,axisThickness:y,axisOffset:_}=this.calculateAxisDimensions({axis:p,seriesRect:h,paddedBounds:c,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:s,addInterAxisPadding:(null!=(f=r[g])?f:0)>0});r[g]=(null!=(m=r[g])?m:0)+1,s=s||v,this.positionAxis({axis:p,axisBound:d,axisOffset:_,axisThickness:y,axisWidths:t,primaryTickCounts:l,seriesRect:h})}),{clipSeries:s,seriesRect:h,axisWidths:o,visibility:a,primaryTickCounts:l}}buildCrossLinePadding(t){var e;const i={};this.axes.forEach(r=>{r.crossLines&&r.crossLines.forEach(o=>{o.calculatePadding(i)})});for(const[r,o=0]of Object.entries(i))i[r]=Math.max(o-(null!=(e=t[r])?e:0),0);return i}applySeriesPadding(t){const e=t.clone(),i=this.axes.slice().reverse();return L3e.forEach(r=>{const o=this.seriesArea.padding[r],a=i.find(s=>s.position===r);a?a.seriesAreaPadding=o:e.shrink(o,r)}),e}buildAxisBound(t,e,i,r){var o,a,s,l;const c=t.clone(),{top:u=0,right:d=0,bottom:h=0,left:p=0}=i,f=p+d,m=u+h,g=(null!=(o=e.left)?o:0)+(null!=(a=e.right)?a:0)+f,v=(null!=(s=e.top)?s:0)+(null!=(l=e.bottom)?l:0)+m;return c.width<=g||c.height<=v?(r.crossLines=!1,r.series=!1,c):(c.x+=p,c.y+=u,c.width-=f,c.height-=m,c)}buildSeriesRect(t,e){const i=t.clone(),{top:r,bottom:o,left:a,right:s}=e;return i.x+=a??0,i.y+=r??0,i.width-=(a??0)+(s??0),i.height-=(r??0)+(o??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(t,e,i,r){const{x:o,y:a,width:s,height:l}=t;return(1===r?Math.min:Math.max)(e,[o,a,o+s,a+l][("x"===i?0:1)+(1===r?0:2)])}calculateAxisDimensions(t){var e,r,o,a;const{axis:s,seriesRect:l,paddedBounds:c,axisWidths:u,newAxisWidths:d,primaryTickCounts:h,addInterAxisPadding:p}=t;let{clipSeries:f}=t;const{position:m="left",direction:g}=s,y=null!=(e=d[m])?e:0;switch(m){case"top":case"bottom":s.range=[0,l.width],s.gridLength=l.height;break;case"right":case"left":s.range=(L=s)instanceof wu||L instanceof Yd?[0,l.height]:[l.height,0],s.gridLength=l.width}var L;const{min:_,max:b}=this.zoomManager.getAxisZoom(s.id);s.visibleRange=[_,b],f||(f=s.dataDomain.clipped||s.visibleRange[0]>0||s.visibleRange[1]<1);let w=s.nice?h[g]:void 0;const E="y"===g;s.maxThickness=s.thickness||.3*(E?c.width:c.height);const P=s.calculateLayout(w);let I;if(w=P.primaryTickCount,null!=h[g]||(h[g]=w),null!=s.thickness&&s.thickness>0)I=s.thickness;else{const{bbox:L}=P;I=E?L.width:L.height}return p&&(I+=15),I=Math.ceil(I),d[m]=(null!=(r=d[m])?r:0)+I,s.gridPadding=(null!=(o=u[m])?o:0)-(null!=(a=d[m])?a:0),{clipSeries:f,axisThickness:I,axisOffset:y,primaryTickCount:w}}positionAxis(t){var e,i,r,o;const{axis:a,axisBound:s,axisWidths:l,seriesRect:c,axisOffset:u,axisThickness:d}=t,{position:h}=a;switch(h){case"top":a.translation.x=s.x+(null!=(e=l.left)?e:0),a.translation.y=this.clampToOutsideSeriesRect(c,s.y+1+u+d,"y",1);break;case"bottom":a.translation.x=s.x+(null!=(i=l.left)?i:0),a.translation.y=this.clampToOutsideSeriesRect(c,s.y+s.height+1-d-u,"y",-1);break;case"left":a.translation.y=s.y+(null!=(r=l.top)?r:0),a.translation.x=this.clampToOutsideSeriesRect(c,s.x+u+d,"x",1);break;case"right":a.translation.y=s.y+(null!=(o=l.top)?o:0),a.translation.x=this.clampToOutsideSeriesRect(c,s.x+s.width-d-u,"x",-1)}a.updatePosition({rotation:Br(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof th&&t.shouldFlipXY()))}};G1.className="CartesianChart",G1.type="cartesian";var N3e=G1,_b=class Sie{static isInstance(t){var e;return t instanceof Sie||"AgChartInstanceProxy"===(null==(e=t.constructor)?void 0:e.name)&&null!=t.chart||null!=t.chart&&this.validateImplementation(t)}static validateImplementation(t){var e;const r=Object.keys(null!=(e=Object.getPrototypeOf(t))?e:{});return["getOptions","destroy"].every(o=>r.includes(o))}constructor(t){this.chart=t}getOptions(){return Gr(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};_b.chartInstances=new WeakMap,S([Jn({oldValue(n){_b.chartInstances.delete(n)},newValue(n){_b.chartInstances.set(n,this)}})],_b.prototype,"chart",2);var Kg=_b,hc=class extends Si{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(n){return n}ticks(){var n;const t=null!=(n=this.tickCount)?n:Si.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[e,i]=this.getDomain(),{interval:r}=this;if(r){const o=Math.abs(r);if(!this.isDenseInterval({start:e,stop:i,interval:o}))return cb(e,i,o)}return fT(e,i,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(n,t){var e,i;const r=null!=(e=this.tickCount)?e:Si.defaultTickCount;return null!=(i=this.interval)?i:Ng(n,t,r,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var n;const t=null!=(n=this.tickCount)?n:Si.defaultTickCount;if(t<1)return void(this.niceDomain=[...this.domain]);let[e,i]=this.domain;if(1===t)[e,i]=function sje(n,t){const e=Math.abs(t-n),i=Math.floor(Math.log10(e)),r=Math.pow(10,i),o=n>t?Math.ceil:Math.floor,a=t<n?Math.floor:Math.ceil;return tZ.map(s=>{const l=s*r,c=o(n/l)*l,u=a(t/l)*l;return{error:1-e/Math.abs(u-c),domain:[c,u]}}).sort((s,l)=>s.error-l.error)[0].domain}(e,i);else{const r=e>i?Math.ceil:Math.floor,o=i<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const l=e,c=i,u=this.getTickStep(e,i),[d,h]=this.domain;if(u>=1)e=r(d/u)*u,i=o(h/u)*u;else{const p=1/u;e=r(d*p)/p,i=o(h*p)/p}if(e===l&&i===c)break}}this.niceDomain=[e,i]}tickFormat({ticks:n,specifier:t}){return eZ(n??this.ticks(),t)}};var uQ=class extends qs{constructor(){super(...arguments),this.maxSpacing=NaN}};S([R(YN),bu(NaN)],uQ.prototype,"maxSpacing",2);var Zp=class extends db{constructor(n,t=new hc){super(n,t),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:i,clipped:r}=KC(n,t,e);return{domain:i,clipped:r}}formatDatum(n){return"number"==typeof n?n.toFixed(2):(Me.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(n))}createTick(){return new uQ}updateSecondaryAxisTicks(n){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const[t,e]=function V3e(n,t,e){let[i,r]=gu(n);i=function G3e(n,t,e){const i=Math.abs(t-n)/(e-1),r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return Math.floor(n/o)*o}(Math.floor(i),r,t);const o=function H3e(n,t,e){return function j3e(n){const t=Math.floor(Math.log10(n)),e=Math.pow(10,t),i=n/e*10;return i>0&&i<=1?e/10:i>1&&i<=2?2*e/10:i>1&&i<=5?5*e/10:i>5&&i<=10?10*e/10:i>10&&i<=20?20*e/10:i>20&&i<=40?40*e/10:i>40&&i<=50?50*e/10:i>50&&i<=100?100*e/10:i}((t-n)/(e-1))}(i,r,t);r=i+(t-1)*o;const s=e?[r,i]:[i,r],l=function B3e(n,t,e){const i=Math.floor(Math.log10(t)),r=t>0&&t<1?Math.abs(i):0,o=Math.pow(10,r),a=lb(r);for(let s=0;s<e;s++)a[s]=Math.round((n+t*s)*o)/o;return a}(i,o,t);return[s,l]}(this.dataDomain.domain,n??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),e}};Zp.className="NumberAxis",Zp.type="number",S([R(lc(Pg,eb("max"))),bu(NaN)],Zp.prototype,"min",2),S([R(lc(Pg,tb("min"))),bu(NaN)],Zp.prototype,"max",2);var dQ=wi(n=>Hs(n)&&0!==n,"a non-zero number"),ih=class extends Zp{constructor(n){super(n,new o1),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:i,clipped:r}=KC(n,t,e),a=i[0]<0&&i[1]>0,s=0===i[0]&&0===i[1];return(i[0]>i[1]||a||s)&&(n=[],a?Me.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&Me.warn("the data domain has 0 extent, no data is rendered.")),0===i[0]&&(i[0]=1),0===i[1]&&(i[1]=-1),{domain:i,clipped:r}}set base(n){this.scale.base=n}get base(){return this.scale.base}};ih.className="LogAxis",ih.type="log",S([R(lc(Pg,dQ,eb("max"))),bu(NaN)],ih.prototype,"min",2),S([R(lc(Pg,dQ,tb("min"))),bu(NaN)],ih.prototype,"max",2);var hQ=class extends qs{constructor(){super(...arguments),this.maxSpacing=NaN}};S([R(YN),bu(NaN)],hQ.prototype,"maxSpacing",2);var Qp=class extends db{constructor(n){super(n,new l1),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(n){var t;let{min:e,max:i}=this,r=!1;return"number"==typeof e&&(e=new Date(e)),"number"==typeof i&&(i=new Date(i)),n.length>2&&(n=(null!=(t=ic(n))?t:[0,1e3]).map(o=>new Date(o))),e instanceof Date&&(r||(r=e>n[0]),n=[e,n[1]]),i instanceof Date&&(r||(r=i<n[1]),n=[n[0],i]),n[0]>n[1]&&(n=[]),{domain:n,clipped:r}}createTick(){return new hQ}onLabelFormatChange(n,t){t?super.onLabelFormatChange(n,t):this.labelFormatter=this.scale.tickFormat({ticks:n})}formatDatum(n){var t;return null!=(t=this.moduleCtx.callbackCache.call(this.datumFormatter,n))?t:String(n)}calculatePadding(n,t,e){return e?[1,0]:[0,1]}};Qp.className="TimeAxis",Qp.type="time",S([R(lc(zN,eb("max")),{optional:!0})],Qp.prototype,"min",2),S([R(lc(zN,tb("min")),{optional:!0})],Qp.prototype,"max",2);var ET=(n,t,e,i,r)=>{let o=!1,a=!1,s=i-Math.sqrt(Math.max(Pt(r,2)-Pt(e,2),0)),l=0,c=0,u=e-Math.sqrt(Math.max(Pt(r,2)-Pt(i,2),0));return s>n?(o=!0,s=n,l=e-Math.sqrt(Math.max(Pt(r,2)-Pt(i-n,2)))):s<1e-6&&(s=0),u>t?(a=!0,c=i-Math.sqrt(Math.max(Pt(r,2)-Pt(e-t,2))),u=t):u<1e-6&&(u=0),{leading0:s,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:a}},DT=(n,{x0:t,y0:e,x1:i,y1:r,cx:o,cy:a},s,l)=>{if(l&&n.moveTo(t,e),t!==i||e!==r){const c=Math.atan2(e-a,t-o),u=Math.atan2(r-a,i-o);n.arc(o,a,s,c,u)}else n.lineTo(t,e)},B1=(n,t,e,i,r,o,a)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:u}=o;const d=Math.max(s+u,l+c),h=Math.max(s+l,u+c);if(d<=0&&h<=0)return void n.rect(t,e,i,r);if(null==a&&s===l&&s===c&&s===u)return void n.roundRect(t,e,i,r,s);if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(e+=r,r=Math.abs(r)),null!=a){const M=Math.max(t,a.x),P=Math.min(t+i,a.x+a.width),I=Math.max(e,a.y),k=Math.min(e+r,a.y+a.height);t=M,e=I,i=P-M,r=k-I}if(i<=0||r<=0)return;a??(a=new wt(t,e,i,r));const p=Math.max(d/a.height,h/a.width,1);p>1&&(s/=p,l/=p,c/=p,u/=p);let y,_,b,w,f=!0,m=!0,g=!0,v=!0;if(f){const M=ET(r,i,Math.max(a.x+s-t,0),Math.max(a.y+s-e,0),s);M.leadingClipped&&(v=!1),M.trailingClipped&&(m=!1),y={x0:Math.max(t+M.leading1,t),y0:Math.max(e+M.leading0,e),x1:Math.max(t+M.trailing1,t),y1:Math.max(e+M.trailing0,e),cx:a.x+s,cy:a.y+s}}if(m){const M=ET(i,r,Math.max(a.y+l-e,0),Math.max(t+i-(a.x+a.width-l),0),l);M.leadingClipped&&(f=!1),M.trailingClipped&&(g=!1),_={x0:Math.min(t+i-M.leading0,t+i),y0:Math.max(e+M.leading1,e),x1:Math.min(t+i-M.trailing0,t+i),y1:Math.max(e+M.trailing1,e),cx:a.x+a.width-l,cy:a.y+l}}if(g){const M=ET(r,i,Math.max(t+i-(a.x+a.width-c),0),Math.max(e+r-(a.y+a.height-c),0),c);M.leadingClipped&&(m=!1),M.trailingClipped&&(v=!1),b={x0:Math.min(t+i-M.leading1,t+i),y0:Math.min(e+r-M.leading0,e+r),x1:Math.min(t+i-M.trailing1,t+i),y1:Math.min(e+r-M.trailing0,e+r),cx:a.x+a.width-c,cy:a.y+a.height-c}}if(v){const M=ET(i,r,Math.max(e+r-(a.y+a.height-u),0),Math.max(a.x+u-t,0),u);M.leadingClipped&&(g=!1),M.trailingClipped&&(f=!1),w={x0:Math.max(t+M.leading0,t),y0:Math.min(e+r-M.leading1,e+r),x1:Math.max(t+M.trailing0,t),y1:Math.min(e+r-M.trailing1,e+r),cx:a.x+u,cy:a.y+a.height-u}}let E=!1;f&&null!=y&&(DT(n,y,s,!E),E||(E=!0)),m&&null!=_&&(DT(n,_,l,!E),E||(E=!0)),g&&null!=b&&(DT(n,b,c,!E),E||(E=!0)),v&&null!=w&&(DT(n,w,u,!E),E||(E=!0)),n.closePath()},jr=class extends Sa{constructor(){super(...arguments),this.borderPath=new Gg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=rs.defaultStyles.strokeWidth,this.effectiveStrokeWidth=rs.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(n){this.topLeftCornerRadius=n,this.topRightCornerRadius=n,this.bottomRightCornerRadius=n,this.bottomLeftCornerRadius=n}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!(!this.path.isDirty()&&!this.borderPath.isDirty())}updatePath(){var n,t,e;const{path:i,borderPath:r,crisp:o,topLeftCornerRadius:a,topRightCornerRadius:s,bottomRightCornerRadius:l,bottomLeftCornerRadius:c}=this;let{x:u,y:d,width:h,height:p,strokeWidth:f,cornerRadiusBbox:m}=this;const v=1/(null!=(t=null==(n=this.layerManager)?void 0:n.canvas.pixelRatio)?t:1);let y=1;if(i.clear({trackChanges:!0}),r.clear({trackChanges:!0}),o&&(h<=v&&(y*=h/v),p<=v&&(y*=p/v),h=this.align(u,h),p=this.align(d,p),u=this.align(u),d=this.align(d),m=null!=m?new wt(this.align(m.x),this.align(m.y),this.align(m.x,m.width),this.align(m.y,m.height)):void 0),f)if(h<v){const _=u+v/2;r.moveTo(_,d),r.lineTo(_,d+p),f=v,this.borderClipPath=void 0}else if(p<v){const _=d+v/2;r.moveTo(u,_),r.lineTo(u+h,_),f=v,this.borderClipPath=void 0}else if(f<h&&f<p){const _=f/2;u+=_,d+=_,h-=f,p-=f;const b=m?.clone().shrink(_),w={topLeft:a>0?a-f:0,topRight:s>0?s-f:0,bottomRight:l>0?l-f:0,bottomLeft:c>0?c-f:0};this.borderClipPath=void 0,B1(i,u,d,h,p,w,b),B1(r,u,d,h,p,w,b)}else this.borderClipPath=null!=(e=this.borderClipPath)?e:new Gg,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(u,d,h,p),r.rect(u,d,h,p);else{const _={topLeft:a,topRight:s,bottomRight:l,bottomLeft:c};this.borderClipPath=void 0,B1(i,u,d,h,p,_,m)}this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=y}computeBBox(){const{x:n,y:t,width:e,height:i}=this;return new wt(n,t,e,i)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}applyFillAlpha(n){const{fillOpacity:t,microPixelEffectOpacity:e,opacity:i}=this,{globalAlpha:r}=n;n.globalAlpha=r*i*t*e}renderStroke(n){const{stroke:t,effectiveStrokeWidth:e,borderPath:i,borderClipPath:r,opacity:o,microPixelEffectOpacity:a}=this;if(t&&e){const{strokeOpacity:l,lineDash:c,lineDashOffset:u,lineCap:d,lineJoin:h}=this;r&&(r.draw(n),n.clip()),i.draw(n);const{globalAlpha:p}=n;n.strokeStyle=t,n.globalAlpha=p*o*l*a,n.lineWidth=e,c&&n.setLineDash(c),u&&(n.lineDashOffset=u),d&&(n.lineCap=d),h&&(n.lineJoin=h),n.stroke(),n.globalAlpha=p}}};jr.className="Rect",S([Ot()],jr.prototype,"x",2),S([Ot()],jr.prototype,"y",2),S([Ot()],jr.prototype,"width",2),S([Ot()],jr.prototype,"height",2),S([Ot()],jr.prototype,"topLeftCornerRadius",2),S([Ot()],jr.prototype,"topRightCornerRadius",2),S([Ot()],jr.prototype,"bottomRightCornerRadius",2),S([Ot()],jr.prototype,"bottomLeftCornerRadius",2),S([Ot()],jr.prototype,"cornerRadiusBbox",2),S([Ot()],jr.prototype,"crisp",2);var Cb=class extends rN{constructor(n){var t;super(),this.node=new $e({name:"background",zIndex:0}),this.rectNode=new jr,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),null==(t=n.scene.root)||t.appendChild(this.node),this.destroyFns.push(()=>{var e;return null==(e=n.scene.root)?void 0:e.removeChild(this.node)},n.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(n){const{width:t,height:e}=n.chart;this.rectNode.width=t,this.rectNode.height=e}};S([R(rt),Oi("node","visible")],Cb.prototype,"visible",2),S([R(qt,{optional:!0}),Oi("rectNode","fill")],Cb.prototype,"fill",2),S([R(Ye,{optional:!0})],Cb.prototype,"image",2);var fQ={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:Cb},Qs=class extends Sa{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(n){this._centerX!==n&&(this._centerX=n,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(n){this._centerY!==n&&(this._centerY=n,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(n){this._width!==n&&(this._width=n,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(n){this._gripLineGap!==n&&(this._gripLineGap=n,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(n){this._gripLineLength!==n&&(this._gripLineLength=n,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(n){this._height!==n&&(this._height=n,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:n,centerY:t,width:e,height:i}=this;return new wt(n-e/2,t-i/2,e,i)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}updatePath(){const{path:n,centerX:t,centerY:e,width:i,height:r}=this;n.clear();const o=t-i/2,a=e-r/2,s=this.align(o),l=this.align(a),c=s+this.align(o,i),u=l+this.align(a,r);n.moveTo(s,l),n.lineTo(c,l),n.lineTo(c,u),n.lineTo(s,u),n.closePath();const d=this.gripLineGap/2,h=this.gripLineLength/2;n.moveTo(this.align(t-d),this.align(e-h)),n.lineTo(this.align(t-d),this.align(e+h)),n.moveTo(this.align(t+d),this.align(e-h)),n.lineTo(this.align(t+d),this.align(e+h))}};function TT(n,t){n!==t&&(this.dirtyPath=!0)}Qs.className="RangeHandle",S([R(qt)],Qs.prototype,"_fill",2),S([R(qt)],Qs.prototype,"_stroke",2),S([R(Ce)],Qs.prototype,"_strokeWidth",2),S([R(_X)],Qs.prototype,"_lineCap",2),S([R(Ce)],Qs.prototype,"_width",2),S([R(Ce)],Qs.prototype,"_gripLineGap",2),S([R(Ce)],Qs.prototype,"_gripLineLength",2),S([R(Ce)],Qs.prototype,"_height",2);var nh=class extends Sa{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(n){var t;n=ti(0,n,this.max-this.minRange),this._min!==n&&!isNaN(n)&&(this._min=n,this.dirtyPath=!0,null==(t=this.onRangeChange)||t.call(this))}get min(){return this._min}set max(n){var t;n=ti(this.min+this.minRange,n,1),this._max!==n&&!isNaN(n)&&(this._max=n,this.dirtyPath=!0,null==(t=this.onRangeChange)||t.call(this))}get max(){return this._max}computeBBox(){const{x:n,y:t,width:e,height:i}=this;return new wt(n,t,e,i)}computeVisibleRangeBBox(){const{x:n,y:t,width:e,height:i,min:r,max:o}=this,a=n+e*r;return new wt(a,t,n+e*o-a,i)}updatePath(){const{path:n,x:t,y:e,width:i,height:r,min:o,max:a}=this;n.clear();const s=this.align(t),l=this.align(e),c=s+this.align(t,i),u=l+this.align(e,r);n.moveTo(s,l),n.lineTo(c,l),n.lineTo(c,u),n.lineTo(s,u),n.lineTo(s,l);const d=this.align(t+i*o),h=this.align(t+i*a);n.moveTo(d,l),n.lineTo(d,u),n.lineTo(h,u),n.lineTo(h,l),n.lineTo(d,l)}};nh.className="RangeMask",S([Jn({changeValue:TT}),R(Ce)],nh.prototype,"x",2),S([Jn({changeValue:TT}),R(Ce)],nh.prototype,"y",2),S([Jn({changeValue:TT}),R(Ce)],nh.prototype,"width",2),S([Jn({changeValue:TT}),R(Ce)],nh.prototype,"height",2),S([R(Di)],nh.prototype,"_min",2),S([R(Di)],nh.prototype,"_max",2);var bb=class xie extends $e{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Qs,this.maxHandle=new Qs,this.background=(()=>{const t=new $e({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{const{x:t,y:e,width:i,height:r,min:o,max:a}=xie.defaults,s=new nh;s.x=t,s.y=e,s.width=i,s.height=r,s.min=o,s.max=a,s.zIndex=2;const{minHandle:l,maxHandle:c}=this;return l.centerX=t,c.centerX=t+i,l.centerY=c.centerY=e+r/2,l.zIndex=4,c.zIndex=3,this.append([s,l,c]),s.onRangeChange=()=>{var u;this.updateHandles(),null==(u=this.onRangeChange)||u.call(this)},s})(),this.isContainerNode=!0}layout(t,e,i,r){this.mask.x=t,this.mask.y=e,this.mask.width=i,this.mask.height=r,this.updateHandles(),this.background.translationX=t,this.background.translationY=e}updateHandles(){const{x:t,y:e,width:i,height:r}=this.mask,{minHandle:o,maxHandle:a,min:s,max:l}=this;o.centerX=t+i*s,a.centerX=t+i*l,o.centerY=a.centerY=e+r/2,s+(l-s)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};bb.className="Range",bb.defaults={x:0,y:0,width:200,height:30,min:0,max:1},S([Kd("mask.min")],bb.prototype,"min",2),S([Kd("mask.max")],bb.prototype,"max",2);var U3e=bb,Js=class extends rN{constructor(n){var t;super(),this.ctx=n,this.rs=new U3e,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=function iBe(n,t=0,e){const{leading:i=!1,trailing:r=!0,maxWait:o=1/0}=e??{};let a,s;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");return Object.assign(function l(...c){if(i&&!s)return s=Date.now(),a=setTimeout(()=>s=null,t),void n(...c);let u=t;if(o!==1/0&&s){const d=Date.now()-s;t>o-d&&(u=o-d)}clearTimeout(a),s??(s=Date.now()),a=setTimeout(()=>{s=null,r&&n(...c)},u)},{cancel(){clearTimeout(a),s=null}})}(()=>this.onRangeChange()),null==(t=n.scene.root)||t.appendChild(this.rs),this.destroyFns.push(n.interactionManager.addListener("drag-start",i=>this.onDragStart(i),13),n.interactionManager.addListener("drag",i=>this.onDrag(i),13),n.interactionManager.addListener("hover",i=>this.onDrag(i),13),n.interactionManager.addListener("drag-end",()=>this.onDragStop(),13),n.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var i;return null==(i=n.scene.root)?void 0:i.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){const n=!(!this.enabled||!this.visible);n!==this.rs.visible&&(this.rs.visible=n,n&&this.onRangeChange())}performLayout(n){return he(this,arguments,function*({shrinkRect:t}){return this.enabled?(t.shrink(this.height+this.margin,"bottom"),this.y=t.y+t.height+this.margin):this.y=0,{shrinkRect:t}})}performCartesianLayout(n){return he(this,null,function*(){const{x:t,width:e}=n.seriesRect;if(this.enabled){const{y:r,height:o}=this;this.rs.layout(t,r,e,o)}this.visible=!0,this.x=t,this.width=e})}onRangeChange(){var n,t;const{min:e,max:i}=this.rs,r=this.ctx.zoomManager.getZoom();((null==(n=r?.x)?void 0:n.min)!==e||(null==(t=r?.x)?void 0:t.max)!==i)&&this.ctx.zoomManager.updateZoom({x:{min:e,max:i},y:r?.y})}onZoomChange(){const n=this.ctx.zoomManager.getZoom();n&&n.x&&(this.min=n.x.min,this.max=n.x.max)}onDragStart(n){if(!this.enabled)return;const{offsetX:t,offsetY:e}=n,{rs:i}=this,{minHandle:r,maxHandle:o,min:a}=i,{x:s,width:l}=this,c=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(r.zIndex<o.zIndex?o.containsPoint(t,e)?this.maxHandleDragging=!0:r.containsPoint(t,e)&&(this.minHandleDragging=!0):r.containsPoint(t,e)?this.minHandleDragging=!0:o.containsPoint(t,e)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&c.containsPoint(t,e)&&(this.panHandleOffset=(t-s)/l-a))}onDrag(n){if(!this.enabled)return;const{rs:t,panHandleOffset:e}=this,{minHandle:i,maxHandle:r}=t,{x:o,y:a,width:s,height:l}=this,{offsetX:c,offsetY:u}=n,d=o+s*t.min,p=new wt(d,a,o+s*t.max-d,l),f=()=>ti(0,(c-o)/s,1);if(i.containsPoint(c,u)||r.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(e)){const m=t.max-t.min,g=Math.min(f()-e,1-m);g<=t.min?(t.min=g,t.max=t.min+m):(t.max=g+m,t.min=t.max-m)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};S([R(Ye,{optional:!0})],Js.prototype,"miniChart",2),S([R(rt),Ig(n=>n.updateGroupVisibility())],Js.prototype,"enabled",2),S([Kd("rs.mask")],Js.prototype,"mask",2),S([Kd("rs.minHandle")],Js.prototype,"minHandle",2),S([Kd("rs.maxHandle")],Js.prototype,"maxHandle",2),S([Kd("rs.min")],Js.prototype,"min",2),S([Kd("rs.max")],Js.prototype,"max",2),S([R(Ce)],Js.prototype,"margin",2),S([R(rt),Ig(n=>n.updateGroupVisibility())],Js.prototype,"visible",2);var mQ={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Js,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},H1=({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}},wb=n=>{const{fill:t,stroke:e}=H1(n);return{marker:{fill:t,stroke:e}}};function gQ(n,t,e,i,r){const{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s}=r,l=(c,u,d)=>{e.animate({id:`${n}_${t}_${u.id}_${c}`,groupId:n,from:0,to:1,ease:ZC,onUpdate(h,p){p&&"removed"!==c||(u.path.clear({trackChanges:!0}),d(h,u),u.checkPathDirty())},onStop(){"added"===c&&(u.path.clear({trackChanges:!0}),d(1,u),u.checkPathDirty())},phase:ro[c]})};for(const c of i)e.isSkipped()||(l("removed",c,s),l("updated",c,a)),l("added",c,o)}var Sb=null;function Ui(n){if(null!=n)return""===n?"":(Sb??(Sb=document.createElement("div")),Sb.textContent=String(n),Sb.innerHTML)}function hi({id:n},t,e,i){oc(n,t,e,i,{opacity:0},{opacity:1},{phase:"trailing"})}function Jp({id:n},t,e,i){oc(n,t,e,i,{opacity:1},{opacity:0},{phase:"remove"})}function Tu(n){return{opacity:1}}var vQ=class extends bi{constructor(){super(...arguments),this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}},el=class extends vQ{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};S([R(rt),Le({redraw:3})],el.prototype,"enabled",2),S([R(qt),Le({redraw:3})],el.prototype,"color",2),S([R(Di),Le({redraw:3})],el.prototype,"xOffset",2),S([R(Di),Le({redraw:3})],el.prototype,"yOffset",2),S([R(Ce),Le({redraw:3})],el.prototype,"blur",2);var z3e=wi(n=>KZ(n)||Object.getPrototypeOf(n)===ls,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),Go=class extends vQ{constructor(){super(...arguments),this.enabled=!0,this.shape=dc,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:n,fill:t,fillOpacity:e,stroke:i,strokeWidth:r,strokeOpacity:o}=this;return{size:n,fill:t,fillOpacity:e,stroke:i,strokeWidth:r,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};S([R(rt),Le({redraw:3})],Go.prototype,"enabled",2),S([R(z3e),Le({redraw:3})],Go.prototype,"shape",2),S([R(Ce),Le({redraw:3})],Go.prototype,"size",2),S([R(qt,{optional:!0}),Le({redraw:3})],Go.prototype,"fill",2),S([R(di),Le({redraw:3})],Go.prototype,"fillOpacity",2),S([R(qt,{optional:!0}),Le({redraw:3})],Go.prototype,"stroke",2),S([R(Ce),Le({redraw:3})],Go.prototype,"strokeWidth",2),S([R(di),Le({redraw:3})],Go.prototype,"strokeOpacity",2),S([R(is,{optional:!0}),Le({redraw:3})],Go.prototype,"formatter",2);var yQ=class extends bi{constructor(){super(...arguments),this.enabled=!1}};S([R(rt)],yQ.prototype,"enabled",2);var Bo=class extends bi{constructor(){super(...arguments),this.enabled=!0,this.interaction=new yQ,this.position=new ob}toTooltipHtml(n,t){return this.renderer?rb(this.renderer(t),n):rb(n)}};S([R(rt)],Bo.prototype,"enabled",2),S([R(rt,{optional:!0})],Bo.prototype,"showArrow",2),S([R(is,{optional:!0})],Bo.prototype,"renderer",2),S([R(Ye)],Bo.prototype,"interaction",2),S([R(Ye)],Bo.prototype,"position",2);var dr=class extends eh{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new el,this.marker=new Go,this.label=new Ln,this.tooltip=new Bo,this.connectMissingData=!1}};function xb({id:n},t,e,i){oc(n,"markers",t,e,{opacity:0},{opacity:1},{phase:i?ro[i]:"trailing"}),e.forEach(o=>o.cleanup())}function j1({id:n},t,e){oc(n,"markers",t,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(i=>i.cleanup())}function U1({id:n,nodeDataDependencies:t},e,i){const r=t.seriesRectWidth;Hi(n,"markers",e,i,{fromFn:(s,l)=>{var c,u;const d=null!=(u=null==(c=l.midPoint)?void 0:c.x)?u:r;return{scalingX:0,scalingY:0,delay:ti(0,lX(d/r),1),duration:.2,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Eb(n){return{opacity:1,scalingX:1,scalingY:1}}function Db(n,t){var e,i,r,o;return{translationX:null!=(i=null==(e=t.point)?void 0:e.x)?i:NaN,translationY:null!=(o=null==(r=t.point)?void 0:r.y)?o:NaN}}function z1(n,t){const e=(a,s)=>{const l=n[s][a];return Array.isArray(l)?l[0]:l},i=a=>{const{xValue:s}=a;return n.moved[s]?{point:e(s,"moved"),status:"updated"}:n.removed[s]?{point:e(s,"removed"),status:"removed"}:n.added[s]?{point:e(s,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,s)=>{var l,c,u,d,h,p;const{status:f,point:m}=i(s);if("unknown"===f)return{opacity:0};const g={translationX:null!=(c=null==(l=m?.from)?void 0:l.x)?c:a.translationX,translationY:null!=(d=null==(u=m?.from)?void 0:u.y)?d:a.translationY,opacity:a.opacity,phase:ro[f]};return"added"===t?Pe(Q({},g),{opacity:0,translationX:null==(h=m?.to)?void 0:h.x,translationY:null==(p=m?.to)?void 0:p.y,phase:ro.added}):("added"===f&&(g.opacity=0),g)},toFn:(a,s)=>{var l,c;const{status:u,point:d}=i(s);if("unknown"===u)return{opacity:0};const h={translationX:s.point.x,translationY:s.point.y,opacity:1,phase:ro[u]};return"removed"===u||"removed"===t?Pe(Q({},h),{translationX:null==(l=d?.to)?void 0:l.x,translationY:null==(c=d?.to)?void 0:c.y,opacity:0,phase:ro.removed}):h}}}function W1(n){return n.reduce(({min:t,max:e},i)=>((null==t||t.point.x>i.point.x)&&(t=i),(null==e||e.point.x<i.point.x)&&(e=i),{min:t,max:e}),{})}function _Q(n,t,e){return{x:e,y:(t.y-n.y)/(t.x-n.x)*(e-n.x)+n.y}}function CQ(n,t,e,i){let r=-1,o=0;const a=[];for(;o<n.length;)n[o].change!==t?n[o].change!==e?(a.length>0&&(i(a,r,o),a.length=0),r=o,o++):o++:(a.push(n[o]),o++);a.length>0&&i(a,r,o)}function $1(n,t){CQ(n,"out","in",(e,i,r)=>{var o,a;-1===i&&n[r]?e.forEach(s=>s.to=n[r].from):r===n.length&&n[i]?e.forEach(s=>s.to=n[i].from):"intersect"===t&&null!=(o=n[i])&&o.from&&null!=(a=n[r])&&a.from?e.forEach(s=>s.to=_Q(n[i].from,n[r].from,s.from.x)):e.forEach(s=>s.to=s.from)}),CQ(n,"in","out",(e,i,r)=>{var o,a;-1===i&&n[r]?e.forEach(s=>s.from=n[r].to):r===n.length&&n[i]?e.forEach(s=>s.from=n[i].to):"intersect"===t&&null!=(o=n[i])&&o.to&&null!=(a=n[r])&&a.to?e.forEach(s=>s.from=_Q(n[i].to,n[r].to,s.to.x)):e.forEach(s=>s.from=s.to)})}function bQ(n,t,e){const i=isNaN(n.x)?t.x:n.x,r=isNaN(n.y)?t.y:n.y,o=t.x-n.x,a=t.y-n.y;return{x:i+(isNaN(o)?0:o*e),y:r+(isNaN(a)?0:a*e)}}function K1(n,t,e){const{path:i}=e;let r;for(const o of n){const{from:a,to:s}=o,l=t[o.change];if(null==l||null==a||null==s)continue;const{x:c,y:u}=bQ(a,s,l);if(!1===o.moveTo)i.lineTo(c,u);else if(!0!==o.moveTo&&r){if(r){const d="in"===o.moveTo?l:1-l,{x:h,y:p}=bQ(r,{x:c,y:u},d);i.lineTo(h,p),i.moveTo(c,u)}}else i.moveTo(c,u);r={x:c,y:u}}}function Y1({id:n,visible:t,nodeDataDependencies:e},i,r){const{seriesRectWidth:o,seriesRectHeight:a}=e;oc(n,"path_properties",i,r,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:a,visible:t},finish:{clipMode:void 0,visible:t}})}function Tb({id:n},t,e,i,r="add"){oc(n,t,e,i,{opacity:0},{opacity:1},{phase:r})}function W3e({id:n},t,e,i){oc(n,t,e,i,{opacity:1},{opacity:0},{phase:"remove"})}function q1(n){return t=>({opacity:n.getOpacity(),clipScalingX:1,clipMode:void 0})}function MT({nodeDataDependencies:n},t){const e=i=>isFinite(i)?i:0;t.clipX=e(n.seriesRectWidth),t.clipY=e(n.seriesRectHeight)}function wQ(n){return"continuous"===n.type||"log"===n.type}function SQ(n){return"category"===n.type}function xQ(n,t){return n.domain.length===t.domain.length&&n.range.length===t.range.length&&n.domain.every((e,i)=>e===t.domain[i])&&n.range.every((e,i)=>e===t.range[i])}function EQ(n,t){return void 0===n||void 0===t?void 0!==n||void 0!==t:wQ(n)&&wQ(t)?n.type===t.type&&xQ(n,t):!(!SQ(n)||!SQ(t))&&xQ(n,t)}function AT(n,t){if(!t)return NaN;if(n instanceof Date&&(n=n.getTime()),"continuous"===t.type&&"number"==typeof n)return(n-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if("log"===t.type&&"number"==typeof n)return t.convert(n);const e=t.domain.findIndex(i=>i===n);return e>=0?t.range[e]:NaN}function K3e(n,t){const e=Number(n),i=Number(t);return isNaN(e)||isNaN(i)?n===t:Math.abs(i-e)<.25}function DQ(n=!1,t=!1){return n===t?!!n:n?"in":"out"}function Mb(n,t,e={}){var i,r,o,a;const{backfillSplitMode:s="intersect"}=e,l=_=>{var b,w;return{x:AT(null!=(b=_.xValue)?b:NaN,n.scales.x),y:AT(null!=(w=_.yValue)?w:NaN,n.scales.y)}},c=_=>{var b,w;return{x:AT(null!=(b=_.xValue)?b:NaN,t.scales.x),y:AT(null!=(w=_.yValue)?w:NaN,t.scales.y)}},u=[],d={added:{},moved:{},removed:{}},h=(_,b,w,E="move")=>{_&&(isNaN(_.point.x)||isNaN(_.point.y))&&(_=b);const M={from:_?.point,to:b?.point,moveTo:DQ(_?.point.moveTo,b?.point.moveTo),change:E};"move"===E?(d.moved[w]=M,v++,y++):"in"===E?(d.added[w]=M,y++):"out"===E&&(d.removed[w]=M,v++),u.push(M)},{min:p,max:f}=W1(t.nodeData),{min:m,max:g}=W1(n.nodeData);let v=0,y=0;for(;v<t.nodeData.length||y<n.nodeData.length;){const _=t.nodeData[v],b=n.nodeData[y],w=_?l(_):void 0,E=b?c(b):void 0,M=void 0;if(w&&K3e(w.x,b?.point.x))h(_,b,b.xValue,"move");else if(w&&w.x<(null!=(i=m?.point.x)?i:-1/0))h(_,M,_.xValue,"out");else if(w&&w.x>(null!=(r=g?.point.x)?r:1/0))h(_,M,_.xValue,"out");else if(E&&E.x<(null!=(o=p?.point.x)?o:-1/0))h(M,b,b.xValue,"in");else if(E&&E.x>(null!=(a=f?.point.x)?a:1/0))h(M,b,b.xValue,"in");else if(w&&w.x<b?.point.x)h(_,M,_.xValue,"out");else if(E&&E.x<_?.point.x)h(M,b,b.xValue,"in");else if(_)h(_,M,_.xValue,"out");else{if(!b)throw new Error("Unable to process points");h(M,b,b.xValue,"in")}}return $1(u,s),{result:u,resultMap:d}}function Ab(n,t,e,i={}){var r,o,a;const{backfillSplitMode:s="intersect",multiDatum:l=!1}=i,c=[],u={added:{},moved:{},removed:{}},d={added:{},moved:{},removed:{}};let h,p;const f=(_,b)=>{var w;const M="move"===b.change?"moved":"in"===b.change?"added":"removed";l?(null!=(w=d[M])[_]||(w[_]=[]),d[M][_].push(b)):u[M][_]=b,h=b,p=Fg(_)};let m=0,g=0,v=!1;for(;m<t.nodeData.length||g<n.nodeData.length;){const _=t.nodeData[m],b=n.nodeData[g],w=Fg(_?.xValue),E=Fg(b?.xValue);let M;if(w===E)M={change:"move",moveTo:DQ(null!=(r=_.point.moveTo)&&r,b.point.moveTo),from:_.point,to:b.point},f(_?.xValue,M),m++,g++;else if(void 0!==e&&e.removed.indexOf(String(w))>=0)M={change:"out",moveTo:null!=(o=_.point.moveTo)&&o,from:_.point},f(_?.xValue,M),m++;else if(void 0!==e&&e.added.indexOf(String(E))>=0)M={change:"in",moveTo:null!=(a=b.point.moveTo)&&a,to:b.point},f(b?.xValue,M),g++;else if(l&&h&&p===w)M=Q({},h),f(_?.xValue,M),m++;else{if(!l||!h||p!==E){v=!0;break}M=Q({},h),f(b?.xValue,M),g++}c.push(M)}let y=-1/0;return v||(v=c.some(_=>{const{change:b,to:{x:w=-1/0}={}}=_;if("out"===b)return;const E=w<y;return y=w,E})),v?{result:void 0,resultMap:void 0}:($1(c,s),l?{result:c,resultMap:d}:{result:c,resultMap:u})}function TQ(n,t){let e="updated";const i=r=>r.visible;return!i(t)&&i(n)?e="added":i(t)&&!i(n)&&(e="removed"),e}function X1(n,t,e,i,r){const o=TQ(n,t),c=function Y3e(n,t){const e="none"===t?"updated":n,i={fromFn:r=>{let o;return o="removed"===n?{finish:{visible:!1}}:"added"===n?{start:{visible:!0}}:{},Q({phase:ro[e]},o)},toFn:r=>({phase:ro[e]})};return"fade"===t?{fromFn:r=>Q({opacity:"added"===n?0:r.opacity},i.fromFn(r)),toFn:r=>Q({opacity:"removed"===n?0:1},i.toFn(r))}:i}(o,i);return{status:o,path:{addPhaseFn:(u,d)=>{r(e,{move:1,in:u},d)},updatePhaseFn:(u,d)=>{r(e,{move:u},d)},removePhaseFn:(u,d)=>{r(e,{move:0,out:u},d)}},pathProperties:c}}function MQ(n,t,e){var i,r,o;const a="category"===(null==(i=n.scales.x)?void 0:i.type);if(a!==("category"===(null==(r=t.scales.x)?void 0:r.type)))return;const{result:l,resultMap:c}=a?Ab(n,t,e):Mb(n,t);let u="updated";if(t.visible&&!n.visible?u="removed":!t.visible&&n.visible&&(u="added"),void 0===l||void 0===c)return;const d=null==(o=e?.changed)||o||function $3e(n,t){return!EQ(n.scales.x,t.scales.x)||!EQ(n.scales.y,t.scales.y)}(n,t)||"updated"!==u,h=X1(n,t,l,"fade",K1),p=z1(c,u);return Pe(Q({},h),{marker:p,hasMotion:d})}S([R(xe)],dr.prototype,"xKey",2),S([R(xe,{optional:!0})],dr.prototype,"xName",2),S([R(xe)],dr.prototype,"yKey",2),S([R(xe,{optional:!0})],dr.prototype,"yName",2),S([R(Ce,{optional:!0})],dr.prototype,"normalizedTo",2),S([R(qt)],dr.prototype,"fill",2),S([R(di)],dr.prototype,"fillOpacity",2),S([R(qt)],dr.prototype,"stroke",2),S([R(Ce)],dr.prototype,"strokeWidth",2),S([R(di)],dr.prototype,"strokeOpacity",2),S([R(yu)],dr.prototype,"lineDash",2),S([R(Ce)],dr.prototype,"lineDashOffset",2),S([R(Ye)],dr.prototype,"shadow",2),S([R(Ye)],dr.prototype,"marker",2),S([R(Ye)],dr.prototype,"label",2),S([R(Ye)],dr.prototype,"tooltip",2),S([R(rt)],dr.prototype,"connectMissingData",2);var AQ=(n=>(n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Marker=2]="Marker",n[n.Label=3]="Label",n))(AQ||{});function OT(n){const{points:t}=n.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function rh(n,t,e){return{scales:t.scales,nodeData:e[n],visible:t.visible}}function OQ(n,t,e){var i,r;const o="category"===(null==(i=n.scales.x)?void 0:i.type);if(o!==("category"===(null==(r=t.scales.x)?void 0:r.type)))return;let s="updated";t.visible&&!n.visible?s="removed":!t.visible&&n.visible&&(s="added");const{resultMap:u}=o?Ab(n,t,e,{backfillSplitMode:"static",multiDatum:!0}):Mb(n,t,{backfillSplitMode:"static"}),{top:d,bottom:h}=o?function q3e(n,t,e){const i=OT(t),r=OT(n),o={multiDatum:!0};return{top:Ab(rh("top",n,r),rh("top",t,i),e,o),bottom:Ab(rh("bottom",n,r),rh("bottom",t,i),e,o)}}(n,t,e):function X3e(n,t){const e=OT(t),i=OT(n);return{top:Mb(rh("top",n,i),rh("top",t,e)),bottom:Mb(rh("bottom",n,i),rh("bottom",t,e))}}(n,t);if(void 0===u||void 0===d.result||void 0===h.result)return;return{fill:X1(n,t,[...d.result,...h.result.reverse()],t.stackVisible&&n.stackVisible?"none":"fade",K1),marker:z1(u,s)}}var Z1=class Eie extends th{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:q1({getOpacity:()=>this.getOpacity()}),label:Tu,marker:(e,i)=>Q(Q({},{opacity:1,scalingX:1,scalingY:1}),Db(0,i))}}),this.properties=new dr}processData(t){return he(this,null,function*(){if(null==this.data||!this.properties.isValid())return;const{data:e,visible:i,seriesGrouping:{groupIndex:r=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:s,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:h}=this.isContinuous(),p=[`area-stack-${r}-yValues`,`area-stack-${r}-yValues-trailing`,`area-stack-${r}-yValues-prev`,`area-stack-${r}-yValues-trailing-prev`,`area-stack-${r}-yValues-marker`],f=[];sN(c)&&(f.push(wT(this,[p[0],p[1],p[4]],c,"range")),f.push(wT(this,[p[2],p[3]],c,"range"))),!d&&u&&this.processedData&&f.push(Xp(this.processedData)),u&&f.push(Wg(this));const m={invalidValue:null};l&&o>1&&(m.invalidValue=0),i||(m.forceValue=0),yield this.requestDataModel(t,e,{props:[Mr(this,a,d,{id:"xValue"}),xi(this,s,h,Q({id:"yValueRaw"},m)),...Jd(this,s,h,"window","current",Pe(Q({id:"yValueEnd"},m),{groupId:p[0]})),...Jd(this,s,h,"window-trailing","current",Pe(Q({id:"yValueStart"},m),{groupId:p[1]})),...Jd(this,s,h,"window","last",Pe(Q({id:"yValuePreviousEnd"},m),{groupId:p[2]})),...Jd(this,s,h,"window-trailing","last",Pe(Q({id:"yValuePreviousStart"},m),{groupId:p[3]})),...Jd(this,s,h,"normal","current",Pe(Q({id:"yValueCumulative"},m),{groupId:p[4]})),...f],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:i,axes:r}=this;if(!e||!i||0===e.data.length)return[];const o=r.x,a=r.y,s=i.resolveProcessedDataDefById(this,"xValue"),l=i.getDomain(this,"xValue","key",e),c=i.getDomain(this,"yValueEnd","value",e);return"x"===t?"key"===s?.def.type&&"category"===s.def.valueType?l:ao(ic(l),o):ao(a instanceof ih||a instanceof Qp?c:[c[0]>0?0:c[0],c[1]<0?0:c[1]],a)}createNodeData(){return he(this,null,function*(){var t;const{axes:e,data:i,processedData:{data:r}={},dataModel:o}=this,a=e.x,s=e.y;if(!(a&&s&&i&&o&&this.properties.isValid()))return[];const{yKey:l,xKey:c,marker:u,label:d,fill:h,stroke:p,connectMissingData:f}=this.properties,{scale:m}=a,{scale:g}=s,v=Si.is(g),y=(null!=(t=m.bandwidth)?t:0)/2,_=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),b=X=>{const ce=X,{point:Ee}=ce,ke=Zn(ce,["point"]);return Pe(Q({},ke),{point:Pe(Q({},Ee),{moveTo:!0})})},w=(X,ce,Ee)=>{const ke=m.convert(X)+y,Ae=g.convert(ce);return[{point:{x:ke,y:g.convert(Ee)},yValue:Ee,xValue:X},{point:{x:ke,y:Ae},yValue:ce,xValue:X}]},E=(X,ce,Ee)=>{let ke;return(sN(this.properties.normalizedTo)?v&&e1(Ee):!isNaN(Ee))&&(ke=ce),{x:m.convert(X)+y,y:g.convert(ke),size:u.size}},M=l,P=[],I=[],{visibleSameStackCount:k}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),L={itemId:M,fillData:{itemId:M,points:[]},strokeData:{itemId:M,points:[]},labelData:P,nodeData:I,scales:hu(Eie.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:k>0},B=L.fillData.points,Y=[],ne=L.strokeData.points;let W,fe=-1,$=-1/0;return r?.forEach(X=>{const{keys:ce,keys:[Ee],datum:ke,values:Ae}=X;Ae.forEach((nt,qe)=>{var tn,Ie,Je;fe++;const Kt=ke[qe],Ht=o.resolveProcessedDataDefsValues(_,{keys:ce,values:nt}),{yValueRaw:zi,yValueCumulative:Wr}=Ht;let{yValueStart:pr,yValueEnd:Wo,yValuePreviousStart:al,yValuePreviousEnd:yf}=Ht;const uo=null!=zi,Cc=E(Ee,+Wr,zi);if(uo&&u&&I.push({index:fe,series:this,itemId:M,datum:Kt,midPoint:{x:Cc.x,y:Cc.y},cumulativeValue:Wo,yValue:zi,xValue:Ee,yKey:l,xKey:c,point:Cc,fill:null!=(tn=u.fill)?tn:h,stroke:null!=(Ie=u.stroke)?Ie:p,strokeWidth:null!=(Je=u.strokeWidth)?Je:this.getStrokeWidth(this.properties.strokeWidth)}),uo&&d){const IM=this.getLabelText(d,{value:zi,datum:Kt,xKey:c,yKey:l,xName:this.properties.xName,yName:this.properties.yName},sw=>ai(sw)?sw.toFixed(2):String(sw));P.push({index:fe,series:this,itemId:l,datum:Kt,x:Cc.x,y:Cc.y,label:IM?{text:IM,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}const xv=null!=W&&null!=Ee,Ev=null!=$&&uo;Ev||(pr=pr??0,Wo=pr??0,al=al??0,yf=al??0);const[$o,FG]=w(W,al,yf),[PM,kG]=w(Ee,pr,Wo);xv&&(!f||Ev)&&(B.push($o),Y.push(FG),B.push(PM),Y.push(kG)),Ev&&fe>0&&(ne.push(b($o)),ne.push(PM)),W=Ee,$=zi})}),ne.length>0&&(ne[0]=b(ne[0])),Y.reverse(),B.push(...Y),[L]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Xd(t))}updatePathNodes(t){return he(this,null,function*(){const{opacity:e,visible:i,animationEnabled:r}=t,[o,a]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:i}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:i||r,strokeWidth:s}),MT(this,a),MT(this,o)})}updatePaths(t){return he(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:i},r)=>{const[o]=t[r],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of i.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);a.closePath(),o.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:i},r)=>{const[,o]=t[r],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of i.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);o.checkPathDirty()})}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:r,yKey:o,marker:a,fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d,highlightStyle:h}=this.properties,p=Vt(i&&h.item,a.getStyle(),{fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d});e.each((f,m)=>{this.updateMarkerStyle(f,a,{datum:m,highlighted:i,xKey:r,yKey:o},p)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return he(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,r=>{r.tag=3})})}updateLabelNodes(t){return he(this,null,function*(){const{labelSelection:e}=t,{enabled:i,fontStyle:r,fontWeight:o,fontSize:a,fontFamily:s,color:l}=this.properties.label;e.each((c,u)=>{const{x:d,y:h,label:p}=u;p&&i&&this.visible?(c.fontStyle=r,c.fontWeight=o,c.fontSize=a,c.fontFamily=s,c.textAlign=p.textAlign,c.textBaseline=p.textBaseline,c.text=p.text,c.x=d,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})})}getTooltipHtml(t){const{id:e,axes:i,dataModel:r}=this,{xKey:o,xName:a,yName:s,tooltip:l,marker:c}=this.properties,{yKey:u,xValue:d,yValue:h,datum:p}=t,f=i.x,m=i.y;if(!this.properties.isValid()||!(f&&m&&ai(h))||!r)return"";const g=f.formatDatum(d),v=m.formatDatum(h),y=Ui(s),_=Ui(g+": "+v),b=Vt({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:u,highlighted:!1},b);return l.toTooltipHtml({title:y,content:_,backgroundColor:w},{datum:p,xKey:o,xName:a,yKey:u,yName:s,color:w,title:y,seriesId:e})}getLegendData(t){var e,i,r,o;if(null==(e=this.data)||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:a,yName:s,fill:l,stroke:c,fillOpacity:u,strokeOpacity:d,strokeWidth:h,lineDash:p,marker:f,visible:m}=this.properties,g=!f.enabled||void 0===f.fill;return[{legendType:t,id:this.id,itemId:a,seriesId:this.id,enabled:m,label:{text:s??a},marker:{shape:f.shape,fill:g?l:f.fill,fillOpacity:g?u:f.fillOpacity,stroke:null!=(i=f.stroke)?i:c,strokeOpacity:null!=(r=f.strokeOpacity)?r:d,strokeWidth:null!=(o=f.strokeWidth)?o:0,enabled:f.enabled||h<=0},line:{stroke:c,strokeOpacity:d,strokeWidth:h,lineDash:p}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,contextData:r,paths:o}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(o,r),Y1(this,a,o.flat()),er(e,Db),U1(this,a,e),hi(this,"labels",a,i)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateAreaPaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,i;const{animationManager:r}=this.ctx,{markerSelections:o,labelSelections:a,contextData:s,paths:l,previousContextData:c}=t,[[u,d]]=l;super.resetAllAnimation(t);const h=()=>{this.updateAreaPaths(l,s),this.updateStrokePath(l,s)};if(0===s.length||0===c?.length)return h(),xb(this,r,o,"added"),Tb(this,"fill_path_properties",r,[u]),Tb(this,"stroke",r,[d],"trailing"),void hi(this,"labels",r,a);const[f]=s,[m]=c??[],g=OQ(f,m,null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff);if(void 0===g)return r.skipCurrentBatch(),void h();xb(this,r,o),Hi(this.id,"fill_path_properties",r,[u],g.fill.pathProperties),gQ(this.id,"fill_path_update",r,[u],g.fill.path),this.updateStrokePath(l,s),Tb(this,"stroke",r,[d],"trailing"),hi(this,"labels",r,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};Z1.className="AreaSeries",Z1.type="area";var Q3e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:Z1,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:fu,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ag,xOffset:3,yOffset:3,blur:5},marker:{__extends__:Dg,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,formatter:void 0}}},paletteFactory:n=>{const{marker:t}=wb(n);return{fill:t.fill,stroke:t.stroke,marker:t}}},Q1=class extends eh{constructor(){super(...arguments),this.direction="vertical"}};S([R(bX)],Q1.prototype,"direction",2);var RQ=class extends th{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const n=this.getBarDirection();return this.axes[n]}getCategoryAxis(){const n=this.getCategoryDirection();return this.axes[n]}},PQ=class extends Ln{constructor(){super(...arguments),this.placement="inside"}};S([R(wX)],PQ.prototype,"placement",2);var ir=class extends Q1{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new el,this.label=new PQ,this.tooltip=new Bo}};function IQ({rect:n,config:t}){const{crisp:e=!0,fill:i,stroke:r,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:l,lineDashOffset:c,fillShadow:u,cornerRadius:d=0,topLeftCornerRadius:h,topRightCornerRadius:p,bottomRightCornerRadius:f,bottomLeftCornerRadius:m,cornerRadiusBbox:g,visible:v=!0}=t;n.crisp=e,n.fill=i,n.stroke=r,n.strokeWidth=o,n.fillOpacity=a,n.strokeOpacity=s,n.lineDash=l,n.lineDashOffset=c,n.fillShadow=u,n.topLeftCornerRadius=h?d:0,n.topRightCornerRadius=p?d:0,n.bottomRightCornerRadius=f?d:0,n.bottomLeftCornerRadius=m?d:0,n.cornerRadiusBbox=g,n.visible=v}function FQ(n){var u,d,h,p,f,m,t=n,{datum:e,isHighlighted:i,style:r,highlightStyle:o,formatter:a,seriesId:s,ctx:{callbackCache:l}}=t,c=Zn(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]);const{fill:g,fillOpacity:v,stroke:y,strokeWidth:_}=Vt(i&&o,r),{strokeOpacity:b,fillShadow:w,lineDash:E,lineDashOffset:M,cornerRadius:P=0,topLeftCornerRadius:I=!0,topRightCornerRadius:k=!0,bottomRightCornerRadius:L=!0,bottomLeftCornerRadius:B=!0,cornerRadiusBbox:Y}=r;let ne;return a&&(ne=l.call(a,Q({datum:e.datum,xKey:e.xKey,fill:g,stroke:y,strokeWidth:_,cornerRadius:P,highlighted:i,seriesId:s},c))),{fill:null!=(u=ne?.fill)?u:g,stroke:null!=(d=ne?.stroke)?d:y,strokeWidth:null!=(h=ne?.strokeWidth)?h:_,fillOpacity:null!=(p=ne?.fillOpacity)?p:v,strokeOpacity:null!=(f=ne?.strokeOpacity)?f:b,lineDash:E,lineDashOffset:M,fillShadow:w,cornerRadius:null!=(m=ne?.cornerRadius)?m:P,topLeftCornerRadius:I,topRightCornerRadius:k,bottomRightCornerRadius:L,bottomLeftCornerRadius:B,cornerRadiusBbox:Y}}function kQ(n=[]){const[t,e]=n;return!(0!==t||1!==e)}S([R(xe)],ir.prototype,"xKey",2),S([R(xe,{optional:!0})],ir.prototype,"xName",2),S([R(xe)],ir.prototype,"yKey",2),S([R(xe,{optional:!0})],ir.prototype,"yName",2),S([R(xe,{optional:!0})],ir.prototype,"stackGroup",2),S([R(Di,{optional:!0})],ir.prototype,"normalizedTo",2),S([R(qt)],ir.prototype,"fill",2),S([R(di)],ir.prototype,"fillOpacity",2),S([R(qt)],ir.prototype,"stroke",2),S([R(Ce)],ir.prototype,"strokeWidth",2),S([R(di)],ir.prototype,"strokeOpacity",2),S([R(yu)],ir.prototype,"lineDash",2),S([R(Ce)],ir.prototype,"lineDashOffset",2),S([R(Ce)],ir.prototype,"cornerRadius",2),S([R(is,{optional:!0})],ir.prototype,"formatter",2),S([R(Ye,{optional:!0})],ir.prototype,"shadow",2),S([R(Ye)],ir.prototype,"label",2),S([R(Ye)],ir.prototype,"tooltip",2);var LQ=n=>{var t;return qC(null!=(t=n.yValue)?t:0)};function Ob(n,t,e){const{startingX:i,startingY:r}=function eUe(n,t){const e=t[n?"y":"x"];let i=1/0,r=0;return e?(n?r=e.scale.convert(Si.is(e.scale)?0:Math.max(...e.range)):i=e.scale.convert(Si.is(e.scale)?0:Math.min(...e.range)),{startingX:i,startingY:r}):{startingX:i,startingY:r}}(n,t);return{isVertical:n,calculate:(a,s)=>{let l=n?a.x:i,c=n?r:a.y,u=n?a.width:0,d=n?0:a.height;const h=a.opacity;return s&&(isNaN(l)||isNaN(c))&&(({x:l,y:c}=s),u=n?s.width:0,d=n?0:s.height,n&&!LQ(s)?c+=s.height:!n&&LQ(s)&&(l+=s.width)),{x:l,y:c,width:u,height:d,opacity:h}},mode:e}}function J3e(n,t){return{isVertical:n,calculate:e=>({x:n?e.x:e.x+e.width/2,y:n?e.y+e.height/2:e.y,width:n?e.width:0,height:n?0:e.height,opacity:e.opacity}),mode:t}}function Rb(n){const t=r=>null==r||isNaN(r.x)||isNaN(r.y);return{toFn:(r,o,a)=>"removed"===a&&null==r.datum&&"fade"===n.mode?Pe(Q({},Pb(0,o)),{opacity:0}):"removed"===a||t(o)?n.calculate(o,r.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(r,o,a)=>{"updated"===a&&t(o)?a="removed":"updated"===a&&t(r.previousDatum)&&(a="added");let s={x:r.x,y:r.y,width:r.width,height:r.height,opacity:r.opacity};"added"===a&&null==r.previousDatum&&"fade"===n.mode?s=Pe(Q({},Pb(0,o)),{opacity:0}):("unknown"===a||"added"===a)&&(s=n.calculate(o,r.previousDatum));const l=ro[a];return Pe(Q({},s),{phase:l})}}}function Pb(n,{x:t,y:e,width:i,height:r,opacity:o}){return{x:t,y:e,width:i,height:r,opacity:o}}function NQ(n,t,e){if(t.enabled&&e){const{x:i,y:r,text:o,textAlign:a,textBaseline:s}=e,{color:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h}=t;n.setProperties({visible:!0,x:i,y:r,text:o,fill:l,fontStyle:c,fontWeight:u,fontSize:d,fontFamily:h,textAlign:a,textBaseline:s})}else n.visible=!1}function VQ({isPositive:n,isVertical:t,placement:e,padding:i=0,rect:r}){let o=r.x+r.width/2,a=r.y+r.height/2,s="center",l="middle";switch(e){case"start":t?(a=n?r.y+r.height+i:r.y-i,l=n?"top":"bottom"):(o=n?r.x-i:r.x+r.width+i,s=n?"start":"end");break;case"outside":case"end":t?(a=n?r.y-i:r.y+r.height+i,l=n?"bottom":"top"):(o=n?r.x+r.width+i:r.x-i,s=n?"start":"end")}return{x:o,y:a,textAlign:s,textBaseline:l}}var J1=class Die extends RQ{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Pb,label:Tu}}),this.properties=new ir,this.groupScale=new sc,this.smallestDataInterval=void 0}resolveKeyDirection(t){return"x"===this.getBarDirection()?"x"===t?"y":"x":t}processData(t){return he(this,null,function*(){var e,i,r,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:s=[]}=this,{xKey:l,yKey:c,normalizedTo:u}=this.properties,d=!this.ctx.animationManager.isSkipped(),h=Math.abs(u??NaN),p=Si.is(null==(e=this.getCategoryAxis())?void 0:e.scale),f=Si.is(null==(i=this.getValueAxis())?void 0:i.scale),m=`bar-stack-${a}-yValues`,g=`${m}-trailing`,v=h&&isFinite(h)?h:void 0,y=[];v&&y.push(wT(this,[m,g],v,"range")),d&&this.processedData&&y.push(Xp(this.processedData)),d&&y.push(Wg(this));const _=this.visible?{}:{forceValue:0},{processedData:b}=yield this.requestDataModel(t,s,{props:[Mr(this,l,p,{id:"xValue"}),xi(this,c,f,Q({id:"yValue-raw",invalidValue:null},_)),...Jd(this,c,f,"normal","current",Q({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0},_)),...Jd(this,c,f,"trailing","current",Q({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},_)),...p?[P1]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:null!=(o=null==(r=b.reduced)?void 0:r.smallestKeyInterval)?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:i,dataModel:r}=this;if(!i||!r||0===i.data.length)return[];const{reduced:{[P1.property]:o}={}}=i,a=this.getCategoryAxis(),s=this.getValueAxis(),l=r.resolveProcessedDataDefById(this,"xValue"),c=r.getDomain(this,"xValue","key",i),u=r.getDomain(this,"yValue-end","value",i);if(t===this.getCategoryDirection()){if("key"===l?.def.type&&"category"===l?.def.valueType)return c;const d=null!=o&&isFinite(o)?o:0,h=null!=(e=ic(c))?e:[NaN,NaN],p=a?.isReversed();return ao("y"===t?[h[0]+(p?0:-d),h[1]+(p?d:0)]:[h[0]+(p?-d:0),h[1]+(p?0:d)],a)}return this.getValueAxis()instanceof ih?ao(u,s):ao([u[0]>0?0:u[0],u[1]<0?0:u[1]],s)}createNodeData(){return he(this,null,function*(){const{dataModel:t}=this,e=this.getCategoryAxis(),i=this.getValueAxis();if(!(t&&e&&i&&this.properties.isValid()))return[];const r=e.scale,o=i.scale,{groupScale:a,processedData:s,smallestDataInterval:l,ctx:{seriesStateManager:c}}=this,{xKey:u,yKey:d,xName:h,yName:p,fill:f,stroke:m,strokeWidth:g,cornerRadius:v,legendItemName:y,label:_}=this.properties,b=i.isReversed(),w=Si.is(r)?r.calcBandwidth(l?.x):r.bandwidth,E=[],{index:M,visibleGroupCount:P}=c.getVisiblePeerGroupIndex(this);for(let $=0;$<P;$++)E.push(String($));a.domain=E,a.range=[0,w??0],e instanceof wu?a.paddingInner=e.groupPaddingInner:a.padding=e instanceof Yd?.1:0,a.round=0!==a.padding;const I=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,k=t.resolveProcessedDataIndexById(this,"xValue").index,L=t.resolveProcessedDataIndexById(this,"yValue-raw").index,B=t.resolveProcessedDataIndexById(this,"yValue-start").index,Y=t.resolveProcessedDataIndexById(this,"yValue-end").index,ne=t.resolveProcessedDataDefById(this,"yValue-range").index,fe=!this.ctx.animationManager.isSkipped(),W=[];return s?.data.forEach(({keys:$,datum:X,values:ce,aggValues:Ee})=>{ce.forEach((ke,Ae)=>{var qe;null!=W[Ae]||(W[Ae]={itemId:d,nodeData:[],labelData:[],scales:hu(Die.prototype,this,"calculateScaling").call(this),visible:this.visible||fe});const tn=$[k],Ie=r.convert(tn),Je=+ke[Y],Kt=+ke[B],Ht=ke[L],zi=Ht>=0,Wr=zi!==b,pr=null!=(qe=Ee?.[ne][zi?1:0])?qe:0,Wo=Ie+a.convert(String(M));if(isNaN(Je))return;const al=o.convert(Je),yf=o.convert(Kt),uo="x"===this.getBarDirection(),Cc=o.convert(pr),xv=o.convert(0),Ev=new wt(uo?Math.min(xv,Cc):Wo,uo?Wo:Math.min(xv,Cc),uo?Math.abs(xv-Cc):I,uo?I:Math.abs(xv-Cc)),$o={x:uo?Math.min(al,yf):Wo,y:uo?Wo:Math.min(al,yf),width:uo?Math.abs(yf-al):I,height:uo?I:Math.abs(yf-al),cornerRadiusBbox:Ev},{fontStyle:FG,fontWeight:PM,fontSize:kG,fontFamily:IM,color:sw,placement:X9e}=_,cie=this.getLabelText(this.properties.label,{datum:X[Ae],value:Ht,xKey:u,yKey:d,xName:h,yName:p,legendItemName:y},hie=>ai(hie)?hie.toFixed(2):""),Z9e=cie?Q({text:cie,fill:sw,fontStyle:FG,fontWeight:PM,fontSize:kG,fontFamily:IM},VQ({isPositive:zi,isVertical:!uo,placement:X9e,rect:$o})):void 0,uie=this.shouldFlipXY()?$o.height:$o.width,die={series:this,itemId:d,datum:X[Ae],cumulativeValue:Je,xValue:tn,yValue:Ht,yKey:d,xKey:u,capDefaults:{lengthRatioMultiplier:uie,lengthMax:uie},x:$o.x,y:$o.y,width:$o.width,height:$o.height,midPoint:{x:$o.x+$o.width/2,y:$o.y+$o.height/2},fill:f,stroke:m,opacity:1,strokeWidth:g,cornerRadius:v,topLeftCornerRadius:uo!==Wr,topRightCornerRadius:Wr,bottomRightCornerRadius:uo===Wr,bottomLeftCornerRadius:!Wr,cornerRadiusBbox:Ev,label:Z9e};W[Ae].nodeData.push(die),W[Ae].labelData.push(die)})}),W})}nodeFactory(){return new jr}updateDatumSelection(t){return he(this,null,function*(){return t.datumSelection.update(t.nodeData,e=>{e.tag=0},e=>Qd(e.xValue))})}updateDatumNodes(t){return he(this,null,function*(){if(!this.properties.isValid())return;const{yKey:e,stackGroup:i,fill:r,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,formatter:d,shadow:h,highlightStyle:{item:p}}=this.properties,f=this.axes.x,m=kQ(f?.visibleRange),g="x"===this.getCategoryDirection();t.datumSelection.each((v,y)=>{const _={fill:r,stroke:a,fillOpacity:o,strokeOpacity:l,lineDash:c,lineDashOffset:u,fillShadow:h,strokeWidth:this.getStrokeWidth(s),cornerRadius:y.cornerRadius,topLeftCornerRadius:y.topLeftCornerRadius,topRightCornerRadius:y.topRightCornerRadius,bottomRightCornerRadius:y.bottomRightCornerRadius,bottomLeftCornerRadius:y.bottomLeftCornerRadius,cornerRadiusBbox:y.cornerRadiusBbox},b=g?y.width>0:y.height>0,w=FQ({datum:y,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:p,yKey:e,style:_,formatter:d,stackGroup:i});w.crisp=m,w.visible=b,IQ({rect:v,config:w})})})}updateLabelSelection(t){return he(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,i=>{i.tag=1,i.pointerEvents=1})})}updateLabelNodes(t){return he(this,null,function*(){t.labelSelection.each((e,i)=>{NQ(e,this.properties.label,i.label)})})}getTooltipHtml(t){var e;const{id:i,processedData:r,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!(r&&this.properties.isValid()&&a&&s))return"";const{xKey:l,yKey:c,xName:u,yName:d,fill:h,stroke:p,strokeWidth:f,tooltip:m,formatter:g,stackGroup:v}=this.properties,{xValue:y,yValue:_,datum:b}=t,w=a.formatDatum(y),E=s.formatDatum(_),M=Ui(d),P=Ui(w+": "+E);let I;g&&(I=o.call(g,{seriesId:i,datum:b,xKey:l,yKey:c,stackGroup:v,fill:h,stroke:p,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const k=null!=(e=I?.fill)?e:h;return m.toTooltipHtml({title:M,content:P,backgroundColor:k},Q({seriesId:i,datum:b,xKey:l,yKey:c,xName:u,yName:d,stackGroup:v,title:M,color:k},this.getModuleTooltipParams()))}getLegendData(t){var e,i;const{showInLegend:r}=this.properties;if("category"!==t||null==(e=this.data)||!e.length||!this.properties.isValid()||!r)return[];const{yKey:o,yName:a,fill:s,stroke:l,strokeWidth:c,fillOpacity:u,strokeOpacity:d,legendItemName:h,visible:p}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:p,label:{text:null!=(i=h??a)?i:o},marker:{fill:s,fillOpacity:u,stroke:l,strokeWidth:c,strokeOpacity:d},legendItemName:h}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,annotationSelections:i}){const r=Rb(Ob(this.isVertical(),this.axes,"normal"));Hi(this.id,"nodes",this.ctx.animationManager,t,r),hi(this,"labels",this.ctx.animationManager,e),hi(this,"annotations",this.ctx.animationManager,i)}animateWaitingUpdateReady(t){var e,i,r;const{datumSelections:o,labelSelections:a,annotationSelections:s,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff,u=0===l?.length?"fade":"normal",d=Rb(Ob(this.isVertical(),this.axes,u));Hi(this.id,"nodes",this.ctx.animationManager,o,d,(p,f)=>Qd(f.xValue),c),(null==(r=c?.changed)||r)&&(hi(this,"labels",this.ctx.animationManager,a),hi(this,"annotations",this.ctx.animationManager,s))}isLabelEnabled(){return this.properties.label.enabled}};J1.className="BarSeries",J1.type="bar";var iUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:J1,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:n=>"horizontal"===n?.direction,themeTemplate:{series:{__extends__:fu,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Qn,color:Tg,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:Ag,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:H1},GQ=n=>{const t=rc.fromString(n),[e,i,r]=rc.RGBtoOKLCH(t.r,t.g,t.b);return{l:e,c:i,h:r,a:t.a}},ef=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(GQ)}update(){const{domain:n,range:t}=this;n.length<2&&(Me.warnOnce("`colorDomain` should have at least 2 values."),0===n.length?n.push(0,1):1===n.length&&n.push(n[0]+1));for(let e=1;e<n.length;e++)if(n[e-1]>=n[e]){Me.warnOnce("`colorDomain` values should be supplied in ascending order."),n.sort((o,a)=>o-a);break}if(t.length<n.length)for(let e=t.length;e<n.length;e++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(GQ)}convert(n){this.refresh();const{domain:t,range:e,parsedRange:i}=this,r=t[0],o=t.at(-1);if(n<=r)return e[0];if(n>=o)return e[e.length-1];let l,c;if(2===t.length){const h=(n-r)/(o-r),p=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(h*(e.length-1)),e.length-2),c=(h-l*p)/p}else{for(l=0;l<t.length-2&&!(n<t[l+1]);l++);const h=t[l];c=(n-h)/(t[l+1]-h)}return((n,t,e)=>{let i,r;if(e=ti(0,e,1),Number.isNaN(n.h)&&Number.isNaN(t.h))i=0,r=0;else if(Number.isNaN(n.h))i=t.h,r=t.c;else if(Number.isNaN(t.h))i=n.h,r=n.c;else{let l=t.h;const c=t.h-n.h;c>180?l-=360:c<-180&&(l+=360),i=n.h*(1-e)+l*e,r=n.c*(1-e)+t.c*e}return rc.fromOKLCH(n.l*(1-e)+t.l*e,r,i,n.a*(1-e)+t.a*e)})(i[l],i[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Me.warnOnce("Expected update to not invalidate scale"))}};S([No],ef.prototype,"domain",2),S([No],ef.prototype,"range",2);var eV=class extends Go{constructor(){super(...arguments),this.maxSize=30}};S([R(Ce),Le({redraw:3})],eV.prototype,"maxSize",2),S([R(lT,{optional:!0}),Le({redraw:3})],eV.prototype,"domain",2);var Ar=class extends eh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new eV,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],Ar.prototype,"xKey",2),S([R(xe)],Ar.prototype,"yKey",2),S([R(xe)],Ar.prototype,"sizeKey",2),S([R(xe,{optional:!0})],Ar.prototype,"labelKey",2),S([R(xe,{optional:!0})],Ar.prototype,"colorKey",2),S([R(xe,{optional:!0})],Ar.prototype,"xName",2),S([R(xe,{optional:!0})],Ar.prototype,"yName",2),S([R(xe,{optional:!0})],Ar.prototype,"sizeName",2),S([R(xe,{optional:!0})],Ar.prototype,"labelName",2),S([R(xe,{optional:!0})],Ar.prototype,"colorName",2),S([R(lT,{optional:!0})],Ar.prototype,"colorDomain",2),S([R(ns)],Ar.prototype,"colorRange",2),S([R(xe,{optional:!0})],Ar.prototype,"title",2),S([R(Ye)],Ar.prototype,"marker",2),S([R(Ye)],Ar.prototype,"label",2),S([R(Ye)],Ar.prototype,"tooltip",2);var rUe=class extends V1{constructor(n,t,e,i){super(n,t,e,i),this.sizeKey=i.properties.sizeKey}},tV=class Tie extends th{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Tu,marker:Eb}}),this.NodeClickEvent=rUe,this.properties=new Ar,this.sizeScale=new hc,this.colorScale=new ef}processData(t){return he(this,null,function*(){var e,i;if(!this.properties.isValid()||null==this.data)return;const{isContinuousX:r,isContinuousY:o}=this.isContinuous(),{xKey:a,yKey:s,sizeKey:l,labelKey:c,colorDomain:u,colorRange:d,colorKey:h,marker:p}=this.properties,{dataModel:f,processedData:m}=yield this.requestDataModel(t,this.data,{props:[Mr(this,a,r,{id:"xKey-raw"}),Mr(this,s,o,{id:"yKey-raw"}),...c?[Mr(this,c,!1,{id:"labelKey-raw"})]:[],xi(this,a,r,{id:"xValue"}),xi(this,s,o,{id:"yValue"}),xi(this,l,!0,{id:"sizeValue"}),...h?[xi(this,h,!0,{id:"colorValue"})]:[],...c?[xi(this,c,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),g=f.resolveProcessedDataIndexById(this,"sizeValue").index,v=null!=(e=m.domain.values[g])?e:[];if(this.sizeScale.domain=p.domain?p.domain:v,h){const y=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=null!=(i=u??m.domain.values[y])?i:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const r="x"===t?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,r),a=e.getDomain(this,r,"value",i);if("value"===o?.def.type&&"category"===o?.def.valueType)return a;const s=this.axes[t];return ao(ic(a),s)}createNodeData(){return he(this,null,function*(){var t,e,i;const{axes:r,dataModel:o,processedData:a,colorScale:s,sizeScale:l}=this,{xKey:c,yKey:u,sizeKey:d,labelKey:h,xName:p,yName:f,sizeName:m,labelName:g,label:v,colorKey:y,marker:_,visible:b}=this.properties,w=r.x,E=r.y;if(!(o&&a&&b&&w&&E))return[];const M=o.resolveProcessedDataIndexById(this,"xValue").index,P=o.resolveProcessedDataIndexById(this,"yValue").index,I=d?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,k=y?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,L=h?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,B=w.scale,Y=E.scale,ne=(null!=(t=B.bandwidth)?t:0)/2,fe=(null!=(e=Y.bandwidth)?e:0)/2,W=[];l.range=[_.size,_.maxSize];const $=v.getFont();for(const{values:X,datum:ce}of null!=(i=a.data)?i:[]){const Ee=X[M],ke=X[P],Ae=B.convert(Ee)+ne,nt=Y.convert(ke)+fe,qe=this.getLabelText(v,{value:h?X[L]:ke,datum:ce,xKey:c,yKey:u,sizeKey:d,labelKey:h,xName:p,yName:f,sizeName:m,labelName:g}),tn=ln.getTextSize(String(qe),$),Ie=d?l.convert(X[I]):_.size,Je=y?s.convert(X[k]):void 0;W.push({series:this,itemId:u,yKey:u,xKey:c,datum:ce,xValue:Ee,yValue:ke,sizeValue:X[I],point:{x:Ae,y:nt,size:Ie},midPoint:{x:Ae,y:nt},fill:Je,label:Q({text:qe},tn)})}return[{itemId:u,nodeData:W,labelData:W,scales:hu(Tie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return null==(t=this.contextNodeData)?void 0:t.reduce((e,i)=>e.concat(i.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker;return new(Xd(t))}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[],void 0,o=>Qd([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:r,yKey:o,sizeKey:a,labelKey:s,marker:l}=this.properties,c=Vt(i&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],e.each((u,d)=>{this.updateMarkerStyle(u,l,{datum:d,highlighted:i,xKey:r,yKey:o,sizeKey:a,labelKey:s},c)}),i||this.properties.marker.markClean()})}updateLabelSelection(t){return he(this,null,function*(){var e,i;const r=this.properties.label.enabled&&null!=(i=null==(e=this.chart)?void 0:e.placeLabels().get(this))?i:[];return t.labelSelection.update(r.map(o=>Pe(Q({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return he(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((i,r)=>{var o,a,s,l;i.text=r.label.text,i.fill=e.color,i.x=null!=(a=null==(o=r.point)?void 0:o.x)?a:0,i.y=null!=(l=null==(s=r.point)?void 0:s.y)?l:0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){var e;const i=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!i||!r)return"";const{xKey:o,yKey:a,sizeKey:s,labelKey:l,xName:c,yName:u,sizeName:d,labelName:h,marker:p,tooltip:f}=this.properties,m=null!=(e=this.properties.title)?e:u,g=Vt({fill:t.fill,strokeWidth:this.getStrokeWidth(p.strokeWidth)},p.getStyle()),{fill:v="gray"}=this.getMarkerStyle(p,{datum:t,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:l},g),{datum:y,xValue:_,yValue:b,sizeValue:w,label:{text:E}}=t,M=Ui(i.formatDatum(_)),P=Ui(r.formatDatum(b));let I=`<b>${Ui(c??o)}</b>: ${M}<br><b>${Ui(u??a)}</b>: ${P}`;return s&&(I+=`<br><b>${Ui(d??s)}</b>: ${Ui(String(w))}`),l&&(I=`<b>${Ui(h??l)}</b>: ${Ui(E)}<br>`+I),f.toTooltipHtml({title:m,content:I,backgroundColor:v},{datum:y,xKey:o,xName:c,yKey:a,yName:u,sizeKey:s,sizeName:d,labelKey:l,labelName:h,title:m,color:v,seriesId:this.id})}getLegendData(){var t,e;if(null==(t=this.data)||!t.length||!this.properties.isValid())return[];const{yKey:i,yName:r,title:o,marker:a,visible:s}=this.properties,{shape:l,fill:c,stroke:u,fillOpacity:d,strokeOpacity:h,strokeWidth:p}=a;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:s,label:{text:null!=(e=o??r)?e:i},marker:{shape:l,fill:c??"rgba(0, 0, 0, 0)",stroke:u??"rgba(0, 0, 0, 0)",fillOpacity:d??1,strokeOpacity:h??1,strokeWidth:p??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){j1(this,this.ctx.animationManager,t),hi(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};tV.className="BubbleSeries",tV.type="bubble";var aUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:tV,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:fu,tooltip:{position:{type:"node"}},marker:{__extends__:Dg,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si}}},paletteFactory:wb},nr=class extends eh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new el,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],nr.prototype,"xKey",2),S([R(xe,{optional:!0})],nr.prototype,"yKey",2),S([R(xe,{optional:!0})],nr.prototype,"xName",2),S([R(xe,{optional:!0})],nr.prototype,"yName",2),S([R(qt,{optional:!0})],nr.prototype,"fill",2),S([R(di)],nr.prototype,"fillOpacity",2),S([R(qt,{optional:!0})],nr.prototype,"stroke",2),S([R(Ce)],nr.prototype,"strokeWidth",2),S([R(di)],nr.prototype,"strokeOpacity",2),S([R(yu)],nr.prototype,"lineDash",2),S([R(Ce)],nr.prototype,"lineDashOffset",2),S([R(rt)],nr.prototype,"areaPlot",2),S([R(JC,{optional:!0})],nr.prototype,"bins",2),S([R(vn(["count","sum","mean"],"a histogram aggregation"))],nr.prototype,"aggregation",2),S([R(Ce,{optional:!0})],nr.prototype,"binCount",2),S([R(Ye)],nr.prototype,"shadow",2),S([R(Ye)],nr.prototype,"label",2),S([R(Ye)],nr.prototype,"tooltip",2);var iV=class Mie extends th{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Pb,label:Tu}}),this.properties=new nr,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const e=fT(t[0],t[1],10),i=Ng(t[0],t[1],10),[r]=e;return[[r-i,r],...e.map(a=>[a,a+i])]}calculateNiceBins(t,e){const i=Math.floor(t[0]),r=t[1],o=e||1,{start:a,binSize:s}=this.calculateNiceStart(i,r,o);return this.getBins(a,r,s,o)}getBins(t,e,i,r){const o=[],a=this.calculatePrecision(i);for(let s=0;s<r;s++){const l=Math.round((t+s*i)*a)/a;let c=Math.round((t+(s+1)*i)*a)/a;s===r-1&&(c=Math.max(c,e)),o[s]=[l,c]}return o}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,i){const r=Math.abs(e-t)/i,o=Math.floor(Math.log10(r)),a=Math.pow(10,o);return{start:Math.floor(t/a)*a,binSize:r}}processData(t){return he(this,null,function*(){var e;const{xKey:i,yKey:r,areaPlot:o,aggregation:a}=this.properties,s=[Mr(this,i,!0),tQ];if(r){let c=O1(this,"groupCount");"count"===a||("sum"===a?c=XZ(this,"groupAgg"):"mean"===a&&(c=QZ(this,"groupAgg"))),o&&(c=R1(this,"groupAgg",c)),s.push(xi(this,r,!0,{invalidValue:void 0}),c)}else{let c=O1(this,"groupAgg");o&&(c=R1(this,"groupAgg",c)),s.push(c)}!this.ctx.animationManager.isSkipped()&&this.processedData&&s.push(Xp(this.processedData,!1)),yield this.requestDataModel(t,null!=(e=this.data)?e:[],{props:s,dataVisible:this.visible,groupByFn:c=>{var u;const d=ao(c.domain.keys[0]);if(0===d.length)return c.domain.groups=[],()=>[];const h=null!=(u=this.properties.bins)?u:this.deriveBins(d),p=h.length;return this.calculatedBins=[...h],f=>{const m=f.keys[0];for(let g=0;g<p;g++){const v=h[g];if(m>=v[0]&&m<v[1]||g===p-1&&m<=v[1])return v}return[]}}}),this.animationState.transition("updateData")})}getSeriesDomain(t){var e,i,r,o;const{processedData:a,dataModel:s}=this;if(!a||!s||!this.calculatedBins.length)return[];const l=s.getDomain(this,"groupAgg","aggregate",a),c=null==(e=this.calculatedBins)?void 0:e[0][0],u=null==(o=this.calculatedBins)?void 0:o[(null!=(r=null==(i=this.calculatedBins)?void 0:i.length)?r:0)-1][1];return ao("x"===t?[c,u]:l)}createNodeData(){return he(this,null,function*(){var t;const{id:e,axes:i,processedData:r,ctx:{callbackCache:o}}=this,a=i.x,s=i.y;if(!(this.visible&&a&&s&&r&&"grouped"===r.type))return[];const{scale:l}=a,{scale:c}=s,{xKey:u,yKey:d,xName:h,yName:p,fill:f,stroke:m,strokeWidth:g}=this.properties,{formatter:v=(P=>String(P.value)),fontStyle:y,fontWeight:_,fontSize:b,fontFamily:w,color:E}=this.properties.label,M=[];return r.data.forEach(P=>{var I;const{aggValues:[[k,L]]=[[0,0]],datum:B,datum:{length:Y},keys:ne,keys:[fe,W]}=P,$=l.convert(fe),X=l.convert(W),ce=k+L,Ee=c.convert(0),ke=c.convert(ce),Ae=Math.abs(X-$),nt=Math.abs(ke-Ee),qe=Math.min($,X),tn=Math.min(Ee,ke),Ie=0!==ce?{text:null!=(I=o.call(v,{value:ce,datum:B,seriesId:e,xKey:u,yKey:d,xName:h,yName:p}))?I:String(ce),fontStyle:y,fontWeight:_,fontSize:b,fontFamily:w,fill:E,x:qe+Ae/2,y:tn+nt/2}:void 0;M.push({series:this,datum:B,aggregatedValue:ce,frequency:Y,domain:ne,yKey:d,xKey:u,x:qe,y:tn,xValue:$,yValue:ke,width:Ae,height:nt,midPoint:{x:qe+Ae/2,y:tn+nt/2},fill:f,stroke:m,opacity:1,strokeWidth:g,label:Ie})}),[{itemId:null!=(t=this.properties.yKey)?t:this.id,nodeData:M,labelData:M,scales:hu(Mie.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new jr}updateDatumSelection(t){return he(this,null,function*(){const{nodeData:e,datumSelection:i}=t;return i.update(e,r=>{r.tag=0,r.crisp=!0},r=>r.domain.join("_"))})}updateDatumNodes(t){return he(this,null,function*(){const{isHighlight:e}=t,{fillOpacity:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,shadow:s,highlightStyle:{item:{fill:l,fillOpacity:c=i,stroke:u,strokeWidth:d}}}=this.properties;t.datumSelection.each((h,p,f)=>{var m,g;const v=e&&void 0!==d?d:p.strokeWidth,y=e?c:i;h.fill=null!=(m=e?l:void 0)?m:p.fill,h.stroke=null!=(g=e?u:void 0)?g:p.stroke,h.fillOpacity=y,h.strokeOpacity=r,h.strokeWidth=v,h.lineDash=o,h.lineDashOffset=a,h.fillShadow=s,h.zIndex=e?$g.highlightedZIndex:f,h.visible=p.height>0})})}updateLabelSelection(t){return he(this,null,function*(){const{labelData:e,labelSelection:i}=t;return i.update(e,r=>{r.tag=1,r.pointerEvents=1,r.textAlign="center",r.textBaseline="middle"})})}updateLabelNodes(t){return he(this,null,function*(){const e=this.isLabelEnabled();t.labelSelection.each((i,r)=>{const o=r.label;o&&e?(i.text=o.text,i.x=o.x,i.y=o.y,i.fontStyle=o.fontStyle,i.fontWeight=o.fontWeight,i.fontSize=o.fontSize,i.fontFamily=o.fontFamily,i.fill=o.fill,i.visible=!0):i.visible=!1})})}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return"";const{xKey:r,yKey:o,xName:a,yName:s,fill:l,aggregation:c,tooltip:u}=this.properties,{aggregatedValue:d,frequency:h,domain:[p,f]}=t,m=`${Ui(a??r)}: ${e.formatDatum(p)} - ${e.formatDatum(f)}`;let g=o?`<b>${Ui(s??o)} (${c})</b>: ${i.formatDatum(d)}<br>`:"";return g+=`<b>Frequency</b>: ${h}`,u.toTooltipHtml({title:m,backgroundColor:l,content:g},{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:r,xName:a,yKey:o,yName:s,color:l,title:m,seriesId:this.id})}getLegendData(t){var e,i;if(null==(e=this.data)||!e.length||"category"!==t)return[];const{xKey:r,yName:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:c,strokeOpacity:u,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:d,label:{text:null!=(i=o??r)?i:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:u,strokeWidth:c}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const i=Rb(Ob(!0,this.axes,"normal"));Hi(this.id,"datums",this.ctx.animationManager,t,i),hi(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e,i;const r=null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff,o=Rb(Ob(!0,this.axes,"normal"));Hi(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(a,s)=>Qd(s.domain),r),hi(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};iV.className="HistogramSeries",iV.type="histogram";var lUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:iV,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:fu,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:Tg,formatter:void 0},shadow:{enabled:!1,color:Ag,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}}},so=class extends eh{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new Go,this.label=new Ln,this.tooltip=new Bo,this.connectMissingData=!1}};S([R(xe)],so.prototype,"xKey",2),S([R(xe)],so.prototype,"yKey",2),S([R(xe,{optional:!0})],so.prototype,"xName",2),S([R(xe,{optional:!0})],so.prototype,"yName",2),S([R(xe,{optional:!0})],so.prototype,"title",2),S([R(qt)],so.prototype,"stroke",2),S([R(Ce)],so.prototype,"strokeWidth",2),S([R(di)],so.prototype,"strokeOpacity",2),S([R(yu)],so.prototype,"lineDash",2),S([R(Ce)],so.prototype,"lineDashOffset",2),S([R(Ye)],so.prototype,"marker",2),S([R(Ye)],so.prototype,"label",2),S([R(Ye)],so.prototype,"tooltip",2),S([R(rt)],so.prototype,"connectMissingData",2);var nV=class Aie extends th{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:q1({getOpacity:()=>this.getOpacity()}),label:Tu,marker:(e,i)=>Q(Q({},{opacity:1,scalingX:1,scalingY:1}),Db(0,i))}}),this.properties=new so}processData(t){return he(this,null,function*(){if(!this.properties.isValid()||null==this.data)return;const{xKey:e,yKey:i}=this.properties,r=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),s=[];o||(s.push(Mr(this,e,o,{id:"xKey"})),r&&this.processedData&&s.push(Xp(this.processedData))),r&&s.push(Wg(this,o?["xValue"]:[])),s.push(xi(this,e,o,{id:"xValue"}),xi(this,i,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:s}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:e,dataModel:i,processedData:r}=this;if(!r||!i)return[];const o=e.x,a=e.y,s=i.resolveProcessedDataDefById(this,"xValue");if("x"===t){const l=i.getDomain(this,"xValue","value",r);return"value"===s?.def.type&&"category"===s.def.valueType?l:ao(ic(l),o)}return ao(i.getDomain(this,"yValue","value",r),a)}createNodeData(){return he(this,null,function*(){var t,e,i;const{processedData:r,dataModel:o,axes:a}=this,s=a.x,l=a.y;if(!(r&&o&&s&&l))return[];const{xKey:c,yKey:u,xName:d,yName:h,marker:p,label:f,connectMissingData:m}=this.properties,g=s.scale,v=l.scale,y=(null!=(t=g.bandwidth)?t:0)/2,_=(null!=(e=v.bandwidth)?e:0)/2,b=[],w=p.enabled?p.size:0,E=o.resolveProcessedDataIndexById(this,"xValue").index,M=o.resolveProcessedDataIndexById(this,"yValue").index;let I,P=!0;for(let k=0;k<r.data.length;k++){const{datum:L,values:B}=I??r.data[k],Y=B[E],ne=B[M];if(void 0===ne)P=!m;else{const fe=g.convert(Y)+y;if(isNaN(fe)){P=!m,I=void 0;continue}I=void 0===(null==(i=r.data[k+1])?void 0:i.values[M])?void 0:r.data[k+1];const W=v.convert(ne)+_,$=this.getLabelText(f,{value:ne,datum:L,xKey:c,yKey:u,xName:d,yName:h},X=>ai(X)?X.toFixed(2):String(X));b.push({series:this,datum:L,yKey:u,xKey:c,point:{x:fe,y:W,moveTo:P,size:w},midPoint:{x:fe,y:W},yValue:ne,xValue:Y,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:$?{text:$,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),P=!1}}return[{itemId:u,nodeData:b,labelData:b,scales:hu(Aie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker;return new(Xd(t))}updatePathNodes(t){return he(this,null,function*(){const{paths:[e],opacity:i,visible:r,animationEnabled:o}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(e.visible=r),MT(this,e)})}updateMarkerSelection(t){return he(this,null,function*(){let{nodeData:e}=t;const{markerSelection:i}=t,{shape:r,enabled:o}=this.properties.marker;return e=r&&o?e:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(e,void 0,a=>Qd(a.xValue))})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:r,yKey:o,stroke:a,strokeWidth:s,strokeOpacity:l,marker:c,highlightStyle:u}=this.properties,d=Vt(i&&u.item,c.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:l}),h=this.ctx.animationManager.isSkipped();e.each((p,f)=>{this.updateMarkerStyle(p,c,{datum:f,highlighted:i,xKey:r,yKey:o},d,{applyTranslation:h})}),i||c.markClean()})}updateLabelSelection(t){return he(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return he(this,null,function*(){const{enabled:e,fontStyle:i,fontWeight:r,fontSize:o,fontFamily:a,color:s}=this.properties.label;t.labelSelection.each((l,c)=>{const{point:u,label:d}=c;c&&d&&e?(l.fontStyle=i,l.fontWeight=r,l.fontSize=o,l.fontFamily=a,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=u.x,l.y=u.y-10,l.fill=s,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var e;const i=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!i||!r)return"";const{xKey:o,yKey:a,xName:s,yName:l,strokeWidth:c,marker:u,tooltip:d}=this.properties,{datum:h,xValue:p,yValue:f}=t,m=i.formatDatum(p),g=r.formatDatum(f),v=Ui(null!=(e=this.properties.title)?e:l),y=Ui(m+": "+g),_=Vt({fill:u.stroke},u.getStyle(),{strokeWidth:c}),{fill:b}=this.getMarkerStyle(u,{datum:t,xKey:o,yKey:a,highlighted:!1},_);return d.toTooltipHtml({title:v,content:y,backgroundColor:b},Q({datum:h,xKey:o,xName:s,yKey:a,yName:l,title:v,color:b,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,r,o,a,s,l,c,u;if(null==(e=this.data)||!e.length||!this.properties.isValid()||"category"!==t)return[];const{yKey:d,yName:h,stroke:p,strokeOpacity:f,strokeWidth:m,lineDash:g,title:v,marker:y,visible:_}=this.properties,b="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:_,label:{text:null!=(i=v??h)?i:d},marker:{shape:y.shape,fill:null!=(r=y.fill)?r:b,stroke:null!=(a=null!=(o=y.stroke)?o:p)?a:b,fillOpacity:null!=(s=y.fillOpacity)?s:1,strokeOpacity:null!=(c=null!=(l=y.strokeOpacity)?l:f)?c:1,strokeWidth:null!=(u=y.strokeWidth)?u:0,enabled:y.enabled},line:{stroke:p??b,strokeOpacity:f,strokeWidth:m,lineDash:g}}]}updatePaths(t){return he(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,e){e.forEach(({nodeData:i},r)=>{const[o]=t[r],{path:a}=o;a.clear({trackChanges:!0});for(const s of i)s.point.moveTo?a.moveTo(s.point.x,s.point.y):a.lineTo(s.point.x,s.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,annotationSelections:r,contextData:o,paths:a}=t,{animationManager:s}=this.ctx;this.updateLinePaths(a,o),Y1(this,s,a.flat()),er(e,Db),U1(this,s,e),hi(this,"labels",s,i),hi(this,"annotations",s,r)}animateReadyResize(t){const{contextData:e,paths:i}=t;this.updateLinePaths(i,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,i;const{animationManager:r}=this.ctx,{markerSelections:o,labelSelections:a,annotationSelections:s,contextData:l,paths:c,previousContextData:u}=t,[d]=c;super.resetAllAnimation(t);const h=()=>{this.updateLinePaths(c,l)};if(0===l.length||0===u?.length)return h(),xb(this,r,o,"added"),Tb(this,"path_properties",r,d??[]),hi(this,"labels",r,a),void hi(this,"annotations",r,s);const[f]=l,[m]=u??[],g=MQ(f,m,null==(i=null==(e=this.processedData)?void 0:e.reduced)?void 0:i.diff);if(void 0===g)return r.skipCurrentBatch(),void h();xb(this,r,o),Hi(this.id,"path_properties",r,d,g.pathProperties),gQ(this.id,"path_update",r,d,g.path),g.hasMotion&&(hi(this,"labels",r,a),hi(this,"annotations",r,s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new $e}};nV.className="LineSeries",nV.type="line";var uUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:nV,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:fu,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:Dg,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:n=>{const{marker:t}=wb(n);return{stroke:t.fill,marker:t}}},lo=class extends eh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new Go,this.label=new Ln,this.tooltip=new Bo}};S([R(xe)],lo.prototype,"xKey",2),S([R(xe)],lo.prototype,"yKey",2),S([R(xe,{optional:!0})],lo.prototype,"labelKey",2),S([R(xe,{optional:!0})],lo.prototype,"colorKey",2),S([R(xe,{optional:!0})],lo.prototype,"xName",2),S([R(xe,{optional:!0})],lo.prototype,"yName",2),S([R(xe,{optional:!0})],lo.prototype,"labelName",2),S([R(xe,{optional:!0})],lo.prototype,"colorName",2),S([R(lT,{optional:!0})],lo.prototype,"colorDomain",2),S([R(ns)],lo.prototype,"colorRange",2),S([R(xe,{optional:!0})],lo.prototype,"title",2),S([R(Ye)],lo.prototype,"marker",2),S([R(Ye)],lo.prototype,"label",2),S([R(Ye)],lo.prototype,"tooltip",2);var rV=class Oie extends th{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Eb,label:Tu}}),this.properties=new lo,this.colorScale=new ef}processData(t){return he(this,null,function*(){var e;if(!this.properties.isValid()||null==this.data)return;const{isContinuousX:i,isContinuousY:r}=this.isContinuous(),{xKey:o,yKey:a,labelKey:s,colorKey:l,colorDomain:c,colorRange:u}=this.properties,{dataModel:d,processedData:h}=yield this.requestDataModel(t,this.data,{props:[Mr(this,o,i,{id:"xKey-raw"}),Mr(this,a,r,{id:"yKey-raw"}),...s?[Mr(this,s,!1,{id:"labelKey-raw"})]:[],xi(this,o,i,{id:"xValue"}),xi(this,a,r,{id:"yValue"}),...l?[xi(this,l,!0,{id:"colorValue"})]:[],...s?[xi(this,s,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const p=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=null!=(e=c??h.domain.values[p])?e:[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:i}=this;if(!i||!e)return[];const r="x"===t?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,r),a=e.getDomain(this,r,"value",i);if("value"===o?.def.type&&"category"===o?.def.valueType)return a;const s=this.axes[t];return ao(ic(a),s)}createNodeData(){return he(this,null,function*(){var t,e,i;const{axes:r,dataModel:o,processedData:a,colorScale:s}=this,{xKey:l,yKey:c,labelKey:u,colorKey:d,xName:h,yName:p,labelName:f,marker:m,label:g,visible:v}=this.properties,y=r.x,_=r.y;if(!(o&&a&&v&&y&&_))return[];const b=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,E=d?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,M=u?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,P=y.scale,I=_.scale,k=(null!=(t=P.bandwidth)?t:0)/2,L=(null!=(e=I.bandwidth)?e:0)/2,B=[],Y=g.getFont();for(const{values:ne,datum:fe}of null!=(i=a.data)?i:[]){const W=ne[b],$=ne[w],X=P.convert(W)+k,ce=I.convert($)+L,Ee=this.getLabelText(g,{value:u?ne[M]:$,datum:fe,xKey:l,yKey:c,labelKey:u,xName:h,yName:p,labelName:f}),ke=ln.getTextSize(Ee,Y),Ae=d?s.convert(ne[E]):void 0;B.push({series:this,itemId:c,yKey:c,xKey:l,datum:fe,xValue:W,yValue:$,capDefaults:{lengthRatioMultiplier:m.getDiameter(),lengthMax:1/0},point:{x:X,y:ce,size:m.size},midPoint:{x:X,y:ce},fill:Ae,label:Q({text:Ee},ke)})}return[{itemId:c,nodeData:B,labelData:B,scales:hu(Oie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return null==(t=this.contextNodeData)?void 0:t.reduce((e,i)=>e.concat(i.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker;return new(Xd(t))}updateMarkerSelection(t){return he(this,null,function*(){const{nodeData:e,markerSelection:i}=t;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return he(this,null,function*(){const{markerSelection:e,isHighlight:i}=t,{xKey:r,yKey:o,labelKey:a,marker:s,highlightStyle:l}=this.properties,c=Vt(i&&l.item,s.getStyle());e.each((u,d)=>{this.updateMarkerStyle(u,s,{datum:d,highlighted:i,xKey:r,yKey:o,labelKey:a},c)}),i||s.markClean()})}updateLabelSelection(t){return he(this,null,function*(){var e,i;const r=this.isLabelEnabled()&&null!=(i=null==(e=this.chart)?void 0:e.placeLabels().get(this))?i:[];return t.labelSelection.update(r.map(({datum:o,x:a,y:s})=>Pe(Q({},o),{point:{x:a,y:s,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return he(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((i,r)=>{var o,a,s,l;i.text=r.label.text,i.fill=e.color,i.x=null!=(a=null==(o=r.point)?void 0:o.x)?a:0,i.y=null!=(l=null==(s=r.point)?void 0:s.y)?l:0,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=e.fontSize,i.fontFamily=e.fontFamily,i.textAlign="left",i.textBaseline="top"})})}getTooltipHtml(t){const e=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!e||!i)return"";const{xKey:r,yKey:o,labelKey:a,xName:s,yName:l,labelName:c,title:u=l,marker:d,tooltip:h}=this.properties,{datum:p,xValue:f,yValue:m,label:g}=t,v=Vt({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:y="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:r,yKey:o,labelKey:a},v),_=Ui(e.formatDatum(f)),b=Ui(i.formatDatum(m));let w=`<b>${Ui(s??r)}</b>: ${_}<br><b>${Ui(l??o)}</b>: ${b}`;return a&&(w=`<b>${Ui(c??a)}</b>: ${Ui(g.text)}<br>`+w),h.toTooltipHtml({title:u,content:w,backgroundColor:y},Q({datum:p,xKey:r,xName:s,yKey:o,yName:l,labelKey:a,labelName:c,title:u,color:y,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,i,r,o,a,s;const{yKey:l,yName:c,title:u,marker:d,visible:h}=this.properties,{fill:p,stroke:f,fillOpacity:m,strokeOpacity:g,strokeWidth:v}=d;return null!=(e=this.data)&&e.length&&this.properties.isValid()&&"category"===t?[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:h,label:{text:null!=(i=u??c)?i:l},marker:{shape:d.shape,fill:null!=(o=null!=(r=d.fill)?r:p)?o:"rgba(0, 0, 0, 0)",stroke:null!=(s=null!=(a=d.stroke)?a:f)?s:"rgba(0, 0, 0, 0)",fillOpacity:m??1,strokeOpacity:g??1,strokeWidth:v??0}}]:[]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:i,annotationSelections:r}=t;j1(this,this.ctx.animationManager,e),hi(this,"labels",this.ctx.animationManager,i),hi(this,"annotations",this.ctx.animationManager,r)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new $e}};rV.className="ScatterSeries",rV.type="scatter";var hUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:rV,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:fu,tooltip:{position:{type:"node"}},marker:{__extends__:Dg,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:wb};function oV(n,t,e){const i=Math.sqrt(Math.pow(n,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:o}=e;if(e.startAngle===e.endAngle||i<Math.min(r,o)||i>Math.max(r,o))return!1;const a=QC(e.startAngle),s=QC(e.endAngle),l=Math.atan2(t,n);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function HQ(n,t){const{startAngle:e,endAngle:i,innerRadius:r,outerRadius:o}=t,a={x:o*Math.cos(e),y:o*Math.sin(e)},s={x:o*Math.cos(i),y:o*Math.sin(i)},l=0===r?{x:0,y:0}:{x:r*Math.cos(e),y:r*Math.sin(e)},c=0===r?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return null!=fb(n.start.x,n.start.y,n.end.x,n.end.y,a.x,a.y,l.x,l.y)||null!=fb(n.start.x,n.start.y,n.end.x,n.end.y,s.x,s.y,c.x,c.y)||UZ(0,0,o,e,i,!0,n.start.x,n.start.y,n.end.x,n.end.y).length>0}function jQ(n,t){const r={x:n.x,y:n.y+n.height},o={x:n.x+n.width,y:n.y+n.height};return HQ({start:{x:n.x,y:n.y},end:{x:n.x+n.width,y:n.y}},t)||HQ({start:r,end:o},t)}var cs=class extends Sa{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.angleOffset=0,this.inset=0}computeBBox(){const n=this.outerRadius;return new wt(this.centerX-n,this.centerY-n,2*n,2*n)}updatePath(){const n=this.path,{angleOffset:t,inset:e}=this,i=this.startAngle+t,r=this.endAngle+t,o=i<=r?r-i:2*Math.PI-(i-r),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),s=Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0),l=o>=2*Math.PI,c=this.centerX,u=this.centerY;if(n.clear(),l)n.arc(c,u,s,i,r),a>e&&(n.moveTo(c+a*Math.cos(r),u+a*Math.sin(r)),n.arc(c,u,a,r,i,!0));else{const d=a>0?e/a:0,h=s>0?e/s:0;if(o<2*h)return;const f=a<=e||o<2*d;if(f){const m=o<.5*Math.PI?e*(1+Math.cos(o))/Math.sin(o):NaN;let g;g=m>0&&m<s?Math.max(Math.hypot(e,m),a):a;const v=i+.5*o;n.moveTo(c+g*Math.cos(v),u+g*Math.sin(v))}else n.moveTo(c+a*Math.cos(i+d),u+a*Math.sin(i+d));n.arc(c,u,s,i+h,r-h),f||(a>0?n.arc(c,u,a,r-d,i+d,!0):n.lineTo(c,u))}n.closePath(),this.dirtyPath=!1}isPointInPath(n,t){const{angleOffset:e}=this,i=this.startAngle+e,r=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.transformPoint(n,t);return oV(s.x,s.y,{startAngle:i,endAngle:r,innerRadius:o,outerRadius:a})}};cs.className="Sector",S([Ot()],cs.prototype,"centerX",2),S([Ot()],cs.prototype,"centerY",2),S([Ot()],cs.prototype,"innerRadius",2),S([Ot()],cs.prototype,"outerRadius",2),S([Ot()],cs.prototype,"startAngle",2),S([Ot()],cs.prototype,"endAngle",2),S([Ot()],cs.prototype,"angleOffset",2),S([Ot()],cs.prototype,"inset",2);var UQ=class extends qi{constructor(){super(...arguments),this.showInLegend=!1}};S([R(rt)],UQ.prototype,"showInLegend",2);var aV=class extends Ln{constructor(){super(...arguments),this.margin=2}set(n,t){return super.set(n)}};S([R(xe)],aV.prototype,"text",2),S([R(Di)],aV.prototype,"margin",2);var sV=class extends bi{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};S([R(qt)],sV.prototype,"fill",2),S([R(di)],sV.prototype,"fillOpacity",2);var Yg=class extends Ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};S([R(Ce)],Yg.prototype,"offset",2),S([R(Ud)],Yg.prototype,"minAngle",2),S([R(Ce)],Yg.prototype,"minSpacing",2),S([R(Ce)],Yg.prototype,"maxCollisionOffset",2),S([R(rt)],Yg.prototype,"avoidCollisions",2);var lV=class extends Ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};S([R(Di)],lV.prototype,"positionOffset",2),S([R(di)],lV.prototype,"positionRatio",2);var RT=class extends bi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};S([R(ns,{optional:!0})],RT.prototype,"colors",2),S([R(Ce)],RT.prototype,"length",2),S([R(Ce)],RT.prototype,"strokeWidth",2);var Wt=class extends Zs{constructor(){super(...arguments),this.fills=Object.values(tc),this.strokes=Object.values(Rp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new BC(aV),this.title=new UQ,this.innerCircle=new sV,this.shadow=new el,this.calloutLabel=new Yg,this.sectorLabel=new lV,this.calloutLine=new RT,this.tooltip=new Bo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const n=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(Me.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):n}};function qg(n,t,e,i){const r=[e.convert(0),e.convert(1)],o=[i.convert(0),i.convert(1)],a=Math.PI/-2+Br(t);return{nodes:{toFn:(p,f,m,{prevLive:g})=>{var v,y;let{startAngle:_,endAngle:b,innerRadius:w,outerRadius:E}=f;const{stroke:M,fill:P}=f.sectorFormat;if("removed"===m&&g?(_=null==(v=g.datum)?void 0:v.endAngle,b=null==(y=g.datum)?void 0:y.endAngle):"removed"===m&&!g&&(_=a,b=a),"removed"===m){const I=(({radius:p})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*p}))(f);w=I.innerRadius,E=I.outerRadius}return{startAngle:_,endAngle:b,outerRadius:E,innerRadius:w,stroke:M,fill:P}},fromFn:(p,f,m,{prevFromProps:g})=>{var v,y,_,b,w,E;let{startAngle:M,endAngle:P,innerRadius:I,outerRadius:k}=p,{fill:L,stroke:B}=f.sectorFormat;if("unknown"===m||"added"===m&&!g?(M=a,P=a,I=f.innerRadius,k=f.outerRadius):"added"===m&&g&&(M=null!=(v=g.endAngle)?v:a,P=null!=(y=g.endAngle)?y:a,I=null!=(_=g.innerRadius)?_:f.innerRadius,k=null!=(b=g.outerRadius)?b:f.outerRadius),"added"===m&&!n){const Y=(({radius:p})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*p}))(f);I=Y.innerRadius,k=Y.outerRadius}return"updated"===m&&(L=null!=(w=p.fill)?w:L,B=null!=(E=p.stroke)?E:B),{startAngle:M,endAngle:P,innerRadius:I,outerRadius:k,fill:L,stroke:B,phase:"initial"}}},innerCircle:{fromFn:(p,f)=>{var m,g,v;return{size:null!=(v=null!=(g=null==(m=p.previousDatum)?void 0:m.radius)?g:p.size)?v:0,phase:"initial"}},toFn:(p,f)=>{var m;return{size:null!=(m=f.radius)?m:0}}}}}function zQ(n,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}S([R(xe)],Wt.prototype,"angleKey",2),S([R(xe,{optional:!0})],Wt.prototype,"angleName",2),S([R(xe,{optional:!0})],Wt.prototype,"radiusKey",2),S([R(xe,{optional:!0})],Wt.prototype,"radiusName",2),S([R(Ce,{optional:!0})],Wt.prototype,"radiusMin",2),S([R(Ce,{optional:!0})],Wt.prototype,"radiusMax",2),S([R(xe,{optional:!0})],Wt.prototype,"calloutLabelKey",2),S([R(xe,{optional:!0})],Wt.prototype,"calloutLabelName",2),S([R(xe,{optional:!0})],Wt.prototype,"sectorLabelKey",2),S([R(xe,{optional:!0})],Wt.prototype,"sectorLabelName",2),S([R(xe,{optional:!0})],Wt.prototype,"legendItemKey",2),S([R(ns)],Wt.prototype,"fills",2),S([R(ns)],Wt.prototype,"strokes",2),S([R(di)],Wt.prototype,"fillOpacity",2),S([R(di)],Wt.prototype,"strokeOpacity",2),S([R(yu)],Wt.prototype,"lineDash",2),S([R(Ce)],Wt.prototype,"lineDashOffset",2),S([R(is,{optional:!0})],Wt.prototype,"formatter",2),S([R(Ud)],Wt.prototype,"rotation",2),S([R(Di)],Wt.prototype,"outerRadiusOffset",2),S([R(di)],Wt.prototype,"outerRadiusRatio",2),S([R(Di,{optional:!0})],Wt.prototype,"innerRadiusOffset",2),S([R(di,{optional:!0})],Wt.prototype,"innerRadiusRatio",2),S([R(Ce)],Wt.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],Wt.prototype,"sectorSpacing",2),S([R(WN)],Wt.prototype,"innerLabels",2),S([R(Ye)],Wt.prototype,"title",2),S([R(Ye)],Wt.prototype,"innerCircle",2),S([R(Ye)],Wt.prototype,"shadow",2),S([R(Ye)],Wt.prototype,"calloutLabel",2),S([R(Ye)],Wt.prototype,"sectorLabel",2),S([R(Ye)],Wt.prototype,"calloutLine",2),S([R(Ye)],Wt.prototype,"tooltip",2),S([R(xe,{optional:!0})],Wt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var PT=class extends lQ{constructor(n){var t=n,{useLabelLayer:e=!1,pickModes:i=[0],canHaveAxes:r=!1,animationResetFns:o}=t,a=Zn(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(Pe(Q({},a),{useLabelLayer:e,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:r})),this.itemGroup=this.contentGroup.appendChild(new $e),this.itemSelection=ji.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=ji.select(this.labelGroup,ii,!1),this.highlightSelection=ji.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new sb("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){"initial"===n?this.animationState.transition("reset"):"ready"===n&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(n,t){return null}resetAllAnimation(){var n;const{item:t,label:e}=null!=(n=this.animationResetFns)?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&er([this.itemSelection,this.highlightSelection],t),e&&er([this.labelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(n){var t;const{item:e}=null!=(t=this.animationResetFns)?t:{};e&&er([this.highlightSelection],e)}animateReadyHighlightMarkers(n){}animateReadyResize(n){this.resetAllAnimation()}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n){return{seriesRect:n}}},pUe=class extends vb{constructor(n,t,e,i){super(n,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},IT=class extends PT{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:zQ,label:Tu}}),this.properties=new Wt,this.previousRadiusScale=new hc,this.radiusScale=new hc,this.backgroundGroup=this.rootGroup.appendChild(new $e({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new dc),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new dc),this.innerCircleGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=pUe,this.angleScale=new hc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(r=>r+Math.PI/2);const t=new $e({name:"pieCalloutLabels"}),e=new $e({name:"pieSectorLabels"}),i=new $e({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(i),this.calloutLabelSelection=ji.select(t,$e),this.sectorLabelSelection=ji.select(e,ii),this.innerLabelsSelection=ji.select(i,ii),this.innerCircleSelection=ji.select(this.innerCircleGroup,dc);for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push(null==(n=this.ctx.chartEventManager)?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=null!=(n=t?.map(()=>e))?n:[]}nodeFactory(){return new cs}getSeriesDomain(n){return"x"===n?this.angleScale.domain:this.radiusScale.domain}processData(n){return he(this,null,function*(){var t,e,i,r,o;if(null==this.data||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:c,calloutLabelKey:u,sectorLabelKey:d,legendItemKey:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];h?f.push(Mr(this,h,!1,{id:"legendItemKey"})):u?f.push(Mr(this,u,!1,{id:"calloutLabelKey"})):d&&f.push(Mr(this,d,!1,{id:"sectorLabelKey"})),c&&m.push(F1(this,c,{id:"radiusValue",min:null!=(t=this.properties.radiusMin)?t:0,max:this.properties.radiusMax}),xi(this,c,!0,{id:"radiusRaw"}),gb(this,{id:"radiusValue"},[0,1],1,null!=(e=this.properties.radiusMin)?e:0,this.properties.radiusMax)),u&&m.push(xi(this,u,!1,{id:"calloutLabelValue"})),d&&m.push(xi(this,d,!1,{id:"sectorLabelValue"})),h&&m.push(xi(this,h,!1,{id:"legendItemValue"})),p&&this.processedData&&f.length>0&&m.push(Xp(this.processedData)),m.push(Wg(this)),a=a.map((g,v)=>s[v]?g:Pe(Q({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,k1(this,l,!0,{id:"angleValue",onlyPositive:!0}),xi(this,l,!0,{id:"angleRaw"}),gb(this,{id:"angleValue"},[0,1],0,0),...m]});for(const g of null!=(o=null==(r=null==(i=this.processedData)?void 0:i.defs)?void 0:r.values)?o:[]){const{id:v,missing:y,property:_}=g,b=y1(this,y);"angleRaw"!==v&&b>0&&Me.warnOnce(`no value was found for the key '${String(_)}' on ${b} data element${b>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return he(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){return{angleIdx:n.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}}createNodeData(){return he(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:i}=this,{rotation:r,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:n,nodeData:[],labelData:[]}];if(!t||!e||"ungrouped"!==t.type)return[];const{angleIdx:a,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:u}=this.getProcessedDataIndexes(e);let d=0,h=0;const p=t.data.map((f,m)=>{var g;const{datum:v,values:y}=f,_=y[a],b=i.convert(d)+Br(r);d=_,h+=_;const w=i.convert(d)+Br(r),E=Math.abs(w-b),M=b+E/2,P=y[a+1],I=s>=0&&null!=(g=y[s])?g:1,k=s>=0?y[s+1]:void 0,L=u>=0?y[u]:void 0,B=this.getLabels(v,M,E,!0,y[l],y[c],L),Y=this.getSectorFormat(v,m,!1);return Q({itemId:m,series:this,datum:v,index:m,angleValue:P,midAngle:M,midCos:Math.cos(M),midSin:Math.sin(M),startAngle:b,endAngle:w,sectorFormat:Y,radiusValue:k,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),legendItemValue:L},B)});return this.zerosumOuterRing.visible=0===h,this.zerosumInnerRing.visible=0===h&&null!=o&&1!==o&&o>0,[{itemId:n,nodeData:p,labelData:p}]})}getLabels(n,t,e,i,r,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||s.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&e>Br(s.minAngle)&&(p.calloutLabel=Pe(Q({},this.getTextAlignment(t)),{text:this.getLabelText(s,Pe(Q({},h),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,Pe(Q({},h),{value:o}))}),null!=c&&null!=a&&(p.legendItem={key:c,text:a}),p}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=QC(n),i=-3*Math.PI/4;return t[nT(Math.floor((e-i)/(Math.PI/2)),t.length)]}getSectorFormat(n,t,e){var i,r,o,a,s;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:d,fills:h,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,v=c.getActiveHighlight(),y=e&&v?.series===this&&t===v.itemId,{fill:_,fillOpacity:b,stroke:w,strokeWidth:E,strokeOpacity:M}=Vt(y&&this.properties.highlightStyle.item,{fill:h.length>0?h[t%h.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:null!=m?p.length>0?p[t%p.length]:void 0:p.length>0?p[t%p.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let P;return f&&(P=l.call(f,{datum:n,angleKey:u,radiusKey:d,fill:_,stroke:w,fills:h,strokes:p,strokeWidth:E,highlighted:y,seriesId:this.id})),{fill:null!=(i=P?.fill)?i:_,fillOpacity:null!=(r=P?.fillOpacity)?r:b,stroke:null!=(o=P?.stroke)?o:w,strokeWidth:null!=(a=P?.strokeWidth)?a:E,strokeOpacity:null!=(s=P?.strokeOpacity)?s:M}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,i=n*t+e;return i===n||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:n,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*n+t,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var i=e,{radius:r}=i,o=Zn(i,["radius"]);return Pe(Q({},o),{radius:r,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(null!=(t=null==(n=this.properties.title)?void 0:n.spacing)?t:0))-Math.max(0,-e)}update(n){return he(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=null!=Ca(this.nodeDataDependencies,i);if(r&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:i}=this.properties;e!==i&&(e&&(null==(n=this.labelGroup)||n.removeChild(e.node)),i&&(i.node.textBaseline="bottom",null==(t=this.labelGroup)||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return he(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return he(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:i,innerLabelsSelection:r}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(c=>Pe(Q({},c),{sectorFormat:Q({},c.sectorFormat)}))),a.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new tr;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new ii;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),i.update(this.nodeData,a=>{a.pointerEvents=1}),r.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const r=Math.min(e,this.getOuterRadius());t=Math.ceil(2*r+1)}this.innerCircleSelection.update(n?[{radius:t}]:[])}updateNodes(n){return he(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:o})=>{var a,s;r.setProperties({fill:null==(a=this.properties.innerCircle)?void 0:a.fill,opacity:null==(s=this.properties.innerCircle)?void 0:s.fillOpacity,size:o})});const i=(r,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(s||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=this.properties.strokeOpacity,r.lineDash=this.properties.lineDash,r.lineDashOffset=this.properties.lineDashOffset,r.fillShadow=this.properties.shadow,r.inset=null!=this.properties.sectorSpacing?(this.properties.sectorSpacing+(null!=l.stroke?l.strokeWidth:0))/2:0,r.lineJoin=null!=this.properties.sectorSpacing?"miter":"round"};this.itemSelection.each((r,o,a)=>i(r,o,0,!1)),this.highlightSelection.each((r,o,a)=>{const s=t?.series===this&&r.datum.itemId===t.itemId;i(r,o,0,!0),r.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,r=null!=(n=t.colors)?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&0!==u){a.visible=!0,a.strokeWidth=i,a.stroke=r[s%r.length],a.fill=void 0;const d=l.midCos*u,h=l.midSin*u;let p=l.midCos*(u+e),f=l.midSin*(u+e);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){const g=c.box;let v=p,y=f;p<g.x?v=g.x:p>g.x+g.width&&(v=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const _=v-p,b=y-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(b,2)),E=w-o;E>0&&(p+=_*E/w,f+=b*E/w)}a.x1=d,a.y1=h,a.x2=p,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const i=e.x-this.centerX,r=e.x+e.width-this.centerX;let l=1;t.x+1<i?l=(t.x+t.width-i)/t.width:t.x+t.width-1>r&&(l=(r-t.x)/t.width);const c=t.y+1<e.y-this.centerY||t.y+t.height-1>e.y+e.height-this.centerY;return{textLength:1===l?n.length:Math.floor(n.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:i}=this;if(null==i)return!1;const r=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=Pt(i,2);return r.some(a=>Pt(a.x,2)+Pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:i,minSpacing:r}=t,o=n.convert(0),s=this.nodeData,l=this.nodeData.filter(y=>!(y=>!y.calloutLabel||0===y.outerRadius)(y));if(l.forEach(y=>{const _=y.calloutLabel;null!=_&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(y=>y.midCos<0).sort((y,_)=>y.midSin-_.midSin),u=l.filter(y=>y.midCos>=0).sort((y,_)=>y.midSin-_.midSin),d=l.filter(y=>{var _;return y.midSin<0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),h=l.filter(y=>{var _;return y.midSin>=0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),p=new ii,f=y=>{var _;const b=y.calloutLabel;if(null==b)return new wt(0,0,0,0);const w=y.outerRadius+e.length+i,E=y.midCos*w,M=y.midSin*w+b.collisionOffsetY;return p.text=b.text,p.x=E,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:null!=(_=b.collisionTextAlign)?_:b.textAlign,textBaseline:b.textBaseline}),p.computeBBox()},m=(y,_,b)=>{const w=f(y).grow(r/2),E=f(_).grow(r/2);w.x<E.x+E.width&&w.x+w.width>E.x&&("to-top"===b?w.y<E.y+E.height:w.y+w.height>E.y)&&(_.calloutLabel.collisionOffsetY="to-top"===b?w.y-E.y-E.height:w.y+w.height-E.y)},g=y=>{const _=y.slice().sort((w,E)=>Math.abs(w.midSin)-Math.abs(E.midSin))[0],b=y.indexOf(_);for(let w=b-1;w>=0;w--)m(y[w+1],y[w],"to-top");for(let w=b+1;w<y.length;w++)m(y[w-1],y[w],"to-bottom")},v=y=>{const _=l.some(I=>0!==I.calloutLabel.collisionOffsetY),b=y.map(I=>f(I)),w=b.map(I=>I.clone().grow(r/2));let E=!1;for(let I=0;I<w.length&&!E;I++){const k=w[I];for(let L=I+1;L<y.length;L++)if(k.collidesBBox(w[L])){E=!0;break}}const M=s.map(I=>{const{startAngle:k,endAngle:L,outerRadius:B}=I;return{startAngle:k,endAngle:L,innerRadius:o,outerRadius:B}}),P=b.some(I=>M.some(k=>jQ(I,k)));!E&&!_&&!P||y.filter(I=>"center"===I.calloutLabel.textAlign).forEach(I=>{I.calloutLabel.collisionTextAlign=I.midCos<0?"right":I.midCos>0?"left":"center"})};g(c),g(u),v(d),v(h)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,r=i.length,{offset:o,color:a}=e,s=new ii;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;const{datum:u}=l,d=u.calloutLabel,h=t.convert(u.radius),p=Math.max(0,h);if(!d?.text||0===p||d.hidden)return void(l.visible=!1);const f=p+r+o,m=u.midCos*f,g=u.midSin*f+d.collisionOffsetY,v={textAlign:null!=(c=d.collisionTextAlign)?c:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=m,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(v);const y=s.computeBBox();let _=d.text,b=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:E}=this.getLabelOverflow(d.text,y,n);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,b=!E}l.text=_,l.x=m,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=a,l.visible=b})}computeLabelsBBox(n,t){return he(this,null,function*(){const{calloutLabel:e,calloutLine:i}=this.properties,r=i.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new ii;let u;const{title:d}=this.properties;if(d?.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{var p;const f=h.calloutLabel;if(!f||0===h.outerRadius)return null;const m=h.outerRadius+r+o,g=h.midCos*m,v=h.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!=(p=f.collisionTextAlign)?p:f.textAlign,textBaseline:f.textBaseline});const y=c.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a)f.hidden=!0;else{if(u){const _=t.y-this.centerY,b=new wt(u.x-s,_,u.width+2*s,u.y+u.height+s-_);if(y.collidesBBox(b))return void(f.hidden=!0)}if(n.hideWhenNecessary){const{textLength:_,hasVerticalOverflow:b,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t);if(b||f.text.length>2&&_<2||w)return void(f.hidden=!0)}f.hidden=!1,l.push(y)}}),0===l.length?null:wt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:i,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((c,u)=>{const{sectorLabel:d,outerRadius:h}=u;let p=!1;if(d&&0!==h){const f=t*(1-s)+h*s+a;c.fill=l,c.fontStyle=i,c.fontWeight=r,c.fontSize=e,c.fontFamily=o,c.text=d.text,c.x=u.midCos*f,c.y=u.midSin*f,c.textAlign="center",c.textBaseline="middle";const m=c.computeBBox(),g=[[m.x,m.y],[m.x+m.width,m.y],[m.x+m.width,m.y+m.height],[m.x,m.y+m.height]],{startAngle:v,endAngle:y}=u,_={startAngle:v,endAngle:y,innerRadius:t,outerRadius:h};g.every(([b,w])=>oV(b,w,_))&&(p=!0)}c.visible=p})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,color:g}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=d.text,u.x=0,u.y=0,u.fill=g,u.textAlign="center",u.textBaseline="alphabetic",n.push(u.computeBBox()),t.push(d.margin)});const e=u=>0===u?0:t[u],i=u=>u===t.length-1?0:t[u],r=n.reduce((u,d,h)=>u+d.height+e(h)+i(h),0),o=Math.max(...n.map(u=>u.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),c=[];for(let u=0,d=-r/2;u<n.length;u++){const p=n[u].height+d+e(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.y=c[h],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;return r&&void 0!==s?s.text:e&&e!==t&&void 0!==a?.text?a.text:i&&i!==t&&void 0!==o?.text?o.text:void 0}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:i,sectorFormat:{fill:r}}=n,o=Ui(null==(t=this.properties.title)?void 0:t.text),a=ai(i)?iT(i):String(i),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:r},{datum:e,title:o,color:r,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,i,r,o;const{processedData:a,dataModel:s}=this;if(!s||!a?.data.length||!this.properties.isValid()||"category"!==n)return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=this.properties;if(!(d||c&&c!==l||u&&u!==l))return[];const{calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(s),m=(null==(t=this.properties.title)?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let v=0;v<a.data.length;v++){const{datum:y,values:_}=a.data[v],b=[];m&&b.push(m);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,_[h],_[p],_[f]);if(d&&void 0!==w.legendItem?b.push(w.legendItem.text):c&&c!==l&&void 0!==(null==(e=w.calloutLabel)?void 0:e.text)?b.push(null==(i=w.calloutLabel)?void 0:i.text):u&&u!==l&&void 0!==(null==(r=w.sectorLabel)?void 0:r.text)&&b.push(null==(o=w.sectorLabel)?void 0:o.text),0===b.length)continue;const E=this.getSectorFormat(y,v,!1);g.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:this.seriesItemEnabled[v],label:{text:b.join(" - ")},marker:{fill:E.fill,stroke:E.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:null!=d?y[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:i,legendItemName:r}=n;i.id===this.id?this.toggleSeriesItem(e,t):null!=r&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;null==(e=this.processedData)||e.data.forEach(({values:r},o)=>{r[i]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=qg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Hi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),Hi(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),hi(this,"callout",t,[this.calloutLabelSelection]),hi(this,"sector",t,[this.sectorLabelSelection]),hi(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,i,r,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null==(n=l?.reduced)?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!=(t=h?.moved.length)?t:0)&&h?.addedIndices.every(v=>!h.removedIndices.includes(v)),f=(null!=(e=l?.defs.keys.length)?e:0)>0,m=null==(o=null==(r=null==(i=l?.reduced)?void 0:i.animationValidation)?void 0:r.uniqueKeys)||o;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const g=qg(!1,this.properties.rotation,c,u);Hi(this.id,"nodes",d,[a,s],g.nodes,(v,y)=>this.getDatumId(y),h),Hi(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),hi(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),hi(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),hi(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,o=qg(!1,this.properties.rotation,e,i);Hi(this.id,"nodes",r,[n,t],o.nodes),Hi(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),Jp(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Jp(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Jp(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,i;const{calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a}=this.properties;if(null!=(i=null==(e=null==(t=this.processedData)?void 0:t.reduced)?void 0:e.animationValidation)&&i.uniqueKeys){if(a)return n[a];if(r)return n[r];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return null!=(t=this.getDatumIdFromData(n.datum))?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};IT.className="DonutSeries",IT.type="donut";var WQ={series:{__extends__:fu,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:Qn,color:Mg,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Qn,color:Tg,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:Ag,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Qn,color:si,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:jC}},$Q=({takeColors:n,colorsCount:t,userPalette:e})=>{const{fills:i,strokes:r}=n(t);return{fills:i,strokes:e?r:[],calloutLine:{colors:r}}},fUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:IT,seriesDefaults:{},themeTemplate:WQ,paletteFactory:$Q},KQ=class extends qi{constructor(){super(...arguments),this.showInLegend=!1}};S([R(rt)],KQ.prototype,"showInLegend",2);var cV=class extends Ln{set(n,t){return super.set(n)}};S([Hp("Use a Donut Series instead"),R(xe,{optional:!0})],cV.prototype,"text",2),S([Hp("Use a Donut Series instead"),R(Di,{optional:!0})],cV.prototype,"margin",2);var uV=class extends bi{};S([Hp("Use a Donut Series instead"),R(qt,{optional:!0})],uV.prototype,"fill",2),S([Hp("Use a Donut Series instead"),R(di,{optional:!0})],uV.prototype,"fillOpacity",2);var Xg=class extends Ln{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};S([R(Ce)],Xg.prototype,"offset",2),S([R(Ud)],Xg.prototype,"minAngle",2),S([R(Ce)],Xg.prototype,"minSpacing",2),S([R(Ce)],Xg.prototype,"maxCollisionOffset",2),S([R(rt)],Xg.prototype,"avoidCollisions",2);var dV=class extends Ln{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};S([R(Di)],dV.prototype,"positionOffset",2),S([R(di)],dV.prototype,"positionRatio",2);var FT=class extends bi{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};S([R(ns,{optional:!0})],FT.prototype,"colors",2),S([R(Ce)],FT.prototype,"length",2),S([R(Ce)],FT.prototype,"strokeWidth",2);var $t=class extends Zs{constructor(){super(...arguments),this.fills=Object.values(tc),this.strokes=Object.values(Rp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new BC(cV),this.title=new KQ,this.innerCircle=new uV,this.shadow=new el,this.calloutLabel=new Xg,this.sectorLabel=new dV,this.calloutLine=new FT,this.tooltip=new Bo,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};S([R(xe)],$t.prototype,"angleKey",2),S([R(xe,{optional:!0})],$t.prototype,"angleName",2),S([R(xe,{optional:!0})],$t.prototype,"radiusKey",2),S([R(xe,{optional:!0})],$t.prototype,"radiusName",2),S([R(Ce,{optional:!0})],$t.prototype,"radiusMin",2),S([R(Ce,{optional:!0})],$t.prototype,"radiusMax",2),S([R(xe,{optional:!0})],$t.prototype,"calloutLabelKey",2),S([R(xe,{optional:!0})],$t.prototype,"calloutLabelName",2),S([R(xe,{optional:!0})],$t.prototype,"sectorLabelKey",2),S([R(xe,{optional:!0})],$t.prototype,"sectorLabelName",2),S([R(xe,{optional:!0})],$t.prototype,"legendItemKey",2),S([R(ns)],$t.prototype,"fills",2),S([R(ns)],$t.prototype,"strokes",2),S([R(di)],$t.prototype,"fillOpacity",2),S([R(di)],$t.prototype,"strokeOpacity",2),S([R(yu)],$t.prototype,"lineDash",2),S([R(Ce)],$t.prototype,"lineDashOffset",2),S([R(is,{optional:!0})],$t.prototype,"formatter",2),S([R(Ud)],$t.prototype,"rotation",2),S([R(Di)],$t.prototype,"outerRadiusOffset",2),S([R(di)],$t.prototype,"outerRadiusRatio",2),S([Hp("Use a Donut Series instead"),R(Di,{optional:!0})],$t.prototype,"innerRadiusOffset",2),S([Hp("Use a Donut Series instead"),R(di,{optional:!0})],$t.prototype,"innerRadiusRatio",2),S([R(Ce)],$t.prototype,"strokeWidth",2),S([R(Ce,{optional:!0})],$t.prototype,"sectorSpacing",2),S([R(WN)],$t.prototype,"innerLabels",2),S([R(Ye)],$t.prototype,"title",2),S([R(Ye)],$t.prototype,"innerCircle",2),S([R(Ye)],$t.prototype,"shadow",2),S([R(Ye)],$t.prototype,"calloutLabel",2),S([R(Ye)],$t.prototype,"sectorLabel",2),S([R(Ye)],$t.prototype,"calloutLine",2),S([R(Ye)],$t.prototype,"tooltip",2),S([R(xe,{optional:!0})],$t.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var mUe=class extends vb{constructor(n,t,e,i){super(n,t,e,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},kT=class extends PT{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:zQ,label:Tu}}),this.properties=new $t,this.previousRadiusScale=new hc,this.radiusScale=new hc,this.backgroundGroup=this.rootGroup.appendChild(new $e({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new dc),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new dc),this.innerCircleGroup=this.backgroundGroup.appendChild(new $e({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=mUe,this.angleScale=new hc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(r=>r+Math.PI/2);const t=new $e({name:"pieCalloutLabels"}),e=new $e({name:"pieSectorLabels"}),i=new $e({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(i),this.calloutLabelSelection=ji.select(t,$e),this.sectorLabelSelection=ji.select(e,ii),this.innerLabelsSelection=ji.select(i,ii),this.innerCircleSelection=ji.select(this.innerCircleGroup,dc);for(const r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push(null==(n=this.ctx.chartEventManager)?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=null!=(n=t?.map(()=>e))?n:[]}nodeFactory(){return new cs}getSeriesDomain(n){return"x"===n?this.angleScale.domain:this.radiusScale.domain}processData(n){return he(this,null,function*(){var t,e,i,r,o;if(null==this.data||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:c,calloutLabelKey:u,sectorLabelKey:d,legendItemKey:h}=this.properties,p=!this.ctx.animationManager.isSkipped(),f=[],m=[];h?f.push(Mr(this,h,!1,{id:"legendItemKey"})):u?f.push(Mr(this,u,!1,{id:"calloutLabelKey"})):d&&f.push(Mr(this,d,!1,{id:"sectorLabelKey"})),c&&m.push(F1(this,c,{id:"radiusValue",min:null!=(t=this.properties.radiusMin)?t:0,max:this.properties.radiusMax}),xi(this,c,!0,{id:"radiusRaw"}),gb(this,{id:"radiusValue"},[0,1],1,null!=(e=this.properties.radiusMin)?e:0,this.properties.radiusMax)),u&&m.push(xi(this,u,!1,{id:"calloutLabelValue"})),d&&m.push(xi(this,d,!1,{id:"sectorLabelValue"})),h&&m.push(xi(this,h,!1,{id:"legendItemValue"})),p&&this.processedData&&f.length>0&&m.push(Xp(this.processedData)),m.push(Wg(this)),a=a.map((g,v)=>s[v]?g:Pe(Q({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,k1(this,l,!0,{id:"angleValue",onlyPositive:!0}),xi(this,l,!0,{id:"angleRaw"}),gb(this,{id:"angleValue"},[0,1],0,0),...m]});for(const g of null!=(o=null==(r=null==(i=this.processedData)?void 0:i.defs)?void 0:r.values)?o:[]){const{id:v,missing:y,property:_}=g,b=y1(this,y);"angleRaw"!==v&&b>0&&Me.warnOnce(`no value was found for the key '${String(_)}' on ${b} data element${b>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return he(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){return{angleIdx:n.resolveProcessedDataIndexById(this,"angleValue").index,radiusIdx:this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,calloutLabelIdx:this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,sectorLabelIdx:this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,legendItemIdx:this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1}}createNodeData(){return he(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:i}=this,{rotation:r}=this.properties;if(!t||!e||"ungrouped"!==t.type)return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:c}=this.getProcessedDataIndexes(e);let u=0,d=0;const h=t.data.map((f,m)=>{var g;const{datum:v,values:y}=f,_=y[o],b=i.convert(u)+Br(r);u=_,d+=_;const w=i.convert(u)+Br(r),E=Math.abs(w-b),M=b+E/2,P=y[o+1],I=a>=0&&null!=(g=y[a])?g:1,k=a>=0?y[a+1]:void 0,L=c>=0?y[c]:void 0,B=this.getLabels(v,M,E,!0,y[s],y[l],L),Y=this.getSectorFormat(v,m,!1);return Q({itemId:m,series:this,datum:v,index:m,angleValue:P,midAngle:M,midCos:Math.cos(M),midSin:Math.sin(M),startAngle:b,endAngle:w,sectorFormat:Y,radiusValue:k,radius:I,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(I),0),legendItemValue:L},B)});this.zerosumOuterRing.visible=0===d;const{innerRadiusRatio:p=1}=this.properties;return this.zerosumInnerRing.visible=0===d&&1!==p&&p>0,[{itemId:n,nodeData:h,labelData:h}]})}getLabels(n,t,e,i,r,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:c}=this.properties,u=!i||s.enabled?this.properties.calloutLabelKey:void 0,d=!i||l.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!d&&!c)return{};const h={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return u&&e>Br(s.minAngle)&&(p.calloutLabel=Pe(Q({},this.getTextAlignment(t)),{text:this.getLabelText(s,Pe(Q({},h),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(p.sectorLabel={text:this.getLabelText(l,Pe(Q({},h),{value:o}))}),null!=c&&null!=a&&(p.legendItem={key:c,text:a}),p}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=QC(n),i=-3*Math.PI/4;return t[nT(Math.floor((e-i)/(Math.PI/2)),t.length)]}getSectorFormat(n,t,e){var i,r,o,a,s;const{callbackCache:l,highlightManager:c}=this.ctx,{angleKey:u,radiusKey:d,fills:h,strokes:p,formatter:f,sectorSpacing:m,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,v=c.getActiveHighlight(),y=e&&v?.series===this&&t===v.itemId,{fill:_,fillOpacity:b,stroke:w,strokeWidth:E,strokeOpacity:M}=Vt(y&&this.properties.highlightStyle.item,{fill:h.length>0?h[t%h.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:null!=m?p.length>0?p[t%p.length]:void 0:p.length>0?p[t%p.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let P;return f&&(P=l.call(f,{datum:n,angleKey:u,radiusKey:d,fill:_,stroke:w,fills:h,strokes:p,strokeWidth:E,highlighted:y,seriesId:this.id})),{fill:null!=(i=P?.fill)?i:_,fillOpacity:null!=(r=P?.fillOpacity)?r:b,stroke:null!=(o=P?.stroke)?o:w,strokeWidth:null!=(a=P?.strokeWidth)?a:E,strokeOpacity:null!=(s=P?.strokeOpacity)?s:M}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,i=n*t+e;return i===n||i<0?0:i}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var i=e,{radius:r}=i,o=Zn(i,["radius"]);return Pe(Q({},o),{radius:r,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(r),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);return 0===e?NaN:-e-(2+(null!=(t=null==(n=this.properties.title)?void 0:n.spacing)?t:0))-Math.max(0,-e)}update(n){return he(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=null!=Ca(this.nodeDataDependencies,i);if(r&&(this._nodeDataDependencies=i),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:i}=this.properties;e!==i&&(e&&(null==(n=this.labelGroup)||n.removeChild(e.node)),i&&(i.node.textBaseline="bottom",null==(t=this.labelGroup)||t.appendChild(i.node)),this.oldTitle=i)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return he(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return he(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:i,innerLabelsSelection:r}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(c=>Pe(Q({},c),{sectorFormat:Q({},c.sectorFormat)}))),a.update(l,void 0,c=>this.getDatumId(c)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new tr;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new ii;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),i.update(this.nodeData,a=>{a.pointerEvents=1}),r.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const r=Math.min(e,this.getOuterRadius());t=Math.ceil(2*r+1)}this.innerCircleSelection.update(n?[{radius:t}]:[])}updateNodes(n){return he(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((r,{radius:o})=>{var a,s;r.setProperties({fill:null==(a=this.properties.innerCircle)?void 0:a.fill,opacity:null==(s=this.properties.innerCircle)?void 0:s.fillOpacity,size:o})});const i=(r,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const c=this.ctx.animationManager.isSkipped();c&&(r.startAngle=o.startAngle,r.endAngle=o.endAngle,r.innerRadius=o.innerRadius,r.outerRadius=o.outerRadius),(s||c)&&(r.fill=l.fill,r.stroke=l.stroke),r.strokeWidth=l.strokeWidth,r.fillOpacity=l.fillOpacity,r.strokeOpacity=this.properties.strokeOpacity,r.lineDash=this.properties.lineDash,r.lineDashOffset=this.properties.lineDashOffset,r.fillShadow=this.properties.shadow,r.inset=null!=this.properties.sectorSpacing?(this.properties.sectorSpacing+(null!=l.stroke?l.strokeWidth:0))/2:0,r.lineJoin=null!=this.properties.sectorSpacing?"miter":"round"};this.itemSelection.each((r,o,a)=>i(r,o,0,!1)),this.highlightSelection.each((r,o,a)=>{const s=t?.series===this&&r.datum.itemId===t.itemId;i(r,o,0,!0),r.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,i=t.strokeWidth,r=null!=(n=t.colors)?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:c,outerRadius:u}=l;if(c?.text&&!c.hidden&&0!==u){a.visible=!0,a.strokeWidth=i,a.stroke=r[s%r.length],a.fill=void 0;const d=l.midCos*u,h=l.midSin*u;let p=l.midCos*(u+e),f=l.midSin*(u+e);if((c.collisionTextAlign||0!==c.collisionOffsetY)&&null!=c.box){const g=c.box;let v=p,y=f;p<g.x?v=g.x:p>g.x+g.width&&(v=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const _=v-p,b=y-f,w=Math.sqrt(Math.pow(_,2)+Math.pow(b,2)),E=w-o;E>0&&(p+=_*E/w,f+=b*E/w)}a.x1=d,a.y1=h,a.x2=p,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const i=e.x-this.centerX,r=e.x+e.width-this.centerX;let l=1;t.x+1<i?l=(t.x+t.width-i)/t.width:t.x+t.width-1>r&&(l=(r-t.x)/t.width);const c=t.y+1<e.y-this.centerY||t.y+t.height-1>e.y+e.height-this.centerY;return{textLength:1===l?n.length:Math.floor(n.length*l)-1,hasVerticalOverflow:c,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:i}=this;if(null==i)return!1;const r=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=Pt(i,2);return r.some(a=>Pt(a.x,2)+Pt(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:i,minSpacing:r}=t,o=n.convert(0),s=this.nodeData,l=this.nodeData.filter(y=>!(y=>!y.calloutLabel||0===y.outerRadius)(y));if(l.forEach(y=>{const _=y.calloutLabel;null!=_&&(_.hidden=!1,_.collisionTextAlign=void 0,_.collisionOffsetY=0)}),l.length<=1)return;const c=l.filter(y=>y.midCos<0).sort((y,_)=>y.midSin-_.midSin),u=l.filter(y=>y.midCos>=0).sort((y,_)=>y.midSin-_.midSin),d=l.filter(y=>{var _;return y.midSin<0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),h=l.filter(y=>{var _;return y.midSin>=0&&"center"===(null==(_=y.calloutLabel)?void 0:_.textAlign)}).sort((y,_)=>y.midCos-_.midCos),p=new ii,f=y=>{var _;const b=y.calloutLabel;if(null==b)return new wt(0,0,0,0);const w=y.outerRadius+e.length+i,E=y.midCos*w,M=y.midSin*w+b.collisionOffsetY;return p.text=b.text,p.x=E,p.y=M,p.setFont(this.properties.calloutLabel),p.setAlign({textAlign:null!=(_=b.collisionTextAlign)?_:b.textAlign,textBaseline:b.textBaseline}),p.computeBBox()},m=(y,_,b)=>{const w=f(y).grow(r/2),E=f(_).grow(r/2);w.x<E.x+E.width&&w.x+w.width>E.x&&("to-top"===b?w.y<E.y+E.height:w.y+w.height>E.y)&&(_.calloutLabel.collisionOffsetY="to-top"===b?w.y-E.y-E.height:w.y+w.height-E.y)},g=y=>{const _=y.slice().sort((w,E)=>Math.abs(w.midSin)-Math.abs(E.midSin))[0],b=y.indexOf(_);for(let w=b-1;w>=0;w--)m(y[w+1],y[w],"to-top");for(let w=b+1;w<y.length;w++)m(y[w-1],y[w],"to-bottom")},v=y=>{const _=l.some(I=>0!==I.calloutLabel.collisionOffsetY),b=y.map(I=>f(I)),w=b.map(I=>I.clone().grow(r/2));let E=!1;for(let I=0;I<w.length&&!E;I++){const k=w[I];for(let L=I+1;L<y.length;L++)if(k.collidesBBox(w[L])){E=!0;break}}const M=s.map(I=>{const{startAngle:k,endAngle:L,outerRadius:B}=I;return{startAngle:k,endAngle:L,innerRadius:o,outerRadius:B}}),P=b.some(I=>M.some(k=>jQ(I,k)));!E&&!_&&!P||y.filter(I=>"center"===I.calloutLabel.textAlign).forEach(I=>{I.calloutLabel.collisionTextAlign=I.midCos<0?"right":I.midCos>0?"left":"center"})};g(c),g(u),v(d),v(h)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:i}=this.properties,r=i.length,{offset:o,color:a}=e,s=new ii;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var c;const{datum:u}=l,d=u.calloutLabel,h=t.convert(u.radius),p=Math.max(0,h);if(!d?.text||0===p||d.hidden)return void(l.visible=!1);const f=p+r+o,m=u.midCos*f,g=u.midSin*f+d.collisionOffsetY,v={textAlign:null!=(c=d.collisionTextAlign)?c:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=m,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(v);const y=s.computeBBox();let _=d.text,b=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:E}=this.getLabelOverflow(d.text,y,n);_=d.text.length===w?d.text:`${d.text.substring(0,w)}\u2026`,b=!E}l.text=_,l.x=m,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(v),l.fill=a,l.visible=b})}computeLabelsBBox(n,t){return he(this,null,function*(){const{calloutLabel:e,calloutLine:i}=this.properties,r=i.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new ii;let u;const{title:d}=this.properties;if(d?.text&&d.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(c.text=d.text,c.x=0,c.y=h,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.computeBBox(),l.push(u))}return this.nodeData.forEach(h=>{var p;const f=h.calloutLabel;if(!f||0===h.outerRadius)return null;const m=h.outerRadius+r+o,g=h.midCos*m,v=h.midSin*m+f.collisionOffsetY;c.text=f.text,c.x=g,c.y=v,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:null!=(p=f.collisionTextAlign)?p:f.textAlign,textBaseline:f.textBaseline});const y=c.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a)f.hidden=!0;else{if(u){const _=t.y-this.centerY,b=new wt(u.x-s,_,u.width+2*s,u.y+u.height+s-_);if(y.collidesBBox(b))return void(f.hidden=!0)}if(n.hideWhenNecessary){const{textLength:_,hasVerticalOverflow:b,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t);if(b||f.text.length>2&&_<2||w)return void(f.hidden=!0)}f.hidden=!1,l.push(y)}}),0===l.length?null:wt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:i,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel,c=t>0,u=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((d,h)=>{const{sectorLabel:p,outerRadius:f}=h;let m=!1;if(p&&0!==f){const g=t*(1-s)+f*s+a;d.fill=l,d.fontStyle=i,d.fontWeight=r,d.fontSize=e,d.fontFamily=o,d.text=p.text,!c&&u?(d.x=0,d.y=0):(d.x=h.midCos*g,d.y=h.midSin*g),d.textAlign="center",d.textBaseline="middle";const y=d.computeBBox(),_=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]],{startAngle:b,endAngle:w}=h,E={startAngle:b,endAngle:w,innerRadius:t,outerRadius:f};_.every(([M,P])=>oV(M,P,E))&&(m=!0)}d.visible=m})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((u,d)=>{const{fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,color:g,margin:v=2}=d;u.fontStyle=h,u.fontWeight=p,u.fontSize=f,u.fontFamily=m,u.text=d.text,u.x=0,u.y=0,u.fill=g,u.textAlign="center",u.textBaseline="alphabetic",n.push(u.computeBBox()),t.push(v)});const e=u=>0===u?0:t[u],i=u=>u===t.length-1?0:t[u],r=n.reduce((u,d,h)=>u+d.height+e(h)+i(h),0),o=Math.max(...n.map(u=>u.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),c=[];for(let u=0,d=-r/2;u<n.length;u++){const p=n[u].height+d+e(u);c.push(p),d=p+i(u)}this.innerLabelsSelection.each((u,d,h)=>{u.y=c[h],u.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:i,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;return r&&void 0!==s?s.text:e&&e!==t&&void 0!==a?.text?a.text:i&&i!==t&&void 0!==o?.text?o.text:void 0}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:i,sectorFormat:{fill:r}}=n,o=Ui(null==(t=this.properties.title)?void 0:t.text),a=ai(i)?iT(i):String(i),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:r},{datum:e,title:o,color:r,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,i,r,o;const{processedData:a,dataModel:s}=this;if(!s||!a?.data.length||"category"!==n)return[];const{angleKey:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=this.properties;if(!(d||c&&c!==l||u&&u!==l))return[];const{calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(s),m=(null==(t=this.properties.title)?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let v=0;v<a.data.length;v++){const{datum:y,values:_}=a.data[v],b=[];m&&b.push(m);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,_[h],_[p],_[f]);if(d&&void 0!==w.legendItem?b.push(w.legendItem.text):c&&c!==l&&void 0!==(null==(e=w.calloutLabel)?void 0:e.text)?b.push(null==(i=w.calloutLabel)?void 0:i.text):u&&u!==l&&void 0!==(null==(r=w.sectorLabel)?void 0:r.text)&&b.push(null==(o=w.sectorLabel)?void 0:o.text),0===b.length)continue;const E=this.getSectorFormat(y,v,!1);g.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:this.seriesItemEnabled[v],label:{text:b.join(" - ")},marker:{fill:E.fill,stroke:E.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:null!=d?y[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:i,legendItemName:r}=n;i.id===this.id?this.toggleSeriesItem(e,t):null!=r&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;null==(e=this.processedData)||e.data.forEach(({values:r},o)=>{r[i]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=qg(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Hi(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),Hi(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),hi(this,"callout",t,[this.calloutLabelSelection]),hi(this,"sector",t,[this.sectorLabelSelection]),hi(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,i,r,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:c,previousRadiusScale:u}=this,{animationManager:d}=this.ctx,h=null==(n=l?.reduced)?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const p=0===(null!=(t=h?.moved.length)?t:0)&&h?.addedIndices.every(v=>!h.removedIndices.includes(v)),f=(null!=(e=l?.defs.keys.length)?e:0)>0,m=null==(o=null==(r=null==(i=l?.reduced)?void 0:i.animationValidation)?void 0:r.uniqueKeys)||o;(!p||!f||!m)&&this.ctx.animationManager.skipCurrentBatch();const g=qg(!1,this.properties.rotation,c,u);Hi(this.id,"nodes",d,[a,s],g.nodes,(v,y)=>this.getDatumId(y),h),Hi(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),hi(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),hi(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),hi(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,o=qg(!1,this.properties.rotation,e,i);Hi(this.id,"nodes",r,[n,t],o.nodes),Hi(this.id,"innerCircle",r,[this.innerCircleSelection],o.innerCircle),Jp(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Jp(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Jp(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,i;const{calloutLabelKey:r,sectorLabelKey:o,legendItemKey:a}=this.properties;if(null!=(i=null==(e=null==(t=this.processedData)?void 0:t.reduced)?void 0:e.animationValidation)&&i.uniqueKeys){if(a)return n[a];if(r)return n[r];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return null!=(t=this.getDatumIdFromData(n.datum))?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};kT.className="PieSeries",kT.type="pie";var gUe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:kT,seriesDefaults:{},themeTemplate:WQ,paletteFactory:$Q};var hV=class Rie extends ST{constructor(t,e){super(t,e),this._data={}}performLayout(){return he(this,null,function*(){const t=yield hu(Rie.prototype,this,"performLayout").call(this),{seriesArea:{padding:e},seriesRoot:i}=this,r=t.clone();return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,i.translationX=Math.floor(t.x),i.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>he(this,null,function*(){yield o.update({seriesRect:t})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new wt(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:r,paddedRect:t,visible:!0},axes:[]}),t})}};hV.className="HierarchyChart",hV.type="hierarchy";var _Ue=hV,Zg=class extends d1{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(n,t){return null}};S([R(vn(["polygon","circle"],"a polar axis shape"))],Zg.prototype,"shape",2),S([R(di)],Zg.prototype,"innerRadiusRatio",2);var pV=class Pie extends ST{constructor(t,e){super(t,e),this.padding=new qd(40),this.axisGroup.zIndex=5}performLayout(){return he(this,null,function*(){const t=yield hu(Pie.prototype,this,"performLayout").call(this),e=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(i=>i.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,e,i){var r,o;const a=this.axes.find(d=>"x"===d.direction),s=this.axes.find(d=>"y"===d.direction);if(!(a instanceof Zg&&s instanceof Zg))return;const l=a.scale,c=null==(r=l.ticks)?void 0:r.call(l).map(d=>l.convert(d)),u=s.innerRadiusRatio;a.innerRadiusRatio=u,null==(o=a.computeRange)||o.call(a),a.gridLength=i,s.gridAngles=c,s.gridRange=a.range,s.range=[i,i*u],[a,s].forEach(d=>{d.translation.x=t,d.translation.y=e,d.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return he(this,null,function*(){const e=this.series.filter(u=>u instanceof PT),i=this.axes.filter(u=>u instanceof Zg),r=(u,d,h)=>{this.updateAxes(u,d,h),e.forEach(f=>{f.centerX=u,f.centerY=d,f.radius=h});const p=e.filter(f=>f instanceof kT||f instanceof IT);if(p.length>1){const f=p.map(m=>{const g=m.getInnerRadius();return{series:m,innerRadius:g}}).sort((m,g)=>m.innerRadius-g.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let m=0;m<f.length-1;m++)f[m].series.surroundingRadius=f[m+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;r(o,a,l);const c=(...u)=>he(this,[...u],function*({hideWhenNecessary:d=!1}={}){const h=[];for(const m of[...i,...e]){const g=yield m.computeLabelsBBox({hideWhenNecessary:d},t);g&&h.push(g)}if(0===h.length)return void r(o,a,s);const p=wt.merge(h),f=this.refineCircle(p,l,t);r(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield c(),yield c(),yield c(),yield c({hideWhenNecessary:!0}),yield c({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:a}})}refineCircle(t,e,i){const a=-e,s=e,l=e;let c=Math.max(0,-e-t.x),u=Math.max(0,a-t.y),d=Math.max(0,t.x+t.width-s),h=Math.max(0,t.y+t.height-l);c=d=Math.max(c,d),u=h=Math.max(u,h);let m=Math.min(i.width-c-d,i.height-u-h)/2;const y=Math.min(.5*i.width/2,.5*i.height/2);if(m<y){m=y;const w=c+d;if(2*m+(u+h)>i.height){const M=i.height-2*m;2*Math.min(u,h)>M?(u=M/2,h=M/2):u>h?u=M-h:h=M-u}if(2*m+w>i.width){const M=i.width-2*m;2*Math.min(c,d)>M?(c=M/2,d=M/2):c>d?c=M-d:d=M-c}}return{centerX:i.x+(i.width-(c+2*m+d))/2+c+m,centerY:i.y+(i.height-(u+2*m+h))/2+u+m,radius:m}}};pV.className="PolarChart",pV.type="polar";var CUe=pV,LT=sn.create(!0,"opts");function YQ(n){if(Op(n))return"cartesian";if(GC(n))return"polar";if(hN(n))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${n.type}`)}var NT=class Cw{static licenseCheck(t){var e,i,r,o;this.licenseChecked||(this.licenseManager=null==(i=(e=bg).licenseManager)?void 0:i.call(e,t),null==(r=this.licenseManager)||r.setLicenseKey(this.licenseKey,this.gridContext),null==(o=this.licenseManager)||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e,i;return null==(i=(e=bg).licenseManager)?void 0:i.call(e,{}).getLicenseDetails(t)}static getInstance(t){return Qg.getInstance(t)}static create(t){var e,i,r,o;this.licenseCheck(t);const a=Qg.createOrUpdate(t);return null!=(e=this.licenseManager)&&e.isDisplayWatermark()&&(null==(o=(r=bg).injectWatermark)||o.call(r,null!=(i=t.document)?i:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,e){if(!Kg.isInstance(t))throw new Error(Cw.INVALID_CHART_REF_MESSAGE);Qg.createOrUpdate(e,t)}static updateDelta(t,e){if(!Kg.isInstance(t))throw new Error(Cw.INVALID_CHART_REF_MESSAGE);Qg.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof Kg))throw new Error(Cw.INVALID_CHART_REF_MESSAGE);Qg.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof Kg))throw new Error(Cw.INVALID_CHART_REF_MESSAGE);return Qg.getImageDataURL(t,e)}};NT.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed",NT.licenseChecked=!1,NT.gridContext=!1;var Ho=NT,qQ=class wc{static getInstance(t){const e=ST.getInstance(t);return null!=e?Kg.chartInstances.get(e):void 0}static initialiseModules(){wc.initialised||(function vUe(){Bs(fQ),Bs(mQ),Bs(Q3e),Bs(iUe),Bs(aUe),Bs(uUe),Bs(hUe),Bs(fUe),Bs(gUe),Bs(lUe),new Map([[Zp.type,Zp],[wu.type,wu],[Qp.type,Qp],[Yd.type,Yd],[ih.type,ih]]).forEach((t,e)=>{l9(e,t)}),I9("category","legend",0,void 0)}(),function yUe(){for(const n of Ql){if("enterprise"===n.packageType&&!l2e(n)&&Me.errorOnce("Unexpected enterprise module registered: "+n.identifier),"root"===n.type&&n.themeTemplate)for(const t of n.chartTypes)t2e(t,n.themeTemplate);if("series"===n.type){if(n.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${n.identifier}`);f2e(n)}if("series-option"===n.type&&n.themeTemplate)for(const t of n.seriesTypes)R9(t,n.themeTemplate);if("axis-option"===n.type&&n.themeTemplate)for(const t of n.axisTypes){const e=n.themeTemplate[t],i=Q(Q({},n.themeTemplate),e);for(const r of n.axisTypes)delete i[r];u9(t,i)}"axis"===n.type&&(l9(n.identifier,n.instanceConstructor),n.themeTemplate&&u9(n.identifier,n.themeTemplate)),"legend"===n.type&&I9(n.identifier,n.optionsKey,0,n.themeTemplate)}if(oN()){const n=function c2e(){return Eg.filter(({useCount:n})=>null==n||0===n)}();n.length>0&&Me.errorOnce("Enterprise modules expected but not registered: ",n)}}(),wc.initialised=!0)}static createOrUpdate(t,e){wc.initialiseModules(),LT(">>> AgChartV2.createOrUpdate() user options",t);const r=t,{overrideDevicePixelRatio:o,document:a,window:s}=r,l=Zn(r,["overrideDevicePixelRatio","document","window"]),c=new tX(l,{overrideDevicePixelRatio:o,document:a,window:s});let u=e?.chart;return(null==u||YQ(l)!==YQ(u.processedOptions))&&(u=wc.createChartInstance(c,u)),null==e?e=new Kg(u):e.chart=u,LT.check()&&typeof window<"u"&&(null!=window.agChartInstances||(window.agChartInstances={}),window.agChartInstances[u.id]=u),u.queuedUserOptions.push(l),u.requestFactoryUpdate(d=>{d.applyOptions(c),d.queuedUserOptions.splice(0,d.queuedUserOptions.indexOf(l))}),e}static updateUserDelta(t,e){ec(e=Gr(e,{shallow:["data"]}),a=>{if("object"==typeof a)for(const[s,l]of Object.entries(a))typeof l>"u"&&Object.assign(a,{[s]:Symbol("UNSET")})},{skip:["data"]});const{chart:i}=t,r=i.getOptions(),o=Vt(e,r);LT(">>> AgChartV2.updateUserDelta() user delta",e),LT("AgChartV2.updateUserDelta() - base options",r),wc.createOrUpdate(o,t)}static download(t,e){return he(this,null,function*(){try{const i=yield wc.prepareResizedChart(t,e);i.chart.scene.download(e?.fileName,e?.fileFormat),i.destroy()}catch(i){Me.errorOnce(i)}})}static getImageDataURL(t,e){return he(this,null,function*(){const i=yield wc.prepareResizedChart(t,e),{canvas:r}=i.chart.scene,o=r.getDataURL(e?.fileFormat);return i.destroy(),o})}static prepareResizedChart(t){return he(this,arguments,function*(e,i={}){const{chart:r}=e,{width:o=r.width,height:a=r.height}=i,s=Vt({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:a},oN()&&{animation:{enabled:!1}},r.userOptions),l=wc.createOrUpdate(s);return l.chart.zoomManager.updateZoom(e.chart.zoomManager.getZoom()),e.chart.series.forEach((c,u)=>{!0!==c.visible&&(l.chart.series[u].visible=c.visible)}),e.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,e){const i=e?.destroy({keepTransferableResources:!0});return new(wc.getChartByOptions(t.processedOptions))(t,i)}static getChartByOptions(t){if(Op(t))return N3e;if(hN(t))return _Ue;if(GC(t))return CUe;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};qQ.initialised=!1;var Qg=qQ,re={};du(re,{Arc:()=>pc,BBox:()=>wt,BandScale:()=>sc,Caption:()=>qi,Circle:()=>dc,ContinuousScale:()=>Si,Diamond:()=>zZ,DropShadow:()=>el,Group:()=>$e,HdpiCanvas:()=>ln,Image:()=>Jg,Label:()=>Ln,Line:()=>tr,LinearGradientFill:()=>VT,LinearScale:()=>hc,Marker:()=>ls,Node:()=>Rg,Path:()=>Sa,Path2D:()=>Gg,PointerEvents:()=>oX,RadialColumnShape:()=>tl,Rect:()=>jr,RedrawType:()=>jd,Scene:()=>g1,SceneChangeDetection:()=>Le,ScenePathChangeDetection:()=>Ot,Sector:()=>cs,Selection:()=>ji,Shape:()=>rs,Square:()=>Bg,Text:()=>ii,Tooltip:()=>OX,Triangle:()=>Hg,easing:()=>BN,getFont:()=>$d,getMarker:()=>Xd,getRadialColumnWidth:()=>SUe,motion:()=>xUe,nearestSquared:()=>rX,nearestSquaredInContainer:()=>pHe,toRadians:()=>Br,toTooltipHtml:()=>rb});var pc=class extends Sa{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return jp(gn(this.startAngle),gn(this.endAngle))}updatePath(){const n=this.path;n.clear(),n.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?n.closePath():2===this.type&&!this.fullPie&&(n.lineTo(this.centerX,this.centerY),n.closePath())}computeBBox(){return new wt(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(n,t){const e=this.transformPoint(n,t),i=this.computeBBox();return 0!==this.type&&i.containsPoint(e.x,e.y)&&this.path.isPointInPath(e.x,e.y)}};pc.className="Arc",pc.defaultStyles=Object.assign({},rs.defaultStyles,{lineWidth:1,fillStyle:null}),S([Ot()],pc.prototype,"centerX",2),S([Ot()],pc.prototype,"centerY",2),S([Ot()],pc.prototype,"radius",2),S([Ot()],pc.prototype,"startAngle",2),S([Ot()],pc.prototype,"endAngle",2),S([Ot()],pc.prototype,"counterClockwise",2),S([Ot()],pc.prototype,"type",2);var VT=class extends rs{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(n){null!=this._mask&&this.removeChild(this._mask),null!=n&&this.appendChild(n),this._mask=n}isPointInPath(n,t){var e,i;return null!=(i=null==(e=this.mask)?void 0:e.isPointInPath(n,t))&&i}computeBBox(){var n;return null==(n=this.mask)?void 0:n.computeBBox()}render(n){const{mask:t,stops:e}=this,{ctx:i,devicePixelRatio:r}=n,o=1/r,a=t?.computeTransformedBBox();if(null==t||null==e||null==a)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),i.save(),i.beginPath(),t.path.draw(i),i.clip(),i.resetTransform();const s=Math.floor(a.x),l=Math.ceil(a.x+a.width),c=Math.floor(a.y),u=Math.ceil(a.y+a.height),d=new ef,[h,p]="to-right"===this.direction?[s,l]:[c,u];if(d.domain=e.map((f,m)=>h+(p-h)*m/(e.length-1)),d.range=e,d.update(),"to-right"===this.direction){const f=u-c;for(let m=s;m<=l;m+=o)i.fillStyle=d.convert(m),i.fillRect(m,c,o,f)}else{const f=l-s;for(let m=c;m<=u;m+=o)i.fillStyle=d.convert(m),i.fillRect(s,m,f,o)}i.restore()}};function XQ(n,t,e){const i=Math.sqrt(Pt(n,2)+Pt(t,2)),o=Math.atan2(t,n)+e;return{x:Math.cos(o)*i,y:Math.sin(o)*i}}S([Le({redraw:3})],VT.prototype,"direction",2),S([Le({redraw:3})],VT.prototype,"stops",2),S([Le({redraw:3})],VT.prototype,"_mask",2);var tl=class extends Sa{constructor(){super(...arguments),this.borderPath=new Gg,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:n,endAngle:t}=this;return gn(n+jN(n,t)/2+Math.PI/2)}updatePath(){const{isBeveled:n}=this;n?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:n,innerRadius:t,outerRadius:e,path:i}=this,r=-n/2,o=n/2,a=-e,s=-t,l=this.getRotation(),c=[[r,s],[r,a],[o,a],[o,s],[r,s]].map(([u,d])=>XQ(u,d,l));i.clear({trackChanges:!0}),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.lineTo(c[0].x,c[0].y),i.closePath()}updateBeveledPath(){const{columnWidth:n,path:t,outerRadius:e,innerRadius:i,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=jp(i,r),l=Math.asin(n/2/i),c=this.getRotation(),u=(P,I)=>XQ(P,I,c),d=(P,I)=>Math.sqrt(Pt(P,2)+Pt(I,2)),h=(P,I)=>I>P?0:Math.sqrt(Pt(P,2)-Pt(I,2)),p=(P,I,k)=>k?P<I:P>I,f=s&&!isNaN(l)&&l<Math.PI/6;let m=-n/2,g=n/2;const v=-e,y=-i*(f?Math.cos(l):1),_=p(o,d(i,n/2),!a);if(_){const P=h(o,i);m=-P,g=P}t.clear({trackChanges:!0});const b=u(m,y);t.moveTo(b.x,b.y);const w=jp(i,e),E=p(o,d(e,n/2),!a);if(w&&f)t.arc(0,0,i,gn(-l-Math.PI/2)+c,gn(l-Math.PI/2)+c,!1);else if(E){const P=-h(o,n/2),I=h(o,e);if(!_){const k=u(m,P);t.lineTo(k.x,k.y)}if(t.arc(0,0,o,Math.atan2(P,m)+c,Math.atan2(v,-I)+c,!1),!jp(I,0)){const k=u(I,v);t.lineTo(k.x,k.y)}t.arc(0,0,o,Math.atan2(v,I)+c,Math.atan2(P,g)+c,!1)}else{const P=u(m,v),I=u(g,v);t.lineTo(P.x,P.y),t.lineTo(I.x,I.y)}const M=u(g,y);if(t.lineTo(M.x,M.y),f)t.arc(0,0,i,gn(l-Math.PI/2)+c,gn(-l-Math.PI/2)+c,!0);else{const P=u(m,y);t.lineTo(P.x,P.y)}t.closePath()}};function SUe(n,t,e,i,r){const o=jN(n,t),a=o*(1-i)/2;if(n+=a,t-=a,o<.001)return 2*e*r;if(o>=2*Math.PI){const p=n+o/2;n=p-Math.PI,t=p+Math.PI}const s=e*Math.cos(n),l=e*Math.sin(n),c=e*Math.cos(t),u=e*Math.sin(t),d=Math.floor(Math.sqrt(Pt(s-c,2)+Pt(l-u,2)));return Math.max(1,Math.min(2*e*r,d))}tl.className="RadialColumnShape",S([Ot()],tl.prototype,"isBeveled",2),S([Ot()],tl.prototype,"columnWidth",2),S([Ot()],tl.prototype,"startAngle",2),S([Ot()],tl.prototype,"endAngle",2),S([Ot()],tl.prototype,"outerRadius",2),S([Ot()],tl.prototype,"innerRadius",2),S([Ot()],tl.prototype,"axisInnerRadius",2),S([Ot()],tl.prototype,"axisOuterRadius",2),S([Ot()],tl.prototype,"isRadiusAxisReversed",2);var Jg=class extends Rg{constructor(n){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=n}render(n){const{ctx:t,forceRender:e,stats:i}=n;if(0===this.dirty&&!e)return void(i&&i.nodesSkipped++);this.computeTransformMatrix(),this.matrix.toContext(t);const r=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),super.render(n)}};S([Le({redraw:3})],Jg.prototype,"x",2),S([Le({redraw:3})],Jg.prototype,"y",2),S([Le({redraw:3})],Jg.prototype,"width",2),S([Le({redraw:3})],Jg.prototype,"height",2),S([Le({redraw:3})],Jg.prototype,"opacity",2);var xUe=Q(Q({},iX),KX),il={};du(il,{CARTESIAN_AXIS_TYPE:()=>V9,ChartTheme:()=>mu,DEFAULT_AXIS_GRID_COLOUR:()=>zD,DEFAULT_AXIS_LINE_COLOUR:()=>WD,DEFAULT_BACKGROUND_COLOUR:()=>jC,DEFAULT_CROSS_LINES_COLOUR:()=>HC,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>$s,DEFAULT_FONT_FAMILY:()=>Qn,DEFAULT_HIERARCHY_FILLS:()=>yN,DEFAULT_HIERARCHY_STROKES:()=>_N,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Tg,DEFAULT_INVERTED_LABEL_COLOUR:()=>Z9,DEFAULT_LABEL_COLOUR:()=>si,DEFAULT_MUTED_LABEL_COLOUR:()=>Mg,DEFAULT_POLAR_SERIES_STROKE:()=>vN,DEFAULT_SHADOW_COLOUR:()=>Ag,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>Ws,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>Us,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>js,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>zs,EXTENDS_AXES_DEFAULTS:()=>W9,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>q9,EXTENDS_AXES_LABEL_DEFAULTS:()=>$9,EXTENDS_AXES_LINE_DEFAULTS:()=>K9,EXTENDS_AXES_TICK_DEFAULTS:()=>Y9,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>Dg,EXTENDS_CHART_DEFAULTS:()=>H9,EXTENDS_LEGEND_DEFAULTS:()=>j9,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>U9,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>z9,EXTENDS_SERIES_DEFAULTS:()=>fu,FONT_SIZE:()=>k9,FONT_WEIGHT:()=>L9,IS_DARK_THEME:()=>Pp,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>X9,POLAR_AXIS_SHAPE:()=>B9,POLAR_AXIS_TYPE:()=>G9,POSITION:()=>N9,getChartTheme:()=>DN,themes:()=>EUe});var EUe=Object.entries(Q9).reduce((n,[t,e])=>(n[t]=e(),n),{}),oh={};du(oh,{BandScale:()=>sc,ColorScale:()=>ef,ContinuousScale:()=>Si,Invalidating:()=>No,LinearScale:()=>hc,TimeScale:()=>l1});var Xi={};du(Xi,{Color:()=>rc,Logger:()=>Me,Padding:()=>qd,angleBetween:()=>jN,checkDatum:()=>ab,clamp:()=>ti,clampArray:()=>tT,countFractionDigits:()=>FN,createId:()=>nc,deepClone:()=>Gr,extent:()=>ic,findMinMax:()=>gu,findRangeExtent:()=>Og,isContinuous:()=>e1,isDate:()=>NC,isEqual:()=>jp,isNegative:()=>qC,isNumber:()=>ai,isNumberEqual:()=>jp,isString:()=>es,isStringObject:()=>JN,jsonApply:()=>Hd,jsonDiff:()=>Ca,jsonWalk:()=>ec,mod:()=>nT,normalisedExtent:()=>J9,normalisedExtentWithMetadata:()=>KC,normalizeAngle180:()=>QC,normalizeAngle360:()=>gn,normalizeAngle360Inclusive:()=>wHe,range:()=>cb,resetIds:()=>nX,round:()=>IN,sanitizeHtml:()=>Ui,shallowClone:()=>UD,tickFormat:()=>eZ,tickStep:()=>Ng,ticks:()=>fT,toDegrees:()=>SHe,toFixed:()=>iT,toRadians:()=>Br,transformIntegratedCategoryValue:()=>Fg,zipObject:()=>RN});var fV={};function DUe(...n){for(const t of n)if(t instanceof jr){const{x:e,y:i,width:r,height:o}=t;t.setProperties({x:i,y:e,width:o,height:r})}else if(t instanceof tr){const{x1:e,y1:i,x2:r,y2:o}=t;t.setProperties({x1:i,y1:e,x2:o,y2:r})}}du(fV,{ADD_PHASE:()=>HN,AGG_VALUES_EXTENT:()=>w3e,AND:()=>lc,ANIMATION_PHASE_ORDER:()=>Up,ANIMATION_PHASE_TIMINGS:()=>pX,ARRAY:()=>JC,ARRAY_OF:()=>vu,AbstractBarSeries:()=>RQ,AbstractBarSeriesProperties:()=>Q1,ActionOnSet:()=>Jn,Animation:()=>mX,AnimationManager:()=>IZ,AreaSeriesTag:()=>AQ,Axis:()=>d1,AxisLabel:()=>Nn,AxisTick:()=>qs,BOOLEAN:()=>rt,BOOLEAN_ARRAY:()=>xHe,Background:()=>Cb,BackgroundModule:()=>fQ,BaseModuleInstance:()=>rN,BaseProperties:()=>bi,COLOR_STRING:()=>qt,COLOR_STRING_ARRAY:()=>ns,CartesianAxis:()=>db,CartesianSeries:()=>th,CartesianSeriesNodeClickEvent:()=>V1,CartesianSeriesProperties:()=>eh,CategoryAxis:()=>wu,ChartAxisDirection:()=>xX,ChartEventManager:()=>FZ,ChartOptions:()=>tX,ChartUpdateType:()=>hb,ContextMenuRegistry:()=>kZ,CursorManager:()=>LZ,DATE:()=>UN,DATE_ARRAY:()=>EHe,DATE_OR_DATETIME_MS:()=>zN,DEGREE:()=>Ud,DIRECTION:()=>bX,DataController:()=>TZ,DataModel:()=>DZ,DataService:()=>vT,Default:()=>bu,Deprecated:()=>Hp,DeprecatedAndRenamedTo:()=>sHe,FONT_STYLE:()=>zd,FONT_WEIGHT:()=>Wd,FUNCTION:()=>is,GREATER_THAN:()=>tb,GestureDetector:()=>VZ,GroupedCategoryAxis:()=>Yd,HierarchyNode:()=>GT,HierarchySeries:()=>TUe,HierarchySeriesProperties:()=>ah,HighlightManager:()=>C1,HighlightStyle:()=>yb,INITIAL_LOAD:()=>cX,INTERACTION_RANGE:()=>KN,INTERACTION_TYPES:()=>AZ,InteractionManager:()=>PZ,InteractionState:()=>yT,LABEL_PHASE:()=>hX,LESS_THAN:()=>eb,LINE_CAP:()=>_X,LINE_DASH:()=>yu,LINE_JOIN:()=>DHe,Layers:()=>LX,LayoutService:()=>HZ,MATCHING_CROSSLINE_TYPE:()=>t1,MAX_SPACING:()=>YN,MIN_SPACING:()=>SX,Motion:()=>BN,NAN:()=>aT,NODE_UPDATE_PHASES:()=>gX,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ro,NUMBER:()=>Di,NUMBER_ARRAY:()=>lT,NUMBER_OR_NAN:()=>Pg,Navigator:()=>Js,NavigatorModule:()=>mQ,OBJECT:()=>Ye,OBJECT_ARRAY:()=>WN,OR:()=>zp,OVERFLOW_STRATEGY:()=>MHe,ObserveChanges:()=>Ig,PLACEMENT:()=>wX,POSITION:()=>$N,POSITIVE_NUMBER:()=>Ce,PolarAxis:()=>Zg,PolarSeries:()=>PT,PropertiesArray:()=>BC,ProxyOnWrite:()=>GHe,ProxyProperty:()=>Kd,ProxyPropertyOnWrite:()=>Oi,QUICK_TRANSITION:()=>.2,RATIO:()=>di,REGISTERED_MODULES:()=>Ql,REMOVE_PHASE:()=>uX,RepeatType:()=>fX,SMALLEST_KEY_INTERVAL:()=>P1,SORT_DOMAIN_GROUPS:()=>tQ,STRING:()=>xe,STRING_ARRAY:()=>yX,Series:()=>$g,SeriesGroupingChangedEvent:()=>L1,SeriesItemHighlightStyle:()=>Du,SeriesMarker:()=>Go,SeriesNodeClickEvent:()=>vb,SeriesNodePickMode:()=>nQ,SeriesProperties:()=>Zs,SeriesTooltip:()=>Bo,StateMachine:()=>sb,TEXT_ALIGN:()=>CX,TEXT_WRAP:()=>cT,Tags:()=>pZ,TooltipManager:()=>w1,UNION:()=>vn,UPDATE_PHASE:()=>dX,UpdateService:()=>sQ,VERTICAL_ALIGN:()=>THe,Validate:()=>R,ZoomManager:()=>BZ,__FORCE_MODULE_DETECTION:()=>MUe,accumulateGroup:()=>iQ,accumulatedValue:()=>JZ,accumulativeValueProperty:()=>k1,adjustLabelPlacement:()=>VQ,animationValidation:()=>Wg,area:()=>R1,arraysEqual:()=>YC,assignJsonApplyConstructedArray:()=>PX,average:()=>b3e,backfillPathPointData:()=>$1,buildResetPathFn:()=>q1,checkCrisp:()=>kQ,circularSliceArray:()=>AN,clamp:()=>ti,clampArray:()=>tT,collapsedStartingBarPosition:()=>Ob,count:()=>C3e,countFractionDigits:()=>FN,createDatumId:()=>Qd,createDeprecationWarning:()=>eT,deconstructSelectionsOrNodes:()=>oT,deepClone:()=>Gr,deepMerge:()=>JBe,determinePathStatus:()=>TQ,diff:()=>Xp,enterpriseModule:()=>bg,extent:()=>ic,extractDecoratedProperties:()=>qBe,findMinMax:()=>gu,findRangeExtent:()=>Og,fixNumericExtent:()=>ao,fromToMotion:()=>Hi,getMissCount:()=>y1,getPath:()=>y9,getRectConfig:()=>FQ,groupAccumulativeValueProperty:()=>Jd,groupAverage:()=>QZ,groupBy:()=>MN,groupCount:()=>O1,groupSum:()=>XZ,hasRegisteredEnterpriseModules:()=>oN,injectStyle:()=>dT,invertShapeDirection:()=>DUe,isArray:()=>Fn,isBoolean:()=>h9,isDate:()=>HD,isDecoratedObject:()=>BD,isDefined:()=>sN,isEnumKey:()=>QBe,isEnumValue:()=>m9,isEqual:()=>jp,isFiniteNumber:()=>ai,isFunction:()=>xg,isHtmlElement:()=>f9,isNegative:()=>qC,isNumber:()=>Hs,isObject:()=>Jl,isObjectLike:()=>ZBe,isPlainObject:()=>Ja,isProperties:()=>_a,isRegExp:()=>p9,isString:()=>es,isSymbol:()=>g9,isValidDate:()=>NC,jsonApply:()=>Hd,jsonDiff:()=>Ca,jsonWalk:()=>ec,keyProperty:()=>Mr,listDecoratedProperties:()=>Sg,mapValues:()=>v9,markerFadeInAnimation:()=>xb,markerPaletteFactory:()=>wb,markerScaleInAnimation:()=>j1,markerSwipeScaleInAnimation:()=>U1,mergeArrayDefaults:()=>lN,mergeDefaults:()=>Vt,midpointStartingBarPosition:()=>J3e,minMax:()=>W1,mod:()=>nT,normaliseGroupTo:()=>wT,normalisePropertyTo:()=>gb,normalisedExtent:()=>J9,normalisedExtentWithMetadata:()=>KC,pairCategoryData:()=>Ab,pairContinuousData:()=>Mb,partialAssign:()=>cN,pathFadeInAnimation:()=>Tb,pathFadeOutAnimation:()=>W3e,pathSwipeInAnimation:()=>Y1,predicateWithMessage:()=>wi,prepareAreaPathAnimation:()=>OQ,prepareAxisAnimationContext:()=>c1,prepareAxisAnimationFunctions:()=>lZ,prepareBarAnimationFunctions:()=>Rb,prepareLinePathAnimation:()=>MQ,prepareLinePathAnimationFns:()=>X1,prepareMarkerAnimation:()=>z1,range:()=>ZZ,rangedValueProperty:()=>F1,registerModule:()=>Bs,renderPartialPath:()=>K1,resetAxisGroupFn:()=>cZ,resetAxisLabelSelectionFn:()=>dZ,resetAxisLineSelectionFn:()=>hZ,resetAxisSelectionFn:()=>uZ,resetBarSelectionsFn:()=>Pb,resetIds:()=>nX,resetLabelFn:()=>Tu,resetMarkerFn:()=>Eb,resetMarkerPositionFn:()=>Db,resetMotion:()=>er,round:()=>IN,seriesLabelFadeInAnimation:()=>hi,seriesLabelFadeOutAnimation:()=>Jp,setPath:()=>_9,shallowClone:()=>UD,singleSeriesPaletteFactory:()=>H1,staticFromToMotion:()=>oc,stringify:()=>nb,sum:()=>_3e,toArray:()=>JD,toFixed:()=>iT,trailingAccumulatedValue:()=>eQ,trailingAccumulatedValueProperty:()=>M3e,trailingValue:()=>oQ,trailingValueProperty:()=>T3e,unique:()=>TN,updateClipPath:()=>MT,updateLabelNode:()=>NQ,updateRect:()=>IQ,validateCrossLineValues:()=>NX,valueProperty:()=>xi});var ZQ=class FM{constructor(t,e,i,r,o,a,s,l,c,u,d){this.series=t,this.index=e,this.datum=i,this.size=r,this.colorValue=o,this.fill=a,this.stroke=s,this.sumSize=l,this.depth=c,this.parent=u,this.children=d,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;null!=e&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(t,e=FM.Walk.PreOrder){e===FM.Walk.PreOrder&&t(this),this.children.forEach(i=>{i.walk(t,e)}),e===FM.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*tBe(t)}};ZQ.Walk={PreOrder:0,PostOrder:1};var GT=ZQ,TUe=class extends $g{constructor(n){super({moduleCtx:n,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new GT(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new sb("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){"initial"===n?this.animationState.transition("reset"):"ready"===n&&this.animationState.transition("skip")}processData(){return he(this,null,function*(){var n,t;const{childrenKey:e,sizeKey:i,colorKey:r,fills:o,strokes:a,colorRange:s}=this.properties;let l=0,u=0,d=1/0,h=-1/0;const p=new Array((null!=(t=null==(n=this.data)?void 0:n.length)?t:0)+1).fill(void 0),f=(_,b)=>{const w=(l+=1,l),E=null!=b.depth?b.depth+1:0,M=null!=e?_[e]:void 0,P=null==M||0===M.length;let I=null!=i?_[i]:void 0;I=Number.isFinite(I)?Math.max(I,0):P?1:0;const k=I;u=Math.max(u,E);const L=null!=r?_[r]:void 0;return"number"==typeof L&&(p[w]=L,d=Math.min(d,L),h=Math.max(h,L)),m(new GT(this,w,_,I,L,void 0,void 0,k,E,b,[]),M)},m=(_,b)=>(b?.forEach(w=>{const E=f(w,_);_.children.push(E),_.sumSize+=E.sumSize}),_),g=m(new GT(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),v=[d,h];let y;null!=s&&Number.isFinite(d)&&Number.isFinite(h)&&(y=new ef,y.domain=v,y.range=s,y.update()),g.children.forEach((_,b)=>{_.walk(w=>{let E;const M=p[w.index];null!=M&&(E=y?.convert(M)),E??(E=o?.[b%o.length]),w.fill=E,w.stroke=null==y?a?.[b%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=u,this.colorDomain=v})}update(n){return he(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)})}resetAllAnimation(n){var t;const e=null==(t=this.animationResetFns)?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=e&&er(n.datumSelections,e)}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t;const e=null==(t=this.animationResetFns)?void 0:t.datum;null!=e&&er([n],e)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(n){const{colorKey:t,colorName:e,colorRange:i,visible:r}=this.properties;return"gradient"===n&&null!=t&&null!=i?[{legendType:"gradient",enabled:r,seriesId:this.id,colorName:e,colorRange:i,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(n){return`${n.index}`}getDatumId(n){return this.getDatumIdFromData(n)}},ah=class extends Zs{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(tc),this.strokes=Object.values(Rp)}};S([R(xe)],ah.prototype,"childrenKey",2),S([R(xe,{optional:!0})],ah.prototype,"sizeKey",2),S([R(xe,{optional:!0})],ah.prototype,"colorKey",2),S([R(xe,{optional:!0})],ah.prototype,"colorName",2),S([R(ns)],ah.prototype,"fills",2),S([R(ns)],ah.prototype,"strokes",2),S([R(ns,{optional:!0})],ah.prototype,"colorRange",2);var MUe=0,AUe=["area","bar","column","histogram","line","pie","donut","scatter","bubble","radial-column","radial-bar","radar-line","radar-area","nightingale","range-bar","range-area","box-plot","treemap","sunburst","heatmap","waterfall"];function QQ(n){switch(n){case"rangeBar":case"rangeArea":case"waterfall":case"boxPlot":case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":case"sunburst":case"treemap":case"heatmap":return!0;default:return!1}}var OUe=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);function Mu(n){return OUe.has(n)}var RUe=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function PUe(n){return RUe.has(n)}function JQ(n){switch(n){case"radialColumn":case"radialBar":case"radarLine":case"radarArea":case"nightingale":return!0;default:return!1}}function sh(n){switch(n){case"treemap":case"sunburst":return!0;default:return!1}}function Ib(n){return"doughnut"===n?"donut":n}function nl(n){switch(n){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"bar";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"bubble":return"bubble";case"scatter":return"scatter";case"histogram":return"histogram";case"radialColumn":return"radial-column";case"radialBar":return"radial-bar";case"radarLine":return"radar-line";case"radarArea":return"radar-area";case"nightingale":return"nightingale";case"rangeBar":return"range-bar";case"rangeArea":return"range-area";case"boxPlot":return"box-plot";case"treemap":return"treemap";case"sunburst":return"sunburst";case"pie":return"pie";case"donut":case"doughnut":return"donut";case"heatmap":return"heatmap";case"waterfall":return"waterfall";default:return"cartesian"}}function mV(n){switch(n){case"pie":case"donut":return!0;default:return!1}}var eJ=["number","category","grouped-category","log","time"];function Fb(n,t){return!1!==t.clone&&t.isMergeableObject(n)?lh(function LUe(n){return Array.isArray(n)?[]:{}}(n),n,t):n}function NUe(n,t,e){return n.concat(t).map(function(i){return Fb(i,e)})}function tJ(n){return Object.keys(n).concat(function GUe(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}(n))}function iJ(n,t){try{return t in n}catch{return!1}}function jUe(n){return function UUe(n){return!!n&&"object"==typeof n}(n)&&!function zUe(n){var t=Object.prototype.toString.call(n);return"[object RegExp]"===t||"[object Date]"===t}(n)}function lh(n,t,e){(e=e||{}).arrayMerge=e.arrayMerge||NUe,e.isMergeableObject=e.isMergeableObject||jUe,e.cloneUnlessOtherwiseSpecified=Fb;var i=Array.isArray(t);return i===Array.isArray(n)?i?e.arrayMerge(n,t,e):function HUe(n,t,e){void 0===n&&(n={}),void 0===t&&(t={});var i={};return e.isMergeableObject(n)&&tJ(n).forEach(function(r){i[r]=Fb(n[r],e)}),tJ(t).forEach(function(r){(function BUe(n,t){return iJ(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))})(n,r)||(i[r]=iJ(n,r)&&e.isMergeableObject(t[r])?function VUe(n,t){if(!t.customMerge)return lh;var e=t.customMerge(n);return"function"==typeof e?e:lh}(r,e)(n[r],t[r],e):Fb(t[r],e))}),i}(n,t,e):Fb(t,e)}function ev(n,t,e){if(null==n)return e;for(var i=t.split("."),r=n;i.length>1;)if(null==(r=r[i.shift()]))return e;return r[i[0]]??e}var kb=function(){return kb=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},kb.apply(this,arguments)};function gV(n){return D.includes(Object.keys(il.themes),n)}var XUe=eJ.reduce(function(n,t){var e;return kb(kb({},n),((e={})[t]={title:{_enabledFromTheme:!0}},e))},{});function ZUe(n,t){var e=n.getExtraPaddingDirections();return{common:{animation:{duration:500},axes:XUe,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function nJ(n,t){var e=n.customChartThemes,i=e&&e[t];return i||console.warn("AG Grid: no stock theme exists with the name '".concat(t,"' and no ")+"custom chart theme with that name was supplied to 'customChartThemes'"),i}var vV=function(){return vV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},vV.apply(this,arguments)},Lb=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},tv=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},BT=function(n){return function(t){return null==t||n(t)}},rJ=function(n){return"string"==typeof n},oJ=function(n){return"boolean"==typeof n},eze=function(n){return"object"==typeof n},Au=function(n,t){return function(e){return"AG Grid - unable to update chart as invalid params supplied:  `".concat(n,": ").concat(e,"`, expected ").concat(t,".")}},tze=function(){function n(){}var t;return n.isValidChartType=function(e){return n.validChartTypes.includes(e)},n.isLegacyChartType=function(e){return n.legacyChartTypes.includes(e)},n.validateChartParams=function(e){switch(e.type){case"rangeChartUpdate":return n.validateUpdateRangeChartParams(e);case"pivotChartUpdate":return n.validateUpdatePivotChartParams(e);case"crossFilterChartUpdate":return n.validateUpdateCrossFilterChartParams(e);default:return console.warn("AG Grid - Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}},n.validateUpdateRangeChartParams=function(e){var i=tv(tv(tv([],Lb(n.commonValidations),!1),Lb(n.cellRangeValidations),!1),[{property:"seriesChartTypes",validationFn:function(r){return void 0===r||Array.isArray(r)&&r.every(eze)},warnMessage:Au("seriesChartTypes","Array of SeriesChartType")}],!1);return n.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc","seriesChartTypes"],"UpdateRangeChartParams")},n.validateUpdatePivotChartParams=function(e){var i=tv([],Lb(n.commonValidations),!1);return n.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],"UpdatePivotChartParams")},n.validateUpdateCrossFilterChartParams=function(e){var i=tv(tv([],Lb(n.commonValidations),!1),Lb(n.cellRangeValidations),!1);return n.validateProperties(e,i,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")},n.validateProperties=function(e,i,r,o){var a,s,l=void 0;try{for(var c=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.warnMessage;if((h=d.property)in e){var m=e[h],g=(0,d.validationFn)(m);if(!0===g)continue;if(!1===g)return console.warn(f(m)),!1;(l=l||vV({},e))[h]=g}}}catch(v){a={error:v}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}for(var h in e)if(!r.includes(h))return console.warn("AG Grid - Unexpected property supplied. ".concat(o," does not contain: `").concat(h,"`.")),!1;return l||!0},t=n,n.validChartTypes=["column","groupedColumn","stackedColumn","normalizedColumn","bar","groupedBar","stackedBar","normalizedBar","line","scatter","bubble","pie","donut","area","stackedArea","normalizedArea","histogram","radialColumn","radialBar","radarLine","radarArea","nightingale","rangeBar","rangeArea","boxPlot","treemap","sunburst","heatmap","waterfall","columnLineCombo","areaColumnCombo","customCombo"],n.legacyChartTypes=["doughnut"],n.validateChartType=BT(function(e){if(t.isValidChartType(e))return!0;if(t.isLegacyChartType(e)){var i=Ib(e);return console.warn("AG Grid - The chart type '".concat(e,"' has been deprecated. Please use '").concat(i,"' instead.")),i}return!1}),n.validateAgChartThemeOverrides=BT(function(e){return"object"==typeof e}),n.validateChartParamsCellRange=BT(function(e){return"object"==typeof e}),n.validateAggFunc=BT(function(e){return"string"==typeof e||"function"==typeof e}),n.commonValidations=[{property:"chartId",validationFn:rJ,warnMessage:Au("chartId","string")},{property:"chartType",validationFn:n.validateChartType,warnMessage:Au("chartType",n.validChartTypes.join(", "))},{property:"chartThemeName",validationFn:rJ,warnMessage:Au("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:n.validateAgChartThemeOverrides,warnMessage:Au("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:oJ,warnMessage:Au("unlinkChart","boolean")}],n.cellRangeValidations=[{property:"cellRange",validationFn:n.validateChartParamsCellRange,warnMessage:Au("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:oJ,warnMessage:Au("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:n.validateAggFunc,warnMessage:Au("aggFunc","string or IAggFunc")}],n}(),ize=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yV=function(){return yV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},yV.apply(this,arguments)},aJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sJ=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],rl=function(n){function t(e){var i=n.call(this)||this;return i.model=e,i.isEnterprise=function(){return fV.enterpriseModule.isEnterprise},i}return ize(t,n),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,function(i){i.id&&i.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.update=function(e){if(!this.validUpdateType(e))return!1;var i=tze.validateChartParams(e);return!!i&&(this.applyValidatedChartParams(!0===i?e:i),!0)},t.prototype.applyValidatedChartParams=function(e){var i,r,o,a,s,l,c,m=yV({},{chartId:e.chartId,pivotChart:this.model.pivotChart,chartType:e.chartType??this.model.chartType,chartThemeName:e.chartThemeName??this.model.chartThemeName,unlinkChart:e.unlinkChart??this.model.unlinked,cellRange:this.model.suppliedCellRange,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1});switch(e.type){case"rangeChartUpdate":m.cellRange=null!==(i=this.createCellRange(e))&&void 0!==i?i:this.model.suppliedCellRange,m.aggFunc=null!==(r=e.aggFunc)&&void 0!==r?r:this.model.aggFunc,m.seriesChartTypes=e.seriesChartTypes,m.suppressChartRanges=null!==(o=e.suppressChartRanges)&&void 0!==o?o:this.model.suppressChartRanges;break;case"crossFilterChartUpdate":m.cellRange=null!==(a=this.createCellRange(e))&&void 0!==a?a:this.model.suppliedCellRange,m.aggFunc=null!==(s=e.aggFunc)&&void 0!==s?s:this.model.aggFunc,m.crossFiltering=!0,m.suppressChartRanges=null!==(l=e.suppressChartRanges)&&void 0!==l?l:this.model.suppressChartRanges}this.model.updateModel(m),m.unlinkChart||m.suppressChartRanges?null===(c=this.rangeService)||void 0===c||c.setCellRanges([]):this.setChartRange()},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.model.updateData(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.model.updateData(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(e){var i=this,o=this.getSelectedValueColState().map(function(l){return{colId:l.colId,displayName:l.displayName}}),a=this.getChartData(),s=this.getSelectedDimensions();return{data:a,grouping:this.isGrouping(),categories:s.map(function(l){return{id:l.colId,name:l.displayName,chartDataType:i.model.getChartDataType(l.colId)}}),fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",i=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:i}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){var i,r;if(sh(this.model.chartType)&&!sh(e)){var a=!1;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.model.dimensionColState),l=s.next();!l.done;l=s.next()){var c=l.value;c.selected&&(a&&(c.selected=!1),a=!0)}}catch(u){i={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e,i){this.model.chartThemeName=e,i||(this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent())},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.isCrossFilterChart=function(){return this.model.crossFiltering},t.prototype.getThemeNames=function(){return this.gridOptionsService.get("chartThemes")||sJ},t.prototype.getThemes=function(){var e=this;return this.getThemeNames().map(function(r){var a=gV(r)?r:e.chartProxy.lookupCustomChartTheme(r);return il.getChartTheme(a)})},t.prototype.getPalettes=function(){return this.getThemes().map(function(i){return i.palette})},t.prototype.getThemeTemplateParameters=function(){return this.getThemes().map(function(i){return i.getTemplateParameters()})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedDimensions=function(){return this.model.getSelectedDimensions()},t.prototype.displayNameMapper=function(e){var i=this.model.columnNames[e.colId];return e.displayName=i?i.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return D.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){var e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.comboChartModel.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,i,r){var o=this.model.comboChartModel.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a="customCombo"!==this.model.chartType;a&&(this.model.chartType="customCombo");var s=o.chartType;null!=i&&(o.chartType=i),null!=r&&(o.secondaryAxis=r),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),s!==i&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(i){return i.colId});return this.getSeriesChartTypes().filter(function(i){return e.includes(i.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","bar","area"]:[nl(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.createCellRange=function(e){var i;return e.cellRange&&(null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange))},t.prototype.validUpdateType=function(e){var r,i=this;if(!e.type)return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."),!1;var o={"Range Chart":function(){return!i.isPivotChart()&&!i.isCrossFilterChart()},"Pivot Chart":function(){return i.isPivotChart()},"Cross Filter Chart":function(){return i.isCrossFilterChart()}},a=null!==(r=Object.keys(o).find(function(l){return o[l]()}))&&void 0!==r?r:"Range Chart",s=e.type==="".concat(a[0].toLowerCase()).concat(a.slice(1).replace(/ /g,""),"Update");return s||console.warn("AG Grid - Unable to update chart as a '".concat(e.type,"' update type is not permitted on a ").concat(a,".")),s},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),i=e[0],r=i&&i.startRow||null,o=i&&i.endRow||null;return{rowStartIndex:r&&r.rowIndex,rowStartPinned:r&&r.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_MODEL_UPDATE})},t.prototype.raiseChartUpdatedEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_UPDATED})},t.prototype.raiseChartApiUpdateEvent=function(){this.dispatchEvent({type:t.EVENT_CHART_API_UPDATE})},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),o={type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:x.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_API_UPDATE="chartApiUpdate",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",aJ([C("rangeService")],t.prototype,"rangeService",void 0),aJ([H],t.prototype,"init",null),t}(z),rze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_V=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},HT=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},jT=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},aze={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},sze=function(n){function t(e,i){var r=n.call(this,t.TEMPLATE)||this;return r.chartController=e,r.chartOptionsService=i,r.columnComps=new Map,r}return rze(t,n),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,rl.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.addManagedListener(this.chartController,rl.EVENT_CHART_API_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),n.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var i,r,e=this,o=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,l=a.valueCols,c=s.map(function(p){return p.colId}).concat(l.map(function(p){return p.colId}));this.chartType=this.chartController.getChartType();var u=this.getGroupExpandedState();if(D.areEqual(D.keys(this.columnComps),c)&&this.chartType===o){if(jT(jT([],HT(s),!1),HT(l),!1).forEach(function(p){e.columnComps.get(p.colId).setValue(p.selected,!0)}),this.chartController.isActiveXYChart()){var d=this.generateGetSeriesLabel();l.forEach(function(p){e.columnComps.get(p.colId).setLabel(d(p))})}D.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var h=null===(i=this.getDataPanelDef().groups)||void 0===i?void 0:i.reduce(function(p,f,m){return"seriesChartType"===f.type?m:p},-1);-1!==h&&this.createSeriesChartTypeGroup(l,h)}else this.clearComponents(),null===(r=this.getDataPanelDef().groups)||void 0===r||r.forEach(function(p){var f=p.type;"categories"===f?e.createCategoriesGroup(s):"series"===f?e.createSeriesGroup(l):"seriesChartType"===f?e.createSeriesChartTypeGroup(l):console.warn("AG Grid: invalid charts data panel group name supplied: '".concat(f,"'"))});this.restoreGroupExpandedState(u)},t.prototype.getGroupExpandedState=function(){var e=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map(function(r){var o,a,s=r.groupType,l=r.comp,c=!(null===(a=null===(o=e.getDataPanelDef().groups)||void 0===o?void 0:o.find(function(u){return u.type===s}))||void 0===a||!a.isOpen);return l?l.isExpanded():c})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(i,r){i&&i.toggleGroupExpand(e[r])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new gE({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},t.prototype.createComponent=function(e,i){var r=document.createElement("div");return r.id=i,r.className="ag-chart-data-section",r.appendChild(e.getGui()),r},t.prototype.addComponent=function(e,i,r){var o=this.createComponent(i,r);e.appendChild(o)},t.prototype.addComponentAtIndex=function(e,i,r,o){var a=this.createComponent(i,r);e.insertBefore(a,e.children[o])},t.prototype.addChangeListener=function(e,i){var r=this;this.addManagedListener(e,x.EVENT_FIELD_VALUE_CHANGED,function(){i.selected=e.getValue(),r.chartController.updateForPanelChange(i)})},t.prototype.createCategoriesGroup=function(e){var i=this;this.categoriesGroupComp=this.createBean(new Vs({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var r="chartDimension".concat(this.categoriesGroupComp.getCompId()),a=sh(this.chartController.getChartType());if(e.forEach(function(c){var d,u=i.categoriesGroupComp.createManagedBean(a?((d=new Cd).addCssClass("ag-data-select-checkbox"),d):new bk);u.setLabel(D.escapeString(c.displayName)),u.setValue(c.selected),u.setInputName(r),i.addChangeListener(u,c),i.categoriesGroupComp.addItem(u),i.columnComps.set(c.colId,u),a&&i.addDragHandle(u,c)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup"),a){var s=this.categoriesGroupComp.getGui(),l={getIconName:function(){return Bt.ICON_MOVE},getContainer:function(){return s},onDragging:function(c){return i.onDragging(c)},onDragLeave:function(){return i.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return i.dragAndDropService.removeDropTarget(l)})}},t.prototype.createSeriesGroup=function(e){var i=this;if(this.seriesGroupComp=this.createManagedBean(new Vs({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var r=this.seriesGroupComp.createManagedBean(new Qk);r.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(c){i.chartOptionsService.setPairedMode(!!c),i.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(r)}var o=this.generateGetSeriesLabel();e.forEach(function(c){var u=i.seriesGroupComp.createManagedBean(new Cd);u.addCssClass("ag-data-select-checkbox");var d=o(c);u.setLabel(d),u.setValue(c.selected),i.addChangeListener(u,c),i.seriesGroupComp.addItem(u),i.columnComps.set(c.colId,u),i.addDragHandle(u,c)});var a=this.getGui(),s=this.seriesGroupComp.getGui();this.addComponent(a,this.seriesGroupComp,"seriesGroup");var l={getIconName:function(){return Bt.ICON_MOVE},getContainer:function(){return s},onDragging:function(c){return i.onDragging(c)},onDragLeave:function(){return i.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return i.dragAndDropService.removeDropTarget(l)})},t.prototype.createSeriesChartTypeGroup=function(e,i){var r=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new Vs({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(a){if(a.selected){var s=o.filter(function(p){return p.colId===a.colId})[0];if(s){var l=r.seriesChartTypeGroupComp.createManagedBean(new Vs({title:a.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),c=r.seriesChartTypeGroupComp.createManagedBean(new Cd).setLabel(r.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(p){return r.chartController.updateSeriesChartType(a.colId,void 0,p)});l.addItem(c);var u=function(p,f){return r.chartTranslationService.translate(p,f)},d=[{value:"line",text:u("line","Line")},{value:"area",text:u("area","Area")},{value:"stackedArea",text:u("stackedArea","StackedArea")},{value:"groupedColumn",text:u("groupedColumn","Grouped Column")},{value:"stackedColumn",text:u("stackedColumn","Stacked Column")}],h=l.createManagedBean(new iu);h.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(p){return r.chartController.updateSeriesChartType(a.colId,p)}),l.addItem(h),r.seriesChartTypeGroupComp.addItem(l)}}}),void 0===i?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",i)}},t.prototype.addDragHandle=function(e,i){var r=this,o=D.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:zt.ChartPanel,eElement:o,dragItemName:i.displayName,getDragItem:function(){return{columns:[i.column]}},onDragStopped:function(){return r.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return r.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return D.escapeString(a.displayName)};var e="bubble"===this.chartType,i=this.isInPairedMode(),r=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var l,s=D.escapeString(a.displayName);return a.selected?(l=i?o.get(r%(e?3:2)):0===r?"X":e&&r%2==0?"size":"Y",r++,"".concat(s," (").concat(l,")")):s}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.dataPanel)||aze},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){D.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var i=this.checkHoveredItem(e);if(i){this.lastDraggedColumn=e.dragItem.columns[0];var r=i.comp,o=i.position,a=this.lastHoveredItem||{};r===a.comp&&o===a.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:r,position:o},r.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-".concat(o)))}},t.prototype.checkHoveredItem=function(e){var i,r;if(D.missing(e.vDirection))return null;var o=e.event;try{for(var a=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.getGui();if(c.querySelector(".ag-chart-data-column-drag-handle")){var u=c.getBoundingClientRect();if(o.clientY>=u.top&&o.clientY<=u.bottom)return{comp:l,position:o.clientY>u.top+c.clientHeight/2?"bottom":"top"}}}}catch(f){i={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var i=this.chartController.getColStateForMenu(),o=i.valueCols,a=jT(jT([],HT(i.dimensionCols),!1),HT(o),!1).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===zt.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',_V([C("dragAndDropService")],t.prototype,"dragAndDropService",void 0),_V([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),_V([H],t.prototype,"init",null),t}(le),lze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),tf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ch=function(n){function t(e){var i=n.call(this)||this;return i.activeComps=[],i.params=e,i}return lze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(i){e.params.setEnabled&&e.params.setEnabled(i)})},t.prototype.initFontFamilySelect=function(){var e=this,i=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],r=this.params.initialFont.family,o=i[0];if(r){var s=i.map(function(u){return u.toLowerCase()}).indexOf(r.toLowerCase());if(s>=0)o=i[s];else{var l=D.capitalise(r);i.push(l),o=l}}var c=i.sort().map(function(u){return{value:u,text:u}});this.familySelect.addOptions(c).setInputWidth("flex").setValue("".concat(o)).onValueChange(function(u){return e.params.setFont({family:u})})},t.prototype.initFontSizeSelect=function(){var e=this,i=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],r=this.params.initialFont.size;D.includes(i,r)||i.push(r);var o=i.sort(function(a,s){return a-s}).map(function(a){return{value:"".concat(a),text:"".concat(a)}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue("".concat(r)).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,i=this.params.initialFont,r=i.weight,o=void 0===r?"normal":r,a=i.style,s=void 0===a?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],c=l.find(function(d){return d.weight===o&&d.style===s});c||l.unshift(c={name:"predefined",weight:o,style:s});var u=l.map(function(d){return{value:d.name,text:e.chartTranslationService.translate(d.name)}});this.weightStyleSelect.addOptions(u).setInputWidth("flex").setValue(c.name).onValueChange(function(d){var h=l.find(function(p){return p.name===d});e.params.setFont({weight:h.weight,style:h.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth("flex").setValue("".concat(this.params.initialFont.color)).onValueChange(function(i){return e.params.setFont({color:i})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActiveComps(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',tf([V("fontGroup")],t.prototype,"fontGroup",void 0),tf([V("familySelect")],t.prototype,"familySelect",void 0),tf([V("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),tf([V("sizeSelect")],t.prototype,"sizeSelect",void 0),tf([V("colorPicker")],t.prototype,"colorPicker",void 0),tf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tf([H],t.prototype,"init",null),t}(le),cze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fc=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},uze=function(n){function t(e){var i=e.chartOptionsService,r=e.isExpandedOnInit,o=void 0!==r&&r,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=i,a.isExpandedOnInit=o,a}return cze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(i){e.chartOptionsService.setChartOption("legend.enabled",i),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(["top","right","bottom","left"].map(function(r){return{value:r,text:e.chartTranslationService.translate(r)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(r){return e.chartOptionsService.setChartOption("legend.position",r)})},t.prototype.initLegendPadding=function(){var e=this,i=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Bn(i,200)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(r){return e.chartOptionsService.setChartOption("legend.spacing",r)})},t.prototype.initLegendItems=function(){var e=this,i=function(r,o,a,s){var l,c=null!==(l=e.chartOptionsService.getChartOption("legend.".concat(r)))&&void 0!==l?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Bn(c,s)).setValue("".concat(c)).setTextFieldWidth(45).onValueChange(function(u){e.chartOptionsService.setChartOption("legend.".concat(r),u)})};i("item.marker.size","markerSize",this.markerSizeSlider,40),i("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),i("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),i("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),i("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,i=this.chartOptionsService,r={family:i.getChartOption("legend.item.label.fontFamily"),style:i.getChartOption("legend.item.label.fontStyle"),weight:i.getChartOption("legend.item.label.fontWeight"),size:i.getChartOption("legend.item.label.fontSize"),color:i.getChartOption("legend.item.label.color")},s=this.createBean(new ch({enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:function(l){var c=e.chartOptionsService;l.family&&c.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&c.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&c.setChartOption("legend.item.label.fontStyle",l.style),l.size&&c.setChartOption("legend.item.label.fontSize",l.size),l.color&&c.setChartOption("legend.item.label.color",l.color)}}));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',fc([V("legendGroup")],t.prototype,"legendGroup",void 0),fc([V("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),fc([V("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),fc([V("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),fc([V("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),fc([V("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),fc([V("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),fc([V("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),fc([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),fc([H],t.prototype,"init",null),t}(le),dze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hze=function(n){function t(e){var i=n.call(this)||this;return i.chartOptionsService=e,i}return dze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).setEnabled(this.chartOptionsService.getAxisProperty("tick.enabled")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setAxisProperty("tick.enabled",r)}),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(r){return e.chartOptionsService.setAxisProperty("tick.color",r)});var i=function(r,o,a,s){var l=e.chartOptionsService.getAxisProperty(r);o.setLabel(a).setMaxValue(Bn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(c){return e.chartOptionsService.setAxisProperty(r,c)})};i("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),i("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',iv([V("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),iv([V("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),iv([V("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),iv([V("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),iv([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),iv([H],t.prototype,"init",null),t}(le),pze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Nb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lJ=function(n){function t(e){var i=n.call(this,e,t.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return pze(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(i){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(i){return e.calculateAngleDrag(i)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(function(i){(null==i||""===i)&&(i="0"),i=e.eAngleValue.normalizeValue(i);var r=parseFloat(i);r>180&&(r-=360),e.setValue(r)}),this.updateNumberInput(),D.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){var i=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(i.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var i=this.parentCircleRect||{width:24,height:24},r=this.eChildCircle,a=i.height/2;r.style.left="".concat(i.width/2+8*Math.cos(e),"px"),r.style.top="".concat(a+8*Math.sin(e),"px")},t.prototype.calculatePolar=function(){var e=this.offsetX,i=this.offsetY,r=Math.atan2(i,e);this.degrees=this.toDegrees(r),this.radius=Math.sqrt(e*e+i*i),this.positionChildCircle(r)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),i=this.getRadius();this.setOffsetX(Math.cos(e)*i).setOffsetY(Math.sin(e)*i)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var i=this.parentCircleRect,u=Math.atan2(e.clientY-i.top-i.height/2,e.clientX-i.left-i.width/2);this.setValue(u,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,x.EVENT_FIELD_VALUE_CHANGED,function(){e(i.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,i){var r;return r=i?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(r),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(r),this.dispatchEvent({type:x.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setWidth=function(e){return D.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return n.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Nb([V("eLabel")],t.prototype,"eLabel",void 0),Nb([V("eParentCircle")],t.prototype,"eParentCircle",void 0),Nb([V("eChildCircle")],t.prototype,"eChildCircle",void 0),Nb([V("eAngleValue")],t.prototype,"eAngleValue",void 0),Nb([C("dragService")],t.prototype,"dragService",void 0),t}(vk),fze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mze=function(n){function t(e){var i=e.chartController,r=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=n.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=i,s.chartOptionsService=r,s.isExpandedOnInit=a,s}return fze(t,n),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,rl.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})})},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(r){var o=e.chartOptionsService.getAxisProperty("line.width")>0;e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:o},{expression:"line.color",value:r}])});var i=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Bn(i,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(r){return e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:0!==r},{expression:"line.width",value:r}])})},t.prototype.initAxisTicks=function(){if(this.hasConfigurableAxisTicks()){var e=this.createBean(new hze(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)}},t.prototype.hasConfigurableAxisTicks=function(){switch(this.chartController.getChartType()){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}},t.prototype.initAxisLabels=function(){var e=this,i={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color)}},a=this.createBean(new ch(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var i=this.createRotationWidgets(),r=i.xRotationComp,o=i.yRotationComp,a=this.initLabelRotations(r,o);e.addCompToPanel(a),e.addCompToPanel(r),e.addCompToPanel(o)},t.prototype.initLabelRotations=function(e,i){var d,h,r=this,o=function(d){return r.chartOptionsService.getLabelRotation(d)},a=function(d,h){r.chartOptionsService.setLabelRotation(d,h)},c=(d=o("xAxis"),h=o("yAxis"),null==d&&null==h&&r.chartOptionsService.getAxisProperty("label.autoRotate")),u=this.createBean(new Cd).setLabel(this.translate("autoRotate")).setValue(c).onValueChange(function(d){r.chartOptionsService.setAxisProperty("label.autoRotate",d),d?(r.prevXRotation=o("xAxis"),r.prevYRotation=o("yAxis"),a("xAxis",void 0),a("yAxis",void 0)):(a("xAxis",r.prevXRotation),a("yAxis",r.prevYRotation)),e.setDisabled(d),i.setDisabled(d)});return e.setDisabled(c),i.setDisabled(c),u},t.prototype.createRotationWidgets=function(){var e=this,i=String.fromCharCode(176),r=function(o,a){var s="".concat(e.chartTranslationService.translate(o)," ").concat(i),l=e.chartOptionsService.getLabelRotation(a),c=(new lJ).setLabel(s).setLabelWidth("flex").setValue(l||0).onValueChange(function(u){return e.chartOptionsService.setLabelRotation(a,u)});return e.axisLabelUpdateFuncs.push(function(){var u=e.chartOptionsService.getLabelRotation(a);c.setValue(u||0)}),e.createBean(c)};return{xRotationComp:r("xRotation","xAxis"),yRotationComp:r("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var i=this,r=this.createBean(new Xa),o=this.chartOptionsService.getAxisProperty("label.padding");r.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Bn(o,30)).setValue("".concat(o)).setTextFieldWidth(45).onValueChange(function(a){return i.chartOptionsService.setAxisProperty("label.padding",a)}),e.addCompToPanel(r)},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Vb([V("axisGroup")],t.prototype,"axisGroup",void 0),Vb([V("axisColorInput")],t.prototype,"axisColorInput",void 0),Vb([V("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Vb([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Vb([H],t.prototype,"init",null),t}(le),gze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vze=function(n){function t(e){var i=e.chartController,r=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=n.call(this)||this;return s.dynamicComponents=[],s.chartController=i,s.chartOptionsService=r,s.isExpandedOnInit=a,s}return gze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.color",l)});var i=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Bn(i,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.width",l)});var r=this.chartController.getChartType();if(["radarLine","radarArea"].includes(r)){var a=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.initSelect({label:"shape",options:a,currentValue:this.chartOptionsService.getAxisProperty("shape"),onValueChange:function(l){return e.chartOptionsService.setAxisProperty("shape",l)}}))}if(JQ(r)){var s=this.chartOptionsService.getAxisProperty("innerRadiusRatio");this.axisGroup.addItem(this.initSlider({label:"innerRadius",maxValue:1,currentValue:s??0,onValueChange:function(l){return e.chartOptionsService.setAxisProperty("innerRadiusRatio",l)}}))}},t.prototype.initAxisLabels=function(){var e=this,i={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:function(l){l.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",l.family),l.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",l.weight),l.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",l.style),l.size&&e.chartOptionsService.setAxisProperty("label.fontSize",l.size),l.color&&e.chartOptionsService.setAxisProperty("label.color",l.color)}},a=this.createBean(new ch(o)),s=this.createOrientationWidget();a.addItemToPanel(s),this.axisGroup.addItem(a),this.dynamicComponents.push(a)},t.prototype.createOrientationWidget=function(){var e=this,i=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.initSelect({label:"orientation",options:i,currentValue:this.chartOptionsService.getAxisProperty("label.orientation"),onValueChange:function(r){return e.chartOptionsService.setAxisProperty("label.orientation",r)}})},t.prototype.initRadiusAxis=function(){var i,r,e=this;if(function IUe(n){switch(n){case"radialColumn":case"radialBar":return!0;default:return!1}}(this.chartController.getChartType())){var a=this.createBean(new Vs({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding")})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);a.addItem(this.initSlider({label:"groupPadding",maxValue:1,currentValue:null!==(i=this.chartOptionsService.getAxisProperty("paddingInner"))&&void 0!==i?i:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("paddingInner",s)}})),a.addItem(this.initSlider({label:"seriesPadding",maxValue:1,currentValue:null!==(r=this.chartOptionsService.getAxisProperty("groupPaddingInner"))&&void 0!==r?r:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("groupPaddingInner",s)}})),this.axisGroup.addItem(a),this.dynamicComponents.push(a)}},t.prototype.initSlider=function(e){var i=e.label,r=e.maxValue,o=e.minValue,a=void 0===o?0:o,s=e.step,l=void 0===s?.05:s,c=e.currentValue,u=e.onValueChange,d=this.createManagedBean(new Xa);return d.setLabel(this.translate(i)).setLabelWidth("flex").setMinValue(a).setMaxValue(r).setStep(l).setValue("".concat(c)).onValueChange(u),this.dynamicComponents.push(d),d},t.prototype.initSelect=function(e){var i=e.label,r=e.options,o=e.currentValue,a=e.onValueChange,s=this.createManagedBean(new iu);return s.setLabel(this.translate(i)).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(r),void 0!==o&&s.setValue(o),s.onValueChange(a),this.dynamicComponents.push(s),s},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyDynamicComponents=function(){var e=this;this.dynamicComponents.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.dynamicComponents=[]},t.prototype.destroy=function(){this.destroyDynamicComponents(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Gb([V("axisGroup")],t.prototype,"axisGroup",void 0),Gb([V("axisColorInput")],t.prototype,"axisColorInput",void 0),Gb([V("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Gb([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Gb([H],t.prototype,"init",null),t}(le),yze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UT=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_ze=function(n){function t(e){var i=e.chartOptionsService,r=e.isExpandedOnInit,o=void 0!==r&&r,a=n.call(this)||this;return a.chartOptionsService=i,a.isExpandedOnInit=o,a}return yze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,i=this.chartTranslationService;this.navigatorGroup.setTitle(i.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var r=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(i.translate("height")).setMinValue(10).setMaxValue(Bn(r,60)).setTextFieldWidth(45).setValue("".concat(r||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',UT([V("navigatorGroup")],t.prototype,"navigatorGroup",void 0),UT([V("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),UT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),UT([H],t.prototype,"init",null),t}(le),Cze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},cJ=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},wze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.chartController=i,r}return Cze(t,n),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,x.EVENT_CHART_OPTIONS_CHANGED,function(r){e.updateTopPadding(r.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,i=function(r,o){var a=e.chartOptionsService.getChartOption("padding."+r);o.setLabel(e.chartTranslationService.translate(r)).setMaxValue(Bn(a,200)).setValue("".concat(a)).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+r,s)})};i("top",this.paddingTopSlider),i("right",this.paddingRightSlider),i("bottom",this.paddingBottomSlider),i("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var i=cJ(cJ([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.chartController.getChartSeriesTypes()),!1),["common"],!1).map(function(r){var o,a;return null===(a=null===(o=e[r])||void 0===o?void 0:o.padding)||void 0===a?void 0:a.top}).find(function(r){return null!=r});null!=i&&this.paddingTopSlider.setValue(i)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',nf([V("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),nf([V("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),nf([V("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),nf([V("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),nf([V("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),nf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nf([H],t.prototype,"init",null),t}(le),Sze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zT=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xze=function(n){function t(e){var i=n.call(this)||this;return i.chartOptionsService=e,i}return Sze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setChartOption("background.visible",i)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(i){return e.chartOptionsService.setChartOption("background.fill",i)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',zT([V("chartBackgroundGroup")],t.prototype,"group",void 0),zT([V("colorPicker")],t.prototype,"colorPicker",void 0),zT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),zT([H],t.prototype,"init",null),t}(le),Eze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Dze=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.chartOptionsService=e,i.activePanels=[],i}return Eze(t,n),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,i=this.hasTitle(),r=function(l,c){l.family&&e.setOption("title.fontFamily",l.family,c),l.weight&&e.setOption("title.fontWeight",l.weight,c),l.style&&e.setOption("title.fontStyle",l.style,c),l.size&&e.setOption("title.fontSize",l.size,c),l.color&&e.setOption("title.color",l.color,c)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};i||r(o,!0);var a={name:this.chartTranslationService.translate("title"),enabled:i,suppressEnabledCheckbox:!1,initialFont:o,setFont:r,setEnabled:function(l){if(e.toolbarExists()){var c=e.getOption("padding.top");e.setOption("padding.top",l?c-20:c+20)}e.setOption("title.enabled",l);var u=e.getOption("title.text"),d="Title"===u||0===u?.trim().length;l&&d&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new ch(a));s.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,i=this.createBean(new Xa),r=this.chartOptionsService.getChartOption("title.spacing")||10;return i.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(r,100)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("title.spacing",o)}),i},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var i={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some(function(o){var a;return null===(a=e&&e(i))||void 0===a?void 0:a.includes(o)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,i,r){this.chartOptionsService.setChartOption(e,i,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",uJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),uJ([H],t.prototype,"init",null),t}(le),Tze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),CV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Mze=function(n){function t(e){var i=e.chartController,r=e.chartOptionsService,o=e.isExpandedOnInit,a=void 0!==o&&o,s=n.call(this)||this;return s.activePanels=[],s.chartController=i,s.chartOptionsService=r,s.isExpandedOnInit=a,s}return Tze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Dze(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new wze(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new xze(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',CV([V("chartGroup")],t.prototype,"chartGroup",void 0),CV([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),CV([H],t.prototype,"init",null),t}(le),Aze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Oze=function(n){function t(e,i,r){void 0===r&&(r="shadow");var o=n.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=i,o.propertyKey=r,o}return Aze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this,i=this.propertyKey;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("".concat(i,".enabled"),this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(i,".enabled"),o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getSeriesOption("".concat(i,".color"),this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(i,".color"),o,e.getSelectedSeries())});var r=function(o,a,s,l){var c=e.chartOptionsService.getSeriesOption("".concat(i,".").concat(a),e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMinValue(s).setMaxValue(Bn(c,l)).setValue("".concat(c)).onValueChange(function(u){return e.chartOptionsService.setSeriesOption("".concat(i,".").concat(a),u,e.getSelectedSeries())})};r(this.shadowBlurSlider,"blur",0,20),r(this.shadowXOffsetSlider,"xOffset",-10,10),r(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',rf([V("shadowGroup")],t.prototype,"shadowGroup",void 0),rf([V("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),rf([V("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),rf([V("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),rf([V("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),rf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rf([H],t.prototype,"init",null),t}(le);function bV(n){var t=n.labelName,e=n.chartOptionsService,i=n.getSelectedSeries,r=n.seriesOptionLabelProperty,o=function(d){return"".concat(r,".").concat(d)},a=function(d){var h=o(d);return e.getSeriesOption(h,i())},s=function(d,h){var p=o(d);e.setSeriesOption(p,h,i())},l={family:a("fontFamily"),style:a("fontStyle"),weight:a("fontWeight"),size:a("fontSize"),color:a("color")};return{name:t,enabled:a("enabled")||!1,setEnabled:function(d){return s("enabled",d)},suppressEnabledCheckbox:!1,initialFont:l,setFont:function(d){d.family&&s("fontFamily",d.family),d.weight&&s("fontWeight",d.weight),d.style&&s("fontStyle",d.style),d.size&&s("fontSize",d.size),d.color&&s("color",d.color)}}}var Rze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),af=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Pze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Rze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var r=this.chartOptionsService.getChartType(),o=D.includes(["scatter","bubble"],r);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,c,u){var d=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(c)).setMaxValue(Bn(d,u)).setValue("".concat(d)).setTextFieldWidth(45).onValueChange(function(h){return e.setSeriesOption(s,h)})};"bubble"===r?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',af([V("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),af([V("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),af([V("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),af([V("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),af([V("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),af([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),af([H],t.prototype,"init",null),t}(le),Ize=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ou=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kze=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=e.picker,i}return Ize(t,n),t.prototype.postConstruct=function(){var e=this;this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",function(){return e.spectrumColor.focus()}),this.addGuiEventListener("keydown",function(i){i.key===G.ENTER&&!i.defaultPrevented&&e.destroy()}),this.addManagedListener(this.spectrumColor,"keydown",function(i){return e.moveDragger(i)}),this.addManagedListener(this.spectrumAlphaSlider,"keydown",function(i){return e.moveAlphaSlider(i)}),this.addManagedListener(this.spectrumHueSlider,"keydown",function(i){return e.moveHueSlider(i)}),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addGuiEventListener("mousemove",function(i){e.onSpectrumDraggerMove(i),e.onSpectrumHueMove(i),e.onSpectrumAlphaMove(i)}),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this)),this.addManagedListener(this.recentColors,"keydown",function(i){(i.key===G.ENTER||i.key===G.SPACE)&&(i.preventDefault(),e.onRecentColorClick(i))})},t.prototype.initTabIndex=function(){var e=this.tabIndex=this.gridOptionsService.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var i=this.spectrumValRect;if(i){var r,o;if(e instanceof MouseEvent)r=e.clientX-i.left,o=e.clientY-i.top;else{var a=e.key===G.LEFT,l=e.key===G.UP,u=l||e.key===G.DOWN,d=a||e.key===G.RIGHT;if(!u&&!d)return;e.preventDefault();var h=this.getSpectrumValue();r=h.x+(d?a?-5:5:0),o=h.y+(u?l?-5:5:0)}r=Math.max(r,0),r=Math.min(r,i.width),o=Math.max(o,0),o=Math.min(o,i.height),this.setSpectrumValue(r/i.width,1-o/i.height)}},t.prototype.moveHueSlider=function(e){var i=this.spectrumHueRect;if(i){var r=this.moveSlider(this.spectrumHueSlider,e);null!=r&&(this.H=1-r/i.width,this.update())}},t.prototype.moveAlphaSlider=function(e){var i=this.spectrumAlphaRect;if(i){var r=this.moveSlider(this.spectrumAlphaSlider,e);null!=r&&(this.A=r/i.width,this.update())}},t.prototype.moveSlider=function(e,i){var r,s,o=e.getBoundingClientRect(),a=null===(r=e.parentElement)||void 0===r?void 0:r.getBoundingClientRect();if(!e||!a)return null;if(i instanceof MouseEvent)s=i.clientX-a.left;else{var l=i.key===G.LEFT;if(!l&&i.key!==G.RIGHT)return null;i.preventDefault();var u=l?-5:5;s=parseFloat(e.style.left)-o.width/2+u}return s=Math.max(s,0),s=Math.min(s,a.width),e.style.left=s+o.width/2+"px",s},t.prototype.update=function(){var e=Xi.Color.fromHSB(360*this.H,this.S,this.B,this.A),i=Xi.Color.fromHSB(360*this.H,1,1),r=e.toRgbaString(),o=this.picker;Xi.Color.fromString(o.getValue()).toRgbaString()!==r&&(this.colorChanged=!0),o.setValue(r),this.spectrumColor.style.backgroundColor=i.toRgbaString(),this.spectrumDragger.style.backgroundColor=r},t.prototype.setSpectrumValue=function(e,i){var r=this.spectrumValRect||this.refreshSpectrumRect();if(null!=r){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),i=Math.max(0,i),i=Math.min(1,i),this.S=e,this.B=i,o.style.left=e*r.width-a.width/2+"px",o.style.top=(1-i)*r.height-a.height/2+"px",this.update()}},t.prototype.getSpectrumValue=function(){var e=this.spectrumDragger,i=e.getBoundingClientRect();return{x:parseFloat(e.style.left)+i.width/2,y:parseFloat(e.style.top)+i.height/2}},t.prototype.initRecentColors=function(){var e=this,r=t.recentColors.map(function(o,a){return'<div class="ag-recent-color" id='.concat(a,' style="background-color: ').concat(o,'; width: 15px; height: 15px;" recent-color="').concat(o,'" tabIndex="').concat(e.tabIndex,'"></div>')});this.recentColors.innerHTML=r.join("")},t.prototype.setValue=function(e){var i=Xi.Color.fromString(e),r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i.toHSB(),3),o=r[0],a=r[1],s=r[2];this.H=(isNaN(o)?0:o)/360,this.A=i.a;var l=this.spectrumHueRect||this.refreshHueRect(),c=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-l.width,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*c.width,"px"),this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var i=e.target;if(D.exists(i.id)){var r=parseInt(i.id,10);this.setValue(t.recentColors[r]),this.destroy()}},t.prototype.addRecentColor=function(){var i=Xi.Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),r=t.recentColors;!this.colorChanged||r[0]===i||(r=r.filter(function(o){return o!=i}),(r=[i].concat(r)).length>t.maxRecentColors&&(r=r.slice(0,t.maxRecentColors)),t.recentColors=r)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel" tabindex="-1">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Ou([V("spectrumColor")],t.prototype,"spectrumColor",void 0),Ou([V("spectrumVal")],t.prototype,"spectrumVal",void 0),Ou([V("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Ou([V("spectrumHue")],t.prototype,"spectrumHue",void 0),Ou([V("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Ou([V("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Ou([V("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Ou([V("recentColors")],t.prototype,"recentColors",void 0),Ou([H],t.prototype,"postConstruct",null),t}(le),Lze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wV=function(){return wV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},wV.apply(this,arguments)},dJ=function(n){function t(e){var i=n.call(this,wV({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"colorPicker"},e))||this;return e&&e.color&&(i.value=e.color),i}return Lze(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.createPickerComponent=function(){var e=this.getGui().getBoundingClientRect();return this.createBean(new sg({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}))},t.prototype.renderAndPositionPicker=function(){var e=this,i=this.pickerComponent,r=this.createBean(new kze({picker:this}));return i.addCssClass("ag-color-dialog"),r.addDestroyFunc(function(){i.isAlive()&&e.destroyBean(i)}),i.setParentComponent(this),i.setBodyComponent(r),r.setValue(this.getValue()),r.getGui().focus(),i.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.beforeHidePicker(),e.isDestroyingPicker=!0,r.isAlive()&&e.destroyBean(r),e.isAlive()&&e.getFocusableElement().focus())}),function(){var o;return null===(o=e.pickerComponent)||void 0===o?void 0:o.close()}},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(yk),Nze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Vze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Nze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var i=function(r,o,a,s){var l=e.chartOptionsService.getSeriesOption(r,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(Bn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(c){return e.chartOptionsService.setSeriesOption(r,c,e.getSelectedSeries())})};i("calloutLine.length",this.calloutLengthSlider,"length",40),i("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),i("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',nv([V("calloutGroup")],t.prototype,"calloutGroup",void 0),nv([V("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),nv([V("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),nv([V("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),nv([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nv([H],t.prototype,"init",null),t}(le),Gze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WT=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Bze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Gze(t,n),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{capsGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,i=this.chartOptionsService.getSeriesOption("cap.lengthRatio",this.getSelectedSeries());this.capLengthRatioSlider.setLabel(this.chartTranslationService.translate("capLengthRatio")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(r){return e.chartOptionsService.setSeriesOption("cap.lengthRatio",r,e.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="capsGroup">\n                <ag-slider ref="capLengthRatioSlider"></ag-slider>\n            </ag-group-component>\n        </div>',WT([V("capsGroup")],t.prototype,"capsGroup",void 0),WT([V("capLengthRatioSlider")],t.prototype,"capLengthRatioSlider",void 0),WT([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),WT([H],t.prototype,"init",null),t}(le),Hze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Hze(t,n),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{lineGroup:e}),this.initConnectorLineControls()},t.prototype.initConnectorLineControls=function(){this.initColorPicker(this.lineColorPicker,"color","line.stroke"),this.initSlider(this.lineStrokeWidthSlider,"strokeWidth",0,10,45,"line.strokeWidth"),this.initSlider(this.lineDashSlider,"lineDash",0,30,45,"line.lineDash",1,!0),this.initSlider(this.lineOpacitySlider,"strokeOpacity",0,1,45,"line.strokeOpacity",.05,!1)},t.prototype.initColorPicker=function(e,i,r){var o=this,a=this.chartOptionsService.getSeriesOption(r,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(i)).setLabelWidth("flex").setValue(null==a?"transparent":"".concat(a)).onValueChange(function(s){return o.chartOptionsService.setSeriesOption(r,s,o.getSelectedSeries())})},t.prototype.initSlider=function(e,i,r,o,a,s,l,c){var u=this;void 0===l&&(l=1),void 0===c&&(c=!1);var d=this.chartOptionsService.getSeriesOption(s,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(i)).setMinValue(r).setMaxValue(o).setTextFieldWidth(a).setValue("".concat(d)).setStep(l).onValueChange(function(h){u.chartOptionsService.setSeriesOption(s,c?[h]:h,u.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="lineGroup">\n                <ag-color-picker ref="lineColorPicker"></ag-color-picker>\n                <ag-slider ref="lineStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="lineOpacitySlider"></ag-slider>\n                <ag-slider ref="lineDashSlider"></ag-slider>                \n            </ag-group-component>\n        </div>',rv([V("lineColorPicker")],t.prototype,"lineColorPicker",void 0),rv([V("lineStrokeWidthSlider")],t.prototype,"lineStrokeWidthSlider",void 0),rv([V("lineOpacitySlider")],t.prototype,"lineOpacitySlider",void 0),rv([V("lineDashSlider")],t.prototype,"lineDashSlider",void 0),rv([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rv([H],t.prototype,"init",null),t}(le),Uze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uh=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Uze(t,n),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{whiskersGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,i=this.chartOptionsService.getSeriesOption("whisker.stroke",this.getSelectedSeries());this.whiskerColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setValue(null==i?"transparent":"".concat(i)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.stroke",l,e.getSelectedSeries())});var r=this.chartOptionsService.getSeriesOption("whisker.strokeWidth",this.getSelectedSeries());this.whiskerThicknessSlider.setLabel(this.chartTranslationService.translate("strokeWidth")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeWidth",l,e.getSelectedSeries())});var o=this.chartOptionsService.getSeriesOption("whisker.strokeOpacity",this.getSelectedSeries());this.whiskerOpacitySlider.setLabel(this.chartTranslationService.translate("strokeOpacity")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeOpacity",l,e.getSelectedSeries())});var a=this.chartOptionsService.getSeriesOption("whisker.lineDash",this.getSelectedSeries());this.whiskerLineDashSlider.setLabel(this.chartTranslationService.translate("lineDash")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(a)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDash",[l],e.getSelectedSeries())});var s=this.chartOptionsService.getSeriesOption("whisker.lineDashOffset",this.getSelectedSeries());this.whiskerLineDashOffsetSlider.setLabel(this.chartTranslationService.translate("lineDashOffset")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(s)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDashOffset",l,e.getSelectedSeries())})},t.TEMPLATE='<div>\n            <ag-group-component ref="whiskersGroup">\n                <ag-color-picker ref="whiskerColorPicker"></ag-color-picker>\n                <ag-slider ref="whiskerThicknessSlider"></ag-slider>\n                <ag-slider ref="whiskerOpacitySlider"></ag-slider>\n                <ag-slider ref="whiskerLineDashSlider"></ag-slider>\n                <ag-slider ref="whiskerLineDashOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',uh([V("whiskersGroup")],t.prototype,"whiskersGroup",void 0),uh([V("whiskerColorPicker")],t.prototype,"whiskerColorPicker",void 0),uh([V("whiskerThicknessSlider")],t.prototype,"whiskerThicknessSlider",void 0),uh([V("whiskerOpacitySlider")],t.prototype,"whiskerOpacitySlider",void 0),uh([V("whiskerLineDashSlider")],t.prototype,"whiskerLineDashSlider",void 0),uh([V("whiskerLineDashOffsetSlider")],t.prototype,"whiskerLineDashOffsetSlider",void 0),uh([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),uh([H],t.prototype,"init",null),t}(le),Wze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$T=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$ze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r.activePanels=[],r}return Wze(t,n),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{seriesItemsGroup:e}),this.initSeriesItems(),this.initSeriesControls()},t.prototype.initSeriesItems=function(){var e=this,i=[{value:"positive",text:this.chartTranslationService.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslationService.translate("seriesItemNegative")}];this.seriesItemSelect.setLabel(this.chartTranslationService.translate("seriesItemType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(i).setValue("positive").onValueChange(function(o){e.destroyActivePanels(),e.initSeriesControls(o)})},t.prototype.initSeriesControls=function(e){void 0===e&&(e="positive"),this.initSlider("strokeWidth",0,10,45,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",0,30,45,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",0,1,45,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",0,1,45,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)},t.prototype.initSlider=function(e,i,r,o,a,s,l){var c=this;void 0===s&&(s=1),void 0===l&&(l=!1);var u=this.seriesItemsGroup.createManagedBean(new Xa),d=this.chartOptionsService.getSeriesOption(a,this.getSelectedSeries());u.setLabel(this.chartTranslationService.translate(e)).setMinValue(i).setMaxValue(r).setTextFieldWidth(o).setValue("".concat(d)).setStep(s).onValueChange(function(p){c.chartOptionsService.setSeriesOption(a,l?[p]:p,c.getSelectedSeries())}),this.seriesItemsGroup.addItem(u),this.activePanels.push(u)},t.prototype.initItemLabels=function(e){var i=this,r=bV({labelName:this.chartTranslationService.translate("seriesItemLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return i.getSelectedSeries()},seriesOptionLabelProperty:"item.".concat(e,".label")}),o=this.createBean(new ch(r));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesItemsGroup">\n                <ag-select ref="seriesItemSelect"></ag-select>\n            </ag-group-component>\n        </div>',$T([V("seriesItemsGroup")],t.prototype,"seriesItemsGroup",void 0),$T([V("seriesItemSelect")],t.prototype,"seriesItemSelect",void 0),$T([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$T([H],t.prototype,"init",null),t}(le),Kze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ov=function(){return ov=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ov.apply(this,arguments)},sf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qze=function(n){function t(e,i){var r=n.call(this)||this;return r.chartOptionsService=e,r.getSelectedSeries=i,r}return Kze(t,n),t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{groupSpacing:ov(ov({},e),{title:this.chartTranslationService.translate("group")}),tileSpacing:ov(ov({},e),{title:this.chartTranslationService.translate("tile")})}),this.initControls()},t.prototype.initControls=function(){var e,i,r=this,o=[{optionNamespace:"group",components:{paddingSlider:this.groupPaddingSlider,spacingSlider:this.groupSpacingSlider}},{optionNamespace:"tile",components:{paddingSlider:this.tilePaddingSlider,spacingSlider:this.tileSpacingSlider}}],a=function(d){var h=d.optionNamespace,p=d.components,f=p.paddingSlider,m=p.spacingSlider,g=s.chartOptionsService.getSeriesOption("".concat(h,".padding"),s.getSelectedSeries());f.setLabel(s.chartTranslationService.translate("padding")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(g)).onValueChange(function(y){return r.chartOptionsService.setSeriesOption("".concat(h,".padding"),y,r.getSelectedSeries())});var v=s.chartOptionsService.getSeriesOption("".concat(h,".gap"),s.getSelectedSeries());m.setLabel(s.chartTranslationService.translate("spacing")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(v)).onValueChange(function(y){return r.chartOptionsService.setSeriesOption("".concat(h,".gap"),y,r.getSelectedSeries())})},s=this;try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),c=l.next();!c.done;c=l.next())a(c.value)}catch(d){e={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}},t.TEMPLATE='<div>\n            <ag-group-component ref="groupSpacing">\n                <ag-slider ref="groupPaddingSlider"></ag-slider>\n                <ag-slider ref="groupSpacingSlider"></ag-slider>\n            </ag-group-component>\n            <ag-group-component ref="tileSpacing">\n                <ag-slider ref="tilePaddingSlider"></ag-slider>\n                <ag-slider ref="tileSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',sf([V("groupSpacing")],t.prototype,"groupSpacing",void 0),sf([V("groupPaddingSlider")],t.prototype,"groupPaddingSlider",void 0),sf([V("groupSpacingSlider")],t.prototype,"groupSpacingSlider",void 0),sf([V("tilePaddingSlider")],t.prototype,"tilePaddingSlider",void 0),sf([V("tileSpacingSlider")],t.prototype,"tileSpacingSlider",void 0),sf([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),sf([H],t.prototype,"init",null),t}(le),Xze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Zze=function(n){function t(e){var i=e.chartController,r=e.chartOptionsService,o=e.seriesType,a=e.isExpandedOnInit,s=void 0!==a&&a,l=n.call(this)||this;return l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initStrokeWidth("lineWidth")},strokeWidth:function(){return l.initStrokeWidth("strokeWidth")},lineColor:function(){return l.initLineColor()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()},whiskers:function(){return l.initWhiskers()},caps:function(){return l.initCaps()},connectorLine:function(){return l.initConnectorLine()},seriesItems:function(){return l.initSeriesItemsPanel()},tileSpacing:function(){return l.initTileSpacingPanel()}},l.seriesWidgetMappings={column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],donut:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],scatter:["tooltips","markers","labels"],bubble:["tooltips","markers","labels"],area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],"radial-column":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radial-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radar-line":["tooltips","strokeWidth","lineDash","lineOpacity","markers","labels"],"radar-area":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","markers","labels"],nightingale:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"box-plot":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","whiskers","caps"],"range-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"range-area":["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],treemap:["tooltips","tileSpacing"],sunburst:["tooltips"],heatmap:["tooltips","labels","lineColor","lineWidth","lineOpacity"],waterfall:["tooltips","connectorLine","seriesItems"]},l.chartController=i,l.chartOptionsService=r,l.seriesType=o||l.getChartSeriesType(),l.isExpandedOnInit=s,l}return Xze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,rl.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){var r;!e.isAlive()||(e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),(null!==(r=e.seriesWidgetMappings[e.seriesType])&&void 0!==r?r:[]).forEach(function(a){return e.widgetFuncs[a]()}))}).catch(function(r){return console.error("AG Grid - chart rendering failed",r)})},t.prototype.initSeriesSelect=function(){var e=this,i=this.seriesGroup.createManagedBean(new iu);i.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(this.getSeriesSelectOptions()).setValue("".concat(this.seriesType)).onValueChange(function(r){e.seriesType=r,e.refreshWidgets()}),this.seriesGroup.addItem(i),this.activePanels.push(i)},t.prototype.initTooltips=function(){var e=this,i=this.createBean(new Qk);i.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(r){return e.setSeriesOption("tooltip.enabled",r)}),this.addWidget(i)},t.prototype.initLineColor=function(){var e=this,i=this.getSeriesOption("stroke"),r=this.createBean(new dJ);r.setLabel(this.translate("strokeColor")).setLabelWidth("flex").onValueChange(function(o){return e.setSeriesOption("stroke",o)}),i&&r.setValue(i),this.addWidget(r)},t.prototype.initStrokeWidth=function(e){var r,i=this,o=null!==(r=this.getSeriesOption("strokeWidth"))&&void 0!==r?r:0,a=this.createBean(new Xa);a.setLabel(this.translate(e)).setMaxValue(Bn(o,10)).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(s){return i.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,i=this.getSeriesOption("lineDash"),r=i?i[0]:0,o=this.createBean(new Xa);o.setLabel(this.translate("lineDash")).setMaxValue(Bn(r,30)).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var i,e=this,r=null!==(i=this.getSeriesOption("strokeOpacity"))&&void 0!==i?i:0,o=this.createBean(new Xa);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Bn(r,1)).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(a){return e.setSeriesOption("strokeOpacity",a)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var i,e=this,r=null!==(i=this.getSeriesOption("fillOpacity"))&&void 0!==i?i:0,o=this.createBean(new Xa);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Bn(r,1)).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(a){return e.setSeriesOption("fillOpacity",a)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,i=mV(this.seriesType),r=i?"calloutLabel":"label",a=bV({labelName:this.chartTranslationService.translate(i?"calloutLabels":"labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:r}),s=this.createBean(new ch(a));if(i){var l=this.createBean(new Vze(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}if(this.addWidget(s),i){var c=bV({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),u=this.createBean(new ch(c)),d=this.getSectorLabelPositionRatio();u.addCompToPanel(d),this.addWidget(u)}if("range-bar"===this.seriesType){var h=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],p=this.chartOptionsService.getSeriesOption("label.placement",this.seriesType),f=s.createManagedBean(new iu);f.setLabel(this.translate("labelPlacement")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(h).setValue(p).onValueChange(function(v){return e.chartOptionsService.setSeriesOption("label.placement",v,e.seriesType)}),s.addCompToPanel(f),this.activePanels.push(f);var m=this.chartOptionsService.getSeriesOption("label.padding",this.seriesType),g=s.createManagedBean(new Xa);g.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Bn(m,200)).setValue("".concat(m)).setTextFieldWidth(45).onValueChange(function(v){return e.chartOptionsService.setSeriesOption("label.padding",v,e.seriesType)}),s.addCompToPanel(g),this.activePanels.push(g)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,i="sectorLabel.positionRatio",r=this.chartOptionsService.getSeriesOption(i,this.seriesType);return this.createBean(new Xa).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(Bn(r,1)).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(a){return e.chartOptionsService.setSeriesOption(i,a,e.seriesType)})},t.prototype.initShadow=function(){var e=this,i=this.createBean(new Oze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initMarkers=function(){var e=this,i=this.createBean(new Pze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initBins=function(){var i,e=this,r=(null!==(i=this.getSeriesOption("bins"))&&void 0!==i?i:this.getSeriesOption("calculatedBins",!0)).length,o=this.createBean(new Xa);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(Bn(r,20)).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(a){return e.setSeriesOption("binCount",a)}),this.addWidget(o)},t.prototype.initWhiskers=function(){var e=this,i=this.createBean(new zze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initCaps=function(){var e=this,i=this.createBean(new Bze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initConnectorLine=function(){var e=this,i=this.createBean(new jze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initSeriesItemsPanel=function(){var e=this,i=this.createBean(new $ze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.initTileSpacingPanel=function(){var e=this,i=this.createBean(new qze(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e,i){return this.chartOptionsService.getSeriesOption(e,this.seriesType,i)},t.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.seriesType)},t.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":nl(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["radial-column",{value:"radial-column",text:this.translate("radialColumn","Radial Column")}],["radial-bar",{value:"radial-bar",text:this.translate("radialBar","Radial Bar")}],["radar-line",{value:"radar-line",text:this.translate("radarLine","Radar Line")}],["radar-area",{value:"radar-area",text:this.translate("radarArea","Radar Area")}],["nightingale",{value:"nightingale",text:this.translate("nightingale","Nightingale")}],["range-bar",{value:"range-bar",text:this.translate("rangeBar","Range Bar")}],["range-area",{value:"range-area",text:this.translate("rangeArea","Range Area")}],["treemap",{value:"treemap",text:this.translate("treemap","Treemap")}],["sunburst",{value:"sunburst",text:this.translate("sunburst","Sunburst")}],["waterfall",{value:"waterfall",text:this.translate("waterfall","Waterfall")}],["box-plot",{value:"box-plot",text:this.translate("boxPlot","Box Plot")}],["pie",{value:"pie",text:this.translate("pie","Pie")}],["donut",{value:"donut",text:this.translate("donut","Donut")}]]));var i=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(r){var o=nl(r.chartType);i.add(e.seriesSelectOptions.get(o))}),Array.from(i)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(r){return nl(r.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',SV([V("seriesGroup")],t.prototype,"seriesGroup",void 0),SV([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),SV([H],t.prototype,"init",null),t}(le),Qze=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dh=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Jze=function(n){function t(e){var i=e.chartOptionsService,r=e.isExpandedOnInit,o=void 0!==r&&r,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=i,a.isExpandedOnInit=o,a}return Qze(t,n),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendGradient(),this.initLegendSpacing(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("gradientLegend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(i){e.chartOptionsService.setChartOption("gradientLegend.enabled",i),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(["top","right","bottom","left"].map(function(r){return{value:r,text:e.chartTranslationService.translate(r)}})).setValue(this.chartOptionsService.getChartOption("gradientLegend.position")).onValueChange(function(r){return e.chartOptionsService.setChartOption("gradientLegend.position",r)})},t.prototype.initLegendGradient=function(){var e=this;this.gradientReverseCheckbox.setLabel(this.chartTranslationService.translate("reverseDirection")).setLabelWidth("flex").setValue(this.chartOptionsService.getChartOption("gradientLegend.reverseOrder")).onValueChange(function(r){return e.chartOptionsService.setChartOption("gradientLegend.reverseOrder",r)});var i=function(r,o,a,s){var l,c=null!==(l=e.chartOptionsService.getChartOption(r))&&void 0!==l?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Bn(c,s)).setValue("".concat(c)).setTextFieldWidth(45).onValueChange(function(u){e.chartOptionsService.setChartOption(r,u)})};i("gradientLegend.gradient.thickness","thickness",this.gradientThicknessSlider,40),i("gradientLegend.gradient.preferredLength","preferredLength",this.gradientPreferredLengthSlider,300)},t.prototype.initLegendSpacing=function(){var e=this,i=this.chartOptionsService.getChartOption("gradientLegend.spacing");this.legendSpacingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Bn(i,200)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(r){return e.chartOptionsService.setChartOption("gradientLegend.spacing",r)})},t.prototype.initLabelPanel=function(){var e=this,i=this.chartOptionsService,r={family:i.getChartOption("gradientLegend.scale.label.fontFamily"),style:i.getChartOption("gradientLegend.scale.label.fontStyle"),weight:i.getChartOption("gradientLegend.scale.label.fontWeight"),size:i.getChartOption("gradientLegend.scale.label.fontSize"),color:i.getChartOption("gradientLegend.scale.label.color")},s=this.createBean(new ch({enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:function(l){var c=e.chartOptionsService;l.family&&c.setChartOption("gradientLegend.scale.label.fontFamily",l.family),l.weight&&c.setChartOption("gradientLegend.scale.label.fontWeight",l.weight),l.style&&c.setChartOption("gradientLegend.scale.label.fontStyle",l.style),l.size&&c.setChartOption("gradientLegend.scale.label.fontSize",l.size),l.color&&c.setChartOption("gradientLegend.scale.label.color",l.color)}}));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-checkbox ref="gradientReverseCheckbox"></ag-checkbox>\n                <ag-slider ref="gradientThicknessSlider"></ag-slider>\n                <ag-slider ref="gradientPreferredLengthSlider"></ag-slider>\n                <ag-slider ref="legendSpacingSlider"></ag-slider>\n            </ag-group-component>\n        </div>',dh([V("legendGroup")],t.prototype,"legendGroup",void 0),dh([V("gradientReverseCheckbox")],t.prototype,"gradientReverseCheckbox",void 0),dh([V("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),dh([V("gradientThicknessSlider")],t.prototype,"gradientThicknessSlider",void 0),dh([V("gradientPreferredLengthSlider")],t.prototype,"gradientPreferredLengthSlider",void 0),dh([V("legendSpacingSlider")],t.prototype,"legendSpacingSlider",void 0),dh([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dh([H],t.prototype,"init",null),t}(le),eWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function Bn(n,t){return Math.max(n,t)}var iWe={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},nWe=function(n){function t(e,i){var r=n.call(this,t.TEMPLATE)||this;return r.chartController=e,r.chartOptionsService=i,r.panels=[],r.isGroupPanelShownInSeries=function(o,a){var s,l;return!!["chart","legend","series"].includes(o)||null!==(l=null===(s={bar:["axis","navigator"],column:["axis","navigator"],line:["axis","navigator"],area:["axis","navigator"],scatter:["axis","navigator"],bubble:["axis","navigator"],histogram:["axis","navigator"],cartesian:["axis","navigator"],"radial-column":["axis"],"radial-bar":["axis"],"radar-line":["axis"],"radar-area":["axis"],nightingale:["axis"],"range-bar":["axis","navigator"],"range-area":["axis","navigator"],treemap:[],sunburst:[],heatmap:["axis"],waterfall:["axis","navigator"],"box-plot":["axis","navigator"]}[a])||void 0===s?void 0:s.includes(o))&&void 0!==l&&l},r}return eWe(t,n),t.prototype.init=function(){var e=this;this.createPanels(),this.addManagedListener(this.chartController,rl.EVENT_CHART_UPDATED,function(){return e.createPanels(!0)}),this.addManagedListener(this.chartController,rl.EVENT_CHART_API_UPDATE,function(){return e.createPanels(!1)})},t.prototype.createPanels=function(e){var r,i=this,o=this.chartController.getChartType(),a=this.chartController.isGrouping(),s=nl(o);e&&o===this.chartType&&a===this.isGrouping||(this.destroyPanels(),null===(r=this.getFormatPanelDef().groups)||void 0===r||r.forEach(function(l){var c=l.type;if(i.isGroupPanelShownInSeries(c,s)){var u={chartController:i.chartController,chartOptionsService:i.chartOptionsService,isExpandedOnInit:l.isOpen,seriesType:s};if("chart"===c)i.addComponent(new Mze(u));else if("legend"===c){var d=function FUe(n){switch(n){case"treemap":case"sunburst":case"heatmap":return!0;default:return!1}}(o)?new Jze(u):new uze(u);i.addComponent(d)}else"axis"===c?(d=JQ(o)?new vze(u):new mze(u),i.addComponent(d)):"series"===c?i.addComponent(new Zze(u)):"navigator"===c?i.addComponent(new _ze(u)):console.warn("AG Grid: invalid charts format panel group name supplied: '".concat(l.type,"'"))}}),this.chartType=o,this.isGrouping=a)},t.prototype.getFormatPanelDef=function(){var e;return(null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.formatPanel)||iWe},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(i){D.removeFromParent(i.getGui()),e.destroyBean(i)}),this.panels=[]},t.prototype.destroy=function(){this.destroyPanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"init",null),t}(le),rWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},av=function(n){function t(e,i){var r=n.call(this)||this;r.size=58,r.padding=5,r.root=new re.Group;var o=new re.Scene({window,document:window.document,width:r.size,height:r.size});return o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.root=r.root,o.container=e,r.scene=o,r.tooltipName=i,r}return rWe(t,n),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render().catch(function(e){console.error("".concat("AG Grid - chart update failed"),e)})},hJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),hJ([H],t.prototype,"init",null),t}(le),sWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ur=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.stroke="gray",r.axisOvershoot=3,r}return sWe(t,n),t.prototype.addAxes=function(){var e=this.size,i=this.padding,r=new re.Line;r.x1=i,r.y1=i,r.x2=i,r.y2=e-i+this.axisOvershoot,r.stroke=this.stroke;var o=new re.Line;o.x1=i-this.axisOvershoot+1,o.y1=e-i,o.x2=e-i+1,o.y2=e-i,o.stroke=this.stroke;var a=this.root;a.append(r),a.append(o)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"addAxes",null),t}(av),xV=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},pJ=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))};function Bb(n){var t=n.stacked,e=n.size,i=n.padding,r=n.xScalePadding,o=n.xScaleDomain,a=n.yScaleDomain,s=new re.BandScale;s.domain=o,s.range=[i,e-i],s.paddingInner=r,s.paddingOuter=r;var l=new re.LinearScale;l.domain=a,l.range=[e-i,i];var c=function(u,d,h){return u.map(function(p,f){var m=h.convert(p),g=new re.Rect;return g.x=d.convert(f),g.y=m,g.width=d.bandwidth,g.height=h.convert(0)-m,g.strokeWidth=0,g.crisp=!0,g})};return t?n.data.map(function(u){return c(u,s,l)}):c(n.data,s,l)}function EV(n,t,e,i){var r=new re.LinearScale;r.domain=[0,4],r.range=[i,e-i];var o=new re.LinearScale;o.domain=[0,10],o.range=[e-i,i];var a=t.map(function(l){var c=new re.Path;return c.strokeWidth=3,c.lineCap="round",c.fill=void 0,l.forEach(function(u,d){c.path[d>0?"lineTo":"moveTo"](r.convert(d),o.convert(u))}),c}),s=new re.Group;return s.setClipRectInGroupCoordinateSpace(new re.BBox(i,i,e-2*i,e-2*i)),s.append(a),n.append(s),a}function fJ(n,t,e,i,r,o){void 0===o&&(o=0);var a=new re.LinearScale;a.domain=[0,7],a.range=[-Math.PI,Math.PI].map(function(h){return h+Math.PI/2});var s=new re.LinearScale;s.domain=[0,10],s.range=[i,r];var l=[],c=t.map(function(h){var p=new re.Path;return p.strokeWidth=1,p.strokeOpacity=.5,p.lineCap="round",p.fill=void 0,p.fillOpacity=.8,h.forEach(function(f,m){var g=a.convert(m),v=i+r-s.convert(f),y=v*Math.cos(g),_=v*Math.sin(g);if(p.path[m>0?"lineTo":"moveTo"](y,_),o>0){var b=new re.Circle;b.x=y,b.y=_,b.size=o,l.push(b)}}),p.path.closePath(),p}),u=new re.Group,d=e/2;return u.translationX=d,u.translationY=d,u.append(pJ(pJ([],xV(c),!1),xV(l),!1)),n.append(u),{paths:c,markers:l}}function KT(n){var t=xV([1/0,-1/0],2),e=t[0],i=t[1];return{processedData:n.reduce(function(o,a,s){var l,c=s>0?o[s-1]:void 0;null!==(l=o[s])&&void 0!==l||(o[s]=[]);var u=o[s];return a.forEach(function(d,h){c&&(d+=c[h]),u[h]=d,u[h]<e&&(e=u[h]),u[h]>i&&(i=u[h])}),o},[]),min:e,max:i}}var cWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uWe=function(n){function t(e,i,r){var o=n.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var s=o.root;return o.columns=Bb({stacked:!1,root:s,data:o.columnData,size:o.size,padding:o.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(i,r),o}return cWe(t,n),t.prototype.updateColors=function(e,i){this.columns.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.chartType="groupedColumn",t}(Ur),dWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mJ=function(n){function t(e,i,r,o,a,s,l,c){void 0===s&&(s=t.data),void 0===l&&(l=[0,16]),void 0===c&&(c="stackedColumnTooltip");var u=n.call(this,e,c)||this,h=u.root;return u.stackedColumns=Bb({stacked:!0,root:h,data:s,size:u.size,padding:u.padding,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3}),h.append([].concat.apply([],u.stackedColumns)),u.updateColors(i,r),u}return dWe(t,n),t.prototype.updateColors=function(e,i){this.stackedColumns.forEach(function(r,o){return r.forEach(function(a){a.fill=e[o],a.stroke=i[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ur),hWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pWe=function(n){function t(e,i,r,o,a){return n.call(this,e,i,r,o,a,t.data,[0,10],"normalizedColumnTooltip")||this}return hWe(t,n),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(mJ),fWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mWe=function(n){function t(e,i,r){var o=n.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,c=new re.BandScale;c.domain=[0,1,2],c.range=[a,s-a],c.paddingInner=.3,c.paddingOuter=.3;var u=new re.LinearScale;u.domain=[0,4],u.range=[s-a,a];var d=u.convert(0),h=c.bandwidth;return o.bars=[2,3,4].map(function(p,f){var m=new re.Rect;return m.x=a,m.y=c.convert(f),m.width=d-u.convert(p),m.height=h,m.strokeWidth=0,m.crisp=!0,m}),o.updateColors(i,r),o.root.append(o.bars),o}return fWe(t,n),t.prototype.updateColors=function(e,i){this.bars.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.chartType="groupedBar",t}(Ur),gWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gJ=function(n){function t(e,i,r,o,a,s,l,c){void 0===s&&(s=t.data),void 0===l&&(l=[0,16]),void 0===c&&(c="stackedBarTooltip");var u=n.call(this,e,c)||this,d=u.size,h=u.padding,p=new re.BandScale;p.domain=[0,1,2],p.range=[h,d-h],p.paddingInner=.3,p.paddingOuter=.3;var f=new re.LinearScale;f.domain=l,f.range=[d-h,h];var m=f.convert(0),g=p.bandwidth;return u.bars=s.map(function(v){return v.map(function(y,_){var b=new re.Rect;return b.x=h,b.y=p.convert(_),b.width=m-f.convert(y),b.height=g,b.strokeWidth=0,b.crisp=!0,b})}),u.updateColors(i,r),u.root.append([].concat.apply([],u.bars)),u}return gWe(t,n),t.prototype.updateColors=function(e,i){this.bars.forEach(function(r,o){return r.forEach(function(a){a.fill=e[o],a.stroke=i[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(Ur),vWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yWe=function(n){function t(e,i,r,o,a){return n.call(this,e,i,r,o,a,t.data,[0,10],"normalizedBarTooltip")||this}return vWe(t,n),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(gJ),_We=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),us=re.toRadians,DV=function(n){function t(e,i,r,o,a,s,l){void 0===s&&(s=.6),void 0===l&&(l="donutTooltip");var c=n.call(this,e,l)||this,u=(c.size-2*c.padding)/2,d=u+c.padding,h=[[us(-90),us(30)],[us(30),us(120)],[us(120),us(180)],[us(180),us(210)],[us(210),us(240)],[us(240),us(270)]];return c.sectors=h.map(function(p){var f=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(p,2),m=f[0],g=f[1],v=new re.Sector;return v.centerX=d,v.centerY=d,v.innerRadius=u*s,v.outerRadius=u,v.startAngle=m,v.endAngle=g,v.stroke=void 0,v.strokeWidth=0,v.inset=.75,v}),c.updateColors(i,r),c.root.append(c.sectors),c}return _We(t,n),t.prototype.updateColors=function(e,i){this.sectors.forEach(function(r,o){r.fill=e[o%e.length],r.stroke=i[o%i.length]})},t.chartType="donut",t}(av),bWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wWe=function(n){function t(e,i,r,o,a){return n.call(this,e,i,r,o,a,0,"pieTooltip")||this}return bWe(t,n),t.chartType="pie",t}(DV),SWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xWe=function(n){function t(e,i,r){var o=n.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=EV(o.root,o.data,o.size,o.padding),o.updateColors(i,r),o}return SWe(t,n),t.prototype.updateColors=function(e,i){this.lines.forEach(function(r,o){r.stroke=e[o]})},t.chartType="line",t}(Ur),EWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TWe=function(n){function t(e,i,r){var o=n.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,c=new re.LinearScale;c.domain=[-.5,4],c.range=[2*s,a-s];var u=new re.LinearScale;u.domain=[-.5,3.5],u.range=[a-s,s];var d=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(p){p.forEach(function(f){var m=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(f,2),g=m[0],v=m[1],y=new re.Arc;y.strokeWidth=0,y.centerX=c.convert(g),y.centerY=u.convert(v),y.radius=2.5,d.push(y)})}),o.points=d,o.updateColors(i,r);var h=new re.Group;return h.setClipRectInGroupCoordinateSpace(new re.BBox(s,s,a-2*s,a-2*s)),h.append(o.points),o.root.append(h),o}return EWe(t,n),t.prototype.updateColors=function(e,i){this.points.forEach(function(r,o){r.stroke=i[o%i.length],r.fill=e[o%e.length]})},t.chartType="scatter",t}(Ur),MWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),OWe=function(n){function t(e,i,r){var o=n.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,c=new re.LinearScale;c.domain=[0,1],c.range=[2*s,a-s];var u=new re.LinearScale;u.domain=[0,1],u.range=[a-s,s];var d=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(p){p.forEach(function(f){var m=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(f,3),g=m[0],v=m[1],y=m[2],_=new re.Arc;_.strokeWidth=0,_.centerX=c.convert(g),_.centerY=u.convert(v),_.radius=y,_.fillOpacity=.7,d.push(_)})}),o.points=d,o.updateColors(i,r);var h=new re.Group;return h.setClipRectInGroupCoordinateSpace(new re.BBox(s,s,a-2*s,a-2*s)),h.append(o.points),o.root.append(h),o}return MWe(t,n),t.prototype.updateColors=function(e,i){this.points.forEach(function(r,o){r.stroke=i[o%i.length],r.fill=e[o%e.length]})},t.chartType="bubble",t}(Ur),RWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PWe=function(n){function t(e,i,r,o,a,s){void 0===s&&(s=t.data);var l=n.call(this,e,"groupedAreaTooltip")||this,c=l.size,u=l.padding,d=new re.BandScale;d.domain=[0,1,2],d.paddingInner=1,d.paddingOuter=0,d.range=[u+.5,c-u-.5];var h=new re.LinearScale;h.domain=[0,6],h.range=[c-u+.5,u];var f=2*s.length-1,m=[],g=h.convert(0);return s.forEach(function(v,y){var _=d.convert(y);v.forEach(function(b,w){var E=h.convert(b),M=m[w]||(m[w]=[]);M[y]={x:_,y:E},M[f-y]={x:_,y:g}})}),l.areas=m.reverse().map(function(v){var y=new re.Path;y.strokeWidth=1,y.strokeOpacity=.75,y.fillOpacity=.7;var _=y.path;return _.clear(),v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),_.closePath(),y}),l.updateColors(i,r),l.root.append(l.areas),l}return RWe(t,n),t.prototype.updateColors=function(e,i){this.areas.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(Ur),IWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),TV=function(n){function t(e,i,r,o,a,s,l){void 0===s&&(s=t.data),void 0===l&&(l="stackedAreaTooltip");var c=n.call(this,e,l)||this,u=c.size,d=c.padding,h=new re.BandScale;h.domain=[0,1,2],h.paddingInner=1,h.paddingOuter=0,h.range=[d+.5,u-d-.5];var p=new re.LinearScale;p.domain=[0,16],p.range=[u-d+.5,d+.5];var m=2*s.length-1,g=[];return s.forEach(function(v,y){var _=h.convert(y),b=0;v.forEach(function(w,E){var M=p.convert(b+w),P=g[E]||(g[E]=[]);P[y]={x:_,y:M},P[m-y]={x:_,y:p.convert(b)},b+=w})}),c.areas=g.map(function(v){var y=new re.Path;y.strokeWidth=0;var _=y.path;return _.clear(),v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),_.closePath(),y}),c.updateColors(i,r),c.root.append(c.areas),c}return IWe(t,n),t.prototype.updateColors=function(e,i){this.areas.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(Ur),FWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kWe=function(n){function t(e,i,r,o,a,s){return void 0===s&&(s=t.data),n.call(this,e,i,r,o,a,s,"normalizedAreaTooltip")||this}return FWe(t,n),t.chartType="normalizedArea",t.data=TV.data.map(function(e){var i=e.reduce(function(r,o){return r+o},0);return e.map(function(r){return r/i*16})}),t}(TV),LWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},NWe=function(n){function t(e,i,r){var o=n.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],c=new re.LinearScale;c.domain=[0,l.length],c.range=[a,s-a];var u=new re.LinearScale;u.domain=[0,l.reduce(function(h,p){return Math.max(h,p)},0)],u.range=[s-a,a];var d=u.convert(0);return o.bars=l.map(function(h,p){var f=u.convert(h),m=c.convert(p),g=c.convert(p+1),v=new re.Rect;return v.x=m,v.y=f,v.width=g-m,v.height=d-f,v.strokeWidth=1,v.strokeOpacity=.75,v.crisp=!0,v}),o.updateColors(i,r),o.root.append(o.bars),o}return LWe(t,n),t.prototype.updateColors=function(e,i){var o=vJ(e,1)[0],s=vJ(i,1)[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(Ur),VWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sv=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.stroke="gray",r.showRadiusAxisLine=!0,r.showAngleAxisLines=!0,r}return VWe(t,n),t.prototype.addAxes=function(){var e=this,i=this.size,r=this.padding,a=(i-2*r)/2,s=this.showAngleAxisLines?[a,.8*a,.6*a,.4*a]:[],l=new re.Line;l.x1=i/2,l.y1=r,l.x2=i/2,l.y2=i-r-a-s[s.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;var c=r+a;this.gridLines=s.map(function(d,h){var p=new re.Path;return p.path.arc(c,c,d,0,2*Math.PI),p.strokeWidth=1,p.stroke=e.stroke,p.strokeOpacity=0===h?.5:.2,p.fill=void 0,p});var u=this.root;u.append(l),this.gridLines.length>0&&u.append(this.gridLines)},function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"addAxes",null),t}(av),BWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HWe=function(n){function t(e,i,r){var o=n.call(this,e,"radialColumnTooltip")||this;o.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],o.showRadiusAxisLine=!1;var c=o.data,u=(o.size-2*o.padding)/2,h=.4*u,p=new re.BandScale;p.domain=c[0].map(function(b,w){return w}),p.range=[0,2*Math.PI],p.paddingInner=0,p.paddingOuter=0;var f=.7*p.bandwidth,m=KT(c),g=m.processedData,v=m.max,y=new re.LinearScale;y.domain=[0,v],y.range=[h,u];var _=o.size/2;return o.series=g.map(function(b,w){var M=0===w?void 0:g[w-1],P=new re.Group({zIndex:1e6}),I=b.map(function(k,L){var B=M?.[L],Y=y.convert(k),ne=y.convert(B??0),fe=p.convert(L),W=fe+f,$=re.getRadialColumnWidth(fe,W,u,.5,.5),X=new re.RadialColumnShape;return X.scalingCenterX=_,X.scalingCenterY=_,X.columnWidth=$,X.innerRadius=ne,X.outerRadius=Y,X.startAngle=fe,X.endAngle=W,X.isBeveled=!0,X.axisInnerRadius=h,X.axisOuterRadius=u,X.stroke=void 0,X.strokeWidth=0,X});return P.append(I),P.translationX=_,P.translationY=_,P}),o.root.append(o.series),o.updateColors(i,r),o}return BWe(t,n),t.prototype.updateColors=function(e,i){this.series.forEach(function(r,o){var a;null===(a=r.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="radialColumn",t}(sv),jWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UWe=function(n){function t(e,i,r){var o=n.call(this,e,"radialBarTooltip")||this;o.data=[[6,8,10],[4,4,3],[5,4,2]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding)/2,l=.4*a,c=a+l,u=new re.BandScale;u.domain=o.data[0].map(function(_,b){return b}),u.range=[a,l],u.paddingInner=.5,u.paddingOuter=0;var d=u.bandwidth,h=KT(o.data),p=h.processedData,f=h.max,m=new re.LinearScale;m.domain=[0,Math.ceil(1.5*f)];var g=1.5*Math.PI,v=g+2*Math.PI;m.range=[g,v];var y=o.size/2;return o.series=p.map(function(_,b){var w=b<0?void 0:p[b-1],E=new re.Group({zIndex:1e6}),M=_.map(function(P,I){var k,L=null!==(k=w?.[I])&&void 0!==k?k:0,B=c-u.convert(I),Y=B+d,ne=m.convert(L),fe=m.convert(P),W=new re.Sector;return W.centerX=y,W.centerY=y,W.innerRadius=B,W.outerRadius=Y,W.startAngle=ne,W.endAngle=fe,W.stroke=void 0,W.strokeWidth=0,W});return E.append(M),E}),o.root.append(o.series),o.updateColors(i,r),o}return jWe(t,n),t.prototype.updateColors=function(e,i){this.series.forEach(function(r,o){var a;null===(a=r.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="radialBar",t}(sv),zWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),WWe=function(n){function t(e,i,r){var o=n.call(this,e,"radarLineTooltip")||this;o.markerSize=4,o.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],o.showRadiusAxisLine=!1;var l=fJ(o.root,o.data,o.size,(o.size-2*o.padding)/2,0,o.markerSize),u=l.markers;return o.lines=l.paths,o.markers=u,o.updateColors(i,r),o}return zWe(t,n),t.prototype.updateColors=function(e,i){var r=this;this.lines.forEach(function(o,a){var s=r.data[a].length;o.stroke=e[a];var l=a*s;r.markers.slice(l,l+s).forEach(function(d){d.stroke=i[a],d.fill=e[a]})})},t.chartType="radarLine",t}(sv),$We=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),KWe=function(n){function t(e,i,r){var o=n.call(this,e,"radarAreaTooltip")||this;o.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]],o.showRadiusAxisLine=!1;var a=(o.size-2*o.padding)/2;return o.areas=fJ(o.root,o.data,o.size,a,a-.3*o.size).paths,o.updateColors(i,r),o}return $We(t,n),t.prototype.updateColors=function(e,i){this.areas.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.chartType="radarArea",t}(sv),YWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qWe=function(n){function t(e,i,r){var o=n.call(this,e,"nightingaleTooltip")||this;o.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],o.showRadiusAxisLine=!1;var a=(o.size-2*o.padding)/2,s=new re.BandScale;s.domain=o.data[0].map(function(f,m){return m}),s.range=[-Math.PI,Math.PI],s.paddingInner=0,s.paddingOuter=0;var l=.7*s.bandwidth,c=KT(o.data),u=c.processedData,d=c.max,h=new re.LinearScale;h.domain=[0,d],h.range=[0,a];var p=o.size/2;return o.series=u.map(function(f,m){var g=m<0?void 0:u[m-1],v=new re.Group({zIndex:1e6}),y=f.map(function(_,b){var w=g?.[b],E=h.convert(_),M=h.convert(w??0),P=s.convert(b),I=P+l,k=new re.Sector;return k.centerX=p,k.centerY=p,k.innerRadius=M,k.outerRadius=E,k.startAngle=P,k.endAngle=I,k.stroke=void 0,k.strokeWidth=0,k});return v.append(y),v}),o.root.append(o.series),o.updateColors(i,r),o}return YWe(t,n),t.prototype.updateColors=function(e,i){this.series.forEach(function(r,o){var a;null===(a=r.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="nightingale",t}(sv),XWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QWe=function(n){function t(e,i,r){var o=n.call(this,e,"rangeBarTooltip")||this;return o.bars=o.createRangeBar(o.root,[3,3.5,3],o.size,o.padding,"vertical"),o.updateColors(i,r),o}return XWe(t,n),t.prototype.updateColors=function(e,i){this.bars.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]})},t.prototype.createRangeBar=function(e,i,r,o,a){var s="horizontal"===a,l=2*o,c=new re.BandScale;c.domain=i.map(function(m,g){return g}),c.range=[o,r-o],c.paddingInner=.3,c.paddingOuter=.3;var h=new re.LinearScale;h.domain=[.7*i.reduce(function(m,g){return Math.min(m,g)},1/0),1.3*i.reduce(function(m,g){return Math.max(m,g)},0)],h.range=[l,r-l];var p=c.bandwidth,f=i.map(function(m,g){var v=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([.7*m,1.3*m],2),y=v[0],_=v[1],b=c.convert(g),w=h.convert(y),E=h.convert(_)-w,M=new re.Rect;return M.x=s?w:b,M.y=s?b:w,M.width=s?E:p,M.height=s?p:E,M.strokeWidth=0,M.crisp=!0,M});return e.append(f),f},t.chartType="rangeBar",t}(Ur),JWe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hb=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},yJ=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},e4e=function(n){function t(e,i,r){var o=n.call(this,e,"rangeAreaTooltip")||this,c=[MV({offset:1.5,length:4,pattern:{low:3,high:5,period:4}}),MV({offset:1.5,length:4,pattern:{low:2.25,high:4.25,period:4}}),MV({offset:3,length:4,pattern:{low:2.5,high:4.5,period:4}})].map(function(p){return p.map(function(f){var m=Hb(f,2),v=m[1];return{x:m[0],low:v-.875,high:v+.875}})}),u=o.createRangeArea(o.root,c,o.size,o.padding),h=u.areas;return o.lines=u.lines,o.areas=h,o.updateColors(i,r),o}return JWe(t,n),t.prototype.updateColors=function(e,i){e=CJ(e,1,2),i=CJ(i,1,2),this.lines.forEach(function(r,o){var a=Hb(r,2),s=a[0],l=a[1];s.fill=void 0,s.stroke=i[o],l.fill=void 0,l.stroke=i[o]}),this.areas.forEach(function(r,o){r.fill=e[o]})},t.prototype.createRangeArea=function(e,i,r,o){var a=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.min(y,_.x)},g)},1/0),s=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.max(y,_.x)},g)},-1/0),l=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.min(y,_.low)},g)},1/0),c=i.reduce(function(g,v){return v.reduce(function(y,_){return Math.max(y,_.high)},g)},-1/0),u=new re.LinearScale;u.domain=[a,s],u.range=[o,r-o];var d=2*o,h=new re.LinearScale;h.domain=[l,c],h.range=[r-d,d];var p=[],f=[];return i.map(function(g){var v=new re.Path,y=new re.Path,_=new re.Path;return p.push([v,y]),f.push(_),v.strokeWidth=0,y.strokeWidth=0,_.strokeWidth=0,_.fillOpacity=.8,v.path.clear(),y.path.clear(),_.path.clear(),g.map(function(b,w){var M=b.low,P=b.high,I=u.convert(b.x),k=h.convert(M),L=h.convert(P),B=w>0?"lineTo":"moveTo";return v.path[B](I,L),y.path[B](I,k),_.path[B](I,L),[I,k]})}).forEach(function(g,v){for(var _=f[v],b=g.length-1;b>=0;b--){var w=Hb(g[b],2);_.path.lineTo(w[0],w[1])}}),e.append(f.concat.apply(f,yJ([],Hb(p),!1))),{lines:p,areas:f}},t.chartType="rangeArea",t}(Ur);function MV(n){var t=n.offset,e=n.length,i=n.pattern,r=function s(u,d,h){var p=h.period,f=u/p,g=[0,.5].map(function(y){return y-f}).map(_J).sort(function(y,_){return y-_});return Array.from({length:Math.floor(g.length*(p/d))},function(y,_){return g[_%g.length]+Math.floor(_/g.length)}).map(function(y){return y*p}).map(function(y){return l(y,u,h)})}(t,e,i),a=e;return(0===r.length||0!==r[0][0])&&r.unshift(l(0,t,i)),r[r.length-1][0]!==a&&r.push(l(a,t,i)),r;function l(u,d,h){return[u,c(d+u,h)]}function c(u,d){var h=d.low,p=d.high,m=_J(u/d.period);return h+(p-h)*(m>.5?1-2*(m-.5):2*m)}}function _J(n){var t=n%1;return t<0?t+1:t}function CJ(n,t,e){var i=yJ([],Hb(n),!1),r=i[t];return i[t]=i[e],i[e]=r,i}var t4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),n4e=function(n){function t(e,i,r,o,a){var s=n.call(this,e,"boxPlotTooltip")||this,l=s.padding,c=s.size,u=[11,11.5,10.5],m=new re.LinearScale;m.domain=[.8*u.reduce(function(_,b){return Math.min(_,b)},1/0),1.2*u.reduce(function(_,b){return Math.max(_,b)},0)],m.range=[c-1.5*l,l];var g=new re.BandScale;g.domain=u.map(function(_,b){return b}),g.range=[l,c-l],g.paddingInner=.4,g.paddingOuter=.2;var v=Math.round(g.bandwidth),y=Math.round(g.bandwidth/2);return s.boxPlotGroups=u.map(function(_,b){var w=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([.8*_,.9*_,1.1*_,1.2*_],4),E=w[0],M=w[1],I=w[3],k=Math.round(m.convert(w[2])),L=Math.round(g.convert(b)),B=Math.round(L+v),Y=Math.round(m.convert(M)),ne=Math.round(m.convert(E)),fe=Math.round(m.convert(_)),W=Math.round(m.convert(I)),$=L+y,X=new re.Group,ce=new re.Rect,Ee=new re.Line,ke=new re.Line,Ae=new re.Line,nt=new re.Line,qe=new re.Line;return ce.x=L,ce.y=k,ce.width=v,ce.height=Y-k,ce.strokeWidth=1,ce.strokeOpacity=.75,ce.crisp=!0,s.setLineProperties(Ee,L,B,fe,fe),s.setLineProperties(ke,$,$,W,k),s.setLineProperties(Ae,$,$,ne,Y),s.setLineProperties(nt,L,B,W,W),s.setLineProperties(qe,L,B,ne,ne),X.append([ce,Ee,ke,Ae,nt,qe]),X}),s.updateColors(i,r,o,a),s.root.append(s.boxPlotGroups),s}return t4e(t,n),t.prototype.updateColors=function(e,i,r,o){var a,s=r?.properties.get(il.DEFAULT_BACKGROUND_COLOUR),l=null!==(a=Array.isArray(s)?s[0]:s)&&void 0!==a?a:"white";this.boxPlotGroups.forEach(function(c,u){var d;null===(d=c.children)||void 0===d||d.forEach(function(h){var p=e[u%e.length];h.fill=o?p:Xi.Color.interpolate(p,l)(.7),h.stroke=i[u%i.length]})})},t.prototype.setLineProperties=function(e,i,r,o,a){e.x1=i,e.x2=r,e.y1=o,e.y2=a,e.strokeOpacity=.75},t.chartType="boxPlot",t}(Ur),r4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),s4e=function(n){function t(e,i,r,o,a){var s=n.call(this,e,"treemapTooltip")||this,c=s.size,u=s.padding,d=[[1,1],[3,2,1]],p=d.length%2==0?.3:.2,f=[u,c-u],m=d.length,g=m*(m+1)/2,v=p/(m-1),y=f[1]-f[0],_=y-p,b=f[0];s.rects=d.reduce(function(E,M,P){E??(E=[]);var k=_*((m-P)/g),L=M.length,B=M.reduce(function($,X){return $+X},0),Y=p/(L-1||1),ne=L>1?y-p:y,fe=f[0],W=M.map(function($){var X=new re.Rect,ce=ne*$/B;return X.x=b,X.y=fe,X.width=k,X.height=ce,X.strokeWidth=.75,X.crisp=!0,fe+=ce+Y,X});return b+=k+v,E.push.apply(E,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(W),!1)),E},[]),s.updateColors(i,r,o,a);var w=new re.Group;return w.setClipRectInGroupCoordinateSpace(new re.BBox(u,u,c-u,c-u)),w.append(s.rects),s.root.append(w),s}return r4e(t,n),t.prototype.updateColors=function(e,i,r,o){var a,s=(r??{}).properties,l=s?.get(il.DEFAULT_BACKGROUND_COLOUR),c=null!==(a=Array.isArray(l)?l[0]:l)&&void 0!==a?a:"white";this.rects.forEach(function(u,d){u.fill=e[d%i.length],u.stroke=o?i[d%i.length]:c})},t.chartType="treemap",t}(av),l4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),c4e=function(n){function t(e,i,r){var o=n.call(this,e,"sunburstTooltip")||this;o.data=[[[],[]],[[],[]],[[],[]]],o.angleOffset=-Math.PI/2,o.innerRadiusRatio=0,o.showRadiusAxisLine=!1,o.showAngleAxisLines=!1;var s=o.data,u=o.angleOffset,d=o.innerRadiusRatio,h=(o.size-2*o.padding)/2,p=[u+0,u+2*Math.PI],f=Math.abs(p[1]-p[0]),m=[h*d,h],g=Math.abs(m[1]-m[0]),v=0,y=function(M,P){M.forEach(function(I){var k=P+1;v=Math.max(v,k),y(I,k)})};y(s,0);var _=g/v,b=o.size/2,w=p[0];o.series=[];var E=function(M,P,I,k,L){if(Array.isArray(M)){var Y=P+1,ne=I;M.forEach(function(fe,W,$){var X=L;X||(X=new re.Group,o.series.push(X));var ce=m[0]+P*_,Ee=m[0]+Y*_,Ae=ne,nt=Ae+k*(1/$.length),qe=new re.Sector;qe.centerX=b,qe.centerY=b,qe.innerRadius=ce,qe.outerRadius=Ee,qe.startAngle=Ae,qe.endAngle=nt,qe.stroke=void 0,qe.strokeWidth=0,qe.inset=.75,ne=nt,X.append(qe),E(fe,Y,Ae,Math.abs(nt-Ae),X)})}};return E(s,0,w,f),o.root.append(o.series),o.updateColors(i,r),o}return l4e(t,n),t.prototype.updateColors=function(e,i){this.series.forEach(function(r,o){var a;null===(a=r.children)||void 0===a||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=i[o%i.length]})})},t.chartType="sunburst",t}(sv),u4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),p4e=function(n){function t(e,i,r,o,a){var l,c,s=this,d=(s=n.call(this,e,"heatmapTooltip")||this).size,h=s.padding,f=Array.from({length:3},function(w,E){return Array.from({length:3},function(M,P){return P})}),m=f.map(function(w,E){return E}),g=new re.BandScale;g.domain=m,g.range=[h,d-h],g.paddingInner=.01,g.paddingOuter=.1;var v=new re.BandScale;v.domain=m,v.range=[h,d-h],v.paddingInner=.01,v.paddingOuter=.1;var y=null!==(l=g.bandwidth)&&void 0!==l?l:0,_=null!==(c=v.bandwidth)&&void 0!==c?c:0;s.rects=f.reduce(function(w,E,M){w??(w=[]);var P=E.map(function(I,k){var L=new re.Rect;return L.x=g.convert(M),L.y=v.convert(k),L.width=y,L.height=_,L.strokeWidth=0,L.crisp=!0,L});return w.push.apply(w,function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(P),!1)),w},[]),s.updateColors(i,r,o,a);var b=new re.Group;return b.setClipRectInGroupCoordinateSpace(new re.BBox(h,h,d-h,d-h)),b.append(s.rects),s.root.append(b),s}return u4e(t,n),t.prototype.updateColors=function(e,i,r,o){var a,s=(r??{}).properties,l=s?.get(il.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),c=s?.get(il.DEFAULT_BACKGROUND_COLOUR),u=null!==(a=Array.isArray(c)?c[0]:c)&&void 0!==a?a:"white",d=o?[e[0],e[1]]:l,h=o?i[0]:u;this.rects.forEach(function(p,f){p.fill=Xi.Color.interpolate(d[0],d[1])(.2*f),p.stroke=h})},t.chartType="heatmap",t}(av),f4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),v4e=function(n){function t(e,i,r,o,a){var s=n.call(this,e,"waterfallTooltip")||this;return s.data=[4,3,-3,6,-3],s.bars=s.createWaterfall(s.root,s.data,s.size,s.padding,"vertical").bars,s.updateColors(i,r,o,a),s}return f4e(t,n),t.prototype.updateColors=function(e,i,r,o){var a,s,l=this.data,c=(r??{}).properties,u={fill:e[0],stroke:i[0]},d={fill:e[1],stroke:i[1]},h=o?u:null!==(a=c?.get(il.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS))&&void 0!==a?a:u,p=o?d:null!==(s=c?.get(il.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS))&&void 0!==s?s:d;this.bars.forEach(function(f,m){var g=l[m]>=0;f.fill=g?h.fill:p.fill,f.stroke=g?h.stroke:p.stroke})},t.prototype.createWaterfall=function(e,i,r,o,a){var s=2*o,l=KT(i.map(function(w){return[w]})),u=l.min,d=l.max,h=l.processedData.reduce(function(w,E){return w.concat(E)},[]),p=new re.LinearScale;p.domain=[Math.min(u,0),d],p.range=[r-s,s];var f=new re.BandScale;f.domain=i.map(function(w,E){return E}),f.range=[o,r-o],f.paddingInner=.2,f.paddingOuter=.3;var m=f.bandwidth,g=new re.Path;g.stroke="#575757",g.strokeWidth=0;var v=Math.floor(g.strokeWidth)%2/2,y=g.path;y.clear();var _="horizontal"===a,b=h.map(function(w,E){var M=E>0?h[E-1]:0,I=i[E]>0,k=Math.round(p.convert(w)),L=Math.round(p.convert(M)),B=(I?k:L)-v,ne=Math.abs((I?L:k)+v-B),fe=f.convert(E),W=new re.Rect;W.x=_?B:fe,W.y=_?fe:B,W.width=_?ne:m,W.height=_?m:ne,W.strokeWidth=0,W.crisp=!0;var $=k+v,X=L+v;return E>0&&y.lineTo(_?X:W.x,_?W.y:X),y.moveTo(_?$:W.x,_?W.y:$),W});return e.append(function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([g],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(b),!1)),{bars:b}},t.chartType="waterfall",t}(Ur),y4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_4e=function(n){function t(e,i,r){var o=n.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var s=o.root,c=o.lineData,u=o.size,d=o.padding;return o.columns=Bb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=EV(s,c,u,d),o.updateColors(i,r),o}return y4e(t,n),t.prototype.updateColors=function(e,i){this.columns.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]}),this.lines.forEach(function(r,o){r.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(Ur),C4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),b4e=function(n){function t(e,i,r){var o=n.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var s=o.root,c=o.areaData,u=o.size,d=o.padding;o.columns=Bb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var h=new re.BandScale;h.range=[d,u-d],h.domain=[0,1,2,3,4],h.paddingInner=1,h.paddingOuter=0;var p=new re.LinearScale;p.range=[u-d,d],p.domain=[0,6];var f=[],m=p.convert(0),g=h.convert(0);return c.forEach(function(v,y){var _=f[y]||(f[y]=[]);v.forEach(function(w,E){var M=w,I=h.convert(E),k=p.convert(M);_[E]={x:I,y:k}});var b=h.convert(v.length-1);f[y].push({x:b,y:m},{x:g,y:m})}),o.areas=f.map(function(v){var y=new re.Path;y.strokeWidth=0,y.fillOpacity=.8;var _=y.path;return v.forEach(function(b,w){return _[w>0?"lineTo":"moveTo"](b.x,b.y)}),y}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(i,r),o}return C4e(t,n),t.prototype.updateColors=function(e,i){this.areas.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]}),this.columns.forEach(function(r,o){r.fill=e[o+1],r.stroke=i[o+1]})},t.chartType="areaColumnCombo",t}(Ur),w4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),S4e=function(n){function t(e,i,r){var o=n.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var s=o.root,c=o.lineData,u=o.size,d=o.padding;o.columns=Bb({stacked:!1,root:s,data:o.columnData,size:u,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=EV(s,c,u,d);var h="grey",f=new re.Line;f.x1=d,f.y1=d,f.x2=d,f.y2=u-d+3,f.stroke=h;var m=new re.Line;m.x1=d-3+1,m.y1=u-d,m.x2=u-d+1,m.y2=u-d,m.stroke=h;var g=new re.Path;return o.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,s.append([m,f,g]),o.updateColors(i,r),o}return w4e(t,n),t.prototype.updateColors=function(e,i){this.columns.forEach(function(r,o){r.fill=e[o],r.stroke=i[o]}),this.lines.forEach(function(r,o){r.stroke=e[o+2]})},t.prototype.buildPenIconPath=function(e){var i=e.path;i.moveTo(25.76,43.46),i.lineTo(31.27,48.53),i.moveTo(49.86,22),i.lineTo(49.86,22),i.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),i.lineTo(46.86,21.41),i.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),i.lineTo(25.51,43.8),i.lineTo(25.43,43.89),i.lineTo(23.01,51.89),i.lineTo(22.83,52.46),i.lineTo(31.02,48.86),i.lineTo(49.02,28.52),i.lineTo(49.02,28.52),i.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),i.lineTo(50.75,24.93),i.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),i.closePath(),i.moveTo(41.76,25.5),i.lineTo(47.34,30.5),i.moveTo(40.74,26.65),i.lineTo(46.25,31.71)},t.chartType="customCombo",t}(av),x4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),AV=function(){return AV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},AV.apply(this,arguments)},bJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},wJ=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SJ={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:uWe},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:mJ},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:pWe}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:mWe},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:gJ},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:yWe}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:wWe},donut:{range:!0,pivot:!0,enterprise:!1,icon:DV},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:DV}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:xWe}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:TWe},bubble:{range:!0,pivot:!0,enterprise:!1,icon:OWe}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:PWe},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:TV},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:kWe}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:WWe},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:KWe},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:qWe},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:HWe},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:UWe}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:n4e},histogram:{range:!0,pivot:!1,enterprise:!1,icon:NWe},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:QWe},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:e4e}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:s4e},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:c4e}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:p4e},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:v4e}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:_4e},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:b4e},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:S4e}}},E4e=function(n){function t(e,i,r,o,a,s){void 0===s&&(s=Ike);var l=n.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartController=e,l.fills=i,l.strokes=r,l.themeTemplateParameters=o,l.isCustomTheme=a,l.chartGroups=AV({},s),l}return x4e(t,n),t.prototype.init=function(){var e,i,r,o,a=this,s=this.getGui(),l=this.chartController.isEnterprise(),c=this.chartController.isPivotChart(),u=!c,d=Object.keys(this.chartGroups).map(function(M){var P,I=M in SJ?SJ[M]:void 0;if(!I)return D.warnOnce("invalid chartGroupsDef config '".concat(M,"'")),null;var L=(null!==(P=a.chartGroups[M])&&void 0!==P?P:[]).map(function(B){var Y=B in I?I[B]:void 0;return Y?!l&&Y.enterprise?null:u&&Y.range||c&&Y.pivot?Y:null:(D.warnOnce("invalid chartGroupsDef config '".concat(M,".").concat(B,"'")),null)}).filter(function(B){return null!=B});return 0===L.length?null:{label:a.chartTranslationService.translate(M),items:L}}).filter(function(M){return null!=M});try{for(var h=wJ(d),p=h.next();!p.done;p=h.next()){var f=p.value,g=f.items,v=this.createBean(new Vs({title:f.label,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"})),y=function(M){var P=M.icon,I=document.createElement("div");I.classList.add("ag-chart-mini-thumbnail");var k=P.chartType;_.addManagedListener(I,"click",function(){a.chartController.setChartType(k),a.updateSelectedMiniChart()}),_.wrappers[k]=I,_.createBean(new P(I,_.fills,_.strokes,_.themeTemplateParameters,_.isCustomTheme)),v.addItem(I)},_=this;try{for(var b=(r=void 0,wJ(g)),w=b.next();!w.done;w=b.next())y(w.value)}catch(M){r={error:M}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}s.appendChild(v.getGui())}}catch(M){e={error:M}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(M){return"customCombo"!==M})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var i in this.wrappers)this.wrappers[i].classList.toggle("ag-selected",i===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',bJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),bJ([H],t.prototype,"init",null),t}(le),D4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},T4e=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.miniChartsContainers=[],i.cardItems=[],i.activePaletteIndex=0,i.palettes=[],i.themes=[],i.chartController=e,i}return D4e(t,n),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",D.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,rl.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.addManagedListener(this.chartController,rl.EVENT_CHART_API_UPDATE,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var o=e.miniChartsContainers.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");if(o){var a=o.offsetParent;a&&e.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var r,o,i=this,a=this.chartController.getPalettes(),s=this.chartController.getThemeTemplateParameters(),l=null===(o=null===(r=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===r?void 0:r.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;if(!(D.shallowCompare(a,this.palettes)&&!e||this.isAnimating)){this.palettes=a,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(function(u){return u===i.chartController.getChartThemeName()}),this.cardItems=[],D.clearElement(this.eCardSelector),this.destroyMiniCharts();var c=this.themes;this.palettes.forEach(function(u,d){var h=i.activePaletteIndex===d,p=u.fills,f=u.strokes,g=!gV(c[d]),v=i.createBean(new E4e(i.chartController,p,f,s[d],g,l));i.miniChartsContainers.push(v),i.eMiniChartsContainer.appendChild(v.getGui()),i.addCardLink(d),h?v.updateSelectedMiniChart():v.setDisplayed(!1)}),D.setDisplayed(this.eNavBar,this.palettes.length>1),D.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var i=this,r=document.createElement("div");r.classList.add("ag-chart-settings-card-item"),this.addManagedListener(r,"click",function(){i.setActivePalette(e,e<i.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(r),this.cardItems.push(r)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,i){var r=this;if(!this.isAnimating&&this.activePaletteIndex!==e){D.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),s=this.miniChartsContainers[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var c="left"===i?-1:1,u=l.style.left="".concat(D.getAbsoluteWidth(this.getGui())*c,"px");this.activePaletteIndex=e,this.isAnimating=!0;var d="ag-animating";s.setDisplayed(!0),o.addCssClass(d),s.addCssClass(d),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left="".concat(-parseFloat(u),"px"),l.style.left="0px"},0),window.setTimeout(function(){r.isAnimating=!1,o.removeCssClass(d),s.removeCssClass(d),o.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){D.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',lf([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),lf([V("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),lf([V("eNavBar")],t.prototype,"eNavBar",void 0),lf([V("eCardSelector")],t.prototype,"eCardSelector",void 0),lf([V("ePrevBtn")],t.prototype,"ePrevBtn",void 0),lf([V("eNextBtn")],t.prototype,"eNextBtn",void 0),lf([H],t.prototype,"postConstruct",null),t}(le),M4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},A4e=function(n){function t(e){var i=n.call(this)||this;i.tabs=[];var o=e.panels,a=e.chartOptionsService;return i.chartController=e.controller,i.chartOptionsService=a,i.panels=o,i}return M4e(t,n),t.prototype.init=function(){var e=this;this.panels.forEach(function(i){var r=i.replace("chart","").toLowerCase(),o=e.createTab(i,r,e.getPanelClass(r)),a=o.comp;e.tabs.push(o.tab),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new zY({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,i,r){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-".concat(i));var a=new r(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(i);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:vt.resolve(o),getScrollableContainer:function(){return o.querySelector(".ag-scrollable-container")||o},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),n.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return sze;case t.TAB_FORMAT:return nWe;default:return T4e}},t.TAB_DATA="data",t.TAB_FORMAT="format",xJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),xJ([H],t.prototype,"init",null),t}(le),O4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},DJ=function(n){function t(e,i,r,o){var a=n.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=i,a.chartController=r,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu(a.defaultPanel)}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.panels=[],a.buttonListenersDestroyFuncs=[],a.menuVisible=!1,a}return O4e(t,n),t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,x.EVENT_CHART_CREATED,function(i){var r;i.chartId===e.chartController.getChartId()&&null!==(r=e.gridOptionsService.get("chartToolPanelsDef"))&&void 0!==r&&r.defaultToolPanel&&e.showMenu(e.defaultPanel,!1)}),this.refreshMenuClasses(),!this.gridOptionsService.get("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this))),this.addManagedListener(this.chartController,rl.EVENT_CHART_API_UPDATE,this.createButtons.bind(this))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,o=[];return["chartLink","chartUnlink","chartDownload"].some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push("top"),["chartSettings","chartData","chartFormat"].some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push(this.gridOptionsService.get("enableRtl")?"left":"right"),o},t.prototype.getToolbarOptions=function(){var i,r,o,e=this;if(this.gridOptionsService.get("chartToolPanelsDef")){var s=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],c={defaultItems:s},u=(l=this.gridOptionsService.getCallback("getChartToolbarItems"))?l(c).filter(function(g){if(!A7.includes(g)){var v=yL.includes(g)?"AG Grid: '".concat(g,"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead"):"AG Grid: '".concat(g,"' is not a valid Chart Toolbar Option");return console.warn(v),!1}return!0}):s,d=null===(r=null===(i=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===i?void 0:i.panels)||void 0===r?void 0:r.map(function(g){var v=qE[g];return v||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '".concat(g,"'")),v}).filter(function(g){return!!g});this.panels=d||Object.values(qE),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(g){return"chartData"!==g}));var h=null===(o=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===o?void 0:o.defaultToolPanel;return this.defaultPanel=h&&qE[h]||this.panels[0],this.panels.length>0?function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([this.panels[0]],EJ(u),!1):u}var l,p=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(l=this.gridOptionsService.getCallback("getChartToolbarItems")){var f=this.gridOptionsService.get("suppressChartToolPanelsButton");p=l(c={defaultItems:f?p:A7}).filter(function(y){if(!e.buttons[y])return console.warn("AG Grid: '".concat(y,"' is not a valid Chart Toolbar Option")),!1;if(!f&&yL.includes(y)){var _="AG Grid: '".concat(y,"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead");return console.warn(_),!1}return!0}),f||(p=p.concat(yL))}this.chartController.isPivotChart()&&(p=p.filter(function(v){return"chartData"!==v}));var m=["chartUnlink","chartLink","chartDownload"];return this.panels=p.filter(function(v){return-1===m.indexOf(v)}),this.defaultPanel=this.panels[0],p.filter(function(v){return-1!==m.indexOf(v)||e.panels.length&&v===e.panels[0]})},t.prototype.toggleDetached=function(e){var i=e.target,r=i.classList.contains("ag-icon-linked");i.classList.toggle("ag-icon-linked",!r),i.classList.toggle("ag-icon-unlinked",r);var a=this.chartTranslationService.translate(r?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");a&&(i.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.buttonListenersDestroyFuncs.forEach(function(r){return r()}),this.buttonListenersDestroyFuncs=[],this.chartToolbarOptions=this.getToolbarOptions();var i=this.eMenu;D.clearElement(i),this.chartToolbarOptions.forEach(function(r){var a=EJ(e.buttons[r],2),l=a[1],c=D.createIconNoSpan(a[0],e.gridOptionsService,void 0,!0);c.classList.add("ag-chart-menu-icon");var u=e.chartTranslationService.translate(r+"ToolbarTooltip");u&&c instanceof HTMLElement&&(c.title=u),e.buttonListenersDestroyFuncs.push(e.addManagedListener(c,"click",l)),i.appendChild(c)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var i=this,r=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new JY({minWidth:r,width:r,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new A4e({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,le.EVENT_DESTROYED,function(){return i.destroyBean(i.tabbedMenu)}),new vt(function(a){window.setTimeout(function(){o.setBodyComponent(i.tabbedMenu),i.tabbedMenu.showTab(e),a(o),i.addManagedListener(i.eChartContainer,"click",function(s){i.getGui().contains(s.target)||i.menuVisible&&i.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,i){var r=this;if(void 0===i&&(i=!0),i||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var a=this.panels.indexOf(e||this.defaultPanel);a<0&&(console.warn("AG Grid: '".concat(e,"' is not a valid Chart Tool Panel name")),a=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(a),this.showContainer()):this.createMenuPanel(a).then(this.showContainer.bind(this))}i||setTimeout(function(){r.isAlive()&&r.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.get("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth="".concat(e,"px")},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-button ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',jb([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jb([V("eMenu")],t.prototype,"eMenu",void 0),jb([V("eHideButton")],t.prototype,"eHideButton",void 0),jb([V("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),jb([H],t.prototype,"postConstruct",null),t}(le),P4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),YT=function(){return YT=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},YT.apply(this,arguments)},TJ=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},F4e=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.chartMenu=e,i.destroyableChartListeners=[],i.editing=!1,i}return P4e(t,n),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keydown",function(i){e.editing&&"Enter"===i.key&&!i.shiftKey&&(e.handleEndEditing(),i.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,i){var r,o,a=this;this.chartController=e,this.chartOptionsService=i;try{for(var s=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.destroyableChartListeners),l=s.next();!l.done;l=s.next())(0,l.value)()}catch(g){r={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.destroyableChartListeners=[];var d=this.chartController.getChartProxy().getChart(),h=d.scene.canvas.element,p=this.addManagedListener(h,"dblclick",function(g){var v=d.title;if(v&&v.node.containsPoint(g.offsetX,g.offsetY)){var y=v.node.computeBBox(),_=v.node.inverseTransformPoint(y.x,y.y);a.startEditing(YT(YT({},y),_),h.width)}}),f=!1,m=this.addManagedListener(h,"mousemove",function(g){var v=d.title,y=!!(v&&v.enabled&&v.node.containsPoint(g.offsetX,g.offsetY));f!==y&&(h.style.cursor=y?"pointer":""),f=y});this.destroyableChartListeners=[p,m]},t.prototype.startEditing=function(e,i){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var o=Math.max(Math.min(e.width+20,i),300),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),c=l===this.chartTranslationService.translate("titlePlaceholder");a.value=c?"":l;var u=l.split(/\r?\n/g).length;s.left=Math.round(e.x+e.width/2-o/2-1)+"px",s.top=Math.round(e.y+e.height/2-u*this.getLineHeight()/2-2)+"px",s.width=Math.round(o)+"px",s.lineHeight=this.getLineHeight()+"px",this.updateHeight(),a.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),i=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,r=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(i,r)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},t.prototype.handleEndEditing=function(){var e=this,i=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",i)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var i=this.getGui().value;i&&""!==i.trim()?(this.chartOptionsService.setChartOption("title.text",i),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',TJ([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),TJ([H],t.prototype,"init",null),t}(le),k4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},L4e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return k4e(t,n),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&e.pivoting&&this.updatePivotKeysForSSRM();var r=this.extractRowsFromGridRowModel(e);return r.chartData=this.aggregateRowsByDimension(e,r.chartData),r},t.prototype.extractRowsFromGridRowModel=function(e){var u,i=this,r=[],o={},a={},s={},l={},c=[];if(e.crossFiltering)l=this.getFilteredRowNodes(),u=(c=this.getAllRowNodes()).length;else{var d=this.gridRowModel.getRowCount()-1;u=(e.endRow>=0?Math.min(e.endRow,d):d)-e.startRow+1}for(var p=function(y){var _={},b=e.crossFiltering?c[y]:f.gridRowModel.getRow(y+e.startRow);e.dimensionCols.forEach(function(w){var E=w.colId,M=i.columnModel.getGridColumn(E);if(M){var P=i.valueService.getValue(M,b);if(e.grouping){var I=P&&P.toString?String(P.toString()):"",k=t.getGroupLabels(b,I);_[E]={labels:k,toString:function(){return this.labels.filter(function(B){return!!B}).reverse().join(" - ")}},b.group&&(a[k.toString()]=y);var L=k.slice(1,k.length).toString();L&&(s[L]=a[L])}else _[E]=P}else _[Ub.DEFAULT_CATEGORY]=y+1}),e.valueCols.forEach(function(w){var E=[],M=w.getColDef().pivotKeys;M&&(E=M.slice());var P=w.getColDef().headerName;P&&E.push(P),E.length>0&&(o[w.getId()]=E);var I=w.getColId();if(e.crossFiltering){var k=I+"-filtered-out",B=null!=(L=i.valueService.getValue(w,b))&&"function"==typeof L.toNumber?L.toNumber():L;l[b.id]?(_[I]=B,_[k]=e.aggFunc||e.isScatter?void 0:0):(_[I]=e.aggFunc||e.isScatter?void 0:0,_[k]=B)}else{var L;(L=i.valueService.getValue(w,b))&&L.hasOwnProperty("toString")&&(L=parseFloat(L.toString())),_[I]=null!=L&&"function"==typeof L.toNumber?L.toNumber():L}}),b.footer&&(_.footer=!0),r.push(_)},f=this,m=0;m<u;m++)p(m);if(e.grouping){var g=D.values(s);r=r.filter(function(y,_){return!y.footer&&!D.includes(g,_)})}return{chartData:r,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,i){var r=this,o=e.dimensionCols;if(!e.aggFunc||0===o.length)return i;var a=D.last(o),s=a&&a.colId,l={},c=[];return i.forEach(function(u){var d=l;o.forEach(function(h){var p=h.colId,f=u[p];if(p===s){var m=d[f];m||(m={__children:[]},o.forEach(function(g){var v=g.colId;m[v]=u[v]}),d[f]=m,c.push(m)),m.__children.push(u)}else d[f]||(d[f]={}),d=d[f]})}),Ze.__assertRegistered(ie.RowGroupingModule,"Charting Aggregation",this.context.getGridId())&&c.forEach(function(u){return e.valueCols.forEach(function(d){if(e.crossFiltering)e.valueCols.forEach(function(f){var m=f.getColId(),g=u.__children.filter(function(w){return typeof w[m]<"u"}).map(function(w){return w[m]}),v=r.aggregationStage.aggregateValues(g,e.aggFunc);u[f.getId()]=v&&typeof v.value<"u"?v.value:v;var y="".concat(m,"-filtered-out"),_=u.__children.filter(function(w){return typeof w[y]<"u"}).map(function(w){return w[y]}),b=r.aggregationStage.aggregateValues(_,e.aggFunc);u[y]=b&&typeof b.value<"u"?b.value:b});else{var h=u.__children.map(function(f){return f[d.getId()]}),p=0;Ze.__assertRegistered(ie.RowGroupingModule,"Charting Aggregation",r.context.getGridId())&&(p=r.aggregationStage.aggregateValues(h,e.aggFunc)),u[d.getId()]=p&&typeof p.value<"u"?p.value:p}})}),c},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var i=this.extractPivotKeySeparator(e);e.forEach(function(r){if(""===i)r.getColDef().pivotKeys=[];else{var o=r.getColId().split(i);r.getColDef().pivotKeys=o.slice(0,o.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var i=function(o,a){var s=o.getGroupId();return o.getParent()?i(o.getParent(),s):a.split(s)[1][0]},r=e[0];return null==r.getParent()?"":i(r.getParent(),r.getColId())},t.getGroupLabels=function(e,i){for(var r=[i];e&&0!==e.level;)(e=e.parent)&&r.push(e.key);return r},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(i){e[i.id]=i}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(i){e.push(i)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var i=this.sortController.getSortOptions();return i&&0!=i.length?this.rowNodeSorter.doFullSort(e,i):e},lv([C("rowModel")],t.prototype,"gridRowModel",void 0),lv([C("valueService")],t.prototype,"valueService",void 0),lv([C("columnModel")],t.prototype,"columnModel",void 0),lv([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),lv([C("sortController")],t.prototype,"sortController",void 0),lv([gt("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(z),N4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qT=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},V4e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return N4e(t,n),t.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.getGroupDisplayColumns=function(){return this.columnModel.getGroupDisplayColumns()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.getChartColumns=function(){var e=this,i=this.columnModel.getAllDisplayedColumns(),r=new Set,o=new Set;return i.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":return void r.add(a);case"series":return void o.add(a);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '".concat(l,"' supplied, instead use 'category', 'series' or 'excluded'"))}"ag-Grid-AutoColumn"!==s.colId?a.isPrimary()?(e.isNumberCol(a)?o:r).add(a):o.add(a):r.add(a)}),{dimensionCols:r,valueCols:o}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var i=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!i)return!1;var r=this.valueService.getValue(e,i);return null==r&&(r=this.extractLeafData(i,e)),null!=r&&"function"==typeof r.toNumber&&(r=r.toNumber()),"number"==typeof r},t.prototype.extractLeafData=function(e,i){if(!e.allLeafChildren)return null;for(var r=0;r<e.allLeafChildren.length;r++){var a=this.valueService.getValue(i,e.allLeafChildren[r]);if(null!=a)return a}return null},qT([C("columnModel")],t.prototype,"columnModel",void 0),qT([C("valueService")],t.prototype,"valueService",void 0),qT([C("rowRenderer")],t.prototype,"rowRenderer",void 0),qT([oe("chartColumnService")],t)}(z),G4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),H4e=function(n){function t(e){var r,i=this;return(i=n.call(this)||this).suppressComboChartWarnings=!1,i.chartDataModel=e,i.seriesChartTypes=null!==(r=e.params.seriesChartTypes)&&void 0!==r?r:[],i}return G4e(t,n),t.prototype.init=function(){this.initComboCharts()},t.prototype.update=function(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()},t.prototype.initComboCharts=function(){("customCombo"===this.chartDataModel.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.updateSeriesChartTypes=function(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var i=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!i&&e.secondaryAxis,e}),"customCombo"===this.chartDataModel.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '".concat(a.chartType,"' supplied in 'seriesChartTypes', converting to 'line' instead.")),a.chartType="line"),a});var o=this.chartDataModel.valueColState.map(function(a){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId})||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '".concat(a.colId,"', defaulting to 'line'.")),{colId:a.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartDataModel,i=e.chartType,o="columnLineCombo"===i?"groupedColumn":"stackedArea",a="columnLineCombo"===i?"line":"groupedColumn",s=e.valueColState.filter(function(c){return c.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(c,u){return{colId:c.colId,chartType:u>=l?a:o,secondaryAxis:!1}})},t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([H],t.prototype,"init",null),t}(z),j4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cv=function(){return cv=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},cv.apply(this,arguments)},OV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hh=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},ph=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},Ub=function(n){function t(e){var i=n.call(this)||this;return i.unlinked=!1,i.chartData=[],i.valueColState=[],i.dimensionColState=[],i.columnNames={},i.crossFiltering=!1,i.grouping=!1,i.params=e,i.chartId=e.chartId,i.chartType=e.chartType,i.pivotChart=e.pivotChart,i.chartThemeName=e.chartThemeName,i.aggFunc=e.aggFunc,i.referenceCellRange=e.cellRange,i.suppliedCellRange=e.cellRange,i.suppressChartRanges=e.suppressChartRanges,i.unlinked=!!e.unlinkChart,i.crossFiltering=!!e.crossFiltering,i}return j4e(t,n),t.prototype.init=function(){this.datasource=this.createManagedBean(new L4e),this.chartColumnService=this.createManagedBean(new V4e),this.comboChartModel=this.createManagedBean(new H4e(this)),this.updateCellRanges(),this.updateData()},t.prototype.updateModel=function(e){var i=e.cellRange,r=e.chartType,o=e.pivotChart,a=e.chartThemeName,s=e.aggFunc,l=e.suppressChartRanges,c=e.unlinkChart,u=e.crossFiltering,d=e.seriesChartTypes;i!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.chartType=r,this.pivotChart=o,this.chartThemeName=a,this.aggFunc=s,this.referenceCellRange=i,this.suppliedCellRange=i,this.suppressChartRanges=l,this.unlinked=!!c,this.crossFiltering=!!u,this.updateSelectedDimensions(i?.columns),this.updateCellRanges(),(this.isComboChart()||d)&&this.comboChartModel.update(d),this.unlinked||this.updateData()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var i=this.chartColumnService.getChartColumns(),r=i.dimensionCols,o=i.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(r,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()},t.prototype.updateData=function(){var e=this.getRowIndexes(),i=e.startRow,r=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:i,endRow:r,isScatter:D.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),l=a.columnNames;this.chartData=a.chartData,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsService.get("treeData"),i=e?null:this.chartColumnService.getRowGroupColumns(),r=e||i&&i.length>0,o=this.getSelectedDimensions().map(function(l){return l.colId}),s=this.chartColumnService.getGroupDisplayColumns().map(function(l){return l.getColId()}).some(function(l){return o.includes(l)});return!!r&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimensions=function(){return this.dimensionColState.filter(function(e){return e.selected})},t.prototype.getColDisplayName=function(e){return this.chartColumnService.getColDisplayName(e)},t.prototype.isPivotMode=function(){return this.chartColumnService.isPivotMode()},t.prototype.getChartDataType=function(e){var i=this.chartColumnService.getColumn(e);return i?i.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.chartColumnService.isPivotActive()},t.prototype.createCellRange=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:i,startColumn:e===cr.DIMENSION?i[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return D.convertToSet(this.chartColumnService.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,ph([],hh(this.dimensionCellRange.columns),!1)),this.valueCellRange&&e.push.apply(e,ph([],hh(this.valueCellRange.columns),!1)),D.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,i=0,r=this,o=r.rangeService,l=r.valueCellRange||r.dimensionCellRange;if(o&&l){e=o.getRangeStartRow(l).rowIndex;var c=o.getRangeEndRow(l);i="bottom"===c.rowPinned?-1:c.rowIndex}return{startRow:e,endRow:i}},t.prototype.resetColumnState=function(){var e=this,i=this.chartColumnService.getChartColumns(),r=i.dimensionCols,o=i.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=sh(this.chartType),c=!1,u=1,d=this.suppliedCellRange.columns[0];r.forEach(function(f){var m="ag-Grid-AutoColumn"===f.getColId(),g=!1;e.crossFiltering&&e.aggFunc?d.getColId()===f.getColId()&&(g=!0):g=!!m||(!c||l)&&a.has(f),e.dimensionColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:g,order:u++}),g&&(c=!0)});var h={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!c,order:0};this.dimensionColState.unshift(h);var p=this.referenceCellRange.columns.filter(function(f){return o.has(f)});o.forEach(function(f){s&&D.includes(e.referenceCellRange.columns,f)&&(f=p.shift()),e.valueColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:a.has(f),order:u++})})},t.prototype.updateColumnState=function(e){var i=function(p){return p.colId===e.colId},o=this.dimensionColState,a=this.valueColState,s=o.find(i),l=a.find(i);if(s)if(sh(this.chartType))s.selected=e.selected;else{var u=e.selected?s:o.filter(function(p){return p!==s}).find(function(p){return p.selected});o.forEach(function(p){return p.selected=p===u})}else l&&(l.selected=e.selected);var d=ph(ph([],hh(o),!1),hh(a),!1),h=[];d.forEach(function(p,f){f===e.order&&h.push(e.colId),p.colId!==e.colId&&h.push(p.colId)}),d.forEach(function(p){var f=h.indexOf(p.colId);p.order=f>=0?h.indexOf(p.colId):d.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(i,r){return i.order-r.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,i,r){if(this.dimensionCellRange=void 0,!r&&!this.dimensionColState.length){var o=sh(this.chartType),a=new Array;return e.forEach(function(d){a.length>0&&!o||!i.has(d)||a.push(d)}),void(a.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,ph([cr.DIMENSION],hh(a),!1))))}var s=r?[r]:[];if(this.crossFiltering&&this.aggFunc){var l=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter(function(d){return d.colId===l.getColId()})}else(0===s.length||s.some(function(d){var h=d.column;return!h||!e.has(h)}))&&(s=this.dimensionColState.filter(function(d){return d.selected}));var c=1===s.length&&s[0].colId===t.DEFAULT_CATEGORY,u=s.map(function(d){return d.column}).filter(function(d){return null!=d});u.length>0&&!c&&(this.dimensionCellRange=this.createCellRange.apply(this,ph([cr.DIMENSION],hh(u),!1)))},t.prototype.setValueCellRange=function(e,i,r){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){r&&r.colId===s.getColId()?r.selected&&o.push(r.column):i.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):i.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,ph([cr.VALUE],hh(o),!1))}},t.prototype.updateSelectedDimensions=function(e){var i=new Set(e.map(function(c){return c.getColId()}));if(sh(this.chartType)){var s=this.dimensionColState.filter(function(c){return i.has(c.colId)}),l=new Set(s.map(function(c){return c.colId}));this.dimensionColState=this.dimensionColState.map(function(c){return cv(cv({},c),{selected:l.has(c.colId)})})}else{var a=(this.dimensionColState.find(function(c){return i.has(c.colId)})||this.dimensionColState[0]).colId;this.dimensionColState=this.dimensionColState.map(function(c){return cv(cv({},c),{selected:c.colId===a})})}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimensions();if(0!==e.length){var i=e.map(function(r){return r.column}).filter(function(r){return null!=r});i.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,ph([cr.DIMENSION],hh(i),!1)))}},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",OV([C("rangeService")],t.prototype,"rangeService",void 0),OV([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),OV([H],t.prototype,"init",null),t}(z);function MJ(n){return null!=n.chart?n.chart:n}var zb=function(){return zb=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},zb.apply(this,arguments)},Wb=function(){function n(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=nl(this.chartType),null==this.chart?this.chart=Ho.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return n.prototype.getChart=function(){return MJ(this.chart)},n.prototype.getChartRef=function(){return this.chart},n.prototype.downloadChart=function(t,e,i){var r=this.chart,o=MJ(r),s=t||{};Ho.download(r,{width:s.width,height:s.height,fileName:e||(o.title?o.title.text:"chart"),fileFormat:i})},n.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},n.prototype.getChartOptions=function(){return this.chart.getOptions()},n.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},n.prototype.getChartPalette=function(){return il.getChartTheme(this.getChartOptions().theme).palette},n.prototype.setPaired=function(t){var e,i=nl(this.chartProxyParams.chartType);Ho.updateDelta(this.chart,{theme:{overrides:(e={},e[i]={paired:t},e)}})},n.prototype.isPaired=function(){var t=nl(this.chartProxyParams.chartType);return ev(this.getChartThemeOverrides(),"".concat(t,".paired"),!0)},n.prototype.lookupCustomChartTheme=function(t){return nJ(this.chartProxyParams,t)},n.prototype.transformData=function(t,e,i){return i?t.map(function(r,o){var a=r[e],s=a&&a.toString?a.toString():"",l=zb({},r);return l[e]={id:o,value:a,toString:function(){return s}},l}):t},n.prototype.getCommonChartOptions=function(t){var e,i,r=this.clearThemeOverrides?{}:null!==(i=null===(e=this.chart)||void 0===e?void 0:e.getOptions())&&void 0!==i?i:{},o=null!=this.chart?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;var l=function KUe(n,t){return t.reduce(function(e,i){return i?{baseTheme:e,overrides:i}:e},n)}(function $Ue(n,t){var e,_,i=n.chartOptionsToRestore,r=n.chartPaletteToRestore,o=n.chartThemeToRestore,a=function QUe(n){var t=n.getChartThemeName(),e=n.getChartThemes();return D.includes(e,t)||(t=e[0]),t}(n),s=gV(a),l=s?{baseTheme:a}:null!==(e=nJ(n,a))&&void 0!==e?e:{},c=n.getGridOptionsChartThemeOverrides(),u=n.apiChartThemeOverrides,d=nl(n.chartType),h=mV(d)?d:"cartesian",p=n.crossFiltering?function qUe(n,t,e){var i,r={listeners:{legendItemClick:function(a){n.getChart().series.forEach(function(l){l.toggleSeriesItem(a.itemId,a.enabled),l.toggleSeriesItem("".concat(a.itemId,"-filtered-out"),a.enabled)})}}};return(i={})[e]={tooltip:{delay:500},legend:r,listeners:{click:function(a){return t.crossFilterCallback(a,!0)}},series:{}},i}(t,n,h):void 0,f=kb({},i??{}),v=[s?ZUe(n,(_=function(b){return!!b&&Object.keys(b).some(function(w){return ev(b[w],"title.enabled",!1)})},_(c)||_(u))):void 0,p,c,u,f].filter(function(_){return!!_}).reduce(function(_,b){return{baseTheme:_,overrides:b}},l);return r&&a===o&&(function YUe(n,t){var e=function(i,r){return i.length===r.length&&i.every(function(o,a){return o===r[a]})};return e(n.fills,t.fills)&&e(n.strokes,t.strokes)}(r,il.getChartTheme(l).palette)||(v.palette=r)),v}(this.chartProxyParams,this),[this.getChartThemeDefaults(),t??o]);return zb(zb({},r),{theme:l,container:this.chartProxyParams.parentElement,mode:"integrated"})},n.prototype.getChartThemeDefaults=function(){},n.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var i=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=i?.overrides)&&void 0!==e?e:{}},n.prototype.destroy=function(t){var i=(void 0===t?{}:t).keepChartInstance;if(void 0!==i&&i)return this.chart.resetAnimations(),this.chart;this.destroyChart()},n.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},n}(),U4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XT=function(){return XT=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},XT.apply(this,arguments)},ZT=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},fh=function(n){function t(e){var i=n.call(this,e)||this;return i.crossFilteringAllPoints=new Set,i.crossFilteringSelectedPoints=[],i}return U4e(t,n),t.prototype.update=function(e){var i=this.getAxes(e),r=XT(XT({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,i),axes:i,series:this.getSeries(e)});Ho.update(this.getChartRef(),r)},t.prototype.getData=function(e,i){var r=["area","line"].includes(this.standaloneChartType),o=i.some(function(a){return"category"===a?.type});return this.crossFiltering&&r?this.getCrossFilterData(e):this.getDataTransformedData(e,o)},t.prototype.getDataTransformedData=function(e,i){var r=ZT(e.categories,1);return this.transformData(e.data,r[0].id,i)},t.prototype.getXAxisType=function(e){return e.grouping?"grouped-category":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){var r=ZT(e.categories,1)[0];if(r&&r.chartDataType)return"time"===r.chartDataType;var o=e.data[0];return(o&&o[r.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,i){var r=this,a=ZT(i.categories,1)[0];return e.map(function(l){return l.yKey=function(l){return"area"===r.standaloneChartType?i.getCrossFilteringContext().lastSelectedChartId===i.chartId?l+"-total":l:l+"-total"}(l.yKey),l.listeners={nodeClick:function(c){r.crossFilteringAddSelectedPoint(c.event.metaKey||c.event.ctrlKey,c.datum[l.xKey]),r.crossFilterCallback(c)}},l.marker={formatter:function(c){return{fill:c.highlighted?"yellow":c.fill,size:c.highlighted?14:r.crossFilteringPointSelected(c.datum[a.id])?8:0}}},"area"===r.standaloneChartType&&(l.fillOpacity=r.crossFilteringDeselectedPoints()?.3:1),"line"===r.standaloneChartType&&(l.strokeOpacity=r.crossFilteringDeselectedPoints()?.3:1),l})},t.prototype.getCrossFilterData=function(e){var i=this;this.crossFilteringAllPoints.clear();var o=ZT(e.categories,1)[0],a=e.fields[0].colId,s="".concat(a,"-filtered-out"),l=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(c){var u=c[o.id];i.crossFilteringAllPoints.add(u);var d=i.crossFilteringPointSelected(u);return"area"===i.standaloneChartType&&l===e.chartId&&(c["".concat(a,"-total")]=d?c[a]:c[a]+c[s]),"line"===i.standaloneChartType&&(c["".concat(a,"-total")]=d?c[a]:c[a]+c[s]),c})},t.prototype.crossFilteringAddSelectedPoint=function(e,i){e?this.crossFilteringSelectedPoints.push(i):this.crossFilteringSelectedPoints=[i]},t}(Wb);function AJ(n,t){var e=parseInt(n.slice(1,3),16),i=parseInt(n.slice(3,5),16),r=parseInt(n.slice(5,7),16);return t?"rgba(".concat(e,", ").concat(i,", ").concat(r,", ").concat(t,")"):"rgba(".concat(e,", ").concat(i,", ").concat(r,")")}function OJ(n,t){return n.map(function(e){var i=Xi.Color.fromString(e);return new Xi.Color(i.r,i.g,i.b,t).toHexString()})}var z4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mh=function(){return mh=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mh.apply(this,arguments)},$4e=function(n){function t(e){return n.call(this,e)||this}return z4e(t,n),t.prototype.getAxes=function(e){var i=[{type:this.getXAxisType(e),position:Mu(this.chartType)?"left":"bottom"},{type:"number",position:Mu(this.chartType)?"bottom":"left"}];if(this.isNormalised()){var r=i[1];r.label=mh(mh({},r.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return i},t.prototype.getSeries=function(e){var i=this,r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=r[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,direction:Mu(i.chartType)?"horizontal":"vertical",stacked:i.crossFiltering||PUe(i.chartType),normalizedTo:i.isNormalised()?100:void 0,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(a):a},t.prototype.extractCrossFilterSeries=function(e){for(var r=this.getChartPalette(),a=function(u){var d=u.yKey+"-filtered-out";return mh(mh({},lh({},u)),{yKey:d,fill:AJ(u.fill,"0.3"),stroke:AJ(u.stroke,"0.3"),showInLegend:!1})},s=[],l=0;l<e.length;l++){var c=(d=l,mh(mh({},e[l]),{highlightStyle:{item:{fill:void 0}},fill:r?.fills[d],stroke:r?.strokes[d],listeners:{nodeClick:this.crossFilterCallback}}));s.push(c),s.push(a(c))}var d;return s},t.prototype.isNormalised=function(){return!this.crossFiltering&&D.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(fh),K4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),QT=function(){return QT=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},QT.apply(this,arguments)},q4e=function(n){function t(e){return n.call(this,e)||this}return K4e(t,n),t.prototype.getAxes=function(e){var i=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var r=i[1];r.label=QT(QT({},r.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return i},t.prototype.getSeries=function(e){var i=this,r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=r[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName,normalizedTo:"normalizedArea"===i.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(i.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},t}(fh),X4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Q4e=function(n){function t(e){return n.call(this,e)||this}return X4e(t,n),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var i=this,r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=r[0],a=e.fields.map(function(s){return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t}(fh),J4e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),JT=function(){return JT=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},JT.apply(this,arguments)},RJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},e$e=function(n){function t(e){return n.call(this,e)||this}return J4e(t,n),t.prototype.getAxes=function(e){var i="radial-bar"===this.standaloneChartType;return[{type:i?"angle-number":"angle-category"},{type:i?"radius-category":"radius-number"}]},t.prototype.getSeries=function(e){var i=this,r=e.fields,a=RJ(e.categories,1)[0],s="radial-bar"===this.standaloneChartType;return r.map(function(l){var c,u;return{type:i.standaloneChartType,angleKey:s?l.colId:a.id,angleName:s?null!==(c=l.displayName)&&void 0!==c?c:void 0:a.name,radiusKey:s?a.id:l.colId,radiusName:s?a.name:null!==(u=l.displayName)&&void 0!==u?u:void 0}})},t.prototype.update=function(e){var i=this.getAxes(e),r=JT(JT({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,i),axes:i,series:this.getSeries(e)});Ho.update(this.getChartRef(),r)},t.prototype.getData=function(e,i){var r=i.some(function(o){return"angle-category"===o.type||"radius-category"===o.type});return this.getDataTransformedData(e,r)},t.prototype.getDataTransformedData=function(e,i){var r=RJ(e.categories,1);return this.transformData(e.data,r[0].id,i)},t.prototype.crossFilteringReset=function(){},t}(Wb),t$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ds=function(){return ds=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ds.apply(this,arguments)},PJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},i$e=function(n){function t(e){return n.call(this,e)||this}return t$e(t,n),t.prototype.update=function(e){var i=e.data,o=PJ(e.categories,1)[0],a=ds(ds({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(i,o.id),series:this.getSeries(e)});Ho.update(this.getChartRef(),a)},t.prototype.getSeries=function(e){var i=this,o=PJ(e.categories,1)[0],a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},l=this.getFields(e).map(function(c){var u,d={type:i.standaloneChartType,angleKey:c.colId,angleName:c.displayName,sectorLabelKey:c.colId,calloutLabelName:o.name,calloutLabelKey:o.id};if("donut"===i.chartType||"doughnut"===i.chartType){var h=t.calculateOffsets(s),p=h.outerRadiusOffset,f=h.innerRadiusOffset,m=c.displayName?{title:{text:c.displayName,showInLegend:a>1}}:void 0;return ds(ds(ds(ds({},d),{type:"donut",outerRadiusOffset:p,innerRadiusOffset:f}),m),{calloutLine:{colors:null===(u=i.getChartPalette())||void 0===u?void 0:u.strokes}})}return d});return this.crossFiltering?this.extractCrossFilterSeries(l):l},t.prototype.getCrossFilterData=function(e){var i=e.fields[0].colId,r="".concat(i,"-filtered-out");return e.data.map(function(o){var a=o[i]+o[r];return o["".concat(i,"-total")]=a,o[r]=1,o[i]=o[i]/a,o})},t.prototype.extractCrossFilterSeries=function(e){var u,r=this.getChartPalette(),s=e[0],l=s.angleKey,c=ds(ds({},u=s),{legendItemKey:u.calloutLabelKey,calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:u.angleKey,angleKey:u.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:this.crossFilterCallback}});return[function(u,d){var h,p;return ds(ds({},lh({},c)),{radiusKey:d+"-filtered-out",fills:OJ(null!==(h=u.fills)&&void 0!==h?h:r.fills,.3),strokes:OJ(null!==(p=u.strokes)&&void 0!==p?p:r.strokes,.3),showInLegend:!1})}(s,l),c]},t.calculateOffsets=function(e){var i=e.currentOffset;e.currentOffset-=e.offsetAmount;var r=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:i,innerRadiusOffset:r}},t.prototype.getFields=function(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(Wb),n$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rr=function(){return rr=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},rr.apply(this,arguments)},RV=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},IJ=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},o$e=function(n){function t(e){return n.call(this,e)||this}return n$e(t,n),t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=RV(e.categories,1)[0],o=this.isPaired(),a=this.getSeriesDefinitions(e.fields,o),s=r.id===Ub.DEFAULT_CATEGORY?void 0:r,l=a.map(function(c){var u,d,h,p,f;return c?.sizeField?{type:"bubble",xKey:c.xField.colId,xName:null!==(u=c.xField.displayName)&&void 0!==u?u:void 0,yKey:c.yField.colId,yName:null!==(d=c.yField.displayName)&&void 0!==d?d:void 0,title:"".concat(c.yField.displayName," vs ").concat(c.xField.displayName),sizeKey:c.sizeField.colId,sizeName:null!==(h=c.sizeField.displayName)&&void 0!==h?h:"",labelKey:s?s.id:c.yField.colId,labelName:s?s.name:void 0}:{type:"scatter",xKey:c.xField.colId,xName:null!==(p=c.xField.displayName)&&void 0!==p?p:void 0,yKey:c.yField.colId,yName:null!==(f=c.yField.displayName)&&void 0!==f?f:void 0,title:"".concat(c.yField.displayName," vs ").concat(c.xField.displayName),labelKey:s?s.id:c.yField.colId,labelName:s?s.name:void 0}});return this.crossFiltering?this.extractCrossFilterSeries(l,e):l},t.prototype.extractCrossFilterSeries=function(e,i){var r=this,o=i.data,a=this.getChartPalette(),s=function(h){return"".concat(h,"-filtered-out")},d=e.map(function(h,p){var f=a?.fills[p],m=a?.strokes[p],g=void 0;"bubble"===h.type&&(g=function(h,p){var f,m,g,v=[1/0,-1/0];if(null!=p)try{for(var y=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(h),_=y.next();!_.done;_=y.next()){var b=_.value,w=null!==(g=b[p])&&void 0!==g?g:b[s(p)];w<v[0]&&(v[0]=w),w>v[1]&&(v[1]=w)}}catch(E){f={error:E}}finally{try{_&&!_.done&&(m=y.return)&&m.call(y)}finally{if(f)throw f.error}}if(v[0]<=v[1])return v}(o,h.sizeKey));var y=rr(rr({},h.marker),{fill:f,stroke:m,domain:g});return rr(rr({},h),{marker:y,highlightStyle:{item:{fill:"yellow"}},listeners:rr(rr({},h.listeners),{nodeClick:r.crossFilterCallback})})});return IJ(IJ([],RV(d),!1),RV(d.map(function(h){var p=h.yKey,f=h.xKey,m={};return"bubble"===h.type&&(m={sizeKey:s(h.sizeKey)}),rr(rr(rr({},h),m),{yKey:s(p),xKey:s(f),marker:rr(rr({},h.marker),{fillOpacity:.3,strokeOpacity:.3}),showInLegend:!1,listeners:rr(rr({},h.listeners),{nodeClick:function(g){var v,y=g.datum[s(f)],_=rr(rr({},g),{xKey:f,datum:rr(rr({},g.datum),(v={},v[f]=y,v))});r.crossFilterCallback(_)}})})})),!1)},t.prototype.getSeriesDefinitions=function(e,i){if(e.length<2)return[];var r="bubble"===this.chartType;if(i)return r?e.map(function(a,s){return s%3==0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2==0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return r?e.map(function(a,s){return s%2==1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t}(fh),a$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PV=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},FJ=function(n){function t(e){return n.call(this,e)||this}return a$e(t,n),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Mu(this.chartType)?"left":"bottom"},{type:"number",position:Mu(this.chartType)?"bottom":"left"}]},t.prototype.computeSeriesStatistics=function(e,i){var r=e.data,o=e.fields,s=PV(e.categories,1)[0],c=this.groupDataByCategory(s.id||Ub.DEFAULT_CATEGORY,r);return Array.from(c).map(function(u){var d,h=PV(u,2),f=h[1],m=((d={})[s.id]=h[0],d);return o.forEach(function(g,v){var y=f.map(function(_){return _[g.colId]}).filter(function(_){return"number"==typeof _&&!isNaN(_)});Object.entries(i(y)).forEach(function(_){var b=PV(_,2),E=b[1],M="".concat(b[0],":").concat(v);m[M]=y.length>0?E:null})}),m})},t.prototype.groupDataByCategory=function(e,i){return i.reduce(function(o,a){var s=function(o){if(e===Ub.DEFAULT_CATEGORY)return 1;var a=o[e];return null==a?"":a instanceof Date?a.getTime():a}(a),l=o.get(s);return l?l.push(a):o.set(s,[a]),o},new Map)},t}(fh),s$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),IV=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},kJ=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},LJ=function(n){function t(e){return n.call(this,e)||this}return s$e(t,n),t.prototype.getSeries=function(e){var i=this,o=IV(e.categories,1)[0];return e.fields.map(function(a,s){var l;return{type:i.standaloneChartType,xKey:o.id,xName:o.name,yName:null!==(l=a.displayName)&&void 0!==l?l:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(s),yHighKey:"max:".concat(s)}})},t.prototype.getData=function(e){return this.computeSeriesStatistics(e,function(i){return{min:Math.min.apply(Math,kJ([],IV(i),!1)),max:Math.max.apply(Math,kJ([],IV(i),!1))}})},t}(FJ),l$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),c$e=function(n){function t(e){return n.call(this,e)||this}return l$e(t,n),t.prototype.getSeries=function(e){var i=e.fields[0];return[{type:this.standaloneChartType,xKey:i.colId,xName:i.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(fh),u$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),h$e=function(n){function t(e){return n.call(this,e)||this}return u$e(t,n),t.prototype.getSeries=function(e){var i=this,r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),o=r[0];return e.fields.map(function(a,s){var l;return{type:i.standaloneChartType,direction:Mu(i.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yName:null!==(l=a.displayName)&&void 0!==l?l:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(s),q1Key:"q1:".concat(s),medianKey:"median:".concat(s),q3Key:"q3:".concat(s),maxKey:"max:".concat(s)}})},t.prototype.getData=function(e){var i=this;return this.computeSeriesStatistics(e,function(r){var o=r.sort(function(a,s){return a-s});return{min:o[0],q1:i.quantile(o,.25),median:i.quantile(o,.5),q3:i.quantile(o,.75),max:o[o.length-1]}})},t.prototype.quantile=function(e,i){var r=(e.length-1)*i,o=Math.floor(r);return void 0!==e[o+1]?e[o]+(r-o)*(e[o+1]-e[o]):e[o]},t}(FJ),eM=function(){return eM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},eM.apply(this,arguments)},NJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},p$e=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},f$e=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},tM="AG-GRID-DEFAULT-LABEL-KEY";function FV(n){var t,e,o=n.children;if(0===n.depth)return n.leaves.map(function(p){var f;return eM(((f={})[tM]=null,f),p)});var a=new Array,s=function(p,f){var m;0===f.depth?a.push.apply(a,p$e([],NJ(f.leaves.map(function(g){var v;return eM(((v={})[tM]=p,v),g)})),!1)):a.push(((m={})[tM]=p,m.children=FV(f),m))};try{for(var l=f$e(o.entries()),c=l.next();!c.done;c=l.next()){var u=NJ(c.value,2);s(u[0],u[1])}}catch(p){t={error:p}}finally{try{c&&!c.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return a}function VJ(n,t,e){return n.reduce(function(o,a){return r(a,t(a),e,0,o)},{depth:0,leaves:[],children:new Map});function r(o,a,s,l,c){if(l===a)return c.leaves.push(o),c;var u=s(o,l),h=r(o,a,s,l+1,c.children.get(u)||{depth:0,leaves:[],children:new Map});return c.children.set(u,h),c.depth=Math.max(1+h.depth,c.depth),c}}var v$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iM=function(){return iM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},iM.apply(this,arguments)},GJ=function(n){function t(e){var i=n.call(this,e)||this;return i.chartProxyParams=e,i}return v$e(t,n),t.prototype.update=function(e){var i=iM(iM({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,tM),data:this.getData(e)});Ho.update(this.getChartRef(),i)},t.prototype.getData=function(e){var i=e.categories,r=e.data;return e.grouping?function g$e(n,t){return FV(VJ(n,function i(o){var a,s;return null!==(s=null===(a=t(o))||void 0===a?void 0:a.length)&&void 0!==s?s:0},function r(o,a){var s=t(o);return s?s[s.length-1-a]:null}))}(r,y$e):function m$e(n,t){return FV(VJ(n,function i(a){return t.length},function r(a,s){return function o(a){return null==a?null:String(a)}(a[t[s]])}))}(r,i.map(function(s){return s.id}))},t}(Wb);function y$e(n){var t,e;return null!==(e=null===(t=n[pd])||void 0===t?void 0:t.labels)&&void 0!==e?e:null}var _$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),b$e=function(n){function t(e){return n.call(this,e)||this}return _$e(t,n),t.prototype.getSeries=function(e,i){var r,o,s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.fields,2),l=s[0],c=s[1];return[{type:this.standaloneChartType,labelKey:i,sizeKey:l?.colId,sizeName:null!==(r=l?.displayName)&&void 0!==r?r:void 0,colorKey:c?.colId,colorName:null!==(o=c?.displayName)&&void 0!==o?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{treemap:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,i,r){return e},t.prototype.crossFilteringReset=function(){},t}(GJ),w$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),x$e=function(n){function t(e){return n.call(this,e)||this}return w$e(t,n),t.prototype.getSeries=function(e,i){var r,o,s=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.fields,2),l=s[0],c=s[1];return[{type:this.standaloneChartType,labelKey:i,sizeKey:l?.colId,sizeName:null!==(r=l?.displayName)&&void 0!==r?r:void 0,colorKey:c?.colId,colorName:null!==(o=c?.displayName)&&void 0!==o?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{sunburst:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,i,r){return e},t.prototype.crossFilteringReset=function(){},t}(GJ);function BJ(n,t){return n.reduce(function(e,i,r,o){return e.concat(t(i,r,o))},new Array)}var E$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uv=function(){return uv=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},uv.apply(this,arguments)},HJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},A$e=function(n){function t(e){return n.call(this,e)||this}return E$e(t,n),t.prototype.update=function(e){var i="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",r="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",o="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",a=uv(uv({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,i,r,o),data:this.getData(e,i,r,o)});Ho.update(this.getChartRef(),a)},t.prototype.getSeries=function(e,i,r,o){var a=HJ(e.categories,1);return[{type:this.standaloneChartType,yKey:o,xKey:i,colorKey:r,yName:a[0].name,xName:void 0,colorName:void 0}]},t.prototype.getData=function(e,i,r,o){var s=HJ(e.categories,1)[0];return BJ(e.data,function(l,c){var u=l[s.id],d=null==u?"":String(u),h={id:c,value:u,toString:function(){return d}};return e.fields.map(function(p){var f,m=p.colId,g=p.displayName;return uv(uv({},l),((f={})[i]=g,f[r]=l[m],f[o]=h,f))})})},t.prototype.getChartThemeDefaults=function(){return{heatmap:{gradientLegend:{gradient:{preferredLength:200}},series:{tooltip:{renderer:O$e}}}}},t.prototype.transformData=function(e,i,r){return e},t.prototype.crossFilteringReset=function(){},t}(Wb);function O$e(n){var i=n.colorKey,s=n.datum[n.seriesId];return{title:"",content:[{label:n.yName,value:s[n.yKey]},{label:s[n.xKey],value:i&&s[i]}].map(function(u){var h=u.value;return"<b>".concat(jJ(String(u.label)),":</b> ").concat(jJ(String(h)))}).join("<br>")}}function jJ(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},e="[".concat(Object.keys(t).join(""),"]"),i=new RegExp(e,"g");return n.replace(i,function(r){return t[r]})}var R$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),UJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},P$e=function(n){function t(e){return n.call(this,e)||this}return R$e(t,n),t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Mu(this.chartType)?"left":"bottom"},{type:"number",position:Mu(this.chartType)?"bottom":"left"}]},t.prototype.getSeries=function(e){var i,o=UJ(e.categories,1)[0],s=UJ(e.fields,1)[0];return[{type:this.standaloneChartType,direction:Mu(this.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yKey:s.colId,yName:null!==(i=s.displayName)&&void 0!==i?i:void 0}]},t}(fh),I$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),k$e=function(n){function t(e){var i=n.call(this)||this;return i.chartController=e,i}return I$e(t,n),t.prototype.getChartOption=function(e){return ev(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,i,r){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s={};a.forEach(function(l){s=lh(s,o.createChartOptions({seriesType:l,expression:e,value:i}))}),r||(this.updateChart(s),this.raiseChartOptionsChangedEvent())},t.prototype.awaitChartOptionUpdate=function(e){this.chartController.getChartProxy().getChart().waitForUpdate().then(function(){return e()}).catch(function(r){return console.error("AG Grid - chart update failed",r)})},t.prototype.getAxisProperty=function(e){var i;return ev(null===(i=this.getChart().axes)||void 0===i?void 0:i[0],e,void 0)},t.prototype.setAxisProperty=function(e,i){this.setAxisProperties([{expression:e,value:i}])},t.prototype.setAxisProperties=function(e){var i=this,r=this.getChart(),o=BJ(e,function(a){var s,l=a.expression,c=a.value,u=null===(s=r.axes)||void 0===s?void 0:s.filter(function(d){var h,p,f=l.split("."),m=d;try{for(var g=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(f),v=g.next();!v.done;v=g.next()){var y=v.value;if(!(y in m))return!1;m=m[y]}}catch(_){h={error:_}}finally{try{v&&!v.done&&(p=g.return)&&p.call(g)}finally{if(h)throw h.error}}return!0});return u?u.map(function(d){return i.getUpdateAxisOptions(d,l,c)}):[]}).reduce(function(a,s){return lh(a,s)},{});Object.keys(o).length>0&&(this.updateChart(o),this.raiseChartOptionsChangedEvent())},t.prototype.getLabelRotation=function(e){return ev(this.getAxis(e),"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,i){var r=this.getAxis(e);if(r){var o=this.getUpdateAxisOptions(r,"label.rotation",i);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,i,r){var o=this.getChart().series.find(function(a){return t.isMatchingSeries(i,a)});return ev(r?o:o?.properties.toJson(),e,void 0)},t.prototype.setSeriesOption=function(e,i,r){var o=this.createChartOptions({seriesType:r,expression:"series.".concat(e),value:i});this.updateChart(o),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var i=this.getChart();if(i.axes&&!(i.axes.length<1))return"xAxis"===e?i.axes&&"x"===i.axes[0].direction?i.axes[0]:i.axes[1]:i.axes&&"y"===i.axes[1].direction?i.axes[1]:i.axes[0]},t.prototype.getUpdateAxisOptions=function(e,i,r){var o=this,a=this.chartController.getChartSeriesTypes();return this.chartController.isComboChart()&&a.push("common"),["number","category","time","grouped-category","angle-category","angle-number","radius-category","radius-number"].includes(e.type)?a.map(function(l){return o.createChartOptions({seriesType:l,expression:"axes.".concat(e.type,".").concat(i),value:r})}).reduce(function(l,c){return lh(l,c)}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var i=this.chartController.getChartProxy().getChartRef();i.skipAnimations(),Ho.updateDelta(i,e)},t.prototype.createChartOptions=function(e){var r=e.expression,o=e.value,a={},s={theme:{overrides:a}};return function WUe(n,t,e){if(null!=n){var i=t.split("."),r=n;i.forEach(function(o,a){r[o]||(r[o]={}),a<i.length-1&&(r=r[o])}),r[i[i.length-1]]=e}}(a,"".concat(e.seriesType,".").concat(r),o),s},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),i={type:x.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(i)},t.isMatchingSeries=function(e,i){return AUe.includes(e)&&i.type===e},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(z),L$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kV=function(){return kV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},kV.apply(this,arguments)},V$e=function(n){function t(e){return n.call(this,e)||this}return L$e(t,n),t.prototype.getAxes=function(e){var i=e?e.fields:[],r=new Map(i.map(function(c){return[c.colId,c]})),o=this.getYKeys(i,e.seriesChartTypes),a=o.primaryYKeys,s=o.secondaryYKeys,l=[{type:this.getXAxisType(e),position:"bottom"}];return a.length>0&&l.push({type:"number",keys:a,position:"left"}),s.length>0&&s.forEach(function(c){var u=r.get(c);u&&u.colId===c&&l.push({type:"number",keys:[c],position:"right"})}),l},t.prototype.getSeries=function(e){var i=e.fields,r=e.seriesChartTypes,o=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(e.categories,1),a=o[0];return i.map(function(s){var l=r.find(function(h){return h.colId===s.colId});if(l){var c=l.chartType,d=["groupedColumn","groupedBar"].includes(c)?{grouped:!0}:{};return kV({type:nl(c),xKey:a.id,yKey:s.colId,yName:s.displayName,stacked:["stackedArea","stackedColumn"].includes(c)},d)}})},t.prototype.getYKeys=function(e,i){var r=[],o=[];return e.forEach(function(a){var s=a.colId,l=i.find(function(c){return c.colId===s});l&&(l.secondaryAxis?o.push(s):r.push(s))}),{primaryYKeys:r,secondaryYKeys:o}},t}(fh),G$e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mc=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zJ=function(n){function t(e){var i=n.call(this,t.TEMPLATE)||this;return i.params=e,i}return G$e(t,n),t.prototype.init=function(){var e=this,i={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:Ib(this.params.chartType),chartThemeName:this.getThemeName(),aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},r=this.gridOptionsService.get("enableRtl");this.addCssClass(r?"ag-rtl":"ag-ltr");var o=this.createBean(new Ub(i));this.chartController=this.createManagedBean(new rl(o)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,rl.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,DJ.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e=this,i=void 0;this.chartProxy&&(i=this.chartProxy.destroy({keepChartInstance:!0}));var o=this.chartController.getChartType(),a={chartType:o,chartInstance:i,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var l,c;return null!==(c=null===(l=e.chartMenu)||void 0===l?void 0:l.getExtraPaddingDirections())&&void 0!==c?c:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(l,c){e.params.crossFilteringContext.lastSelectedChartId=c?"":e.chartController.getChartId(),c&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(l,c)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(l,c){return e.chartTranslationService.translate(l,c)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartProxy=t.createChartProxy(a),this.chartProxy){var s=this.eChart.querySelector("canvas");s&&s.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new k$e(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",a.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemeNames()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new $4e(e);case"pie":case"donut":case"doughnut":return new i$e(e);case"area":case"stackedArea":case"normalizedArea":return new q4e(e);case"line":return new Q4e(e);case"scatter":case"bubble":return new o$e(e);case"histogram":return new c$e(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new e$e(e);case"rangeBar":case"rangeArea":return new LJ(e);case"boxPlot":return new h$e(e);case"treemap":return new b$e(e);case"sunburst":return new x$e(e);case"heatmap":return new A$e(e);case"waterfall":return new P$e(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new V$e(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '".concat(e.chartType,"' was supplied.")}},t.prototype.addDialog=function(){var e=this,i=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),r=this.getBestDialogSize();this.chartDialog=new sg({resizable:!0,movable:!0,maximizable:!0,title:i,width:r.width,height:r.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(sg.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),i=.75*D.getAbsoluteWidth(e),r=.75*D.getAbsoluteHeight(e),a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>i||l>r)&&(s=Math.min(s,i),(l=Math.round(.553*s))>r&&(l=r,s=Math.min(s,Math.round(l/.553)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new DJ(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new F4e(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(e){var i=this;e?.chartId&&!this.chartController.update(e)||(this.chartTypeChanged(e)&&this.createChart(),this.updateChart(e?.chartThemeOverrides),e?.chartId&&this.chartProxy.getChart().waitForUpdate().then(function(){i.chartController.raiseChartApiUpdateEvent()}))},t.prototype.updateChart=function(e){var i=this,r=this.chartProxy,a=this.chartController.getSelectedValueColState().map(function(u){return{colId:u.colId,displayName:u.displayName}}),s=this.chartController.getChartData();if(!this.handleEmptyChart(s,a)){var c=this.chartController.getChartUpdateParams(e);r.update(c),this.chartProxy.getChart().waitForUpdate().then(function(){i.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.chartTypeChanged=function(e){var i=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}([this.chartController.getChartType(),e?.chartType],2),o=i[1];return this.chartType!==i[0]||!!o&&this.chartType!==Ib(o)},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.handleEmptyChart=function(e,i){var r=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=this.chartController.getChartType(),a=1;this.chartController.isActiveXYChart()?a="bubble"===o?3:2:sh(o)&&(a=0);var s=i.length<a||0===e.length;if(this.eChart){var l=r||s;D.setDisplayed(this.eChart,!l),D.setDisplayed(this.eEmpty,l)}return r?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!s&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(e,i,r){this.chartProxy.downloadChart(e,i,r)},t.prototype.openChartToolPanel=function(e){this.chartMenu.showMenu(e&&qE[e])},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.getThemeName=function(){var e=this.gridOptionsService.get("chartThemes")||sJ;if(0===e.length)throw new Error("Cannot create chart: no chart themes available.");var i=this.params.chartThemeName;return D.includes(e,i)?i:e[0]},t.prototype.getAllKeysInObjects=function(e){var i={};return e.filter(function(r){return null!=r}).forEach(function(r){Object.keys(r).forEach(function(o){return i[o]=null})}),Object.keys(i)},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),i=this.gridOptionsService.get("customChartThemes");i&&this.getAllKeysInObjects([i]).forEach(function(r){D.includes(e,r)||console.warn("AG Grid: a custom chart theme with the name '"+r+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.reactivePropertyUpdate=function(){this.chartController.setChartThemeName(this.getThemeName(),!0);var e=this.getChartId(),i=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,r=this.gridOptionsService.get("chartThemeOverrides")||{};this.update({type:"".concat(i,"ChartUpdate"),chartId:e,chartThemeOverrides:r})},t.prototype.raiseChartCreatedEvent=function(){var e=this,i={type:x.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(i)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:x.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){var e;n.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),null===(e=this.onDestroyColorSchemeChangeListener)||void 0===e||e.call(this);var i=this.getGui();D.clearElement(i),D.removeFromParent(i),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container" style="min-width: 0px;"></div>\n        </div>',mc([V("eChart")],t.prototype,"eChart",void 0),mc([V("eChartContainer")],t.prototype,"eChartContainer",void 0),mc([V("eMenuContainer")],t.prototype,"eMenuContainer",void 0),mc([V("eEmpty")],t.prototype,"eEmpty",void 0),mc([V("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),mc([C("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),mc([C("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mc([C("gridApi")],t.prototype,"gridApi",void 0),mc([C("popupService")],t.prototype,"popupService",void 0),mc([H],t.prototype,"init",null),t}(le),$b="31.1.1",Li=function(){return Li=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Li.apply(this,arguments)},gh=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e},WJ=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},H$e=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function U$e(n){return n=co("chartOptions.legend.item.marker.type","shape",n),n=co("chartOptions.seriesDefaults.marker.type","shape",n),co("chartOptions.legend.padding","spacing",n)}function z$e(n){var t,e=n=zr("chartOptions.seriesDefaults.marker.minSize",n),i=e.chartType,r=e.chartPalette,o=e.chartOptions,a=o.xAxis,s=o.yAxis,l=gh(o,["xAxis","yAxis"]),c=gh(e,["chartType","chartPalette","chartOptions"]),u=function kUe(n){switch(n){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}(i),d=u?.map(function(p,f){return Li({type:p},0===f?a:s)});return Li({chartType:i,chartThemeName:null!==(t={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"}[r])&&void 0!==t?t:"ag-default",chartOptions:Li(Li({},l),{axes:d,xAxis:a,yAxis:s})},c)}function W$e(n){return co("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",n)}function $$e(n){return n=zr("chart",n=Ru("chartOptions.seriesDefaults.highlightStyle",n,function(e){var i=e.dimOpacity,r=gh(e,["dimOpacity"]);return Li(Li({},r),null!=i?{series:{dimOpacity:i}}:{})})),n=zr("chartOptions.seriesDefaults.tooltipClass",n),n=qJ("chartOptions.axes[].label.rotation",0,n=zr("chartOptions.seriesDefaults.tooltipTracking",n)),qJ("chartOptions.axes[].label.rotation",335,n)}function K$e(n){var t=function(e){var i=e.item,r=e.series,o=gh(e,["item","series"]);return Li({item:Li(Li({},o),i)},r?{series:r}:{})};return n=Ru("chartOptions.seriesDefaults.highlightStyle",n,t),Ru("chartOptions.series[].highlightStyle",n,t)}function Y$e(n){n=nM("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",n),n=nM("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",n),n=zr("chartOptions.seriesDefaults.fill",n=nM("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",n)),n=zr("chartOptions.seriesDefaults.stroke",n),n=zr("chartOptions.seriesDefaults.callout.colors",n),n=zr("chartOptions.xAxis",n);var t=n=zr("chartOptions.yAxis",n),e=t.chartType,i=t.chartOptions,r=i.axes,o=i.seriesDefaults,a=gh(i,["axes","series","seriesDefaults"]),s=gh(t,["chartType","chartOptions"]),l=Ib(e),c=nl(l),u=[c],d={};if(!mV(c)){var h={top:{},bottom:{},left:{},right:{}},p=r.map(function(m){var g,v=m.type,y=gh(m,["type"]);return(g={})[v]=Li(Li({},h),y),g}).reduce(ZJ,{});eJ.filter(function(m){return null==p[m]}).forEach(function(m){p[m]=Li({},h)}),d.axes=p}var f=u.map(function(m){var g;return(g={})[m]=Li(Li(Li({},d),{series:o}),a),g}).reduce(ZJ,{});return Li(Li({},s),{chartType:l,chartOptions:f})}function q$e(n){return n=zr("chartOptions.*.title.padding",n),n=zr("chartOptions.*.subtitle.padding",n),LV("chartOptions.*.axes.*.title.enabled",!1,n=zr("chartOptions.*.axes.*.title.padding",n))}function X$e(n){return n=co("chartOptions.pie.series.callout","calloutLine",n),n=co("chartOptions.pie.series.label","calloutLabel",n),n=co("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=co("chartOptions.pie.series.labelName","sectorLabelName",n),n=co("chartOptions.donut.series.callout","calloutLine",n),n=co("chartOptions.donut.series.label","calloutLabel",n),n=co("chartOptions.donut.series.labelKey","sectorLabelKey",n),co("chartOptions.donut.series.labelName","sectorLabelName",n)}function Z$e(n){return n=Kb("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",n),n=Kb("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",n),n=Kb("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",n),n=Kb("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",n),nM("chartOptions.scatter.series.paired","chartOptions.scatter.paired",n=Kb("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",n))}function $J(n){return zr("chartOptions.axes[].tick.count",n)}function KJ(n){return Ru("chartOptions.*.tooltip",n,function(e){var i,r,o,a,s=e.tracking,l=gh(e,["tracking"]),c=Li({},l);return!1===s?(null!==(i=c.position)&&void 0!==i||(c.position={type:"pointer"}),null!==(r=c.range)&&void 0!==r||(c.range="nearest")):!0===s&&(null!==(o=c.position)&&void 0!==o||(c.position={type:"node"}),null!==(a=c.range)&&void 0!==a||(c.range="nearest")),c})}function Q$e(n){return n=co("chartOptions.pie.series.labelKey","sectorLabelKey",n),LV("chartOptions.common.legend.position","right",n=XJ("chartOptions.common.legend.enabled",!0,n=zr("chartOptions.*.series.flipXY",n=KJ(n=$J(n=co("chartOptions.pie.series.labelName","sectorLabelName",n))))))}function J$e(n){var e=co("chartOptions.column","bar",n),i={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"}[e.chartThemeName]||e.chartThemeName;return Li(Li({},e),{chartThemeName:i})}function jo(n,t,e){if(YJ(n)>YJ(t.version)){var i=e(t);return i.version=n,i}return t}function YJ(n){var t=function i5e(n){var t="string"==typeof n?n.split(".").map(function(e){return Number(e)}):[];if(3!==t.length||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+n);return{major:t[0],minor:t[1],patch:t[2]}}(n);return 1e4*t.major+100*t.minor+t.patch}function qJ(n,t,e){return vh(n,!0,e,function(i,r){i[r]===t&&delete i[r]})}function LV(n,t,e){return vh(n,!1,e,function(i,r){null==i[r]&&(i[r]=t)})}function XJ(n,t,e){var i;"string"==typeof n&&(n=n.split("."));var r=n[0];return n.length>1&&(e[r]=XJ(n.slice(1),t,null!==(i=e[r])&&void 0!==i?i:{})),Object.keys(e).includes(r)||(e[r]=t),e}function nM(n,t,e){var i=void 0,r=!1;return e=vh(n,!0,e,function(o,a){r=!0,i=o[a],delete o[a]}),r?vh(t,!1,e,function(o,a){o[a]=i}):e}function Kb(n,t,e){var i=void 0,r=!1;return e=vh(n,!0,e,function(o,a){r=!0,i=o[a],delete o[a]}),r?vh(t,!1,e,function(o,a){void 0===o[a]&&(o[a]=i)}):e}function co(n,t,e){return vh(n,!0,e,function(i,r){i[t]=i[r],delete i[r]})}function zr(n,t){return vh(n,!0,t,function(e,i){return delete e[i]})}function vh(n,t,e,i){var r=n instanceof Array?n:n.split("."),o=r.slice(0,r.length-1),a=r[r.length-1];return Ru(o,e,function(s){var l=Object.keys(s).includes(a);if(t&&!l)return s;var c=Li({},s);return i(c,a),c})}function Ru(n,t,e){var i,r,o=n instanceof Array?n:n.split(".");if(t=Li({},t),0===o.length)return e(t);if(o[0].startsWith("{")){var a=o[0].substring(1,o[0].lastIndexOf("}")).split(",");try{for(var s=H$e(a),l=s.next();!l.done;l=s.next()){var c=l.value;null!=t[c]&&(t[c]=Ru(o.slice(1),t[c],e))}}catch(h){i={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}}else if(o[0].endsWith("[]")){var u=o[0].substring(0,n[0].indexOf("["));t[u]instanceof Array&&(t[u]=t[u].map(function(h){return Ru(o.slice(1),h,e)}))}else if("*"===o[0])for(var d in t)t[d]=Ru(o.slice(1),t[d],e);else null!=t[o[0]]&&(t[o[0]]=Ru(o.slice(1),t[o[0]],e));return t}var ZJ=function(n,t){return Li(Li({},n),t)},n5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rM=function(){return rM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},rM.apply(this,arguments)},oM=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},QJ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e.isEnterprise=function(){return fV.enterpriseModule.isEnterprise},e}return n5e(t,n),t.prototype.updateChart=function(e){var i=e.chartType;if(i&&QQ(i)&&!this.isEnterprise())Ze.__warnEnterpriseChartDisabled(i);else if(0!==this.activeChartComps.size){var r=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.activeChartComps),!1).find(function(o){return o.getChartId()===e.chartId});r?r.update(e):console.warn("AG Grid - Unable to update chart. No active chart found with ID: ".concat(e.chartId,"."))}else console.warn("AG Grid - No active charts to update.")},t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(r){return e.push(function(r){return rM(rM({},r),{version:$b})}(r.getChartModel()))}),e},t.prototype.getChartRef=function(e){var i;return this.activeCharts.forEach(function(r){r.chartId===e&&(i=r)}),i},t.prototype.getChartComp=function(e){var i;return this.activeChartComps.forEach(function(r){r.getChartId()===e&&(i=r)}),i},t.prototype.getChartImageDataURL=function(e){var i;return this.activeChartComps.forEach(function(r){r.getChartId()===e.chartId&&(i=r.getChartImageDataURL(e.fileFormat))}),i},t.prototype.downloadChart=function(e){var i=Array.from(this.activeChartComps).find(function(r){return r.getChartId()===e.chartId});i?.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var i=Array.from(this.activeChartComps).find(function(r){return r.getChartId()===e.chartId});i?.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var i=Array.from(this.activeChartComps).find(function(r){return r.getChartId()===e});i?.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var i=this.getSelectedRange();return this.createChart(i,e)},t.prototype.restoreChart=function(e,i){var r=this;if(e){e.version!==$b&&(e=function j$e(n){return null==n.version&&(n.version=function t5e(n){var t,e,i=n;if(null!=n.version)return n.version;var r=function(p){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];return Object.keys(p||{}).some(function(g){return f.includes(g)})},o=i.chartOptions,a=r(o,"seriesDefaults")?o?.seriesDefaults:o?.[Object.keys(o)[0]],s={"27.0.0":r(i,"seriesChartTypes"),"26.2.0":!r(o,"seriesDefaults"),"26.1.0":r(a?.highlightStyle,"item"),"26.0.0":r(a?.highlightStyle,"series"),"25.1.0":r(a?.label,"minAngle"),"25.0.0":r(i,"modelType","aggFunc","unlinkChart","suppressChartRanges")||r(a,"lineDash","lineDashOffset"),"24.0.0":r(i,"chartThemeName","chart")||r(o,"series"),"23.2.0":r(o,"navigator"),"23.0.0":r(null===(e=null===(t=o?.legend)||void 0===t?void 0:t.item)||void 0===e?void 0:e.marker,"shape"),"22.1.0":r(i,"chartPalette","chartType")},c=Object.entries(s).filter(function(p){return WJ(p,2)[1]}),d=WJ(c[0],1)[0];return void 0===d?"27.1.0":d}(n)),n=jo("23.0.0",n,U$e),n=jo("24.0.0",n,z$e),n=jo("25.1.0",n,W$e),n=jo("26.0.0",n,$$e),n=jo("26.1.0",n,K$e),n=jo("26.2.0",n,Y$e),n=jo("28.0.0",n,q$e),n=jo("28.2.0",n,X$e),n=jo("29.0.0",n,Z$e),n=jo("29.1.0",n,$J),n=jo("29.2.0",n,KJ),n=jo("30.0.0",n,Q$e),n=function e5e(n){return n=zr("chartOptions.*.width",n),LV("chartOptions.*.axes.category.label.autoRotate",!0,n=zr("chartOptions.*.height",n))}(n=jo("31.0.0",n,J$e)),jo($b,n,function(t){return t})}(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:i,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(d){return r.rangeService?r.rangeService.createCellRangeFromCellRangeParams(d):void 0};if("pivot"===e.modelType){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var c=a({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(d){return d.getColId()})});return c?this.createChart(c,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var u=a(o.cellRange);if(u)return this.createChart(u,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var i,r=null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange);if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var i={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},r=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(i):void 0;if(r)return this.createChart(r,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var i,r=null===(i=this.rangeService)||void 0===i?void 0:i.createCellRangeFromCellRangeParams(e.cellRange);if(r)return this.createChart(r,e.chartType,e.chartThemeName,!1,!(typeof e.suppressChartRanges<"u"&&null!==e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,i,r,o,a,s,l,c,u,d,h,p,f){var m=this;if(void 0===o&&(o=!1),void 0===a&&(a=!1),void 0===u&&(u=!1),void 0===d&&(d=!1),!QQ(i)||this.isEnterprise()){var g=this.gridOptionsService.getCallback("createChartContainer"),v={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:Ib(i),chartThemeName:r,insideDialog:!(s||g),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:c,unlinkChart:u,crossFiltering:d,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:h,chartPaletteToRestore:p,seriesChartTypes:f,crossFilteringResetCallback:function(){return m.activeChartComps.forEach(function(w){return w.crossFilteringReset()})}},y=new zJ(v);this.context.createBean(y);var _=this.createChartRef(y);if(s){s.appendChild(y.getGui());var b=this.environment.getTheme();b.el&&!b.el.contains(s)&&s.classList.add(b.theme)}else g?g(_):y.addEventListener(zJ.EVENT_DESTROYED,function(){m.activeChartComps.delete(y),m.activeCharts.delete(_)});return _}Ze.__warnEnterpriseChartDisabled(i)},t.prototype.createChartRef=function(e){var i=this,r={destroyChart:function(){i.activeCharts.has(r)&&(i.context.destroyBean(e),i.activeChartComps.delete(e),i.activeCharts.delete(r))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(r),this.activeChartComps.add(e),r},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-".concat(Math.random().toString(36).substring(2,18))},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION="9.1.1",oM([gt("rangeService")],t.prototype,"rangeService",void 0),oM([C("columnModel")],t.prototype,"columnModel",void 0),oM([Mi],t.prototype,"destroyAllActiveCharts",null),oM([oe("chartService")],t)}(z),a5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),l5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return a5e(t,n),e=t,t.prototype.translate=function(i,r){return this.localeService.getLocaleTextFunc()(i,e.DEFAULT_TRANSLATIONS[i]||r)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",radiusAxis:"Radius Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",labelRotation:"Rotation",circle:"Circle",orientation:"Orientation",polygon:"Polygon",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",heatmapTooltip:"Heatmap",waterfallTooltip:"Waterfall",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",group:"Group",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("chartTranslationService")],t),t}(z),c5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),aM=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},u5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return c5e(t,n),e=t,t.prototype.filter=function(i,r){void 0===r&&(r=!1);var o=this.gridApi.getFilterModel();if(r)this.resetFilters(o);else{var a=e.extractFilterColId(i);this.isValidColumnFilter(a)?this.updateFilters(o,i,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")}},t.prototype.resetFilters=function(i){Object.keys(i).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(i,r,o){var a,s=e.extractFilterColId(r),l=r.datum[s];if(void 0!==l){var c=l.toString();if(r.event.metaKey||r.event.ctrlKey){var u=this.getCurrentGridValuesForCategory(o),h=void 0;D.includes(u,c)?h=u.filter(function(p){return p!==c}):(h=u).push(c),i[o]=this.getUpdatedFilterModel(o,h)}else(a={})[o]=this.getUpdatedFilterModel(o,h=[c]),i=a;this.gridApi.setFilterModel(i)}},t.prototype.getUpdatedFilterModel=function(i,r){return"agMultiColumnFilter"===this.getColumnFilterType(i)?{filterType:"multi",filterModels:[null,{filterType:"set",values:r}]}:{filterType:"set",values:r}},t.prototype.getCurrentGridValuesForCategory=function(i){var r=this,o=[],a=this.getColumnById(i);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=r.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(i){return i.xKey||i.calloutLabelKey},t.prototype.isValidColumnFilter=function(i){i.indexOf("-filtered-out")&&(i=i.replace("-filtered-out",""));var r=this.getColumnFilterType(i);return"boolean"==typeof r?r:D.includes(["agSetColumnFilter","agMultiColumnFilter"],r)},t.prototype.getColumnFilterType=function(i){var r=this.getColumnById(i);if(r)return r.getColDef().filter},t.prototype.getColumnById=function(i){return this.columnModel.getGridColumn(i)},aM([C("gridApi")],t.prototype,"gridApi",void 0),aM([C("columnModel")],t.prototype,"columnModel",void 0),aM([C("valueService")],t.prototype,"valueService",void 0),e=aM([oe("chartCrossFilterService")],t)}(z),d5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yh=function(){return yh=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},yh.apply(this,arguments)},gc=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Yb=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},dv=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},p5e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return d5e(t,n),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new gE({scrollContainer:i.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(r){return i.getScrollFeature().setVerticalScrollPosition(r)},getHorizontalPosition:function(){return i.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(r){return i.getScrollFeature().setHorizontalScrollPosition(r)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!i.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var i=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&-1!==i.indexOf(l)}),!D.areEqual(a,o.columns)&&e.dispatchChangedEvent(!1,!0,o.id)});var r=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),r>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=D.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var i=e.columns;if(!i.length)return!1;var r=this.columnModel.getAllDisplayedColumns(),o=i.map(function(a){return r.indexOf(a)}).sort(function(a,s){return a-s});return D.last(o)-o[0]+1===i.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var i=this.pinnedRowModel.getPinnedBottomRowCount();return i>0?{rowIndex:i-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,i){if(void 0===i&&(i=!1),this.gridOptionsService.get("enableRangeSelection")){var r=this.calculateColumnsBetween(e.column,e.column);if(r){(this.gridOptionsService.get("suppressMultiRangeSelection")||!i||D.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.cellRanges.push({startRow:a,endRow:a,columns:r,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=D.last(this.cellRanges);this.updateRangeEnd(i,e)}},t.prototype.updateRangeEnd=function(e,i,r){void 0===r&&(r=!1);var a=this.calculateColumnsBetween(e.startColumn,i.column);!a||this.isLastCellOfRange(e,i)||(e.columns=a,e.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},r||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var i=e.startColumn,r=e.columns,o=function(d,h){var p=e.columns.filter(function(f){return f!==d});d?(e.startColumn=d,e.columns=h?dv([d],Yb(p),!1):dv(dv([],Yb(p),!1),[d],!1)):e.columns=p},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right;i===r[0]&&i!==s?o(s,!0):i===D.last(r)&&i===l&&o(l,!1)},t.prototype.getRangeEdgeColumns=function(e){var i=this.columnModel.getAllDisplayedColumns(),r=e.columns.map(function(o){return i.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:i[r[0]],right:i[D.last(r)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=e.key,r=e.ctrlKey||e.metaKey,o=D.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=D.last(o.columns),p=this.cellNavigationService.getNextCellToFocus(i,{column:a.column===s?l:s,rowIndex:o.endRow.rowIndex,rowPinned:o.endRow.rowPinned},r);if(p)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnStart:a.column,columnEnd:p.column}),p}},t.prototype.setCellRange=function(e){this.gridOptionsService.get("enableRangeSelection")&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var i=this;D.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(r){r.columns&&r.startRow&&i.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.columns[0]}),i.cellRanges.push(r)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e){var i=this,r=e.cellRanges,o=e.cellEventSource,a=void 0===o?"rangeService":o,s=e.dispatchWrapperEvents,l=e.wrapperEventSource,c=void 0===l?"deleteKey":l;s&&this.eventService.dispatchEvent({type:x.EVENT_RANGE_DELETE_START,source:c}),r||(r=this.cellRanges),r.forEach(function(h){i.forEachRowInRange(h,function(p){var f=i.rowPositionUtils.getRowNode(p);if(f)for(var m=0;m<h.columns.length;m++){var g=i.columnModel.getGridColumn(h.columns[m]);!g||!g.isCellEditable(f)||f.setDataValue(g,null,a)}})}),s&&this.eventService.dispatchEvent({type:x.EVENT_RANGE_DELETE_END,source:c})},t.prototype.createCellRangeFromCellRangeParams=function(e){var r,i=this,o=!1;if(e.columns)r=e.columns.map(function(u){return i.columnModel.getColumnWithValidation(u)}).filter(function(u){return u});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;(r=this.calculateColumnsBetween(a,s))&&r.length&&(o=r[0]!==a)}if(r)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:r,startColumn:o?D.last(r):r[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var i=this.createCellRangeFromCellRangeParams(e);i&&(i.startRow&&this.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.startColumn}),this.cellRanges.push(i),this.dispatchChangedEvent(!1,!0,i.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var i=this.cellRanges[0],r=this.getRangeStartRow(i),o=this.getRangeEndRow(i);return r.rowPinned!==o.rowPinned||r.rowIndex!==o.rowIndex||1!==i.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,i,s,r=this,o=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(h){r.forEachRowInRange(h,function(p){var f="".concat(p.rowPinned||"normal","_").concat(p.rowIndex),m=o.get(f),g=h.columns.map(function(y){return y.getId()});if(m){var v=g.filter(function(y){return-1===m.indexOf(y)});m.push.apply(m,dv([],Yb(v),!1))}else o.set(f,g)})});try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o.values()),c=l.next();!c.done;c=l.next()){var d=c.value.sort().join();if(void 0!==s){if(s!==d)return!1}else s=d}}catch(h){e={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,i){for(var r=this.getRangeStartRow(e),o=this.getRangeEndRow(e),a=r;a&&(i(a),!this.rowPositionUtils.sameRow(a,o));)a=this.cellNavigationService.getRowBelow(a)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,i){var r=null!==i.columns&&D.includes(i.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,i);return r&&o},t.prototype.isLastCellOfRange=function(e,i){var r=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(r,o)?o:r,s=i.rowIndex===a.rowIndex&&i.rowPinned===a.rowPinned,l=e.columns[0],c=D.last(e.columns);return i.column===(e.startColumn===l?c:l)&&s},t.prototype.isBottomRightCell=function(e,i){var r=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(d){return r.indexOf(d)}).sort(function(d,h){return d-h}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,c=r.indexOf(i.column)===D.last(o),u=i.rowIndex===l.rowIndex&&D.makeNull(i.rowPinned)===D.makeNull(l.rowPinned);return c&&u},t.prototype.getCellRangeCount=function(e){var i=this;return this.isEmpty()?0:this.cellRanges.filter(function(r){return i.isCellInSpecificRange(e,r)}).length},t.prototype.isRowInRange=function(e,i,r){var o=this.getRangeStartRow(r),a=this.getRangeEndRow(r),s={rowIndex:e,rowPinned:i||null};if(s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned||s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned)return!0;var u=!this.rowPositionUtils.before(s,o),d=this.rowPositionUtils.before(s,a);return u&&d},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var o=e.shiftKey,a=e.ctrlKey||e.metaKey,l=!this.gridOptionsService.get("suppressMultiRangeSelection")&&a,c=o&&D.existsAndNotEmpty(this.cellRanges);!l&&(!c||D.exists(D.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var u=this.dragService.getStartTarget();if(u&&this.updateValuesOnMove(u),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=l&&this.getCellRangeCount(this.lastCellHovered)>1,c||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=D.last(this.cellRanges);else{var d={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:d,endRow:d,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var i=this;if(!(e&&this.dragging||this.gridOptionsService.get("suppressMultiRangeSelection")||this.isEmpty())){var r=D.last(this.cellRanges),o=this.getRangeStartRow(r),a=this.getRangeEndRow(r),s=[];this.cellRanges.slice(0,-1).forEach(function(l){var c=i.getRangeStartRow(l),u=i.getRangeEndRow(l),d=l.columns,h=d.filter(function(g){return-1===r.columns.indexOf(g)});if(h.length!==d.length)if(i.rowPositionUtils.before(a,c)||i.rowPositionUtils.before(u,o))s.push(l);else{var p=s.length;if(i.rowPositionUtils.before(c,o)){var f={columns:dv([],Yb(d),!1),startColumn:r.startColumn,startRow:yh({},c),endRow:i.cellNavigationService.getRowAbove(o)};s.push(f)}if(h.length>0){var m={columns:h,startColumn:D.includes(h,r.startColumn)?r.startColumn:h[0],startRow:i.rowPositionUtils.rowMax([yh({},o),yh({},c)]),endRow:i.rowPositionUtils.rowMin([yh({},a),yh({},u)])};s.push(m)}i.rowPositionUtils.before(a,u)&&s.push({columns:dv([],Yb(d),!1),startColumn:r.startColumn,startRow:i.cellNavigationService.getRowBelow(a),endRow:yh({},u)}),s.length-p==1&&(s[s.length-1].id=l.id)}else s.push(l)}),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var i=D.getCtrlForEventTarget(this.gridOptionsService,e,Sd.DOM_DATA_KEY_CELL_CTRL),r=i?.getCellPosition();this.cellHasChanged=!1,!(!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=r)},t.prototype.onDragging=function(e){var i=this;if(this.dragging&&e){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var r=this.lastCellHovered,o=function(l){return r&&r.rowPinned===l&&i.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,r.column);s&&(this.draggingRange.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,i,r){this.eventService.dispatchEvent({type:x.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:i,id:r})},t.prototype.calculateColumnsBetween=function(e,i){var r=this.columnModel.getAllDisplayedColumns(),o=e===i,a=r.indexOf(e);if(a<0)console.warn("AG Grid: column ".concat(e.getId()," is not visible"));else{var s=o?a:r.indexOf(i);if(!(s<0)){if(o)return[e];for(var l=Math.min(a,s),c=l===a?s:a,u=[],d=l;d<=c;d++)u.push(r[d]);return u}console.warn("AG Grid: column ".concat(i.getId()," is not visible"))}},gc([C("rowModel")],t.prototype,"rowModel",void 0),gc([C("dragService")],t.prototype,"dragService",void 0),gc([C("columnModel")],t.prototype,"columnModel",void 0),gc([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),gc([C("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),gc([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),gc([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),gc([C("ctrlsService")],t.prototype,"ctrlsService",void 0),gc([H],t.prototype,"init",null),gc([oe("rangeService")],t)}(z),f5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ol=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JJ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return f5e(t,n),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(i){e.dragging=!0,e.rangeService.autoScrollService.check(i),e.changedCalculatedValues&&(e.onDrag(i),e.changedCalculatedValues=!1)},onDragStop:function(i){e.dragging=!1,e.onDragEnd(i),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-".concat(this.type===da.FILL?"fill":"range","-handle")},t.prototype.updateValuesOnMove=function(e){var i=this.mouseEventService.getCellPositionForEvent(e);!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered)||(this.lastCellHovered=i,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var i=this.getCellCtrl(),r=this.getGui(),o=D.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s&&(this.rowPositionUtils.before(s,a)?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))),i!==e||!D.isVisible(r)){this.setCellCtrl(e);var c=e.getComp().getParentOfValue();c&&c.appendChild(r)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return D.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,n.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},ol([C("rowRenderer")],t.prototype,"rowRenderer",void 0),ol([C("dragService")],t.prototype,"dragService",void 0),ol([C("rangeService")],t.prototype,"rangeService",void 0),ol([C("mouseEventService")],t.prototype,"mouseEventService",void 0),ol([C("columnModel")],t.prototype,"columnModel",void 0),ol([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ol([C("navigationService")],t.prototype,"navigationService",void 0),ol([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ol([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ol([C("ctrlsService")],t.prototype,"ctrlsService",void 0),ol([H],t.prototype,"init",null),t}(le);function m5e(n){var t=n.length,e=0;if(t<=1)return n;for(var i=0;i<n.length;i++){var r=n[i],o=r.toString().split("e-");o.length>1?e=Math.max(e,parseInt(o[1],10)):Math.floor(r)!==r&&(e=Math.max(e,r.toString().split(".")[1].length))}for(var a=0,s=0,l=0,c=0,u=0,d=0;d<t;d++)a+=d,s+=u=n[d],c+=d*d,l+=d*u;var h=(t*l-a*s)/(t*c-a*a),p=s/t-h*a/t,f=[];for(d=0;d<=t;d++)f.push(parseFloat((d*h+p).toFixed(e)));return f}var g5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hv=function(){return hv=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},hv.apply(this,arguments)},NV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},eee=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=da.FILL,e}return g5e(t,n),t.prototype.updateValuesOnMove=function(e){n.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var h,i=this.initialXY,r=i.x,o=i.y,a=this.mouseEventService.getNormalisedPosition(e),l=a.y,c=Math.abs(r-a.x),u=Math.abs(o-l),d=this.getFillHandleDirection();(h="xy"===d?c>u?"x":"y":d)!==this.dragAxis&&(this.dragAxis=h,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var i=this.getCellCtrl();if(!i)return;this.initialPosition=i.getCellPosition()}var r=this.getLastCellHovered();r&&this.markPathFrom(this.initialPosition,r)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var l,i="x"===this.dragAxis,r=this.getCellRange(),o=r.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var c=i?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,columnStart:i?this.lastCellMarked.column:r.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:r.columns[o-1]})}else l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:r.columns[0],rowEndIndex:i?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:i?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:i?this.lastCellMarked.column:r.columns[o-1]});l&&(this.raiseFillStartEvent(),this.handleValueChanged(r,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(r,l))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?"x"!==e&&"y"!==e&&"xy"!==e?(D.warnOnce("valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'."),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_FILL_START})},t.prototype.raiseFillEndEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_FILL_END,initialRange:e,finalRange:i})},t.prototype.handleValueChanged=function(e,i,r){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(i),c=this.rangeService.getRangeStartRow(i),u="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.get("suppressClearOnFillReduction")){var p=[],f=[],m=[],g=[],v=!0,y=0,_=function(){p.length=0,f.length=0,m.length=0,g.length=0,y=0},b=function(E,M){var P=o.isUp?a:s,I=!1;u&&(v=!0,_());for(var k=function(){var B=o.rowPositionUtils.getRowNode(P);if(!B)return"break";u&&E?w(p,E,B,function(){return!o.rowPositionUtils.sameRow(P,o.isUp?s:a)}):M&&(v=!0,_(),M.forEach(function(Y){return w(p,Y,B,function(){return Y!==(o.isLeft?e.columns[0]:D.last(e.columns))})})),I=o.rowPositionUtils.sameRow(P,o.isUp?c:l),P=o.isUp?o.cellNavigationService.getRowAbove(P):o.cellNavigationService.getRowBelow(P)};!I&&P&&"break"!==k(););},w=function(E,M,P,I){var k,L,B,Y=!1;if(v)B=o.valueService.getValue(M,P),f.push(B),m.push(o.valueService.getValue(M,P,void 0,!0)),g.push(o.valueFormatterService.formatValue(M,P,B)),v=I();else{var ne=o.processValues({event:r,values:E,initialValues:f,initialNonAggregatedValues:m,initialFormattedValues:g,col:M,rowNode:P,idx:y++}),W=ne.fromUserFunction,$=ne.sourceCol,X=ne.sourceRowNode;if(B=ne.value,M.isCellEditable(P)){var ce=o.valueService.getValue(M,P);W||($&&!1!==(null===(k=$.getColDef())||void 0===k?void 0:k.useValueFormatterForExport)&&(B=null!==(L=o.valueFormatterService.formatValue($,X,B))&&void 0!==L?L:B),!1!==M.getColDef().useValueParserForImport&&(B=o.valueParserService.parseValue(M,P,$?B:D.toStringOrNull(B),ce))),W&&ce===B?Y=!0:P.setDataValue(M,B,"rangeService")}}Y||E.push({value:B,column:M,rowNode:P})};u?e.columns.forEach(function(E){b(E)}):(d=this.isLeft?function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(i.columns),!1).reverse():i.columns,b(void 0,d))}else{var d=u?e.columns:e.columns.filter(function(E){return i.columns.indexOf(E)<0}),h=u?this.cellNavigationService.getRowBelow(l):c;h&&this.clearCellsInRange(h,a,d)}},t.prototype.clearCellsInRange=function(e,i,r){this.rangeService.clearCellRangeCellValues({cellRanges:[{startRow:e,endRow:i,columns:r,startColumn:r[0]}]})},t.prototype.processValues=function(e){var p,i=e.event,r=e.values,o=e.initialValues,a=e.initialNonAggregatedValues,s=e.initialFormattedValues,l=e.col,c=e.rowNode,u=e.idx,d=this.gridOptionsService.getCallback("fillOperation");if(p="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",d){var m=d({event:i,values:r.map(function(E){return E.value}),initialValues:o,initialNonAggregatedValues:a,initialFormattedValues:s,currentIndex:u,currentCellValue:this.valueService.getValue(l,c),direction:p,column:l,rowNode:c});if(!1!==m)return{value:m,fromUserFunction:!0}}var g=!r.some(function(E){var M=E.value,P=parseFloat(M);return isNaN(P)||P.toString()!==M.toString()});if(i.altKey||!g){if(g&&1===o.length){var v=this.isUp||this.isLeft?-1:1;return{value:parseFloat(D.last(r).value)+1*v,fromUserFunction:!1}}var y=r[u%r.length];return{value:y.value,fromUserFunction:!1,sourceCol:y.column,sourceRowNode:y.rowNode}}return{value:D.last(m5e(r.map(function(E){return Number(E.value)}))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,n.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var i=e.getComp();i.addOrRemoveCssClass("ag-selection-fill-top",!1),i.addOrRemoveCssClass("ag-selection-fill-right",!1),i.addOrRemoveCssClass("ag-selection-fill-bottom",!1),i.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,i){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(i,e))return;var r=this.rowPositionUtils.before(i,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();r&&(i.rowPinned==o.rowPinned&&i.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&i.rowPinned==a.rowPinned&&i.rowIndex<=a.rowIndex)?(this.reduceVertical(e,i),this.isReduce=!0):(this.extendVertical(e,i,r),this.isReduce=!1)}else{var s=e.column,l=i.column;if(s===l)return;var c=this.columnModel.getAllDisplayedColumns(),u=c.indexOf(s),d=c.indexOf(l);d<=u&&d>=c.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,i),this.isReduce=!0):(this.extendHorizontal(e,i,d<u),this.isReduce=!1)}this.lastCellMarked=i},t.prototype.extendVertical=function(e,i,r){var a=this.navigationService,s=this.rangeService,l=e;do{for(var c=this.getCellRange(),u=c.columns.length,d=0;d<u;d++){var h=c.columns[d],f=hv(hv({},{rowIndex:l.rowIndex,rowPinned:l.rowPinned}),{column:h}),m=s.isCellInSpecificRange(f,c),g=this.rowPositionUtils.sameRow(l,e);if(r&&(this.isUp=!0),!g){var v=a.getCellByPosition(f);if(v){this.markedCells.push(v);var y=v.getComp();m||(y.addOrRemoveCssClass("ag-selection-fill-left",0===d),y.addOrRemoveCssClass("ag-selection-fill-right",d===u-1)),y.addOrRemoveCssClass(r?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,i))}}}if(this.rowPositionUtils.sameRow(l,i))break}while(l=r?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,i){var r=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(r,i),l=0;l<a;l++){var u=hv(hv({},{rowIndex:r.rowIndex,rowPinned:r.rowPinned}),{column:o.columns[l]}),d=this.navigationService.getCellByPosition(u);d&&(this.markedCells.push(d),d.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(r,i)))}if(s)break}while(r=this.cellNavigationService.getRowAbove(r))},t.prototype.extendHorizontal=function(e,i,r){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(r?i.column:e.column),l=a.indexOf(r?this.getCellRange().columns[0]:i.column),c=r?0:1,u=a.slice(s+c,l+c),d=this.getRangeStartRow(),h=this.getRangeEndRow();u.forEach(function(p){var f=d,m=!1;do{m=o.rowPositionUtils.sameRow(f,h);var g=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:p});if(g){o.markedCells.push(g);var v=g.getComp();v.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,d)),v.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,h)),r?(o.isLeft=!0,v.addOrRemoveCssClass("ag-selection-fill-left",p===u[0])):v.addOrRemoveCssClass("ag-selection-fill-right",p===D.last(u))}f=o.cellNavigationService.getRowBelow(f)}while(!m)})},t.prototype.reduceHorizontal=function(e,i){var r=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(i.column),s=o.indexOf(e.column),l=o.slice(a,s),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach(function(d){var h=c,p=!1;do{p=r.rowPositionUtils.sameRow(h,u);var f=r.navigationService.getCellByPosition({rowIndex:h.rowIndex,rowPinned:h.rowPinned,column:d});f&&(r.markedCells.push(f),f.getComp().addOrRemoveCssClass("ag-selection-fill-right",d===l[0])),h=r.cellNavigationService.getRowBelow(h)}while(!p)})},t.prototype.refresh=function(e){var i=this.rangeService.getCellRanges()[0];i.startRow&&i.endRow?n.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',NV([C("valueService")],t.prototype,"valueService",void 0),NV([C("valueParserService")],t.prototype,"valueParserService",void 0),NV([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(JJ),_5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sM=function(){return sM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},sM.apply(this,arguments)},tee=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.type=da.RANGE,e.rangeFixed=!1,e}return _5e(t,n),t.prototype.onDrag=function(e){var i=this.getLastCellHovered();if(i){var r=this.rangeService.getCellRanges(),o=D.last(r);this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column},2===r.length&&r[0].type===cr.DIMENSION&&o.type===cr.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(r[0],sM(sM({},this.endPosition),{column:r[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var i=D.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(i),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var i=this.rangeService.getRangeStartRow(e),r=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=i,e.endRow=r,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(JJ),C5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),w5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return C5e(t,n),t.prototype.createSelectionHandle=function(e){return this.createBean(e===da.RANGE?new tee:new eee)},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("selectionHandleFactory")],t),t}(z),iee={version:"31.1.1",moduleName:ie.RangeSelectionModule,beans:[p5e,w5e],agStackComponents:[{componentName:"AgFillHandle",componentClass:eee},{componentName:"AgRangeHandle",componentClass:tee}],dependantModules:[ur]},VV=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},nee=28,ree=6;function GV(n){return n&&n.match(/\d+\.\d+\.\d+/)}function lM(n){var t=n.type,e=n.gridVersion,i=n.chartsVersion,r="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return r;var o=function E5e(n){if(n&&GV(n)){var t=VV(n.split(".")||[],2),e=t[0],i=t[1],r="".concat(e,".").concat(i,".x"),a=parseInt(e,10)-nee+ree;if(!(a<0)){var s=i;return{gridMajorMinor:r,chartsMajorMinor:"".concat(a,".").concat(s,".x")}}}}(e);if(!o)return r;var a=o.gridMajorMinor,s=o.chartsMajorMinor;return"incompatible"===t?"AG Grid version ".concat(e," and AG Charts version ").concat(i," is not supported. AG Grid version ").concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):"invalidCharts"===t?"AG Grid version ".concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):r}var T5e={version:$b,validate:function(){return function D5e(n){var t=n.gridVersion,e=n.chartsVersion;if(!GV(e))return{isValid:!1,message:lM({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!GV(t))return{isValid:!1,message:lM({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var i=VV(t.split(".")||[],2),r=i[0],o=i[1],a=VV(e.split(".")||[],2),l=a[1],c=function x5e(n){var e=n.chartsMajorVersion,i=parseInt(n.gridMajorVersion,10),r=parseInt(e,10),o=i-nee;return o===r-ree&&o>=0}({gridMajorVersion:r,chartsMajorVersion:a[0]});return c&&o===l?{isValid:!0}:c&&o===l?{isValid:!1,message:lM({type:"invalid",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:lM({type:"incompatible",gridVersion:t,chartsVersion:e})}}({gridVersion:$b,chartsVersion:QJ.CHARTS_VERSION})},moduleName:ie.GridChartsModule,beans:[QJ,l5e,u5e],agStackComponents:[{componentName:"AgColorPicker",componentClass:dJ},{componentName:"AgAngleSelect",componentClass:lJ}],dependantModules:[iee,ur]},M5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BV=function(){return BV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},BV.apply(this,arguments)},oee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aee=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.loadRowDataVersion=0,e}return M5e(t,n),t.prototype.init=function(e,i){this.params=i,this.comp=e,null!=i.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(this.eventService,x.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var i=this.params;this.rowPositionUtils.sameRow({rowIndex:i.node.rowIndex,rowPinned:i.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.get("detailRowAutoHeight"),r=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(r,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(D.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsService.get("detailRowAutoHeight"),i=BV({},this.params.detailGridOptions);e&&(i.domLayout="autoHeight"),this.comp.setDetailGrid(i)}},t.prototype.registerDetailWithMaster=function(e,i){var r=this.params.node.id,o=this.params.api,a={id:r,api:e,columnApi:i},s=this.params.node;o.addDetailGridInfo(r,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(r),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var i,r,o,e=this;this.loadRowDataVersion++;var a=this.loadRowDataVersion;if("serverSide"!==(null===(i=this.params.detailGridOptions)||void 0===i?void 0:i.rowModelType)){var l=this.params.getDetailRowData;l?l({node:this.params.node,data:this.params.node.data,successCallback:function(d){e.loadRowDataVersion===a&&e.comp.setRowData(d)},context:this.gridOptionsService.getGridCommonParams().context}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")}else null===(o=null===(r=this.params.node.detailGridInfo)||void 0===r?void 0:r.api)||void 0===o||o.refreshServerSide({purge:!0})},t.prototype.refresh=function(){switch(this.refreshStrategy){case"nothing":return!0;case"everything":return!1}return this.loadRowData(),!0},oee([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),oee([C("focusService")],t.prototype,"focusService",void 0),t}(z),A5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),R5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return A5e(t,n),t.prototype.init=function(e){var i=this;this.params=e,this.selectAndSetTemplate();var r={addOrRemoveCssClass:function(o,a){return i.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return i.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return i.setDetailGrid(o)},setRowData:function(o){return i.setRowData(o)},getGui:function(){return i.eDetailGrid}};this.ctrl=this.createManagedBean(new aee),this.ctrl.init(r,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var i=function(){e.setTemplate(t.TEMPLATE)};if(D.missing(this.params.template))i();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),i();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var i=this.context.getBean("agGridReact"),r=i?D.cloneObject(i):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides(),s=T7(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:r,frameworkComponentWrapper:o},modules:Ze.__getGridRegisteredModules(this.params.api.getGridId())});this.detailApi=s,this.ctrl.registerDetailWithMaster(s,new lC(s)),this.addDestroyFunc(function(){s?.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setGridOption("rowData",e)},t.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);r>3&&o&&Object.defineProperty(t,e,o)}([V("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(le),I5e={version:"31.1.1",moduleName:ie.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:R5e}],controllers:[{controllerName:"detailCellRenderer",controllerClass:aee}],dependantModules:[ur]},HV=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hr=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},F5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return HV(t,n),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,i,r,o){var a=this,s=o?"filterMenuTab":void 0;this.showMenu(e,function(l){var c,u=l.getGui();a.popupService.positionPopupUnderMouseEvent({type:r,column:e,mouseEvent:i,ePopup:u}),s&&(null===(c=l.showTab)||void 0===c||c.call(l,s)),a.dispatchVisibleChangedEvent(!0,!1,e,s)},r,s,void 0,i.target)},t.prototype.showMenuAfterButtonClick=function(e,i,r,o){var a=this,s=-1,l="left";this.gridOptionsService.get("enableRtl")&&(s=1,l="right");var c=o?"filterMenuTab":void 0,u=c?[c]:void 0,d=this.menuService.isLegacyMenuEnabled(),h=(d?9:4)*s,p=d?-23:4;this.showMenu(e,function(f){var m,g=f.getGui();a.popupService.positionPopupByComponent({type:r,column:e,eventSource:i,ePopup:g,alignSide:l,nudgeX:h,nudgeY:p,position:"under",keepWithinBounds:!0}),c&&(null===(m=f.showTab)||void 0===m||m.call(f,c)),a.dispatchVisibleChangedEvent(!0,!1,e,c)},r,c,u,i)},t.prototype.showMenu=function(e,i,r,o,a,s){var c,l=this,u=this.getMenuParams(e,a,s),d=u.menu,h=u.eMenuGui,p=u.anchorToElement,f=u.restoreFocusParams,m=[];e&&m.push(function(y){var _=d.getGui();l.destroyBean(d),e?.setMenuVisible(!1,"contextMenu"),l.menuUtils.restoreFocusOnClose(f,_,y)});var g=this.localeService.getLocaleTextFunc();if(this.popupService.addPopup({modal:!0,eChild:h,closeOnEsc:!0,closedCallback:function(y){m.forEach(function(_){return _(y)}),l.dispatchVisibleChangedEvent(!1,!1,e,o)},afterGuiAttached:function(y){return d.afterGuiAttached(Object.assign({},{container:r},y))},positionCallback:o?function(){return i(d)}:void 0,ariaLabel:g("ariaLabelColumnMenu","Column Menu")}),o||(null===(c=d.showTabBasedOnPreviousSelection)||void 0===c||c.call(d),i(d)),this.menuService.isColumnMenuAnchoringEnabled()){var v=this.popupService.setPopupPositionRelatedToElement(h,p);v&&e&&this.addStopAnchoring(v,e,m)}d.addEventListener(qb.EVENT_TAB_SELECTED,function(y){l.dispatchVisibleChangedEvent(!1,!0,e),l.lastSelectedTab=y.key,l.dispatchVisibleChangedEvent(!0,!0,e)}),e?.setMenuVisible(!0,"contextMenu"),this.activeMenu=d,d.addEventListener(z.EVENT_DESTROYED,function(){l.activeMenu===d&&(l.activeMenu=null)})},t.prototype.addStopAnchoring=function(e,i,r){e.then(function(o){i.addEventListener("leftChanged",o),i.addEventListener("visibleChanged",o),r.push(function(){i.removeEventListener("leftChanged",o),i.removeEventListener("visibleChanged",o)})})},t.prototype.getMenuParams=function(e,i,r){var o={column:e,headerPosition:this.focusService.getFocusedHeader(),columnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),eventSource:r},a=this.createMenu(e,o,i,r);return{menu:a,eMenuGui:a.getGui(),anchorToElement:r||this.ctrlsService.getGridBodyCtrl().getGui(),restoreFocusParams:o}},t.prototype.createMenu=function(e,i,r,o){return this.menuService.isLegacyMenuEnabled()?this.createBean(new qb(e,i,this.lastSelectedTab,r,o)):this.createBean(new k5e(e,i,o))},t.prototype.dispatchVisibleChangedEvent=function(e,i,r,o){var a,s,l={type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:i,key:null!==(s=null!==(a=this.lastSelectedTab)&&void 0!==a?a:o)&&void 0!==s?s:this.menuService.isLegacyMenuEnabled()?qb.TAB_GENERAL:"columnMenu",column:r??null};this.eventService.dispatchEvent(l)},t.prototype.isMenuEnabled=function(e){var i;if(!this.menuService.isLegacyMenuEnabled())return!0;var r=!this.filterManager.isFilterAllowed(e),o=null!==(i=e.getColDef().menuTabs)&&void 0!==i?i:qb.TABS_DEFAULT;return(r&&o.includes(qb.TAB_FILTER)?o.length-1:o.length)>0},t.prototype.showMenuAfterContextMenuEvent=function(e,i,r){var o=this;this.menuUtils.onContextMenu(i,r,function(a){return o.showMenuAfterMouseEvent(e,a,"columnMenu"),!0})},hr([C("popupService")],t.prototype,"popupService",void 0),hr([C("focusService")],t.prototype,"focusService",void 0),hr([C("ctrlsService")],t.prototype,"ctrlsService",void 0),hr([C("columnModel")],t.prototype,"columnModel",void 0),hr([C("filterManager")],t.prototype,"filterManager",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([C("menuService")],t.prototype,"menuService",void 0),hr([oe("enterpriseMenuFactory")],t)}(z),qb=function(n){function t(e,i,r,o,a){var s=n.call(this)||this;return s.column=e,s.restoreFocusParams=i,s.initialSelection=r,s.restrictTo=o,s.sourceElement=a,s.tabFactories={},s.includeChecks={},s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return!!e&&s.filterManager.isFilterAllowed(e)},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s}return HV(t,n),t.prototype.init=function(){var e=this,i=this.getTabsToCreate().map(function(r){return e.createTab(r)});this.tabbedLayout=new zY({items:i,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var i,r,e=this;return this.restrictTo?this.restrictTo:(null!==(r=null===(i=this.column)||void 0===i?void 0:i.getColDef().menuTabs)&&void 0!==r?r:t.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||Ze.__isRegistered(ie.ColumnsToolPanelModule,this.context.getGridId())},t.prototype.isValidMenuTabItem=function(e){var i=!0,r=t.TABS_DEFAULT;return null!=this.restrictTo&&(i=this.restrictTo.indexOf(e)>-1,r=this.restrictTo),(i=i&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '".concat(e,"'. Check that your 'menuTabs' contains one of [").concat(r,"]")),i},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var i=null;switch(e.item){case this.tabItemColumns:i=t.TAB_COLUMNS;break;case this.tabItemFilter:i=t.TAB_FILTER;break;case this.tabItemGeneral:i=t.TAB_GENERAL}i&&this.activateTab(i)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.createMainPanel=function(){var e=this;return this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var i;return null!==(i=e.sourceElement)&&void 0!==i?i:e.getGui()}),this.mainMenuList.addEventListener(Gs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.tabItemGeneral={title:D.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:vt.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.createFilterPanel=function(){var e=this.column?this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"):null;if(!e)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:D.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e?.guiPromise,afterAttachedCallback:function(o){e?.filterPromise&&e.filterPromise.then(function(a){a&&a.afterGuiAttached&&a.afterGuiAttached(o)})},afterDetachedCallback:function(){var o;return null===(o=e?.filterPromise)||void 0===o?void 0:o.then(function(a){var s;return null===(s=a?.afterGuiDetached)||void 0===s?void 0:s.call(a)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var r=this.columnChooserFactory.createColumnSelectPanel(this,this.column).getGui();return r.classList.add("ag-menu-column-select"),e.appendChild(r),this.tabItemColumns={title:D.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:vt.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var r=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:r}),r&&(this.hidePopupFunc=r,this.addDestroyFunc(r))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],hr([C("filterManager")],t.prototype,"filterManager",void 0),hr([C("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),hr([C("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([H],t.prototype,"init",null),t}(z),k5e=function(n){function t(e,i,r){var o=n.call(this,'\n            <div ref="eColumnMenu" role="presentation" class="ag-menu ag-column-menu"></div>\n        ')||this;return o.column=e,o.restoreFocusParams=i,o.sourceElement=r,o}return HV(t,n),t.prototype.init=function(){var e=this;this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var i;return null!==(i=e.sourceElement)&&void 0!==i?i:e.getGui()}),this.mainMenuList.addEventListener(Gs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(this.mainMenuList.getGui())},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.afterGuiAttached=function(e){var i=e.hidePopup;i&&(this.hidePopupFunc=i,this.addDestroyFunc(i)),this.focusService.focusInto(this.mainMenuList.getGui())},hr([C("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),hr([C("menuUtils")],t.prototype,"menuUtils",void 0),hr([C("focusService")],t.prototype,"focusService",void 0),hr([V("eColumnMenu")],t.prototype,"eColumnMenu",void 0),hr([H],t.prototype,"init",null),t}(le),see=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cM=function(){return cM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},cM.apply(this,arguments)},vc=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lee="ag-context-menu-open",N5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return see(t,n),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,i,r){var o=[];if(D.exists(e)&&Ze.__isRegistered(ie.ClipboardModule,this.context.getGridId())&&i&&(this.gridOptionsService.get("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.get("enableCharts")&&Ze.__isRegistered(ie.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),D.exists(e)){var a=!Ze.__isRegistered(ie.CsvExportModule,this.context.getGridId()),s=!Ze.__isRegistered(ie.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.get("suppressExcelExport")||s,c=this.gridOptionsService.get("suppressCsvExport")||a;!(D.isIOSUserAgent()||l&&c)&&o.push("export")}var h=o.length?o:void 0,p=i?.getColDef().contextMenuItems;if(Array.isArray(p))return p;if("function"==typeof p)return p(this.gridOptionsService.addGridCommonParams({column:i,node:e,value:r,defaultItems:h}));var f=this.gridOptionsService.getCallback("getContextMenuItems");return f?f({column:i,node:e,value:r,defaultItems:h}):o},t.prototype.onContextMenu=function(e,i,r,o,a,s){var l=this;this.menuUtils.onContextMenu(e,i,function(c){return l.showMenu(r,o,a,c,s)})},t.prototype.showMenu=function(e,i,r,o,a){var s=this,l=this.getMenuItems(e,i,r),c=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===l||D.missingOrEmpty(l))return!1;var u=new V5e(l,i,e,r);this.createBean(u);var d=u.getGui(),h={column:i,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},p=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){c.classList.remove(lee),s.destroyBean(u)},click:o,positionCallback:function(){var m=s.gridOptionsService.get("enableRtl");s.popupService.positionPopupUnderMouseEvent(cM(cM({},h),{nudgeX:m?-1*(d.offsetWidth+1):1}))},anchorToElement:a,ariaLabel:p("ariaLabelContextMenu","Context Menu")});return f&&(c.classList.add(lee),u.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=u,u.addEventListener(z.EVENT_DESTROYED,function(){s.activeMenu===u&&(s.activeMenu=null)}),f&&u.addEventListener(Gs.EVENT_CLOSE_MENU,f.hideFunc),!0},vc([C("popupService")],t.prototype,"popupService",void 0),vc([gt("rangeService")],t.prototype,"rangeService",void 0),vc([C("ctrlsService")],t.prototype,"ctrlsService",void 0),vc([C("columnModel")],t.prototype,"columnModel",void 0),vc([C("menuUtils")],t.prototype,"menuUtils",void 0),vc([oe("contextMenuFactory")],t)}(z),V5e=function(n){function t(e,i,r,o){var a=n.call(this,'<div class="'.concat("ag-menu",'" role="presentation"></div>'))||this;return a.menuItems=e,a.column=i,a.node=r,a.value=o,a.menuList=null,a.focusedCell=null,a}return see(t,n),t.prototype.addMenuItems=function(){var e=this,i=this.createManagedBean(new kE(0,{column:this.column,node:this.node,value:this.value})),r=this.menuItemMapper.mapWithStockItems(this.menuItems,null,function(){return e.getGui()});i.addMenuItems(r),this.appendChild(i),this.menuList=i,i.addEventListener(Gs.EVENT_CLOSE_MENU,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var i=this.focusedCell,r=i.rowIndex,o=i.rowPinned,a=i.column,s=this.gridOptionsService.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell({rowIndex:r,column:a,rowPinned:o,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),n.prototype.destroy.call(this)},vc([C("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vc([C("focusService")],t.prototype,"focusService",void 0),vc([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vc([H],t.prototype,"addMenuItems",null),t}(le),G5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jV=function(){return jV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},jV.apply(this,arguments)},yc=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},B5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return G5e(t,n),t.prototype.mapWithStockItems=function(e,i,r){var o=this;if(!e)return[];var a=[];return e.forEach(function(s){var l;if(l="string"==typeof s?o.getStockMenuItem(s,i,r):jV({},s)){var u=l.subMenu;u&&u instanceof Array&&(l.subMenu=o.mapWithStockItems(u,i,r)),null!=l&&a.push(l)}}),a},t.prototype.getStockMenuItem=function(e,i,r){var a,o=this,s=this.localeService.getLocaleTextFunc(),l=this.gridOptionsService.get("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:D.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnsPinned([i],"left","contextMenu")},checked:!!i&&i.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnsPinned([i],"right","contextMenu")},checked:!!i&&i.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnsPinned([i],null,"contextMenu")},checked:!!i&&!i.isPinned()};case"valueAggSubMenu":return Ze.__assertRegistered(ie.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())&&(i?.isPrimary()||i?.getColDef().pivotValueColumn)?{name:s("valueAggregation","Value Aggregation"),icon:D.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(i)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(i,"contextMenu",l)}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns("contextMenu",l)}};case"rowGroup":return{name:s("groupBy","Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),disabled:i?.isRowGroupActive()||!i?.getColDef().enableRowGroup,action:function(){return o.columnModel.addRowGroupColumns([i],"contextMenu")},icon:D.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":var c=D.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),u=i?.getColDef().showRowGroup,d=this.gridOptionsService.get("groupLockGroupColumns");if(!0===u)return{name:s("ungroupAll","Un-Group All"),disabled:-1===d||d>=this.columnModel.getRowGroupColumns().length,action:function(){return o.columnModel.setRowGroupColumns(o.columnModel.getRowGroupColumns().slice(0,d),"contextMenu")},icon:c};if("string"==typeof u){var h=this.columnModel.getPrimaryColumn(u),p=null!=h?D.escapeString(this.columnModel.getDisplayNameForColumn(h,"header")):u;return{name:s("ungroupBy","Un-Group by")+" "+p,disabled:null!=h&&this.columnModel.isColumnGroupingLocked(h),action:function(){return o.columnModel.removeRowGroupColumns([u],"contextMenu")},icon:c}}return{name:s("ungroupBy","Un-Group by")+" "+D.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),disabled:!i?.isRowGroupActive()||!i?.getColDef().enableRowGroup||this.columnModel.isColumnGroupingLocked(i),action:function(){return o.columnModel.removeRowGroupColumns([i],"contextMenu")},icon:c};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All Row Groups"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All Row Groups"),action:function(){return o.gridApi.collapseAll()}};case"copy":return Ze.__assertRegistered(ie.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return Ze.__assertRegistered(ie.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:s("copyWithHeaders","Copy with Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return Ze.__assertRegistered(ie.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:D.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(Ze.__assertRegistered(ie.ClipboardModule,"Cut from Menu",this.context.getGridId())){var f=this.focusService.getFocusedCell(),m=f?this.rowPositionUtils.getRowNode(f):null,g=!!m&&f?.column.isCellEditable(m);return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:D.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!g||this.gridOptionsService.get("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard(void 0,"contextMenu")}}}return null;case"paste":return Ze.__assertRegistered(ie.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:D.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var v=[],y=Ze.__isRegistered(ie.CsvExportModule,this.context.getGridId()),_=Ze.__isRegistered(ie.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.get("suppressCsvExport")&&y&&v.push("csvExport"),!this.gridOptionsService.get("suppressExcelExport")&&_&&v.push("excelExport"),{name:s("export","Export"),subMenu:v,icon:D.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:D.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:D.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(a=this.chartMenuItemMapper.getChartItems(e))&&void 0!==a?a:null;case"columnFilter":return i?{name:s("columnFilter","Column Filter"),icon:D.createIconNoSpan("filter",this.gridOptionsService,null),action:function(){return o.menuService.showFilterMenu({column:i,buttonElement:r(),containerType:"columnFilter",positionBy:"button"})}}:null;case"columnChooser":return Ze.__isRegistered(ie.ColumnsToolPanelModule,this.context.getGridId())?{name:s("columnChooser","Choose Columns"),icon:D.createIconNoSpan("columns",this.gridOptionsService,null),action:function(){return o.menuService.showColumnChooser({column:i,eventSource:r()})}}:null;case"sortAscending":return{name:s("sortAscending","Sort Ascending"),icon:D.createIconNoSpan("sortAscending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,"asc",!1,"columnMenu")}};case"sortDescending":return{name:s("sortDescending","Sort Descending"),icon:D.createIconNoSpan("sortDescending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,"desc",!1,"columnMenu")}};case"sortUnSort":return{name:s("sortUnSort","Clear Sort"),icon:D.createIconNoSpan("sortUnSort",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(i,null,!1,"columnMenu")}};default:return console.warn("AG Grid: unknown menu item type ".concat(e)),null}},t.prototype.createAggregationSubMenu=function(e){var o,i=this,r=this.localeService.getLocaleTextFunc();if(e.isPrimary())o=e;else{var a=e.getColDef().pivotValueColumn;o=D.exists(a)?a:void 0}var s=[];if(o){var l=o.isValueActive(),c=this.aggFuncService.getFuncNames(o);s.push({name:r("noAggregation","None"),action:function(){i.columnModel.removeValueColumns([o],"contextMenu"),i.columnModel.setColumnAggFunc(o,void 0,"contextMenu")},checked:!l}),c.forEach(function(u){s.push({name:r(u,i.aggFuncService.getDefaultFuncLabel(u)),action:function(){i.columnModel.setColumnAggFunc(o,u,"contextMenu"),i.columnModel.addValueColumns([o],"contextMenu")},checked:l&&o.getAggFunc()===u})})}return s},yc([C("columnModel")],t.prototype,"columnModel",void 0),yc([C("gridApi")],t.prototype,"gridApi",void 0),yc([gt("clipboardService")],t.prototype,"clipboardService",void 0),yc([gt("aggFuncService")],t.prototype,"aggFuncService",void 0),yc([C("focusService")],t.prototype,"focusService",void 0),yc([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),yc([C("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),yc([C("menuService")],t.prototype,"menuService",void 0),yc([C("sortController")],t.prototype,"sortController",void 0),yc([oe("menuItemMapper")],t)}(z),j5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pv=function(){return pv=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},pv.apply(this,arguments)},cee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},z5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return j5e(t,n),e=t,t.prototype.getChartItems=function(i){var r,o;if(this.chartService){var a="pivotChart"===i?new W5e(this.gridOptionsService,this.chartService,this.localeService):new $5e(this.gridOptionsService,this.chartService,this.localeService),s=this.chartService.isEnterprise(),l=a.getMenuItem();if(l&&l.subMenu&&!s){var c=function(d){var h;return pv(pv({},d),{subMenu:null===(h=d.subMenu)||void 0===h?void 0:h.filter(function(p){return!p._enterprise}).map(function(p){return c(p)})})};l=c(l)}var u=null===(o=null===(r=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===r?void 0:r.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;return u&&(l=e.filterAndOrderChartMenu(l,u,a.getConfigLookup())),this.cleanInternals(l)}Ze.__assertRegistered(ie.GridChartsModule,'the Context Menu key "'.concat(i,'"'),this.context.getGridId())},t.prototype.cleanInternals=function(i){if(!i)return i;var r=function(o){var a;return null==o||delete o._key,null==o||delete o._enterprise,null===(a=o?.subMenu)||void 0===a||a.forEach(function(s){return r(s)}),o};return r(i)},t.buildLookup=function(i){var r={},o=function(a){r[a._key]=a,a.subMenu&&a.subMenu.forEach(function(s){return o(s)})};return o(i),r},t.filterAndOrderChartMenu=function(i,r,o){var a,s=this.buildLookup(i),l=pv(pv({},i),{subMenu:[]});if(Object.entries(r).forEach(function(c){var u,d,h=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(c,2),p=h[0],f=h[1],m=o[p];if(null!==m){if(null==m)return void D.warnOnce("invalid chartGroupsDef config '".concat(p,"'"));var g=s[m._key];if(g)if(g.subMenu){var v=f.map(function(y){var _=m[y];if(null!=_)return s[_];D.warnOnce("invalid chartGroupsDef config '".concat(p,".").concat(y,"'"))}).filter(function(y){return void 0!==y});v.length>0&&(g.subMenu=v,null===(u=l.subMenu)||void 0===u||u.push(g))}else null===(d=l.subMenu)||void 0===d||d.push(g)}}),0!=(null===(a=l.subMenu)||void 0===a?void 0:a.length))return l},cee([gt("chartService")],t.prototype,"chartService",void 0),e=cee([oe("chartMenuItemMapper")],t)}(z),W5e=function(){function n(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(r,o,a,s,l){return void 0===l&&(l=!1),{name:e(r,o),action:function(){return t.chartService.createPivotChart({chartType:a})},_key:s,_enterprise:l}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","pivotPie"),i("donut","Donut&lrm;","donut","pivotDonut")]},i("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","pivotScatter"),i("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","pivotArea"),i("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[i("histogramChart","Histogram&lrm;","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[i("treemapChart","Treemap&lrm;","treemap","pivotTreemap",!0),i("sunburstChart","Sunburst&lrm;","sunburst","pivotSunburst",!0)]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},polarGroup:null,specializedGroup:null}},n}(),$5e=function(){function n(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(r,o,a,s,l){return void 0===l&&(l=!1),{name:e(r,o),action:function(){return t.chartService.createChartFromCurrentRange(a)},_key:s,_enterprise:l}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","rangePie"),i("donut","Donut&lrm;","donut","rangeDonut")],_key:"rangePieChart"},i("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","rangeScatter"),i("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","rangeArea"),i("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("polarChart","Polar"),subMenu:[i("radarLine","Radar Line&lrm;","radarLine","rangeRadarLine"),i("radarArea","Radar Area&lrm;","radarArea","rangeRadarArea"),i("nightingale","Nightingale&lrm;","nightingale","rangeNightingale"),i("radialColumn","Radial Column&lrm;","radialColumn","rangeRadialColumn"),i("radialBar","Radial Bar&lrm;","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[i("boxPlot","Box Plot&lrm;","boxPlot","rangeBoxPlot",!0),i("histogramChart","Histogram&lrm;","histogram","rangeHistogram",!1),i("rangeBar","Range Bar&lrm;","rangeBar","rangeRangeBar",!0),i("rangeArea","Range Area&lrm;","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[i("treemap","Treemap&lrm;","treemap","rangeTreemap"),i("sunburst","Sunburst&lrm;","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[i("heatmap","Heatmap&lrm;","heatmap","rangeHeatmap"),i("waterfall","Waterfall&lrm;","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:D.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}},n}(),K5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uM=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Y5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return K5e(t,n),t.prototype.createColumnSelectPanel=function(e,i,r,o){var a,s,l=e.createManagedBean(new WL),c=null!==(s=null!==(a=o??i?.getColDef().columnChooserParams)&&void 0!==a?a:i?.getColDef().columnsMenuParams)&&void 0!==s?s:{},m=c.columnLayout;return l.init(!!r,this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!c.contractColumnSelection,suppressColumnExpandAll:!!c.suppressColumnExpandAll,suppressColumnFilter:!!c.suppressColumnFilter,suppressColumnSelectAll:!!c.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!m||!!c.suppressSyncLayoutWithGrid,onStateUpdated:function(){}}),"columnMenu"),m&&l.setColumnLayout(m),l},t.prototype.showColumnChooser=function(e){var i=this,r=e.column,o=e.chooserParams,a=e.eventSource;this.hideActiveColumnChooser();var s=this.createColumnSelectPanel(this,r,!0,o),l=this.localeService.getLocaleTextFunc(),c=this.columnModel.getAllDisplayedColumns().indexOf(r),u=r?this.focusService.getFocusedHeader():null;this.activeColumnChooserDialog=this.createBean(new sg({title:l("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:function(){var d;null===(d=i.focusService.findNextFocusableElement(s.getGui()))||void 0===d||d.focus(),i.dispatchVisibleChangedEvent(!0,r)},closedCallback:function(d){var h=i.activeColumnChooser.getGui();i.destroyBean(i.activeColumnChooser),i.activeColumnChooser=void 0,i.activeColumnChooserDialog=void 0,i.dispatchVisibleChangedEvent(!1,r),r&&i.menuUtils.restoreFocusOnClose({column:r,headerPosition:u,columnIndex:c,eventSource:a},h,d,!0)}})),this.activeColumnChooser=s},t.prototype.hideActiveColumnChooser=function(){this.activeColumnChooserDialog&&this.destroyBean(this.activeColumnChooserDialog)},t.prototype.dispatchVisibleChangedEvent=function(e,i){this.eventService.dispatchEvent({type:x.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:"columnChooser",column:i??null})},uM([C("focusService")],t.prototype,"focusService",void 0),uM([C("menuUtils")],t.prototype,"menuUtils",void 0),uM([C("columnModel")],t.prototype,"columnModel",void 0),uM([oe("columnChooserFactory")],t)}(z),q5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},X5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}var e;return q5e(t,n),e=t,t.prototype.createMenu=function(i,r,o){var a=i.createManagedBean(new kE(0,{column:r??null,node:null,value:null})),s=this.getMenuItems(r),l=this.menuItemMapper.mapWithStockItems(s,r??null,o);return a.addMenuItems(l),a},t.prototype.getMenuItems=function(i){var o,r=this.getDefaultMenuOptions(i),a=i?.getColDef().mainMenuItems;if(Array.isArray(a))o=a;else if("function"==typeof a)o=a(this.gridOptionsService.addGridCommonParams({column:i,defaultItems:r}));else{var s=this.gridOptionsService.getCallback("getMainMenuItems");o=s&&i?s({column:i,defaultItems:r}):r}return D.removeRepeatsFromArray(o,e.MENU_ITEM_SEPARATOR),o},t.prototype.getDefaultMenuOptions=function(i){var r=[],o=this.menuService.isLegacyMenuEnabled();if(!i)return o||r.push("columnChooser"),r.push("resetColumns"),r;var a=!i.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,c=i.isAllowValue(),u=i.isAllowRowGroup(),d=i.isPrimary(),h=this.columnModel.isPivotMode(),p="clientSide"===this.rowModel.getType(),f=this.gridOptionsService.get("treeData"),m=d&&l&&c||!d;if(!o&&i.isSortable()){var g=i.getSort();"asc"!==g&&r.push("sortAscending"),"desc"!==g&&r.push("sortDescending"),g&&r.push("sortUnSort"),r.push(e.MENU_ITEM_SEPARATOR)}return this.menuService.isFilterMenuItemEnabled(i)&&(r.push("columnFilter"),r.push(e.MENU_ITEM_SEPARATOR)),a&&r.push("pinSubMenu"),m&&r.push("valueAggSubMenu"),(a||m)&&r.push(e.MENU_ITEM_SEPARATOR),r.push("autoSizeThis"),r.push("autoSizeAll"),r.push(e.MENU_ITEM_SEPARATOR),i.getColDef().showRowGroup?r.push("rowUnGroup"):u&&i.isPrimary()&&(i.isRowGroupActive()?this.columnModel.isColumnGroupingLocked(i)||r.push("rowUnGroup"):r.push("rowGroup")),r.push(e.MENU_ITEM_SEPARATOR),o||r.push("columnChooser"),r.push("resetColumns"),p&&(f||s>(h?1:0))&&(r.push("expandAll"),r.push("contractAll")),r},t.MENU_ITEM_SEPARATOR="separator",fv([C("menuItemMapper")],t.prototype,"menuItemMapper",void 0),fv([C("columnModel")],t.prototype,"columnModel",void 0),fv([C("rowModel")],t.prototype,"rowModel",void 0),fv([C("filterManager")],t.prototype,"filterManager",void 0),fv([C("menuService")],t.prototype,"menuService",void 0),e=fv([oe("columnMenuFactory")],t)}(z),Z5e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dM=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Q5e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Z5e(t,n),t.prototype.restoreFocusOnClose=function(e,i,r,o){var s=r instanceof KeyboardEvent;if((o||s)&&e.eventSource){var l=this.gridOptionsService.getDocument();!i.contains(l.activeElement)&&l.activeElement!==l.body||this.focusHeaderCell(e)}},t.prototype.closePopupAndRestoreFocusOnSelect=function(e,i,r){var o;r&&r.event&&r.event instanceof KeyboardEvent&&(o=r.event),e(o&&{keyboardEvent:o});var a=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();s.activeElement===s.body&&(a?this.focusService.setFocusedCell({rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0}):this.focusHeaderCell(i))},t.prototype.onContextMenu=function(e,i,r){!this.gridOptionsService.get("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.get("suppressContextMenu"))||r(e??i.touches[0])&&(e??i).preventDefault()},t.prototype.focusHeaderCell=function(e){var i=e.column,r=e.columnIndex,o=e.headerPosition,a=e.eventSource;if(this.columnModel.getAllDisplayedColumns().some(function(d){return d===i})&&a&&D.isVisible(a)){var l=this.focusService.findTabbableParent(a);l&&(i&&this.headerNavigationService.scrollToColumn(i),l.focus())}else if(o&&-1!==r){var c=this.columnModel.getAllDisplayedColumns(),u=c[r]||D.last(c);u&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:u}})}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var r=e.which;this.gridOptionsService.get("suppressMiddleClickScrolls")&&2===r&&e.preventDefault()},dM([C("focusService")],t.prototype,"focusService",void 0),dM([C("headerNavigationService")],t.prototype,"headerNavigationService",void 0),dM([C("columnModel")],t.prototype,"columnModel",void 0),dM([oe("menuUtils")],t)}(z),J5e={version:"31.1.1",moduleName:ie.MenuModule,beans:[F5e,N5e,B5e,z5e,Y5e,X5e,Q5e],dependantModules:[ur]},e8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mv=function(){return mv=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mv.apply(this,arguments)},UV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zV=function(n){function t(){var e=n.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.filterGuis=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return e8e(t,n),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)}})},t.getFilterDefs=function(e){var i=e.filters;return i&&i.length>0?i:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var i=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var o=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var c=i.createFilter(s,l);null!=c&&a.push(c)}),new vt(function(s){vt.all(a).then(function(l){i.filters=l,i.refreshGui("columnMenu").then(function(){s()})})}).then(function(){i.afterFiltersReadyFuncs.forEach(function(s){return s()}),i.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var i=this;return e===this.lastOpenedInContainer?vt.resolve():(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),vt.all(this.filters.map(function(r,o){var l,a=i.filterDefs[o],s=i.getFilterTitle(r,a);if("subMenu"===a.display&&"toolPanel"!==e)l=i.insertFilterMenu(r,s).then(function(u){return u.getGui()});else if("subMenu"===a.display||"accordion"===a.display){var c=i.insertFilterGroup(r,s);l=vt.resolve(c.getGui())}else l=vt.resolve(r.getGui());return l})).then(function(r){r.forEach(function(o,a){a>0&&i.appendChild(D.loadTemplate('<div class="ag-filter-separator"></div>')),i.appendChild(o)}),i.filterGuis=r,i.lastOpenedInContainer=e}))},t.prototype.getFilterTitle=function(e,i){return null!=i.title?i.title:e instanceof gp?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0,this.filterGuis.length=0},t.prototype.insertFilterMenu=function(e,i){var r=this,o=this.createBean(new Gs);return o.init({menuItemDef:{name:i,subMenu:[],cssClasses:["ag-multi-filter-menu-item"],menuItem:vY,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:function(){return!1},childComponent:e,contextParams:{column:null,node:null,value:null}}).then(function(){o.setParentComponent(r),r.guiDestroyFuncs.push(function(){return r.destroyBean(o)}),r.addManagedListener(o,Gs.EVENT_MENU_ITEM_ACTIVATED,function(s){r.lastActivatedMenuItem&&r.lastActivatedMenuItem!==s.menuItem&&r.lastActivatedMenuItem.deactivate(),r.lastActivatedMenuItem=s.menuItem});var a=o.getGui();return o.addManagedListener(a,"keydown",function(s){var l=s.key;switch(l){case G.UP:case G.RIGHT:case G.DOWN:case G.LEFT:s.preventDefault(),l===G.RIGHT&&o.openSubMenu(!0)}}),o.addManagedListener(a,"focusin",function(){return o.activate()}),o.addManagedListener(a,"focusout",function(){!o.isSubMenuOpen()&&!o.isSubMenuOpening()&&o.deactivate()}),o})},t.prototype.insertFilterGroup=function(e,i){var r=this,o=this.createBean(new Vs({title:i,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(function(){return r.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached&&o.addManagedListener(o,Vs.EVENT_EXPANDED,function(){return e.afterGuiAttached({container:r.lastOpenedInContainer,suppressFocus:!0,hidePopup:r.hidePopup})}),o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,i){var r=!0;return this.filters.forEach(function(o){!r||o===i||!o.isFilterActive()||(r=o.doesFilterPass(e))}),r},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return"function"==typeof i.getModelFromUi?i.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return i.isFilterActive()?i.getModel():null})}:null},t.prototype.setModel=function(e){var i=this,r=function(a,s){return new vt(function(l){var c=a.setModel(s);c?c.then(function(){return l()}):l()})},o=[];return null==e?o=this.filters.map(function(a,s){return r(a,null).then(function(){i.updateActiveList(s)})}):this.filters.forEach(function(a,s){var c=r(a,e.filterModels.length>s?e.filterModels[s]:null).then(function(){i.updateActiveList(s)});o.push(c)}),vt.all(o).then(function(){})},t.prototype.applyModel=function(e){void 0===e&&(e="api");var i=!1;return this.filters.forEach(function(r){r instanceof gp&&(i=r.applyModel(e)||i)}),i},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){var r,i=this;e?(this.hidePopup=e.hidePopup,r=this.refreshGui(e.container)):(this.hidePopup=void 0,r=vt.resolve()),r.then(function(){var o=i.filterDefs,a=!1;o&&D.forEachReverse(o,function(c,u){var d,h=0===u,p=!h||"inline"!==c.display,f=mv(mv({},e??{}),{suppressFocus:p}),m=null===(d=i.filters)||void 0===d?void 0:d[u];if(m&&(i.executeFunctionIfExistsOnFilter(m,"afterGuiAttached",f),h&&(a=!0)),h&&p){var g=i.filterGuis[u];g&&(g.focus(),a=!0)}});var s=i.gridOptionsService.getDocument(),l=s.activeElement;!a&&(l===s.body||i.getGui().contains(l))&&i.forceFocusOutOfContainer(!0)})},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(i){i.setModel(null),e.destroyBean(i)}),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,n.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var i=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];D.forEachReverse(this.filters,function(a){i.executeFunctionIfExistsOnFilter(a,e,r)})},t.prototype.executeFunctionIfExistsOnFilter=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=e[i];"function"==typeof a&&a.apply(e,r)},t.prototype.createFilter=function(e,i){var l,r=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,c=mv(mv({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(h){r.executeWhenAllFiltersReady(function(){return r.filterChanged(i,h)})},doesRowPassOtherFilter:function(h){return s(h)&&r.doesFilterPass({node:h,data:h.data},l)}}),u=this.userComponentFactory.getFilterDetails(e,c,"agTextColumnFilter");if(!u)return null;var d=u.newAgStackInstance();return d&&d.then(function(h){return l=h}),d},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var i=this.filters[e];D.removeFromArray(this.activeFilterIndices,e),i.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,i){this.updateActiveList(e),this.filterChangedCallback(i);var r=this.filters[e];this.filters.forEach(function(o){o!==r&&"function"==typeof o.onAnyFilterChanged&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},t.prototype.getModelAsString=function(e){var i,r,o,a;if(!this.filters||null===(i=e?.filterModels)||void 0===i||!i.length)return"";var s=null!==(r=this.getLastActiveFilterIndex())&&void 0!==r?r:0,l=this.filters[s];return null!==(a=null===(o=l.getModelAsString)||void 0===o?void 0:o.call(l,e.filterModels[s]))&&void 0!==a?a:""},UV([C("filterManager")],t.prototype,"filterManager",void 0),UV([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),UV([H],t.prototype,"postConstruct",null),t}(xd),t8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hM=function(){return hM=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},hM.apply(this,arguments)},uee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},i8e=function(n){function t(){var e=n.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e.compDetailsList=[],e}return t8e(t,n),t.prototype.init=function(e){this.params=e;var i=this.getCompDetailsList(e).compDetailsList;return this.setParams(i)},t.prototype.setParams=function(e){var i=this,r=[];return e.forEach(function(o){var a=o?.newAgStackInstance();null!=a&&(i.compDetailsList.push(o),r.push(a))}),vt.all(r).then(function(o){o.forEach(function(a,s){i.floatingFilters.push(a);var l=a.getGui();i.appendChild(l),s>0&&D.setDisplayed(l,!1)})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var i=this;this.params=e;var r=this.getCompDetailsList(e),o=r.compDetailsList,a=r.floatingFilterParamsList;o.length===this.compDetailsList.length&&o.every(function(l,c){return!i.filterManager.areFilterCompsDifferent(i.compDetailsList[c],l)})?a.forEach(function(l,c){var u,d=i.floatingFilters[c],h=!1;d.refresh&&null!==d.refresh(l)&&(h=!0),h||null===(u=d.onParamsUpdated)||void 0===u||u.call(d,l)}):(D.clearElement(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(o))},t.prototype.getCompDetailsList=function(e){var i=this,r=[],o=[];return zV.getFilterDefs(e.filterParams).forEach(function(s,l){var c=hM(hM({},e),{parentFilterInstance:function(d){i.parentMultiFilterInstance(function(h){var p=h.getChildFilterInstance(l);null!=p&&d(p)})}});D.mergeDeep(c.filterParams,s.filterParams);var u=i.getCompDetails(s,c);u&&(r.push(u),o.push(c))}),{compDetailsList:r,floatingFilterParamsList:o}},t.prototype.onParentModelChanged=function(e,i){var r=this;i&&i.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(null==e)r.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,i),D.setDisplayed(s.getGui(),0===l)});else{var a=o.getLastActiveFilterIndex();r.floatingFilters.forEach(function(s,l){s.onParentModelChanged(e.filterModels.length>l?e.filterModels[l]:null,i);var u=null==a?0===l:l===a;D.setDisplayed(s.getGui(),u)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,n.prototype.destroy.call(this)},t.prototype.getCompDetails=function(e,i){var o,r=this,a=null!==(o=this.userComponentFactory.getDefaultFloatingFilterType(e,function(){return r.filterManager.getDefaultFloatingFilter(r.params.column)}))&&void 0!==o?o:"agReadOnlyFloatingFilter";return this.userComponentFactory.getFloatingFilterCompDetails(e,i,a)},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof zV))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(i)})},uee([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),uee([C("filterManager")],t.prototype,"filterManager",void 0),t}(le),r8e={version:"31.1.1",moduleName:ie.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:zV},{componentName:"agMultiColumnFloatingFilter",componentClass:i8e}],dependantModules:[ur]},o8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dee=function(n){function t(){return n.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return o8e(t,n),t.prototype.init=function(e){var i=this;this.params=e;var r=e.cellStartedEdit,o=e.cellHeight;D.missing(e.values)&&console.warn("AG Grid: agRichSelectCellEditor requires cellEditorParams.values to be set");var s=this.buildRichSelectParams(),c=s.valuesPromise;this.richSelect=this.createManagedBean(new IE(s.params)),this.richSelect.addCssClass("ag-cell-editor"),this.appendChild(this.richSelect),c&&c.then(function(u){i.richSelect.setValueList({valueList:u,refresh:!0});var d=i.getSearchStringCallback(u);d&&i.richSelect.setSearchStringCreator(d)}),this.addManagedListener(this.richSelect,x.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=r,D.exists(o)&&this.richSelect.setRowHeight(o)},t.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},t.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},t.prototype.buildRichSelectParams=function(){var y,_,e=this.params,o=e.values,g=e.eventKey,v={value:e.value,cellRenderer:e.cellRenderer,searchDebounceDelay:e.searchDebounceDelay,valueFormatter:e.formatValue,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:e.valueListGap,allowTyping:e.allowTyping,filterList:e.filterList,searchType:e.searchType,highlightMatch:e.highlightMatch,maxPickerHeight:e.valueListMaxHeight,maxPickerWidth:e.valueListMaxWidth,placeholder:e.valuePlaceholder,initialInputValue:1===g?.length?g:void 0};return y="function"==typeof o?o(this.params):o??[],Array.isArray(y)?(v.valueList=y,v.searchStringCreator=this.getSearchStringCallback(y)):_=y,{params:v,valuesPromise:_}},t.prototype.getSearchStringCallback=function(e){var i=this,r=this.params.colDef;if("object"==typeof e[0]&&r.keyCreator)return function(o){return o.map(function(a){var s=i.gridOptionsService.addGridCommonParams({value:a,colDef:i.params.colDef,column:i.params.column,node:i.params.node,data:i.params.data});return r.keyCreator(s)})}},t.prototype.afterGuiAttached=function(){var e=this,r=this.focusAfterAttached,o=this.params;setTimeout(function(){if(e.isAlive()){if(r){var a=e.richSelect.getFocusableElement();a.focus();var s=e.params,c=s.eventKey;s.allowTyping&&(!c||1!==c.length)&&a.select()}e.richSelect.showPicker();var u=o.eventKey;u&&1===u?.length&&e.richSelect.searchTextFromString(u)}})},t.prototype.getValue=function(){return this.richSelect.getValue()},t.prototype.isPopup=function(){return!1},t}(bd),s8e={version:"31.1.1",moduleName:ie.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:dee},{componentName:"agRichSelectCellEditor",componentClass:dee}],dependantModules:[ur]},l8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xa=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WV=function(n){function t(e,i,r){var o=n.call(this,0)||this;return o.nodeIdSequence=new Nr,o.info={},o.ssrmParams=e,o.parentRowNode=r,o.level=r.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o}return l8e(t,n),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsService.get("treeData"),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]);var r=1,o=-1===this.parentRowNode.level,a=this.storeUtils.getServerSideInitialRowCount();o&&null!=a&&(r=a),this.initialiseRowNodes(r),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)}),this.postSortFunc=this.gridOptionsService.getCallback("postSortRows"),null!=a&&this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,i){void 0===i&&(i=!1),this.destroyRowNodes();for(var r=0;r<e;r++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});i&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,success:this.success.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,i){var r=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=i?D.insertIntoArray(this.allRowNodes,r,i):this.allRowNodes.push(r);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(r,e,o,void 0),this.nodeManager.addRowNode(r),this.blockUtils.checkOpenByDefault(r),this.allNodesMap[r.id]=r,r},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var i=e.groupLevelInfo;i&&Object.assign(this.info,i),e.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(e.pivotResultFields);var r=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||D.warnOnce('"params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.'),this.createOrRecycleNodes(r,e.rowData),r&&this.blockUtils.destroyRowNodes(D.getAllValuesInObject(r)),0===this.level&&this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,i){var r=this;i&&i.forEach(function(s){var l=function(s){if(e){var l=r.gridOptionsService.getCallback("getRowId");if(l){var c=r.parentRowNode.getGroupKeys(),d=l({data:s,parentKeys:c.length>0?c:void 0,level:r.level}),h=e[d];if(h)return delete e[d],h}}}(s);l?function(s,l){r.allNodesMap[s.id]=s,r.blockUtils.updateDataIntoRowNode(s,l),r.allRowNodes.push(s)}(l,s):r.createDataNode(s)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),i=this.sortController.getSortOptions();e||!i||0==i.length?this.nodesAfterSort=this.nodesAfterFilter:(this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,i),this.postSortFunc&&this.postSortFunc({nodes:this.nodesAfterSort}))},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(o){return e.filterManager.doesRowPassFilter({rowNode:o})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(i){return e.blockUtils.clearDisplayIndex(i)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,i){var r=this;this.displayIndexStart=e.peek(),this.topPx=i.value;var o={};this.nodesAfterSort.forEach(function(a){r.blockUtils.setDisplayIndex(a,e,i),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||r.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=i.value-this.topPx},t.prototype.forEachStoreDeep=function(e,i){void 0===i&&(i=new Nr),e(this,i.next()),this.allRowNodes.forEach(function(r){var o=r.childStore;o&&o.forEachStoreDeep(e,i)})},t.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new Nr),this.allRowNodes.forEach(function(r){e(r,i.next());var o=r.childStore;o&&o.forEachNodeDeep(e,i)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i,r){void 0===i&&(i=new Nr),void 0===r&&(r=!1),this.nodesAfterSort.forEach(function(o){e(o,i.next());var a=o.childStore;a&&a.forEachNodeDeepAfterFilterAndSort(e,i,r)}),r&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,i.next())},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var i=0;i<this.nodesAfterSort.length;i++){var o=this.blockUtils.extractRowBounds(this.nodesAfterSort[i],e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var i=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var s=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=s.rowTop+s.rowHeight&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var c=null;return this.nodesAfterSort.forEach(function(d){var h=i.blockUtils.getIndexAtPixel(d,e);null!=h&&(c=h)}),null==c?this.displayIndexEnd-1:c},t.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(r){return i.allRowNodes.find(function(a){return a.key==r})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(i){var r=i.childStore;r&&e(r)})},t.prototype.refreshAfterFilter=function(e){var i=this.storeUtils.isServerSideFilterOnServer(),r=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||i&&r)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var i=this.storeUtils.isServerSideSortOnServer(),r=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.storeUtils.isServerSideSortAllLevels()||i&&r)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case su.STATE_FAILED:return{status:Bi.StoreLoadingFailed};case su.STATE_LOADING:return{status:Bi.StoreLoading};case su.STATE_WAITING_TO_LOAD:return{status:Bi.StoreWaitingToLoad}}var i=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(i&&!i({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:Bi.Cancelled};var a={status:Bi.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){e.length>0&&(this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,clearSelection:!1,source:"rowDataChanged"}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"rowDataChanged"}))},t.prototype.executeAdd=function(e,i){var r=this,o=e.add,a=e.addIndex;D.missingOrEmpty(o)||("number"==typeof a&&a>=0?o.reverse().forEach(function(l){var c=r.createDataNode(l,a);i.add.push(c)}):o.forEach(function(l){var c=r.createDataNode(l);i.add.push(c)}))},t.prototype.executeRemove=function(e,i,r){var o=this,a=e.remove;if(null!=a){var s={};a.forEach(function(l){var c=o.lookupRowNode(l);c&&(c.isSelected()&&r.push(c),c.clearRowTopAndRowIndex(),s[c.id]=!0,delete o.allNodesMap[c.id],i.remove.push(c),o.nodeManager.removeNode(c))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,i,r){var o=this,a=e.update;a?.forEach(function(s){var l=o.lookupRowNode(s);l&&(o.blockUtils.updateDataIntoRowNode(l,s),!l.selectable&&l.isSelected()&&r.push(l),i.update.push(l))})},t.prototype.lookupRowNode=function(e){var r,i=this.gridOptionsService.getCallback("getRowId");if(null!=i){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=i({data:e,parentKeys:a.length>0?a:void 0,level:o});if(!(r=this.allNodesMap[s]))return console.error("AG Grid: could not find row id=".concat(s,", data item was not found for this id")),null}else if(!(r=this.allRowNodes.find(function(l){return l.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return r},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===su.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==su.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,i){var r=[],o=!1;return D.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===i;(o||l)&&r.push(s),l&&(o=!o)}),o?[]:r},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},xa([C("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),xa([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),xa([C("columnModel")],t.prototype,"columnModel",void 0),xa([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),xa([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),xa([C("sortController")],t.prototype,"sortController",void 0),xa([C("selectionService")],t.prototype,"selectionService",void 0),xa([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),xa([C("filterManager")],t.prototype,"filterManager",void 0),xa([C("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),xa([C("rowModel")],t.prototype,"serverSideRowModel",void 0),xa([H],t.prototype,"postConstruct",null),xa([Mi],t.prototype,"destroyRowNodes",null),t}(su),c8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$V=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},d8e=function(n){function t(e,i,r){var o=n.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=i,o.cache=e,o.storeParams=r,o}return c8e(t,n),t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,KY.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var i,e=this,r=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=r;a<=o;a++){var s=this.cache.getNodeCachedByDisplayIndex(a);if(s){var l=this.cache.getNodes().getBy("node",s);if(l&&!this.isRowLoading(l.index)&&(s.__needsRefreshWhenVisible||s.stub&&!s.failedLoad))return this.getBlockStartIndexForIndex(l.index)}}var c=this.cache.getNodesToRefresh(),u=null,d=Number.MAX_SAFE_INTEGER;c.forEach(function(p){if(null!=p.rowIndex){if(!e.isRowLoading(p.rowIndex)){var f=Math.abs(r-p.rowIndex),m=Math.abs(p.rowIndex-o);f<d&&(u=p,d=f),m<d&&(u=p,d=m)}}else u=p});var h=null===(i=this.cache.getNodes().getBy("node",u))||void 0===i?void 0:i.index;return null==h?void 0:this.getBlockStartIndexForIndex(h)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,i){var o,r=this,a=this.cache.getSsrmParams(),s={startRow:e,endRow:i,rowGroupCols:a.rowGroupCols,valueCols:a.valueCols,pivotCols:a.pivotCols,pivotMode:a.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:a.filterModel,sortModel:a.sortModel},l=function(){for(var p=0;p<i-e;p++)r.loadingNodes.delete(e+p)},h=this.gridOptionsService.addGridCommonParams({request:s,success:function(p){r.rowNodeBlockLoader.loadComplete(),r.cache.onLoadSuccess(e,i-e,p),l(),r.queueLoadAction()},fail:function(){r.rowNodeBlockLoader.loadComplete(),r.cache.onLoadFailed(e,i-e),l(),r.queueLoadAction()},parentNode:this.parentNode});(function(){for(var p=0;p<i-e;p++)r.loadingNodes.add(e+p)})(),null===(o=this.cache.getSsrmParams().datasource)||void 0===o||o.getRows(h)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return null!=e?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var e=this,i=this.getNextBlockToLoad();if(!i)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==i[0]&&this.nextBlockToLoad[1]!==i[1]){this.nextBlockToLoad=i,window.clearTimeout(this.loaderTimeout);var r=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(this.nextBlockToLoad,2),a=r[1],s=Number(r[0]);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,a),e.nextBlockToLoad=void 0)},this.gridOptionsService.get("blockLoadDebounceMillis"))}},t.prototype.attemptLoad=function(e,i){var r=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=r&&0===r||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,i),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){return e-e%this.getBlockSize()},t.prototype.getBlockBoundsForIndex=function(e){var i=this.getBlockStartIndexForIndex(e);return[i,i+this.getBlockSize()]},t.DEFAULT_BLOCK_SIZE=100,$V([C("gridApi")],t.prototype,"api",void 0),$V([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),$V([H],t.prototype,"init",null),t}(z),h8e=function(){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(i){return[i,new Map]}))}return n.prototype.getSize=function(){return this.maps.get(this.indexes[0]).size},n.prototype.getBy=function(t,e){var i=this.maps.get(t);if(!i)throw new Error("AG Grid: ".concat(String(t)," not found"));return i.get(e)},n.prototype.set=function(t){var e=this;this.indexes.forEach(function(i){var r=e.maps.get(i);if(!r)throw new Error("AG Grid: ".concat(String(i)," not found"));r.set(t[i],t)})},n.prototype.delete=function(t){var e=this;this.indexes.forEach(function(i){var r=e.maps.get(i);if(!r)throw new Error("AG Grid: ".concat(String(i)," not found"));r.delete(t[i])})},n.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},n.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: ".concat(String(t)," not found"));return e.values()},n.prototype.forEach=function(t){for(var i,e=this.getIterator(this.indexes[0]);(i=e.next())&&!i.done;)t(i.value)},n.prototype.find=function(t){for(var i,e=this.getIterator(this.indexes[0]);(i=e.next())&&!i.done;)if(t(i.value))return i.value},n.prototype.filter=function(t){for(var i,e=this.getIterator(this.indexes[0]),r=[];(i=e.next())&&!i.done;)t(i.value)&&r.push(i.value);return r},n}(),p8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pu=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},cf=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},KV=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},YV=function(n){function t(e,i,r){var o=n.call(this)||this;return o.live=!0,o.removedNodeCache=new Map,o.store=e,o.numberOfRows=i,o.isLastRowKnown=!1,o.storeParams=r,o}return p8e(t,n),t.prototype.init=function(){this.nodeMap=new h8e("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new d8e(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getCallback("getRowId"),this.isMasterDetail=this.gridOptionsService.get("masterDetail")},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(i){return e.blockUtils.destroyRowNode(i.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var i,r,o,a;if(this.store.isDisplayIndexInStore(e)){var s=this.nodeDisplayIndexMap.get(e);if(s)return(s.stub||s.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),s;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var l=this.nodeDisplayIndexMap.get(e-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&null!==(i=l.childStore)&&void 0!==i&&i.isDisplayIndexInStore(e))return null===(r=l.childStore)||void 0===r?void 0:r.getRowUsingDisplayIndex(e);var c=this.nodeMap.getBy("node",l);return this.createStubNode(c.index+1,e)}var u=this.getSurroundingNodesByDisplayIndex(e);if(null==u){var d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}var h=u.previousNode,p=u.nextNode;if(h&&h.node.expanded&&null!==(o=h.node.childStore)&&void 0!==o&&o.isDisplayIndexInStore(e))return null===(a=h.node.childStore)||void 0===a?void 0:a.getRowUsingDisplayIndex(e);if(p)return this.createStubNode(p.index-(p.node.rowIndex-e),e);var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(g,e)}},t.prototype.createStubNode=function(e,i){var r=this,o=this.store.getRowBounds(i),a=this.createRowAtIndex(e,null,function(s){s.setRowIndex(i),s.setRowTop(o.rowTop),r.nodeDisplayIndexMap.set(i,s)});return this.rowLoader.queueLoadCheck(),a},t.prototype.getRowByStoreIndex=function(e){var i;return null===(i=this.nodeMap.getBy("index",e))||void 0===i?void 0:i.node},t.prototype.skipDisplayIndexes=function(e,i,r){if(0!==e){var o=this.gridOptionsService.getRowHeightAsNumber();i.skip(e),r.value+=e*o}},t.prototype.setDisplayIndexes=function(e,i){this.nodeDisplayIndexMap.clear();var r={};this.nodeMap.forEach(function(d){r[d.index]=d.node});var o=-1;for(var a in r){var s=r[a],l=Number(a);this.skipDisplayIndexes(l-1-o,e,i),this.blockUtils.setDisplayIndex(s,e,i),this.nodeDisplayIndexMap.set(s.rowIndex,s),o=l}this.skipDisplayIndexes(this.numberOfRows-1-o,e,i),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,i){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,null!=i&&(this.isLastRowKnown=i,!1===i&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var i;return null!==(i=this.nodeDisplayIndexMap.get(e))&&void 0!==i?i:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var i,r;return this.nodeMap.forEach(function(o){e>o.node.rowIndex?(null==r||r.node.rowIndex<o.node.rowIndex)&&(r=o):(null==i||i.node.rowIndex>o.node.rowIndex)&&(i=o)}),r||i?{previousNode:r,nextNode:i}:null},t.prototype.getDisplayIndexFromStoreIndex=function(e){var i,r,a,s,o=this.nodeMap.getBy("index",e);if(o)return o.node.rowIndex;if(this.nodeMap.forEach(function(u){e>u.index?(null==s||s.index<u.index)&&(s=u):(null==a||a.index>u.index)&&(a=u)}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!s)return this.store.getDisplayIndexStart()+e;var l=e-s.index;return(null!==(r=null===(i=s.node.childStore)||void 0===i?void 0:i.getDisplayIndexEnd())&&void 0!==r?r:s.node.rowIndex)+l},t.prototype.createRowAtIndex=function(e,i,r){var o,a,s=this.nodeMap.getBy("index",e);if(s){if((l=s.node).__needsRefreshWhenVisible=!1,this.doesNodeMatch(i,l))return this.blockUtils.updateDataIntoRowNode(l,i),this.nodesToRefresh.delete(l),l;if(null==this.getRowIdFunc&&l.hasChildren()&&l.expanded)return this.nodesToRefresh.delete(l),l;this.destroyRowAtIndex(e)}if(i&&null!=this.getRowIdFunc){var c=this.getRowId(i),u=c&&(null===(o=this.removedNodeCache)||void 0===o?void 0:o.get(c));if(u)return null===(a=this.removedNodeCache)||void 0===a||a.delete(c),this.blockUtils.updateDataIntoRowNode(u,i),this.nodeMap.set({id:u.id,node:u,index:e}),u;var d=this.nodeMap.getBy("id",c);if(d){this.nodeMap.delete(d);var l,h=d.index;return this.blockUtils.updateDataIntoRowNode(l=d.node,i),this.nodeMap.set({id:l.id,node:l,index:e}),this.nodesToRefresh.delete(l),this.rowLoader.getBlockStartIndexForIndex(h)===this.rowLoader.getBlockStartIndexForIndex(e)||this.markBlockForVerify(h),l}}var p=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=i){var f=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(p,i,f,void 0),this.blockUtils.checkOpenByDefault(p),this.nodeManager.addRowNode(p)}return this.nodeMap.set({id:p.id,node:p,index:e}),r&&r(p),p},t.prototype.getBlockStates=function(){var e=this,i={},r={};this.nodeMap.forEach(function(l){var c,u=l.node,h=e.rowLoader.getBlockStartIndexForIndex(l.index);!u.stub&&!u.failedLoad&&(i[h]=(null!==(c=i[h])&&void 0!==c?c:0)+1);var p="loaded";u.failedLoad?p="failed":e.rowLoader.isRowLoading(h)?p="loading":(e.nodesToRefresh.has(u)||u.stub)&&(p="needsLoading"),r[h]||(r[h]=new Set),r[h].add(p)});var o={loading:4,failed:3,needsLoading:2,loaded:1},a=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(r).forEach(function(l){var c,u=cf(l,2),d=u[0],f=KV([],cf(u[1]),!1).sort(function(v,y){var _,b;return(null!==(_=o[v])&&void 0!==_?_:0)-(null!==(b=o[y])&&void 0!==b?b:0)})[0],m=Number(d)/e.rowLoader.getBlockSize(),g=a?"".concat(a,"-").concat(m):String(m);s[g]={blockNumber:m,startRow:Number(d),endRow:Number(d)+e.rowLoader.getBlockSize(),pageStatus:f,loadedRowCount:null!==(c=i[d])&&void 0!==c?c:0}}),s},t.prototype.destroyRowAtIndex=function(e){var i=this.nodeMap.getBy("index",e);i&&(this.nodeMap.delete(i),this.nodeDisplayIndexMap.delete(i.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(i.node.id,i.node):this.blockUtils.destroyRowNode(i.node),this.nodesToRefresh.delete(i.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var i=cf(this.rowLoader.getBlockBoundsForIndex(e),2),r=i[0],o=i[1];this.nodeMap.filter(function(s){return s.index>=r&&s.index<o}).forEach(function(s){s.node.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,i){if(i.stub)return!1;if(null!=this.getRowIdFunc){var r=this.getRowId(e);return i.id===r}return i.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,i=this.api.getFirstDisplayedRowIndex(),r=this.api.getLastDisplayedRowIndex(),o=this.rowLoader.getBlockStartIndexForIndex(i),s=cf(this.rowLoader.getBlockBoundsForIndex(r),2)[1];this.nodeMap.forEach(function(l){e.rowLoader.isRowLoading(l.index)||l.node.failedLoad||l.node.stub&&(l.index<o||l.index>s)&&e.destroyRowAtIndex(l.index)})},t.prototype.getBlocksDistanceFromRow=function(e,i){var r=this,o={};return e.forEach(function(a){var s=a.node,c=cf(r.rowLoader.getBlockBoundsForIndex(a.index),2),u=c[0],d=c[1];if(!(u in o)){var p,h=Math.abs(s.rowIndex-i),f=r.nodeMap.getBy("index",[d-1]);f&&(p=Math.abs(f.node.rowIndex-i)),o[u]=null==p||h<p?h:p}}),Object.entries(o)},t.prototype.purgeExcessRows=function(){var i,e=this;if(this.purgeStubsOutsideOfViewport(),null!=this.store.getDisplayIndexEnd()&&null!=this.storeParams.maxBlocksInCache){var r=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=new Set,s=new Set;this.nodeMap.forEach(function(w){var M=w.node,P=e.rowLoader.getBlockStartIndexForIndex(w.index);a.add(P),M.rowIndex>=r&&M.rowIndex<=o&&s.add(P)});var l=Math.max(s.size,null!==(i=this.storeParams.maxBlocksInCache)&&void 0!==i?i:0),u=a.size-l;if(!(u<=0)){var d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;s.forEach(function(w){d>w&&(d=w),h<w&&(h=w)});var p=this.nodeMap.filter(function(w){var E=w.node,P=e.rowLoader.getBlockStartIndexForIndex(w.index);return!(P>=d&&P<=h||e.isNodeCached(E))});if(0!==p.length){var m=this.getBlocksDistanceFromRow(p,r+(o-r)/2),g=this.rowLoader.getBlockSize();m.sort(function(w,E){return Math.sign(E[1]-w[1])});for(var v=0;v<Math.min(u,m.length);v++)for(var y=Number(m[v][0]),_=y;_<y+g;_++){var b=this.nodeMap.getBy("index",_);!b||this.isNodeCached(b.node)||this.destroyRowAtIndex(_)}}}}},t.prototype.isNodeFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();return!(!i||null!=i.rowPinned)&&i.rowIndex===e.rowIndex},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var i=this;if(null==this.getRowIdFunc)return[];var r=new Set,o=new Set;return e.forEach(function(a){var s=i.getRowId(a);r.has(s)?o.add(s):r.add(s)}),KV([],cf(o),!1)},t.prototype.onLoadSuccess=function(e,i,r){var o=this;if(this.live){if(this.store.setStoreInfo(r.groupLevelInfo),null!=this.getRowIdFunc){var s=this.extractDuplicateIds(r.rowData);if(s.length>0){var l=s.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids (".concat(l,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")),void this.onLoadFailed(e,i)}}r.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(r.pivotResultFields);var c=this.nodesToRefresh.size>0;if(r.rowData.forEach(function(p,f){var m,g=e+f,v=o.nodeMap.getBy("index",g);if(null===(m=v?.node)||void 0===m||!m.stub)return v&&o.doesNodeMatch(p,v.node)?(o.blockUtils.updateDataIntoRowNode(v.node,p),o.nodesToRefresh.delete(v.node),void(v.node.__needsRefreshWhenVisible=!1)):void o.createRowAtIndex(g,p);o.createRowAtIndex(g,p)}),null!=r.rowCount&&-1!==r.rowCount)this.numberOfRows=r.rowCount,this.isLastRowKnown=!0;else if(i>r.rowData.length)this.numberOfRows=e+r.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var u=e+r.rowData.length+1;u>this.numberOfRows&&(this.numberOfRows=u)}this.isLastRowKnown&&this.nodeMap.filter(function(p){return p.index>=o.numberOfRows}).forEach(function(p){return o.destroyRowAtIndex(p.index)}),this.fireStoreUpdatedEvent(),c&&0===this.nodesToRefresh.size&&this.fireRefreshFinishedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){var e=this;0===this.nodesToRefresh.size&&(this.removedNodeCache.forEach(function(r){e.blockUtils.destroyRowNode(r)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())},t.prototype.isStoreFullyLoaded=function(){var e=this.isLastRowKnown,i=this.nodeMap.getSize()===this.numberOfRows;if(e&&i&&!(this.nodesToRefresh.size>0)){var r=-1;return null==this.nodeMap.find(function(a){return!(a.index===(r+=1)&&!a.node.__needsRefreshWhenVisible&&!a.node.stub)})}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,i){var r;if(this.live){for(var o=this.nodesToRefresh.size>0,a=e;a<e+i&&a<this.getRowCount();a++){var s=(null!==(r=this.nodeMap.getBy("index",a))&&void 0!==r?r:{}).node;s&&this.nodesToRefresh.delete(s),(!s||!s.stub)&&(s&&!s.stub&&this.destroyRowAtIndex(a),s=this.createRowAtIndex(a)),s.__needsRefreshWhenVisible=!1,s.failedLoad=!0}o&&0===this.nodesToRefresh.size&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(i){i.node.stub&&!i.node.failedLoad||e.nodesToRefresh.add(i.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(null==this.getRowIdFunc)return null;var i=this.store.getRowDetails().level,r=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:e,parentKeys:r.length>0?r:void 0,level:i});return String(o)},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(i){return e[i.index]=i}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.clientSideSortRows=function(){var e=this,i=this.sortController.getSortOptions();if(i.some(function(s){return null!=s.sort})){var o=new Array(this.nodeMap.getSize());this.nodeMap.forEach(function(s){return o[s.index]=s.node}),this.nodeMap.clear(),this.rowNodeSorter.doFullSort(o,i).forEach(function(s,l){e.nodeMap.set({id:s.id,node:s,index:l})})}},t.prototype.updateRowNodes=function(e){var i=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var r=[];return e.forEach(function(o){var a=i.getRowId(o),s=i.nodeMap.getBy("id",a);s&&(i.blockUtils.updateDataIntoRowNode(s.node,o),r.push(s.node))}),r},t.prototype.insertRowNodes=function(e,i){var r=this,o=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),a=null==i&&this.isLastRowKnown?o:i;if(null==a||o<a)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var s={};e.forEach(function(d){var h=r.getRowId(d);h&&r.isNodeInCache(h)||(s[h]=d)});var l=Object.values(s),c=l.length;if(0===c)return[];var u=this.nodeMap.filter(function(d){return d.index>=a});return u.forEach(function(d){return r.nodeMap.delete(d)}),u.forEach(function(d){r.nodeMap.set({node:d.node,index:d.index+c,id:d.id})}),this.numberOfRows+=c,l.map(function(d,h){return r.createRowAtIndex(a+h,d)})},t.prototype.removeRowNodes=function(e){if(null==this.getRowIdFunc)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var i=[],r=[],o=0,a=KV([],cf(e),!1),s=this.getOrderedNodeMap(),l=-1,c=function(h){l+=1;var p=s[h],f=a.findIndex(function(g){return g===p.id});if(-1!==f)return a.splice(f,1),u.destroyRowAtIndex(Number(h)),i.push(p.node),o+=1,"continue";if(0===o)return"continue";var m=Number(h);l!==m&&r.push(p.node),u.nodeMap.delete(s[h]),u.nodeMap.set({id:p.id,node:p.node,index:m-o})},u=this;for(var d in s)c(d);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:o,a.length>0&&r.length>0&&(r.forEach(function(h){return h.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),i},Pu([C("gridApi")],t.prototype,"api",void 0),Pu([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Pu([C("focusService")],t.prototype,"focusService",void 0),Pu([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Pu([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Pu([C("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Pu([C("sortController")],t.prototype,"sortController",void 0),Pu([H],t.prototype,"init",null),Pu([Mi],t.prototype,"destroyRowNodes",null),t}(z),f8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pM=function(n){function t(e,i,r){var o=n.call(this)||this;return o.idSequence=new Nr,o.ssrmParams=e,o.parentRowNode=r,o.storeParams=i,o.level=r.level+1,o.group=!!e.rowGroupCols&&o.level<e.rowGroupCols.length,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o.info={},o}return f8e(t,n),t.prototype.init=function(){var e,i=1;0===this.level&&(i=null!==(e=this.storeUtils.getServerSideInitialRowCount())&&void 0!==e?e:1,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY})),this.cache=this.createManagedBean(new YV(this,i,this.storeParams)),!this.gridOptionsService.get("treeData")&&this.group&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level])},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyRowData=function(e,i,r){this.cache.onLoadSuccess(i,r,e)},t.prototype.applyTransaction=function(e){var r,o,a,i=this,s=this.gridOptionsService.getCallback("getRowId");if(!s)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:Bi.Cancelled};var l=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(l&&!l({transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info}))return{status:Bi.Cancelled};var d=this.cache.isStoreFullyLoaded(),h=void 0;null!==(r=e.update)&&void 0!==r&&r.length&&(h=this.cache.updateRowNodes(e.update));var p=void 0;if(null!==(o=e.add)&&void 0!==o&&o.length){var f=e.addIndex;null!=f&&f<0&&(f=void 0),p=this.cache.insertRowNodes(e.add,f)}var m=void 0;if(null!==(a=e.remove)&&void 0!==a&&a.length){var g=e.remove.map(function(w){return s({level:i.level,parentKeys:i.parentRowNode.getGroupKeys(),data:w})}),v=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(new Set(g)),!1);m=this.cache.removeRowNodes(v)}var y=this.gridOptionsService.get("serverSideEnableClientSideSort");return d&&y&&(h?.length||p?.length)&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(h,m),{status:Bi.Applied,update:h,add:p,remove:m}},t.prototype.updateSelectionAfterTransaction=function(e,i){var r=[];e?.forEach(function(o){o.isSelected()&&!o.selectable&&r.push(o)}),i?.forEach(function(o){o.isSelected()&&r.push(o)}),r.length&&this.selectionService.setNodesSelected({newValue:!1,clearSelection:!1,nodes:r,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(i){return e.blockUtils.clearDisplayIndex(i.node)}),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()},t.prototype.setRowCount=function(e,i){this.cache.setRowCount(e,i)},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.cache.getRowCount()&&this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,i){this.displayIndexStart=e.peek(),this.topPx=i.value,this.cache.setDisplayIndexes(e,i),this.parentRowNode.sibling&&this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,i),this.displayIndexEnd=e.peek(),this.heightPx=i.value-this.topPx},t.prototype.forEachStoreDeep=function(e,i){void 0===i&&(i=new Nr),e(this,i.next()),this.cache.getNodes().forEach(function(r){var o=r.node.childStore;o&&o.forEachStoreDeep(e,i)})},t.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new Nr),this.cache.getNodes().forEach(function(r){e(r.node,i.next());var o=r.node.childStore;o&&o.forEachNodeDeep(e,i)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i,r){void 0===i&&(i=new Nr),void 0===r&&(r=!1);var o=this.cache.getOrderedNodeMap();for(var a in o){var s=o[a];e(s.node,i.next());var l=s.node.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,i,r)}r&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,i.next())},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var i=e.node;i.failedLoad&&(i.failedLoad=!1,i.__needsRefreshWhenVisible=!0,i.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var i;if(!this.isDisplayIndexInStore(e))return null;var r=this.cache.getNodeCachedByDisplayIndex(e);if(r&&(o=this.blockUtils.extractRowBounds(r,e)))return o;var o,a=null!==(i=this.cache.getSurroundingNodesByDisplayIndex(e))&&void 0!==i?i:{},s=a.previousNode,l=a.nextNode;if(s&&null!=(o=this.blockUtils.extractRowBounds(s.node,e)))return o;var c=this.gridOptionsService.getRowHeightAsNumber();return l?{rowTop:l.node.rowTop-(l.node.rowIndex-e)*c,rowHeight:c}:{rowTop:this.topPx+this.heightPx-(this.getDisplayIndexEnd()-e)*c,rowHeight:c}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var i=Number.MAX_SAFE_INTEGER,r=null,o=Number.MAX_SAFE_INTEGER,a=null;if(this.cache.getNodes().forEach(function(p){var f=p.node,m=Math.abs(e-f.rowTop);f.rowTop<e?m<i&&(i=m,r=f):m<o&&(o=m,a=f)}),r){var s=this.blockUtils.getIndexAtPixel(r,e);if(null!=s)return s}var l=this.gridOptionsService.getRowHeightAsNumber();if(a){var u=Math.ceil((a.rowTop-e)/l);return a.rowIndex-u}var h=Math.floor((this.topPx+this.heightPx-e)/l);return this.getDisplayIndexEnd()-h},t.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(r){var o=i.cache.getNodes().find(function(a){return a.node.key==r});return o?o.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(i){var r=i.node;r.childStore&&e(r.childStore)})},t.prototype.refreshAfterSort=function(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var r=this.cache.isStoreFullyLoaded(),o=this.gridOptionsService.get("serverSideEnableClientSideSort");if(!r||!o){var s=this.cache.getRowCount();return this.destroyBean(this.cache),void(this.cache=this.createManagedBean(new YV(this,s,this.storeParams)))}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(function(l){return l.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.refreshStore(!0):this.forEachChildStoreShallow(function(r){return r.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new YV(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,i){return D.missing(e),this.cache.getNodes().filter(function(r){var o=r.node;return o.rowIndex>=e.rowIndex&&o.rowIndex<=i.rowIndex}).map(function(r){return r.node})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.fireRefreshFinishedEvent=function(){var e={type:x.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},gv([C("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),gv([C("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),gv([C("columnModel")],t.prototype,"columnModel",void 0),gv([C("selectionService")],t.prototype,"selectionService",void 0),gv([H],t.prototype,"init",null),gv([Mi],t.prototype,"destroyRowNodes",null),t}(z),v8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ea=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hee=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},y8e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=D.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e.managingPivotResultColumns=!1,e}return v8e(t,n),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0,this.updateDatasource()},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,x.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var i=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,x.EVENT_COLUMN_VALUE_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,x.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","suppressServerSideInfiniteScroll","cacheBlockSize"],i),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()}),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",function(){return e.updateDatasource()})},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&D.warnOnce("initialGroupOrderComparator cannot be used with Server Side Row Model."),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&D.warnOnce("getRowId callback must be provided for Server Side Row Model selection to work correctly.")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.applyRowData=function(e,i,r){var o=this.getRootStore();if(o){var a=o.getChildStore(r);a&&(a instanceof pM?a.applyRowData(e,i,e.rowData.length):a instanceof WV&&a.processServerResult(e))}},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(this.storeParams){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),r=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(h){var p={};h.oldCols.forEach(function(g){return p[g.id]=g});var f=h.newCols.every(function(g){var v=p[g.id];return v&&delete p[g.id],v&&v.field===g.field&&v.aggFunc===g.aggFunc}),m=!h.allowRemovedColumns&&!!Object.values(p).length;return f&&!m},a=!D.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),s=!o({oldCols:this.storeParams.rowGroupCols,newCols:e}),l=!o({oldCols:this.storeParams.pivotCols,newCols:r}),c=!!e?.length&&!o({oldCols:this.storeParams.valueCols,newCols:i,allowRemovedColumns:!0});if(a||s||l||c)this.resetRootStore();else{var d=this.createStoreParams();this.storeParams.rowGroupCols=d.rowGroupCols,this.storeParams.pivotCols=d.pivotCols,this.storeParams.valueCols=d.valueCols}}else this.resetRootStore()},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,i){this.storeParams&&(this.storeParams.sortModel=e);var r=this.getRootStore();r&&(r.refreshAfterSort(i),this.onStoreUpdated())},t.prototype.generateSecondaryColumns=function(e){var i=this.pivotColDefService.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.columnModel.setSecondaryColumns(i,"rowModelUpdated")},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes(),i=this.gridOptionsService.getRowHeightForNode(this.rootNode);if(this.rootNode.setRowHeight(i.height,i.estimated),this.rootNode.sibling){var r=this.gridOptionsService.getRowHeightForNode(this.rootNode.sibling);this.rootNode.sibling.setRowHeight(r.height,r.estimated)}e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=this,i=!1;return this.forEachNode(function(r){var o=e.gridOptionsService.getRowHeightForNode(r);r.setRowHeight(o.height,o.estimated);var a=r.detailNode;if(a){var s=e.gridOptionsService.getRowHeightForNode(a);a.setRowHeight(s.height,s.estimated)}if(r.sibling){var l=e.gridOptionsService.getRowHeightForNode(r.sibling);a.setRowHeight(l.height,l.estimated)}i=!0}),i},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new st(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.columnModel.setSecondaryColumns(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var i=this;return e.map(function(r){return{id:r.getId(),aggFunc:r.getAggFunc(),displayName:i.columnModel.getDisplayNameForColumn(r,"model"),field:r.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),r=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:i,rowGroupCols:e,pivotCols:r,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.isAdvancedFilterEnabled()?this.filterManager.getAdvancedFilterModel():this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),datasource:this.datasource,lastAccessedSequence:new Nr,dynamicRowHeight:o}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new Nr,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var i=this.getRootStore();if(i)return i.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(i){i.stub||i.hasChildren()&&i.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,i){this.storeParams&&(this.storeParams.filterModel=e);var r=this.getRootStore();r&&(r.refreshAfterFilter(i),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var i=this.getRootStore();return i?i.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var i=this.getRootStore();return i?i.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var i={};return e.forEachStoreDeep(function(r){if(r instanceof WV){var o=r.getBlockStateJson();i[o.id]=o.state}else{if(!(r instanceof pM))throw new Error("AG Grid: Unsupported store type");Object.entries(r.getBlockStates()).forEach(function(l){var c=hee(l,2);i[c[0]]=c[1]})}}),i}},t.prototype.getRowIndexAtPixel=function(e){var i=this.getRootStore();return e<=0||!i?0:i.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var i=this.getRootStore();i&&i.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e,i){void 0===i&&(i=!1);var r=this.getRootStore();r&&r.forEachNodeDeepAfterFilterAndSort(e,void 0,i)},t.prototype.executeOnStore=function(e,i){if(!this.started)return!1;var r=this.getRootStore();if(!r)return!0;var o=r.getChildStore(e);return o&&i(o),!0},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(r){return r.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],i=this.getRootStore();return i&&i.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,i){if(!D.exists(e))return[];if(!i)return[e];var r=e.rowIndex,o=i.rowIndex;if(null===r||null===o)return[e];var a=[],s=hee([r,o].sort(function(u,d){return u-d}),2),l=s[0],c=s[1];return this.forEachNode(function(u){var d=u.rowIndex;null==d||u.stub||d>=l&&d<=c&&a.push(u)}),a.length!==c-l+1?[e]:a},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(r){r.id===e&&(i=r),r.detailNode&&r.detailNode.id===e&&(i=r.detailNode)}),i},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.setRowCount=function(e,i){var r=this.getRootStore();if(r){if(r instanceof pM)return void r.setRowCount(e,i);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},Ea([C("columnModel")],t.prototype,"columnModel",void 0),Ea([C("filterManager")],t.prototype,"filterManager",void 0),Ea([C("sortController")],t.prototype,"sortController",void 0),Ea([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Ea([C("ssrmSortService")],t.prototype,"sortListener",void 0),Ea([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Ea([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Ea([C("beans")],t.prototype,"beans",void 0),Ea([gt("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Ea([Mi],t.prototype,"destroyDatasource",null),Ea([H],t.prototype,"addEventListeners",null),Ea([Mi],t.prototype,"destroyRootStore",null),Ea([oe("rowModel")],t)}(z),_8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fM=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},C8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return _8e(t,n),t.prototype.loadFromDatasource=function(e){var i=e.storeParams,r=e.parentBlock,a=e.parentNode.getGroupKeys();if(i.datasource){var l=this.gridOptionsService.addGridCommonParams({success:e.success,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:i.rowGroupCols,valueCols:i.valueCols,pivotCols:i.pivotCols,pivotMode:i.pivotMode,groupKeys:a,filterModel:i.filterModel,sortModel:i.sortModel},parentNode:e.parentNode});window.setTimeout(function(){i.datasource&&r.isAlive()?i.datasource.getRows(l):e.fail()},0)}},t.prototype.getChildStore=function(e,i,r){if(D.missingOrEmpty(e))return i;var a=r(e[0]);if(a){if(1===e.length&&!a.childStore){var s=this.serverSideRowModel.getParams();a.childStore=this.createBean(this.storeFactory.createStore(s,a))}var l=e.slice(1,e.length),c=a.childStore;return c?c.getChildStore(l):null}return null},t.prototype.isServerRefreshNeeded=function(e,i,r){if(r.valueColChanged||r.secondaryColChanged)return!0;var o=e.level+1;if(!(o<i.length))return!0;var l=i[o].id;return r.changedColumns.indexOf(l)>-1||this.columnModel.getAllGridColumns().filter(function(h){return h.getColDef().showRowGroup&&r.changedColumns.includes(h.getId())}).map(function(h){return h.getColDef().showRowGroup}).some(function(h){return!0===h||h===l})},t.prototype.getServerSideInitialRowCount=function(){return this.gridOptionsService.get("serverSideInitialRowCount")},t.prototype.assertRowModelIsServerSide=function(e){return!!this.gridOptionsService.isRowModelType("serverSide")||(D.warnOnce("The '".concat(e,"' property can only be used with the Server Side Row Model.")),!1)},t.prototype.assertNotTreeData=function(e){return!this.gridOptionsService.get("treeData")||(D.warnOnce("The '".concat(e,"' property cannot be used while using tree data.")),!1)},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.get("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideOnlyRefreshFilteredGroups=function(){return this.gridOptionsService.get("serverSideOnlyRefreshFilteredGroups")&&this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.get("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.get("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},fM([C("columnModel")],t.prototype,"columnModel",void 0),fM([C("rowModel")],t.prototype,"serverSideRowModel",void 0),fM([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),fM([oe("ssrmStoreUtils")],t)}(z),b8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},S8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return b8e(t,n),t.prototype.createRowNode=function(e){var i=new st(this.beans),r=null!=e.rowHeight?e.rowHeight:this.gridOptionsService.getRowHeightAsNumber();return i.setRowHeight(r),i.group=e.group,i.leafGroup=e.leafGroup,i.level=e.level,i.uiLevel=e.level,i.parent=e.parent,i.stub=!0,i.__needsRefreshWhenVisible=!1,i.group&&(i.expanded=!1,i.field=e.field,i.rowGroupColumn=e.rowGroupColumn),i},t.prototype.destroyRowNodes=function(e){var i=this;e&&e.forEach(function(r){return i.destroyRowNode(r)})},t.prototype.destroyRowNode=function(e,i){void 0===i&&(i=!1),e.childStore&&!i&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var i=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&null!=i&&(e.key=i(e.data)),!e.hasChildren()&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&D.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = ".concat(e.rowGroupColumn.getId())),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey"),this.beans.gridOptionsService.getGroupIncludeFooter()({node:e})&&(e.createFooter(),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))},t.prototype.setMasterDetailInfo=function(e){var i=this.gridOptionsService.get("isRowMaster");e.master=null==i||i(e.data)},t.prototype.updateDataIntoRowNode=function(e,i){e.updateData(i),this.gridOptionsService.get("treeData")?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e)):e.group?(this.setChildCountIntoRowNode(e),e.footer||(this.beans.gridOptionsService.getGroupIncludeFooter()({node:e})?e.sibling?e.sibling.updateData(i):e.createFooter():e.sibling&&e.destroyFooter())):this.gridOptionsService.get("masterDetail")},t.prototype.setDataIntoRowNode=function(e,i,r,o){var a;e.stub=!1;var s=this.gridOptionsService.get("treeData");D.exists(i)?(e.setDataAndId(i,r),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gridOptionsService.get("masterDetail")&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),D.exists(i)&&(e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,o).height),null===(a=e.sibling)||void 0===a||a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling,!1,o).height))},t.prototype.setChildCountIntoRowNode=function(e){var i=this.gridOptionsService.get("getChildCount");i&&e.setAllChildrenCount(i(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var i=this,r=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.get("treeData");r.forEach(function(a){if(null==e.groupData&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=i.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.hasChildren()&&D.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,i,r){if(e.setRowIndex(i.next()),e.setRowTop(r.value),r.value+=e.rowHeight,!e.footer&&(e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(i.next()),e.detailNode.setRowTop(r.value),r.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&D.exists(e.childStore))){var s=e.childStore;e.expanded?s.setDisplayIndexes(i,r):s.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,i){var r=0,o=i.length-1;if(D.missing(o)||D.missing(r))console.warn("AG Grid: error: topPointer = ".concat(o,", bottomPointer = ").concat(r));else for(;;){var a=Math.floor((r+o)/2),s=i[a];if(s.rowIndex===e)return s;var c=s.detailNode;if(s.master&&s.expanded&&c&&c.rowIndex===e)return s.detailNode;var u=s.childStore;if(s.expanded&&u&&u.isDisplayIndexInStore(e))return u.getRowUsingDisplayIndex(e);if(s.rowIndex<e)r=a+1;else{if(!(s.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = ".concat(e," in cache"));o=a-1}}},t.prototype.extractRowBounds=function(e,i){var r=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===i)return r(e);if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(i))return o.getRowBounds(i)}else if(e.master&&e.expanded&&D.exists(e.detailNode)&&e.detailNode.rowIndex===i)return r(e.detailNode)},t.prototype.getIndexAtPixel=function(e,i){if(e.isPixelInRange(i))return e.rowIndex;var o=e.detailNode;if(e.master&&e.expanded&&o&&o.isPixelInRange(i))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&D.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(i))return a.getRowIndexAtPixel(i)}return null},t.prototype.createNodeIdPrefix=function(e){for(var i=[],r=e;r&&r.level>=0;)i.push(""===r.key?"ag-Grid-MissingKey":r.key),r=r.parent;if(i.length>0)return i.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){return this.expansionService.checkOpenByDefault(e)},vv([C("valueService")],t.prototype,"valueService",void 0),vv([C("columnModel")],t.prototype,"columnModel",void 0),vv([C("ssrmNodeManager")],t.prototype,"nodeManager",void 0),vv([C("beans")],t.prototype,"beans",void 0),vv([C("expansionService")],t.prototype,"expansionService",void 0),vv([oe("ssrmBlockUtils")],t)}(z),pee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},x8e=function(){function n(){this.rowNodes={}}return n.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id ".concat(t.id,". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.")),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},n.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},n.prototype.clear=function(){this.rowNodes={}},pee([Mi],n.prototype,"clear",null),pee([oe("ssrmNodeManager")],n)}(),E8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},D8e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.asyncTransactions=[],e}return E8e(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,i){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:i})},t.prototype.scheduleExecuteAsync=function(){var e=this,i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},i)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var i=[],r=[],o=[],a=!1;this.asyncTransactions.forEach(function(l){var c;e.serverSideRowModel.executeOnStore(l.transaction.route,function(h){c=h.applyTransaction(l.transaction)})?null==c&&(c={status:Bi.StoreNotFound}):c={status:Bi.StoreNotStarted},r.push(c),c.status==Bi.StoreLoading?o.push(l):(l.callback&&i.push(function(){return l.callback(c)}),c.status===Bi.Applied&&(a=!0))}),i.length>0&&window.setTimeout(function(){i.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})),r.length>0&&this.eventService.dispatchEvent({type:x.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r})}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var i;if(this.serverSideRowModel.executeOnStore(e.route,function(a){i=a.applyTransaction(e)})){if(i){if(this.valueCache.onDataChanged(),i.remove){var o=i.remove.map(function(a){return a.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED}),i}return{status:Bi.StoreNotFound}}return{status:Bi.StoreNotStarted}},uf([C("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),uf([C("valueCache")],t.prototype,"valueCache",void 0),uf([C("rowModel")],t.prototype,"serverSideRowModel",void 0),uf([C("rowRenderer")],t.prototype,"rowRenderer",void 0),uf([C("selectionService")],t.prototype,"selectionService",void 0),uf([H],t.prototype,"postConstruct",null),uf([oe("ssrmTransactionManager")],t)}(z),T8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},M8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return T8e(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,x.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var i=e.node;if(i.expanded){if(i.master)this.createDetailNode(i);else if(D.missing(i.childStore)){var r=this.serverSideRowModel.getParams();i.childStore=this.createBean(this.storeFactory.createStore(r,i))}}else this.gridOptionsService.get("purgeClosedRowNodes")&&D.exists(i.childStore)&&(i.childStore=this.destroyBean(i.childStore));this.eventService.dispatchEvent({type:x.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(D.exists(e.detailNode))return e.detailNode;var i=new st(this.beans);i.detail=!0,i.selectable=!1,i.parent=e,D.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1;var o=this.gridOptionsService.getRowHeightForNode(i).height;return i.rowHeight=o||200,e.detailNode=i,i},Xb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Xb([C("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Xb([C("beans")],t.prototype,"beans",void 0),Xb([H],t.prototype,"postConstruct",null),Xb([oe("ssrmExpandListener")],t)}(z),A8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},O8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return A8e(t,n),t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,x.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var i=this.sortController.getSortModel(),o=this.findChangedColumnsInSort(i,e.sortModel),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o);this.serverSideRowModel.refreshAfterSort(i,{valueColChanged:a,secondaryColChanged:s,changedColumns:o})}},t.prototype.findChangedColumnsInSort=function(e,i){var r=[];return[e,i].forEach(function(s){if(s){var l=s.map(function(c){return c.colId});r=r.concat(l)}}),r.filter(function(s){var l=i.find(function(u){return u.colId===s}),c=e.find(function(u){return u.colId===s});return function(s,l){return(s?s.sort:null)!==(l?l.sort:null)}(l,c)||function(s,l){return(s?i.indexOf(s):-1)!==(l?e.indexOf(l):-1)}(l,c)})},Zb([C("sortController")],t.prototype,"sortController",void 0),Zb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Zb([C("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Zb([H],t.prototype,"postConstruct",null),Zb([oe("ssrmSortService")],t)}(z),R8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qb=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},P8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return R8e(t,n),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("serverSide")&&(this.addManagedListener(this.eventService,x.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(){return e.onFilterChanged(!0)}),this.addManagedListener(this.eventService,x.EVENT_FILTER_CHANGED,function(){return e.onFilterChanged()}))},t.prototype.onFilterChanged=function(e){var i=this.serverSideRowModel.getParams();if(i){var o,a,r=i.filterModel;if(this.filterManager.isAdvancedFilterEnabled()){o=this.filterManager.getAdvancedFilterModel();var s=e?Object.keys(r??{}):this.getAdvancedFilterColumns(r),l=this.getAdvancedFilterColumns(o);s.forEach(function(p){return l.add(p)}),a=Array.from(l)}else if(o=this.filterManager.getFilterModel(),e){var c=this.getAdvancedFilterColumns(r);Object.keys(o).forEach(function(p){return c.add(p)}),a=Array.from(c)}else a=this.findChangedColumns(r,o);var u=this.listenerUtils.isSortingWithValueColumn(a),d=this.listenerUtils.isSortingWithSecondaryColumn(a);this.serverSideRowModel.refreshAfterFilter(o,{valueColChanged:u,secondaryColChanged:d,changedColumns:a})}},t.prototype.findChangedColumns=function(e,i){var r={};Object.keys(e).forEach(function(a){return r[a]=!0}),Object.keys(i).forEach(function(a){return r[a]=!0});var o=[];return Object.keys(r).forEach(function(a){JSON.stringify(e[a])!=JSON.stringify(i[a])&&o.push(a)}),o},t.prototype.getAdvancedFilterColumns=function(e){var i=new Set;if(!e)return i;var r=function(o){"join"===o.filterType?o.conditions.forEach(function(a){return r(a)}):i.add(o.colId)};return r(e),i},Qb([C("rowModel")],t.prototype,"serverSideRowModel",void 0),Qb([C("filterManager")],t.prototype,"filterManager",void 0),Qb([C("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Qb([H],t.prototype,"postConstruct",null),Qb([oe("ssrmFilterListener")],t)}(z),qV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},I8e=function(){function n(){}return n.prototype.createStore=function(t,e){var i=this.getStoreParams(t,e);return new(i.suppressInfiniteScroll?WV:pM)(t,i,e)},n.prototype.getStoreParams=function(t,e){var i=this.getLevelSpecificParams(e),r=this.isInfiniteScroll(i);return{suppressInfiniteScroll:!r,cacheBlockSize:this.getBlockSize(r,i),maxBlocksInCache:this.getMaxBlocksInCache(r,t,i)}},n.prototype.getMaxBlocksInCache=function(t,e,i){if(t){var r=i&&null!=i.maxBlocksInCache?i.maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache");if(null!=r&&r>=0)return e.dynamicRowHeight?void D.warnOnce("Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled."):this.columnModel.isAutoRowHeightActive()?void D.warnOnce("Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled."):r}},n.prototype.getBlockSize=function(t,e){if(t){var i=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.get("cacheBlockSize");return null!=i&&i>0?i:100}},n.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},n.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},n.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.get("suppressServerSideInfiniteScroll")},qV([C("gridOptionsService")],n.prototype,"gridOptionsService",void 0),qV([C("columnModel")],n.prototype,"columnModel",void 0),qV([oe("ssrmStoreFactory")],n)}(),fee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},F8e=function(){function n(){}return n.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(r){return r.getColId()}),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},n.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(r){return r.getColId()}),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},fee([C("columnModel")],n.prototype,"columnModel",void 0),fee([oe("ssrmListenerUtils")],n)}(),k8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},L8e=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},N8e=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},gee=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return k8e(t,n),t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(i){e.rowSelection=i.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:N8e([],L8e(this.selectedState.toggledNodes),!1)}},t.prototype.setSelectedState=function(e){var i={selectAll:!1,toggledNodes:new Set};"object"==typeof e?"selectAll"in e&&"boolean"==typeof e.selectAll?(i.selectAll=e.selectAll,"toggledNodes"in e&&Array.isArray(e.toggledNodes)?(e.toggledNodes.forEach(function(r){"string"==typeof r?i.toggledNodes.add(r):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: ".concat(r))}),this.selectedState=i):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},t.prototype.deleteSelectionStateFromParent=function(e,i){var r=this;if(0===this.selectedState.toggledNodes.size)return!1;var o=!1;return i.forEach(function(a){r.selectedState.toggledNodes.delete(a)&&(o=!0)}),o},t.prototype.setNodesSelected=function(e){var i,r=this;if(0===e.nodes.length)return 0;if("multiple"!==this.rowSelection||e.clearSelection&&e.newValue&&!e.rangeSelect){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");var a=e.nodes[0];return e.newValue?(this.selectedNodes=((i={})[a.id]=a,i),this.selectedState={selectAll:!1,toggledNodes:new Set([a.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=a.id,1}var s=function(c){e.newValue?r.selectedNodes[c.id]=c:delete r.selectedNodes[c.id],e.newValue!==r.selectedState.selectAll&&c.selectable?r.selectedState.toggledNodes.add(c.id):r.selectedState.toggledNodes.delete(c.id)};if(e.rangeSelect&&this.lastSelected){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");a=e.nodes[0];var l=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(a,l??null).forEach(s),this.lastSelected=a.id,1}return e.nodes.forEach(s),this.lastSelected=e.nodes[e.nodes.length-1].id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var i=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!i:i},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,i){var r=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;return this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(a){a!==e&&a.selectThisNode(!1,void 0,i)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i}),r},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAll||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,i){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},mee([C("rowModel")],t.prototype,"rowModel",void 0),mee([H],t.prototype,"init",null),t}(z),V8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jb=function(){return Jb=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Jb.apply(this,arguments)},yv=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ew=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},vee=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return V8e(t,n),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset("rowGroupChanged")})},t.prototype.getSelectedState=function(){var e=this,i=this.gridOptionsService.get("treeData"),r=function(o,a,s){var l={nodeId:s};if((i||a<=e.columnModel.getRowGroupColumns().length)&&(l.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var c=[];o.toggledNodes.forEach(function(u,d){var h=r(u,a+1,d);c.push(h)}),l.toggledNodes=c}return l};return r(this.selectedState,0)},t.prototype.setSelectedState=function(e){var i=function(r,o){var a,s;if("object"!=typeof r)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in r&&"boolean"!=typeof r.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in r){if(!Array.isArray(r.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!r.toggledNodes.every(function(h){return"object"==typeof h&&"nodeId"in h&&"string"==typeof h.nodeId}))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var c=null!==(a=r.selectAllChildren)&&void 0!==a?a:!o,u=null===(s=r.toggledNodes)||void 0===s?void 0:s.map(function(h){return[h.nodeId,i(h,c)]}),d=u?.some(function(h){var f=ew(h,2)[1];return c===f.selectAllChildren&&0===f.toggledNodes.size});if(d)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:c,toggledNodes:new Map(u)}};try{this.selectedState=i(e,!!e.selectAllChildren)}catch(r){console.error(r.message)}},t.prototype.deleteSelectionStateFromParent=function(e,i){for(var r=this.selectedState,o=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}([],ew(e),!1);r&&o.length;)r=r.toggledNodes.get(o.pop());if(!r)return!1;var a=!1;return i.forEach(function(s){r?.toggledNodes.delete(s)&&(a=!0)}),a&&this.removeRedundantState(),a},t.prototype.setNodesSelected=function(e){var i=this,r=e.nodes,o=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(e,["nodes"]);if(0===r.length)return 0;if(e.rangeSelect){if(r.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=r[0],l=this.rowModel.getNodesInRangeForSelection(a,this.lastSelected).map(this.getRouteToNode).sort(function(u,d){return d.length-u.length}),c=new Set;return l.forEach(function(u){c.has(u[u.length-1])||(u.forEach(function(d){return c.add(d)}),i.recursivelySelectNode(u,i.selectedState,Jb({node:a},o)))}),this.removeRedundantState(),this.lastSelected=a,1}return e.nodes.forEach(function(u){var d=i.getRouteToNode(u);i.recursivelySelectNode(d,i.selectedState,Jb(Jb({},o),{node:u}))}),this.removeRedundantState(),this.lastSelected=e.nodes[e.nodes.length-1],1},t.prototype.isNodeSelected=function(e){var i=this.getRouteToNode(e);return this.isNodePathSelected(i,this.selectedState)},t.prototype.isNodePathSelected=function(e,i){var r=ew(e),o=r[0],a=r.slice(1);if(0===a.length){var s=i.toggledNodes.has(o.id);if(o.hasChildren()){var l=i.toggledNodes.get(o.id);if(l&&l.toggledNodes.size)return}return i.selectAllChildren?!s:s}if(i.toggledNodes.has(o.id)){var c=i.toggledNodes.get(o.id);if(c)return this.isNodePathSelected(a,c)}return!!i.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var i=[],r=e;r.parent;)i.push(r),r=r.parent;return i.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var i=function(r,o,a){var s,l;if(void 0===r&&(r=e.selectedState),r.toggledNodes.forEach(function(E,M){i(E,M,r)}),o){var c=e.rowModel.getRowNode(o),u=c?.childStore,d=u?.isLastRowIndexKnown();if(d&&r.toggledNodes.size>=u.getRowCount()){try{for(var p=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.toggledNodes.entries()),f=p.next();!f.done;f=p.next()){var g=ew(f.value,2);if(g[1].toggledNodes.size>0)return;if(!e.rowModel.getRowNode(g[0]))return}}catch(E){s={error:E}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}r.selectAllChildren=!r.selectAllChildren,r.toggledNodes.clear()}}0===r.toggledNodes.size&&a?.selectAllChildren===r.selectAllChildren&&a?.toggledNodes.delete(o)};i()}},t.prototype.recursivelySelectNode=function(e,i,r){var o=ew(e),a=o[0],s=o.slice(1);if(a){if(!s.length)return i.selectAllChildren!==r.newValue&&a.selectable?void i.toggledNodes.set(a.id,{selectAllChildren:r.newValue,toggledNodes:new Map}):void i.toggledNodes.delete(a.id);var h=i.toggledNodes.has(a.id),p=h?i.toggledNodes.get(a.id):{selectAllChildren:i.selectAllChildren,toggledNodes:new Map};h||i.toggledNodes.set(a.id,p),this.recursivelySelectNode(s,p,r),i.selectAllChildren===p.selectAllChildren&&0===p.toggledNodes.size&&i.toggledNodes.delete(a.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(i){i.isSelected()&&e.push(i)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!(this.selectedState.selectAllChildren||null!==(e=this.selectedState.toggledNodes)&&void 0!==e&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,i){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},yv([C("rowModel")],t.prototype,"rowModel",void 0),yv([C("columnModel")],t.prototype,"columnModel",void 0),yv([C("filterManager")],t.prototype,"filterManager",void 0),yv([C("rowModel")],t.prototype,"serverSideRowModel",void 0),yv([C("selectionService")],t.prototype,"selectionService",void 0),yv([H],t.prototype,"init",null),t}(z),j8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),XV=function(){return XV=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},XV.apply(this,arguments)},ZV=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},z8e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return j8e(t,n),t.prototype.init=function(){var e=this,i=this.gridOptionsService.get("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(o){e.destroyBean(e.selectionStrategy),e.selectionStrategy=e.createManagedBean(new(o.currentValue?vee:gee)),e.shotgunResetNodeSelectionState(),e.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"})}),this.addManagedPropertyListener("rowSelection",function(){return e.deselectAllRowNodes({source:"api"})}),this.selectionStrategy=this.createManagedBean(new(i?vee:gee))},t.prototype.getSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setSelectionState=function(e,i){Array.isArray(e)||(this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:i}))},t.prototype.setNodesSelected=function(e){var i=e.nodes,r=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}(e,["nodes"]),o=this.gridOptionsService.get("rowSelection");if(i.length>1&&"multiple"!==o)return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;if(i.length>1&&e.rangeSelect)return console.warn("AG Grid: cannot use range selection when multi selecting rows"),0;var a=XV({nodes:i.filter(function(c){return c.selectable})},r);if(!a.nodes.length)return 0;var s=this.selectionStrategy.setNodesSelected(a);return this.shotgunResetNodeSelectionState(a.source),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:a.source}),s},t.prototype.deleteSelectionStateFromParent=function(e,i){this.selectionStrategy.deleteSelectionStateFromParent(e,i)&&(this.shotgunResetNodeSelectionState(),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"}))},t.prototype.shotgunResetNodeSelectionState=function(e){var i=this;this.rowModel.forEachNode(function(r){if(!r.stub){var o=i.selectionStrategy.isNodeSelected(r);o!==r.isSelected()&&r.selectThisNode(o,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,i){this.selectionStrategy.processNewRow(e);var r=this.selectionStrategy.isNodeSelected(e);if(0!=r&&!e.selectable)return this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),void this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:"api"});e.setSelectedInitialValue(r)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.hasNodesToSelect=function(e,i){return!0},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(r){r.stub||r.selectThisNode(!0,void 0,e.source)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(r){r.stub||r.selectThisNode(!1,void 0,e.source)}),this.eventService.dispatchEvent({type:x.EVENT_SELECTION_CHANGED,source:e.source})},t.prototype.getSelectAllState=function(e,i){return this.selectionStrategy.getSelectAllState(e,i)},t.prototype.updateGroupsFromChildrenSelections=function(e,i){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},ZV([C("rowModel")],t.prototype,"rowModel",void 0),ZV([H],t.prototype,"init",null),ZV([oe("selectionService")],t)}(z),$8e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),yee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},K8e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.queuedRowIds=new Set,e}return $8e(t,n),t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eventService,x.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){e.queuedRowIds.clear()})},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var i=function(){window.setTimeout(function(){return e.setExpanded(!0)},0)};if(this.queuedRowIds.has(e.id))return this.queuedRowIds.delete(e.id),void i();var r=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");r&&r({data:e.data,rowNode:e})&&i()}},t.prototype.expandRows=function(e){var i=this;e.forEach(function(r){var o=i.serverSideRowModel.getRowNode(r);o?o.setExpanded(!0):i.queuedRowIds.add(r)})},t.prototype.expandAll=function(e){this.serverSideRowModel.expandAll(e)},t.prototype.onGroupExpandedOrCollapsed=function(){},yee([C("rowModel")],t.prototype,"serverSideRowModel",void 0),yee([oe("expansionService")],t)}(WY),Y8e={version:"31.1.1",moduleName:ie.ServerSideRowModelModule,rowModel:"serverSide",beans:[y8e,M8e,O8e,C8e,S8e,x8e,D8e,P8e,I8e,F8e,z8e,K8e],dependantModules:[ur]},q8e=function(){function n(t,e,i,r,o,a,s,l,c,u,d){this.rowModel=t,this.filterParams=e,this.createKey=i,this.caseFormat=r,this.columnModel=o,this.valueService=a,this.treeDataOrGrouping=s,this.treeData=l,this.getDataPath=c,this.groupAllowUnbalanced=u,this.addManagedListener=d}return n.prototype.extractUniqueValuesAsync=function(t,e){var i=this;return new vt(function(r){if(i.rowModel.isRowDataLoaded())r(i.extractUniqueValues(t,e));else var o=i.addManagedListener(x.EVENT_ROW_COUNT_READY,function(){o?.(),r(i.extractUniqueValues(t,e))})})},n.prototype.extractUniqueValues=function(t,e){var i=this,r=new Map,o=this.extractExistingFormattedKeys(e),a=new Set,s=this.treeData&&!!this.getDataPath,l=this.columnModel.getRowGroupColumns(),c=function(u,d){var h=i.caseFormat(u);if(!a.has(h)){a.add(h);var p=u,f=D.makeNull(d),m=o?.get(h);null!=m&&(p=m,f=e.get(m)),r.set(p,f)}};return this.rowModel.forEachLeafNode(function(u){if(u.data&&t(u)){if(i.treeDataOrGrouping)return void i.addValueForTreeDataOrGrouping(u,s,l,c);var d=i.getValue(u);if(i.filterParams.convertValuesToStrings)return void i.addValueForConvertValuesToString(u,d,c);null!=d&&Array.isArray(d)?(d.forEach(function(h){c(i.createKey(h,u),h)}),0===d.length&&c(null,null)):c(i.createKey(d,u),d)}}),r},n.prototype.addValueForConvertValuesToString=function(t,e,i){var r=this.createKey(e,t);null!=r&&Array.isArray(r)?(r.forEach(function(o){var a=D.toStringOrNull(D.makeNull(o));i(a,a)}),0===r.length&&i(null,null)):i(r,r)},n.prototype.addValueForTreeDataOrGrouping=function(t,e,i,r){var a,s,o=this;if(e){if(null!==(a=t.childrenAfterGroup)&&void 0!==a&&a.length)return;s=this.getDataPath(t.data)}else(s=i.map(function(l){return o.valueService.getKeyForNode(l,t)})).push(this.getValue(t));s&&(s=s.map(function(l){return D.toStringOrNull(D.makeNull(l))})),!e&&this.groupAllowUnbalanced&&s?.some(function(l){return null==l})&&(s=s.filter(function(l){return null!=l})),r(this.createKey(s),s)},n.prototype.getValue=function(t){return this.filterParams.getValue(t)},n.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var i=new Map;return t.forEach(function(r,o){i.set(e.caseFormat(o),o)}),i},n}(),Uo=function(){function n(){}return n.SELECT_ALL="__AG_SELECT_ALL__",n.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__",n}(),Z8e=function(){function n(t,e,i,r){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=i,this.column=r,this.displayedKeys=[]}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i){this.displayedKeys=Array.from(i)},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,r,o){var a,s;this.displayedKeys=[];try{for(var l=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(null==u)o&&this.displayedKeys.push(u);else{var d=t(u),h=this.valueFormatterService.formatValue(this.column,null,d,this.valueFormatter,!1);r(this.formatter(h))&&this.displayedKeys.push(u)}}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},n.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},n.prototype.getSelectAllItem=function(){return Uo.SELECT_ALL},n.prototype.getAddSelectionToFilterItem=function(){return Uo.ADD_SELECTION_TO_FILTER},n.prototype.getDisplayedKeys=function(){return this.displayedKeys},n.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},n.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},n.prototype.hasGroups=function(){return!1},n.prototype.refresh=function(){},n}(),_ee=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},QV=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},J8e=function(){function n(t,e,i,r){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=i,this.treeDataOrGrouping=r,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:Uo.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:Uo.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:Uo.ADD_SELECTION_TO_FILTER,expanded:!0,key:Uo.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i,r){"reload"===r?this.generateItemTree(t,e,i):"otherFilter"===r?(this.updateAvailable(i),this.updateExpandAll()):"miniFilter"===r&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,r,o,a){"reload"===a?this.generateItemTree(t,e,i):"otherFilter"===a&&this.updateAvailable(i),this.updateFilter(r,o),this.updateExpandAll(),this.flattenItems()},n.prototype.generateItemTree=function(t,e,i){var r,o,a;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,i),l=function(p){var f=t(p),m=null!==(a=s(f))&&void 0!==a?a:[null];m.length>1&&(c.groupsExist=!0);var y,g=i.has(p),v=c.allDisplayedItemsTree,_=[];m.forEach(function(b,w){v||(y.children=v=[]),(y=v.find(function(E){var M;return(null===(M=E.treeKey)||void 0===M?void 0:M.toUpperCase())===b?.toUpperCase()}))||(y={treeKey:b,depth:w,filterPasses:!0,expanded:!1,available:g,parentTreeKeys:_},w===m.length-1&&(y.key=p),v.push(y)),v=y.children,_=_ee(_ee([],function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o}(_),!1),[b],!1)})},c=this;try{for(var u=QV(e),d=u.next();!d.done;d=u.next())l(d.value)}catch(p){r={error:p}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}this.updateAvailable(i),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},n.prototype.getTreeListPathGetter=function(t,e){var i,r;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(u){return u};var o=!1;try{for(var a=QV(e),s=a.next();!s.done;s=a.next()){var c=t(s.value);if(c instanceof Date){o=!0;break}if(null!=c)break}}catch(u){i={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o?n.DATE_TREE_LIST_PATH_GETTER:(D.warnOnce("property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),function(u){return[String(u)]})},n.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(i){i.forEach(function(r){!r.filterPasses||!r.available||(t.activeDisplayedItemsFlat.push(r),r.children&&r.expanded&&e(r.children))})};e(this.allDisplayedItemsTree)},n.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(i){t(i)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},n.prototype.updateFilter=function(t,e){var i=this,r=function(o){return!!o.available&&(null==o.treeKey?e:t(i.formatter(i.treeListFormatter?i.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)))};this.allDisplayedItemsTree.forEach(function(o){return i.recursiveItemCheck(o,!1,r,"filterPasses")})},n.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},n.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},n.prototype.getSelectAllItem=function(){return this.selectAllItem},n.prototype.getAddSelectionToFilterItem=function(){return this.addSelectionToFilterItem},n.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},n.prototype.forEachDisplayedKey=function(t){var e=function(i,r){i.children?(!i.expanded||!r)&&i.children.forEach(function(o){o.filterPasses&&e(o,!1)}):t(i.key)};this.activeDisplayedItemsFlat.forEach(function(i){return e(i,!0)})},n.prototype.someDisplayedKey=function(t){var e=function(i,r){return i.children?(!i.expanded||!r)&&i.children.some(function(o){return!!o.filterPasses&&e(o,!1)}):t(i.key)};return this.activeDisplayedItemsFlat.some(function(i){return e(i,!0)})},n.prototype.hasGroups=function(){return this.groupsExist},n.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},n.prototype.updateExpandAll=function(){var t=function(i,r,o){var a,s;try{for(var l=QV(i),c=l.next();!c.done;c=l.next()){var u=c.value;if(u.filterPasses&&u.available&&u.children){if(o=o||!u.expanded,(r=r||!!u.expanded)&&o)return;var d=t(u.children,r,o);if(void 0===d)return;d?r=!0:o=!0}}}catch(h){a={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return r&&o?void 0:r},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},n.prototype.recursiveItemCheck=function(t,e,i,r){var o=this,a=!1;t.children&&t.children.forEach(function(l){var c=o.recursiveItemCheck(l,e||i(t),i,r);a=a||c});var s=e||a||i(t);return t[r]=s,s},n.prototype.updateAvailable=function(t){var e=this,i=function(r){return t.has(r.key)};this.allDisplayedItemsTree.forEach(function(r){return e.recursiveItemCheck(r,!1,i,"available")})},n.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},n}(),e6e=function(){function n(t){var e=t.caseFormat;this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}return n.prototype.allFilteringKeys=function(){return this.filteringKeys},n.prototype.allFilteringKeysCaseFormatted=function(){return this.filteringKeysCaseFormatted},n.prototype.noAppliedFilteringKeys=function(){return this.hasNoAppliedFilteringKeys},n.prototype.setFilteringKeys=function(t){var e=this;this.filteringKeys=new Set(t),this.hasNoAppliedFilteringKeys=!this.filteringKeys||0===this.filteringKeys.size,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(function(i){return e.filteringKeysCaseFormatted.add(e.caseFormat(i))})},n.prototype.addFilteringKey=function(t){null==this.filteringKeys&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(t),this.filteringKeysCaseFormatted.add(this.caseFormat(t)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)},n.prototype.hasCaseFormattedFilteringKey=function(t){return this.filteringKeysCaseFormatted.has(this.caseFormat(t))},n.prototype.hasFilteringKey=function(t){return this.filteringKeys.has(t)},n.prototype.reset=function(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1},n}(),Iu=function(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,a,i=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(a)throw a.error}}return o},Cee=function(n,t,e){if(e||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))},cn=(()=>((cn=cn||{})[cn.PROVIDED_LIST=0]="PROVIDED_LIST",cn[cn.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",cn[cn.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES",cn))(),bee=function(){function n(t){var i,e=this;this.localEventService=new Ll,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var r=t.usingComplexObjects,o=t.columnModel,a=t.valueService,s=t.treeDataTreeList,l=t.groupingTreeList,c=t.filterParams,u=t.gridOptionsService,d=t.valueFormatterService,h=t.valueFormatter,p=t.addManagedListener,f=c.column,m=c.colDef,g=c.textFormatter,v=c.doesRowPassOtherFilter,y=c.suppressSorting,_=c.comparator,b=c.rowModel,w=c.values,E=c.caseSensitive,M=c.convertValuesToStrings,P=c.treeList,I=c.treeListPathGetter,k=c.treeListFormatter;this.filterParams=c,this.gridOptionsService=u,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=g||j_.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=v,this.suppressSorting=y||!1,this.convertValuesToStrings=!!M,this.filteringKeys=new e6e({caseFormat:this.caseFormat});var L=_??m.comparator,B=!!s||!!l;this.compareByValue=!!(r&&L||B||P&&!I),this.entryComparator=B&&!L?this.createTreeDataOrGroupingComparator():!P||I||L?function(fe,W){var X=Iu(fe,2)[1],ce=Iu(W,2);return L(X,ce[1])}:function(fe,W){var X=Iu(fe,2)[1],ce=Iu(W,2);return D.defaultComparator(X,ce[1])},this.keyComparator=null!==(i=L)&&void 0!==i?i:D.defaultComparator,this.caseSensitive=!!E;var Y=u.get("getDataPath"),ne=u.get("groupAllowUnbalanced");"clientSide"===b.getType()&&(this.clientSideValuesExtractor=new q8e(b,this.filterParams,this.createKey,this.caseFormat,o,a,B,!!s,Y,ne,p)),null==w?this.valuesType=cn.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?cn.PROVIDED_LIST:cn.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=P?new J8e(this.formatter,I,k,s||l):new Z8e(d,h,this.formatter,f),this.updateAllValues().then(function(fe){return e.resetSelectionState(fe||[])})}return n.prototype.addEventListener=function(t,e,i){this.localEventService.addEventListener(t,e,i)},n.prototype.removeEventListener=function(t,e,i){this.localEventService.removeEventListener(t,e,i)},n.prototype.updateOnParamsChange=function(t){var e=this;return new vt(function(i){var r=t.values,o=t.textFormatter,a=t.suppressSorting,s=e.providedValues,l=e.suppressSorting;if(e.filterParams=t,e.formatter=o||j_.DEFAULT_FORMATTER,e.suppressSorting=a||!1,e.providedValues=r??null,e.providedValues!==s||e.suppressSorting!==l){if(r&&0!==r.length){var c=Array.isArray(r)&&r.length>0&&"function"==typeof r[0];e.valuesType=c?cn.PROVIDED_CALLBACK:cn.PROVIDED_LIST}else e.valuesType=cn.TAKEN_FROM_GRID_VALUES,e.providedValues=null;var u=e.getModel();e.updateAllValues().then(function(d){e.setModel(u).then(function(){return i()})})}else i()})},n.prototype.refreshValues=function(){var t=this;return new vt(function(e){t.allValuesPromise.then(function(){var i=t.getModel();t.updateAllValues(),t.setModel(i).then(function(){return e()})})})},n.prototype.overrideValues=function(t){var e=this;return new vt(function(i){e.allValuesPromise.then(function(){e.valuesType=cn.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return i()})})})},n.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):vt.resolve(!1)},n.prototype.isInitialised=function(){return this.initialised},n.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new vt(function(e){switch(t.valuesType){case cn.TAKEN_FROM_GRID_VALUES:t.getValuesFromRowsAsync(!1).then(function(l){return e(t.processAllValues(l))});break;case cn.PROVIDED_LIST:e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(t.providedValues))));break;case cn.PROVIDED_CALLBACK:t.setIsLoading(!0);var i=t.providedValues,r=t.filterParams,s=t.gridOptionsService.addGridCommonParams({success:function(l){t.setIsLoading(!1),e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(l))))},colDef:r.colDef,column:r.column});window.setTimeout(function(){return i(s)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},n.prototype.processAllValues=function(t){var e=this.sortKeys(t);return this.allValues=t??new Map,e},n.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&t?.length){var e=t[0];if(e&&"object"!=typeof e&&"function"!=typeof e){var i=this.createKey(e);D.warnOnce(null==i?"Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types":"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}}return t},n.prototype.setValuesType=function(t){this.valuesType=t},n.prototype.getValuesType=function(){return this.valuesType},n.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},n.prototype.showAvailableOnly=function(){return this.valuesType===cn.TAKEN_FROM_GRID_VALUES},n.prototype.updateAvailableKeys=function(t,e){var i=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(i),this.localEventService.dispatchEvent({type:n.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},n.prototype.sortKeys=function(t){var i,e=t??new Map;return this.suppressSorting?Array.from(e.keys()):(i=this.compareByValue?Array.from(e.entries()).sort(this.entryComparator).map(function(r){return Iu(r,1)[0]}):Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(i=i.filter(function(r){return null!=r})).push(null),i)},n.prototype.getParamsForValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?{predicate:function(o){return!t||e.doesRowPassOtherFilters(o)},existingValues:t&&!this.caseSensitive?this.allValues:void 0}:(D.doOnce(function(){console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values")},"setFilterValueNotCSRM"),null)},n.prototype.getValuesFromRows=function(t){void 0===t&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValues(e.predicate,e.existingValues):null},n.prototype.getValuesFromRowsAsync=function(t){void 0===t&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValuesAsync(e.predicate,e.existingValues):vt.resolve(null)},n.prototype.setMiniFilter=function(t){return t=D.makeNull(t),this.miniFilterText!==t&&(null===t&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},n.prototype.getMiniFilter=function(){return this.miniFilterText},n.prototype.updateDisplayedValues=function(t,e){var i=this;if("expansion"!==t)if(null!=this.miniFilterText){var r=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(s){return null!=s&&i.caseFormat(s).indexOf(r)>=0},a=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s){return i.getValue(s)},e,this.availableKeys,o,a,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s){return i.getValue(s)},e,this.availableKeys,t);else this.displayValueModel.refresh()},n.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},n.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},n.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},n.prototype.getAddSelectionToFilterItem=function(){return this.displayValueModel.getAddSelectionToFilterItem()},n.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},n.prototype.getKeys=function(){return Array.from(this.allValues.keys())},n.prototype.getValues=function(){return Array.from(this.allValues.values())},n.prototype.getValue=function(t){return this.allValues.get(t)},n.prototype.setAddCurrentSelectionToFilter=function(t){this.addCurrentSelectionToFilter=t},n.prototype.isInWindowsExcelMode=function(){return"windows"===this.filterParams.excelMode},n.prototype.isAddCurrentSelectionToFilterChecked=function(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter},n.prototype.showAddCurrentSelectionToFilter=function(){return this.isInWindowsExcelMode()&&D.exists(this.miniFilterText)&&this.miniFilterText.length>0},n.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(i){return e.selectedKeys.add(i)}))},n.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},n.prototype.selectKey=function(t){this.selectedKeys.add(t)},n.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},n.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},n.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},n.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},n.prototype.getModel=function(){if(!this.hasSelections())return null;var t=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(t&&t.size>0){if(this.selectedKeys){var e=new Set(Cee(Cee([],Iu(Array.from(t)),!1),Iu(Array.from(this.selectedKeys).filter(function(i){return!t.has(i)})),!1));return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)},n.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(i){if(null==t)e.resetSelectionState(i??[]);else{e.selectedKeys.clear();var r=new Map;e.allValues.forEach(function(o,a){r.set(e.caseFormat(a),a)}),t.forEach(function(o){var a=e.caseFormat(D.makeNull(o)),s=r.get(a);void 0!==s&&e.selectKey(s)})}})},n.prototype.uniqueValues=function(t){var e=this,i=new Map,r=new Set;return(t??[]).forEach(function(o){var a=D.makeNull(o),s=e.convertAndGetKey(a),l=e.caseFormat(s);r.has(l)||(r.add(l),i.set(s,a))}),i},n.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},n.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},n.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},n.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var r=Iu(t,2)[1],a=Iu(e,2)[1];if(null==r)return null==a?0:-1;if(null==a)return 1;for(var s=0;s<r.length;s++){if(s>=a.length)return 1;var l=D.defaultComparator(r[s],a[s]);if(0!==l)return l}return 0}},n.prototype.setAppliedModelKeys=function(t){this.filteringKeys.setFilteringKeys(t)},n.prototype.addToAppliedModelKeys=function(t){this.filteringKeys.addFilteringKey(t)},n.prototype.getAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeys()},n.prototype.getCaseFormattedAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeysCaseFormatted()},n.prototype.hasAppliedModelKey=function(t){return this.filteringKeys.hasCaseFormattedFilteringKey(t)},n.prototype.hasAnyAppliedModelKey=function(){return!this.filteringKeys.noAppliedFilteringKeys()},n.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",n}(),t6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),df=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JV=function(n){function t(e){var r,i=this;return(i=n.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this).focusWrapper=e.focusWrapper,i.value=e.value,i.params=e.params,i.translate=e.translate,i.valueFormatter=e.valueFormatter,i.item=e.item,i.isSelected=e.isSelected,i.isTree=e.isTree,i.depth=null!==(r=e.depth)&&void 0!==r?r:0,i.isGroup=e.isGroup,i.groupsExist=e.groupsExist,i.isExpanded=e.isExpanded,i.hasIndeterminateExpandState=e.hasIndeterminateExpandState,i}return t6e(t,n),t.prototype.init=function(){var e=this;this.addDestroyFunc(function(){var i;return null===(i=e.destroyCellRendererComponent)||void 0===i?void 0:i.call(e)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),D.setAriaLevel(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(function(i){return e.onCheckboxChanged(!!i)})},t.prototype.getFocusableElement=function(){return this.focusWrapper},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(D.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(D.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(D.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,i){this.isGroup&&e!==this.isExpanded&&(this.isExpanded=e,i||this.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item}),this.setExpandedIcons(),this.refreshAriaExpanded())},t.prototype.setExpandedIcons=function(){D.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),D.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&D.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e,this.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item}),this.refreshVariableAriaLabels(),this.refreshAriaChecked()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,i){this.isSelected=e,this.eCheckbox.setValue(e,i),this.refreshAriaChecked()},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),i=this.eCheckbox.getValue(),r=void 0===i?e("ariaIndeterminate","indeterminate"):i?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");D.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var r=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value"),o=this.getAriaElement();D.setAriaLabel(o,"".concat(e," ").concat(r)),D.setAriaDescribedBy(o,this.eCheckbox.getInputElement().id)}},t.prototype.refreshAriaChecked=function(){var e=this.getAriaElement();D.setAriaChecked(e,this.eCheckbox.getValue())},t.prototype.refreshAriaExpanded=function(){D.setAriaExpanded(this.getAriaElement(),!!this.isExpanded)},t.prototype.refresh=function(e,i,r){var o,a;if(this.item=e,i!==this.isSelected&&this.setSelected(i,!0),this.setExpanded(r,!0),this.valueFunction){var s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent&&!(null===(a=(o=this.cellRendererComponent).refresh)||void 0===a?void 0:a.call(o,this.cellRendererParams))){var c=this.cellRendererComponent;this.renderCell(),this.destroyBean(c)}},t.prototype.render=function(){var e=this.params.column,i=this.value,r=null;"function"==typeof i?(this.valueFunction=i,i=r=this.valueFunction()):r=this.isTree?D.toStringOrNull(i):this.getFormattedValue(e,i),this.setTooltipAndCellRendererParams(i,r),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,i){if(this.params.showTooltips){var r=i??D.toStringOrNull(e);this.setTooltip(r)}this.cellRendererParams=this.gridOptionsService.addGridCommonParams({value:e,valueFormatted:i,colDef:this.params.colDef,column:this.params.column})},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,i){return this.valueFormatterService.formatValue(e,null,i,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,i=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),r=i?i.newAgStackInstance():void 0;null!=r?r.then(function(o){o&&(e.cellRendererComponent=o,e.eCheckbox.setLabel(o.getGui()),e.destroyCellRendererComponent=function(){return e.destroyBean(o)})}):this.renderCellWithoutCellRenderer()},t.prototype.renderCellWithoutCellRenderer=function(){var e,i=null!==(e=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==e?e:this.translate("blanks");"string"!=typeof i&&(D.warnOnce("Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See ".concat(this.getFrameworkOverrides().getDocLink("filter-set-filter-list/#filter-value-types"))),i=""),this.eCheckbox.setLabel(i),this.setupFixedAriaLabels(i)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',df([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),df([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),df([V("eCheckbox")],t.prototype,"eCheckbox",void 0),df([V("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),df([V("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),df([V("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),df([H],t.prototype,"init",null),t}(le),i6e={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},wee=function(){function n(){}return n.prototype.getModelAsString=function(t,e){var i=(t||e.getModel()||{}).values,r=e.getValueModel();if(null==i||null==r)return"";var o=i.filter(function(l){return r.isKeyAvailable(l)}),a=o.length,s=o.slice(0,10).map(function(l){return e.getFormattedValue(l)});return"(".concat(a,") ").concat(s.join(",")).concat(a>10?",...":"")},n}(),n6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},See=function(n){function t(){var e=n.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.filterModelFormatter=new wee,e.updateSetFilterOnParamsChange=function(i){var r;e.setFilterParams=i,e.convertValuesToStrings=!!i.convertValuesToStrings,e.caseSensitive=!!i.caseSensitive;var o=null!==(r=i.keyCreator)&&void 0!==r?r:i.colDef.keyCreator;e.setValueFormatter(i.valueFormatter,o,e.convertValuesToStrings,!!i.treeList,!!i.colDef.refData);var a=i.column.getId().startsWith(pd);e.treeDataTreeList=e.gridOptionsService.get("treeData")&&!!i.treeList&&a,e.getDataPath=e.gridOptionsService.get("getDataPath"),e.groupingTreeList=!!e.columnModel.getRowGroupColumns().length&&!!i.treeList&&a,e.createKey=e.generateCreateKey(o,e.convertValuesToStrings,e.treeDataTreeList||e.groupingTreeList)},e}return n6e(t,n),t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'.concat(this.translateForSetFilter("loadingOoo"),'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">').concat(this.translateForSetFilter("noMatches"),'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>')},t.prototype.handleKeyDown=function(e){if(n.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case G.SPACE:this.handleKeySpace(e);break;case G.ENTER:this.handleKeyEnter(e);break;case G.LEFT:this.handleKeyLeft(e);break;case G.RIGHT:this.handleKeyRight(e)}},t.prototype.handleKeySpace=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var i=this.setFilterParams||{};!i.excelMode||i.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var i;null===(i=this.getComponentForKeyEvent(e))||void 0===i||i.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var i,r=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(r.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var a=this.virtualList.getComponentAt(o);if(null!=a&&(e.preventDefault(),!(null!==(i=this.setFilterParams)&&void 0!==i?i:{}).readOnly))return a}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var i;return null==e&&null==(null===(i=this.valueModel)||void 0===i?void 0:i.getModel())?(this.setMiniFilter(null),vt.resolve()):n.prototype.setModel.call(this,e)},t.prototype.refresh=function(e){var r,o,a,i=this;return!!n.prototype.refresh.call(this,e)&&(!["treeList","treeListFormatter","treeListPathGetter","keyCreator","convertValuesToStrings","caseSensitive","comparator","suppressSelectAll","excelMode"].some(function(l){var c;return e[l]!==(null===(c=i.setFilterParams)||void 0===c?void 0:c[l])})&&!this.haveColDefParamsChanged(e.colDef)&&(n.prototype.updateParams.call(this,e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),(e.cellRenderer!==(null===(r=this.setFilterParams)||void 0===r?void 0:r.cellRenderer)||e.valueFormatter!==(null===(o=this.setFilterParams)||void 0===o?void 0:o.valueFormatter))&&this.checkAndRefreshVirtualList(),null===(a=this.valueModel)||void 0===a||a.updateOnParamsChange(e).then(function(){var l;null!==(l=i.valueModel)&&void 0!==l&&l.hasSelections()&&i.refreshFilterValues()}),!0))},t.prototype.haveColDefParamsChanged=function(e){var i,o=null===(i=this.setFilterParams)||void 0===i?void 0:i.colDef;return["keyCreator","filterValueGetter"].some(function(a){return e[a]!==o?.[a]})},t.prototype.setModelAndRefresh=function(e){var i=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return i.checkAndRefreshVirtualList()}):vt.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,i){return null==e&&null==i||null!=e&&null!=i&&D.areEqual(e.values,i.values)},t.prototype.setParams=function(e){var r,i=this;this.applyExcelModeOptions(e),n.prototype.setParams.call(this,e),this.updateSetFilterOnParamsChange(e);var o=null!==(r=e.keyCreator)&&void 0!==r?r:e.colDef.keyCreator;this.valueModel=new bee({filterParams:e,setIsLoading:function(a){return i.setIsLoading(a)},valueFormatterService:this.valueFormatterService,translate:function(a){return i.translateForSetFilter(a)},caseFormat:function(a){return i.caseFormat(a)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedListener:function(a,s){return i.addManagedListener(i.eventService,a,s)}}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.onAddCurrentSelectionToFilterChange=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)},t.prototype.setValueFormatter=function(e,i,r,o,a){var s=e;if(!s){if(i&&!r&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,a||(s=function(l){return D.toStringOrNull(l.value)})}this.valueFormatter=s},t.prototype.generateCreateKey=function(e,i,r){var o=this;if(r&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(a,s){void 0===s&&(s=null);var l=o.getKeyCreatorParams(a,s);return D.makeNull(e(l))}:i?function(a){return Array.isArray(a)?a:D.makeNull(D.toStringOrNull(a))}:function(a){return D.makeNull(D.toStringOrNull(a))}},t.prototype.getFormattedValue=function(e){var i,r=this.valueModel.getValue(e);return this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(r)&&(r=D.last(r)),null!==(i=this.valueFormatterService.formatValue(this.setFilterParams.column,null,r,this.valueFormatter,!1)??D.toStringOrNull(r))&&void 0!==i?i:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,D.warnOnce('The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&(this.addManagedListener(this.eventService,x.EVENT_CELL_VALUE_CHANGED,function(i){e.setFilterParams&&i.column===e.setFilterParams.column&&e.syncAfterDataChange()}),this.addManagedPropertyListeners(["treeData","getDataPath","groupAllowUnbalanced"],function(){e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){D.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),o=!!this.setFilterParams.treeList,a=this.virtualList=this.createBean(new ag({cssIdentifier:"filter",ariaRole:o?"tree":"listbox",listName:r})),s=this.getRefElement("eSetFilterList");o&&s.classList.add("ag-set-filter-tree-list"),s&&s.appendChild(a.getGui());var d,l=this.setFilterParams.cellHeight;null!=l&&a.setRowHeight(l),a.setComponentCreator(function(h,p){return e.createSetListItem(h,o,p)}),a.setComponentUpdater(function(h,p){return e.updateSetListItem(h,p)}),d=this.setFilterParams.suppressSelectAll?new r6e(this.valueModel):new o6e(this.valueModel,function(){return e.isSelectAllSelected()}),o&&(d=new a6e(d)),a.setModel(d)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.getAddSelectionToFilterLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")},t.prototype.createSetListItem=function(e,i,r){var o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.valueModel.hasGroups(),s=this.isSelectedExpanded(e),l=s.isSelected,c=s.isExpanded,u=this.newSetListItemAttributes(e,i),m=u.selectedListener,g=u.expandedListener,y=this.createBean(new JV({focusWrapper:r,value:u.value,params:this.setFilterParams,translate:function(_){return o.translateForSetFilter(_)},valueFormatter:this.valueFormatter,item:e,isSelected:l,isTree:i,depth:u.depth,groupsExist:a,isGroup:u.isGroup,isExpanded:c,hasIndeterminateExpandState:u.hasIndeterminateExpandState}));return y.addEventListener(JV.EVENT_SELECTION_CHANGED,m),g&&y.addEventListener(JV.EVENT_EXPANDED_CHANGED,g),y},t.prototype.newSetTreeItemAttributes=function(e,i){var o,a,s,l,c,u,r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var d=this.valueModel.hasGroups();return e.key===Uo.SELECT_ALL?{value:function(){return r.getSelectAllLabel()},isGroup:d,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:function(h){return r.onSelectAll(h.isSelected)},expandedListener:function(h){return r.onExpandAll(h.item,h.isExpanded)}}:e.key===Uo.ADD_SELECTION_TO_FILTER?{value:function(){return r.getAddSelectionToFilterLabel()},depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:function(h){r.onAddCurrentSelectionToFilterChange(h.isSelected)}}:e.children?{value:null!==(s=null===(a=(o=this.setFilterParams).treeListFormatter)||void 0===a?void 0:a.call(o,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==s?s:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:function(h){return r.onGroupItemSelected(h.item,h.isSelected)},expandedListener:function(h){return r.onExpandedChanged(h.item,h.isExpanded)}}:{value:null!==(u=null===(c=(l=this.setFilterParams).treeListFormatter)||void 0===c?void 0:c.call(l,e.treeKey,e.depth,e.parentTreeKeys))&&void 0!==u?u:e.treeKey,depth:e.depth,selectedListener:function(h){return r.onItemSelected(h.item.key,h.isSelected)}}},t.prototype.newSetListItemAttributes=function(e,i){var r=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,i):e===Uo.SELECT_ALL?{value:function(){return r.getSelectAllLabel()},selectedListener:function(o){return r.onSelectAll(o.isSelected)}}:e===Uo.ADD_SELECTION_TO_FILTER?{value:function(){return r.getAddSelectionToFilterLabel()},selectedListener:function(o){r.onAddCurrentSelectionToFilterChange(o.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:function(o){return r.onItemSelected(o.item,o.isSelected)}}},t.prototype.updateSetListItem=function(e,i){var r=this.isSelectedExpanded(e);i.refresh(e,r.isSelected,r.isExpanded)},t.prototype.isSelectedExpanded=function(e){var i,r;return this.isSetFilterModelTreeItem(e)?(r=e.expanded,i=e.key===Uo.SELECT_ALL?this.isSelectAllSelected():e.key===Uo.ADD_SELECTION_TO_FILTER?this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?this.areAllChildrenSelected(e):this.valueModel.isKeySelected(e.key)):i=e===Uo.SELECT_ALL?this.isSelectAllSelected():e===Uo.ADD_SELECTION_TO_FILTER?this.valueModel.isAddCurrentSelectionToFilterChecked():this.valueModel.isKeySelected(e),{isSelected:i,isExpanded:r}},t.prototype.isSetFilterModelTreeItem=function(e){return void 0!==e?.treeKey},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.eMiniFilter,a=this.localeService.getLocaleTextFunc();r.setDisplayed(!this.setFilterParams.suppressMiniFilter),r.setValue(this.valueModel.getMiniFilter()),r.onValueChange(function(){return e.onMiniFilterInput()}),r.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(r.getInputElement(),"keydown",function(s){return e.onMiniFilterKeyDown(s)})},t.prototype.updateMiniFilter=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);var i=this.valueModel.getMiniFilter();e.getValue()!==i&&e.setValue(i)},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");n.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var i=this.eMiniFilter;i.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&i.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,i;n.prototype.afterGuiDetached.call(this),null!==(e=this.setFilterParams)&&void 0!==e&&e.excelMode&&this.resetMiniFilter();var r=this.getModel();(null!==(i=this.setFilterParams)&&void 0!==i&&i.excelMode||!this.areModelsEqual(r,this.getModelFromUi()))&&(this.resetUiToActiveModel(r),this.showOrHideResults())},t.prototype.applyModel=function(e){var i=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var r=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(r&&!this.getModel())return!1;var o=n.prototype.applyModel.call(this,e),a=this.getModel();return a?(r||this.valueModel.setAppliedModelKeys(new Set),a.values.forEach(function(s){i.valueModel.addToAppliedModelKeys(s)})):r||this.valueModel.setAppliedModelKeys(null),o},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var i=this;if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;var r=e.node;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(r,e.data);if(this.groupingTreeList)return this.doesFilterPassForGrouping(r);var a=this.getValueFromNode(r);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(r,a):null!=a&&Array.isArray(a)?0===a.length?this.valueModel.hasAppliedModelKey(null):a.some(function(s){return i.isInAppliedModel(i.createKey(s,r))}):this.isInAppliedModel(this.createKey(a,r))},t.prototype.doesFilterPassForConvertValuesToString=function(e,i){var r=this,o=this.createKey(i,e);return null!=o&&Array.isArray(o)?0===o.length?this.valueModel.hasAppliedModelKey(null):o.some(function(a){return r.isInAppliedModel(a)}):this.isInAppliedModel(o)},t.prototype.doesFilterPassForTreeData=function(e,i){var r;return(null===(r=e.childrenAfterGroup)||void 0===r||!r.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(i))))},t.prototype.doesFilterPassForGrouping=function(e){var i=this,r=this.columnModel.getRowGroupColumns().map(function(o){return i.valueService.getKeyForNode(o,e)});return r.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(r)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(i){return D.toStringOrNull(D.makeNull(i))})),e?.some(function(i){return null==i})?null:e},t.prototype.isInAppliedModel=function(e){return this.valueModel.hasAppliedModelKey(e)},t.prototype.getValueFromNode=function(e){return this.setFilterParams.getValue(e)},t.prototype.getKeyCreatorParams=function(e,i){return void 0===i&&(i=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:i,data:i?.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===cn.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var i=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){i.checkAndRefreshVirtualList(),i.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(cn.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(i){i&&(e.checkAndRefreshVirtualList(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.checkAndRefreshVirtualList():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;D.setDisplayed(this.eNoMatches,e),D.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),null===(e=this.valueModel)||void 0===e||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,i){var r=this;this.setModelAndRefresh(null==e?null:e.values).then(function(){r.onUiChanged(!1,"prevent"),i?.()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),n.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyDown=function(e){var i=this.setFilterParams||{};e.key===G.ENTER&&!i.excelMode&&!i.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var i=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(i)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var i=this;null!=e&&window.setTimeout(function(){if(!i.virtualList)throw new Error("Virtual list has not been created.");i.isAlive()&&i.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,i){var r=this,o=function(a){a.children?a.children.forEach(function(s){return o(s)}):r.selectItem(a.key,i)};o(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,i){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,i),this.refreshAfterSelection()},t.prototype.selectItem=function(e,i){i?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,i){var r=function(o){o.filterPasses&&o.available&&o.children&&(o.children.forEach(function(a){return r(a)}),o.expanded=i)};r(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,i){e.expanded=i,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.checkAndRefreshVirtualList=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()},t.prototype.translateForSetFilter=function(e){return this.localeService.getLocaleTextFunc()(e,i6e[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var i=this,r=function(o){if(o.children){var a=!1,s=!1;return o.children.some(function(c){if(!c.filterPasses||!c.available)return!1;var u=r(c);return void 0===u||(u?a=!0:s=!0,a&&s)})?void 0:a}return i.valueModel.isKeySelected(o.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&r(e):r(e)},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),n.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,i;if(null!==(e=this.setFilterParams)&&void 0!==e&&e.treeList){var r=null===(i=this.valueModel)||void 0===i?void 0:i.getSelectAllItem();if(this.isSetFilterModelTreeItem(r)){var o=function(a){a.children&&(a.children.forEach(function(s){return o(s)}),a.expanded=!1)};o(r),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},hf([V("eMiniFilter")],t.prototype,"eMiniFilter",void 0),hf([V("eFilterLoading")],t.prototype,"eFilterLoading",void 0),hf([V("eSetFilterList")],t.prototype,"eSetFilterList",void 0),hf([V("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),hf([C("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hf([C("columnModel")],t.prototype,"columnModel",void 0),hf([C("valueService")],t.prototype,"valueService",void 0),t}(gp),r6e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},n.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),o6e=function(){function n(t,e){this.model=t,this.isSelectAllSelected=e}return n.prototype.getRowCount=function(){var e=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+e},n.prototype.getRow=function(t){if(0===t)return this.model.getSelectAllItem();var e=this.model.showAddCurrentSelectionToFilter(),i=e?2:1;return 1===t&&e?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(t-i)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),a6e=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getRowCount()},n.prototype.getRow=function(t){return this.model.getRow(t)},n.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},n}(),s6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},l6e=function(n){function t(){var e=n.call(this,'\n            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new wee,e}return s6e(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this;this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return i.params.showParentFilter()}),this.setParams(e)},t.prototype.setParams=function(e){var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel("".concat(i," ").concat(r("ariaFilterInput","Filter Input")))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof See))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(i)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(i){var r=i.getValueModel();r&&e.addManagedListener(r,bee.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var i=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(r){i.eFloatingFilterText.setValue(i.filterModelFormatter.getModelAsString(e,r))})},xee([V("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),xee([C("columnModel")],t.prototype,"columnModel",void 0),t}(le),u6e={version:"31.1.1",moduleName:ie.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:See},{componentName:"agSetColumnFloatingFilter",componentClass:l6e}],dependantModules:[ur]},d6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),p6e=function(n){function t(){var e=n.call(this)||this;return e.allComponents=new Map,e}return d6e(t,n),t.prototype.registerStatusPanel=function(e,i){this.allComponents.set(e,i)},t.prototype.unregisterStatusPanel=function(e){this.allComponents.delete(e)},t.prototype.unregisterAllComponents=function(){this.allComponents.clear()},t.prototype.getStatusPanel=function(e){return this.allComponents.get(e)},t.prototype.destroy=function(){this.unregisterAllComponents(),n.prototype.destroy.call(this)},t=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([oe("statusBarService")],t),t}(z),f6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pf=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},m6e=function(n){function t(){var e=n.call(this,t.TEMPLATE)||this;return e.compDestroyFunctions={},e}return f6e(t,n),t.prototype.postConstruct=function(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},t.prototype.processStatusPanels=function(e){var i,r=null===(i=this.gridOptionsService.get("statusBar"))||void 0===i?void 0:i.statusPanels;if(r){var o=r.filter(function(l){return"left"===l.align});this.createAndRenderComponents(o,this.eStatusBarLeft,e);var a=r.filter(function(l){return"center"===l.align});this.createAndRenderComponents(a,this.eStatusBarCenter,e);var s=r.filter(function(l){return!l.align||"right"===l.align});this.createAndRenderComponents(s,this.eStatusBarRight,e)}else this.setDisplayed(!1)},t.prototype.handleStatusBarChanged=function(){var i,e=this,r=null===(i=this.gridOptionsService.get("statusBar"))||void 0===i?void 0:i.statusPanels,o=Array.isArray(r)&&r.length>0;this.setDisplayed(o);var a=new Map;o&&r.forEach(function(s){var l,c,u=null!==(l=s.key)&&void 0!==l?l:s.statusPanel,d=e.statusBarService.getStatusPanel(u);if(d?.refresh){var h=e.gridOptionsService.addGridCommonParams(null!==(c=s.statusPanelParams)&&void 0!==c?c:{});d.refresh(h)&&(a.set(u,d),delete e.compDestroyFunctions[u],D.removeFromParent(d.getGui()))}}),this.resetStatusBar(),o&&this.processStatusPanels(a)},t.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},t.prototype.destroyComponents=function(){Object.values(this.compDestroyFunctions).forEach(function(e){return e()}),this.compDestroyFunctions={}},t.prototype.createAndRenderComponents=function(e,i,r){var o=this,a=[];e.forEach(function(s){var u,l=s.key||s.statusPanel,c=r.get(l);if(c)u=vt.resolve(c);else if(!(u=o.userComponentFactory.getStatusPanelCompDetails(s,{}).newAgStackInstance()))return;a.push({key:l,promise:u})}),vt.all(a.map(function(s){return s.promise})).then(function(){a.forEach(function(s){s.promise.then(function(l){var c=function(){o.getContext().destroyBean(l)};o.isAlive()?(o.statusBarService.registerStatusPanel(s.key,l),i.appendChild(l.getGui()),o.compDestroyFunctions[s.key]=c):c()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',pf([C("userComponentFactory")],t.prototype,"userComponentFactory",void 0),pf([C("statusBarService")],t.prototype,"statusBarService",void 0),pf([V("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),pf([V("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),pf([V("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),pf([H],t.prototype,"postConstruct",null),pf([Mi],t.prototype,"destroyComponents",null),t}(le),g6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Eee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tw=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return g6e(t,n),t.prototype.setLabel=function(e,i){this.setDisplayed(!1);var r=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=r(e,i)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Eee([V("eLabel")],t.prototype,"eLabel",void 0),Eee([V("eValue")],t.prototype,"eValue",void 0),t}(le),v6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},y6e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return v6e(t,n),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.__getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),i=e("thousandSeparator",","),r=e("decimalSeparator","."),o=D.formatNumberCommas(this.getFilteredRowCountValue(),i,r),a=D.formatNumberCommas(this.getTotalRowCount(),i,r);if(o===a)this.setValue(o);else{var s=this.localeService.getLocaleTextFunc();this.setValue("".concat(o," ").concat(s("of","of")," ").concat(a))}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(i){i.group||e++}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},Dee([C("gridApi")],t.prototype,"gridApi",void 0),Dee([H],t.prototype,"postConstruct",null),t}(tw),_6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},C6e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return _6e(t,n),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.__getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),i=this.getFilteredRowCountValue(),r=this.localeService.getLocaleTextFunc(),o=r("thousandSeparator",","),a=r("decimalSeparator",".");this.setValue(D.formatNumberCommas(i,o,a)),this.setDisplayed(e!==i)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(i){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},Tee([C("gridApi")],t.prototype,"gridApi",void 0),Tee([H],t.prototype,"postConstruct",null),t}(tw),b6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mee=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},w6e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return b6e(t,n),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.__getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),i=e("thousandSeparator",","),r=e("decimalSeparator",".");this.setValue(D.formatNumberCommas(this.getRowCountValue(),i,r))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(i){return e+=1}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},Mee([C("gridApi")],t.prototype,"gridApi",void 0),Mee([H],t.prototype,"postConstruct",null),t}(tw),S6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eG=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},x6e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return S6e(t,n),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,x.EVENT_SELECTION_CHANGED,e)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0)return this.setValue("?"),void this.setDisplayed(!0);var i=this.localeService.getLocaleTextFunc(),r=i("thousandSeparator",","),o=i("decimalSeparator",".");this.setValue(D.formatNumberCommas(e,r,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},eG([C("gridApi")],t.prototype,"gridApi",void 0),eG([C("selectionService")],t.prototype,"selectionService",void 0),eG([H],t.prototype,"postConstruct",null),t}(tw),E6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Da=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},D6e=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return E6e(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,x.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,x.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(e){this.params=e},t.prototype.refresh=function(e){return this.params=e,this.onRangeSelectionChanged(),!0},t.prototype.setAggregationComponentValue=function(e,i,r){var o,a=this.getAllowedAggregationValueComponent(e);if(D.exists(a)&&a){var s=this.localeService.getLocaleTextFunc(),l=s("thousandSeparator",","),c=s("decimalSeparator",".");a.setValue(D.formatNumberTwoDecimalPlacesAndCommas(i,l,c)),a.setDisplayed(r)}else null===(o=this.getAggregationValueComponent(e))||void 0===o||o.setDisplayed(!1)},t.prototype.getAllowedAggregationValueComponent=function(e){var i=this.params.aggFuncs;return!i||i.includes(e)?this.getAggregationValueComponent(e):null},t.prototype.getAggregationValueComponent=function(e){return this["".concat(e,"AggregationComp")]},t.prototype.onRangeSelectionChanged=function(){var e=this,i=this.rangeService?this.rangeService.getCellRanges():void 0,r=0,o=0,a=0,s=null,l=null,c={};i&&!D.missingOrEmpty(i)&&i.forEach(function(h){for(var p=e.rangeService.getRangeStartRow(h),f=e.rangeService.getRangeEndRow(h);!D.missing(p)&&p&&!e.rowPositionUtils.before(f,p)&&p&&h.columns;)h.columns.forEach(function(g){if(null!==p){var v=e.cellPositionUtils.createId({rowPinned:p.rowPinned,column:g,rowIndex:p.rowIndex});if(!c[v]){c[v]=!0;var y=e.rowRenderer.getRowNode(p);if(!D.missing(y)){var _=e.valueService.getValue(g,y);D.missing(_)||""===_||(o++,("object"!=typeof _||!("value"in _)||""!==(_=_.value))&&("string"==typeof _&&(_=Number(_)),"number"==typeof _&&!isNaN(_)&&(r+=_,(null===l||_>l)&&(l=_),(null===s||_<s)&&(s=_),a++)))}}}}),p=e.cellNavigationService.getRowBelow(p)});var d=a>1;this.setAggregationComponentValue("count",o,o>1),this.setAggregationComponentValue("sum",r,d),this.setAggregationComponentValue("min",s,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",r/a,d)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Da([gt("rangeService")],t.prototype,"rangeService",void 0),Da([C("valueService")],t.prototype,"valueService",void 0),Da([C("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Da([C("rowRenderer")],t.prototype,"rowRenderer",void 0),Da([C("gridApi")],t.prototype,"gridApi",void 0),Da([C("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Da([C("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Da([V("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Da([V("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Da([V("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Da([V("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Da([V("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Da([H],t.prototype,"postConstruct",null),t}(le),M6e={version:"31.1.1",moduleName:ie.StatusBarModule,beans:[p6e],agStackComponents:[{componentName:"AgStatusBar",componentClass:m6e},{componentName:"AgNameValue",componentClass:tw}],userComponents:[{componentName:"agAggregationComponent",componentClass:D6e},{componentName:"agSelectedRowCountComponent",componentClass:x6e},{componentName:"agTotalRowCountComponent",componentClass:w6e},{componentName:"agFilteredRowCountComponent",componentClass:C6e},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:y6e}],dependantModules:[ur]},O6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_v=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},R6e=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return O6e(t,n),t.prototype.ensureRowHeightsValid=function(e,i,r,o){return!1},t.prototype.init=function(){var e=this;this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,x.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this)),this.addManagedPropertyListener("viewportDatasource",function(){return e.updateDatasource()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.updateRowHeights()})},t.prototype.start=function(){this.updateDatasource()},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("viewportDatasource");e&&this.setViewportDatasource(e)},t.prototype.getViewportRowModelPageSize=function(){return this.gridOptionsService.get("viewportRowModelPageSize")},t.prototype.getViewportRowModelBufferSize=function(){return this.gridOptionsService.get("viewportRowModelBufferSize")},t.prototype.calculateFirstRow=function(e){var i=this.getViewportRowModelBufferSize(),r=this.getViewportRowModelPageSize(),o=e-i;return o<0?0:Math.floor(o/r)*r},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var i=this.getViewportRowModelBufferSize(),r=this.getViewportRowModelPageSize(),a=Math.ceil((e+i)/r)*r;return Math.min(a,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var i=this.calculateFirstRow(e.firstRow),r=this.calculateLastRow(e.lastRow);(this.firstRow!==i||this.lastRow!==r)&&(this.firstRow=i,this.lastRow=r,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(i){var r=parseInt(i,10);if(r<e.firstRow||r>e.lastRow){if(e.isRowFocused(r))return;delete e.rowNodesByIndex[r]}})},t.prototype.isRowFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();return!(!i||null!=i.rowPinned)&&i.rowIndex===e},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(r){r.id===e&&(i=r)}),i},t.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(r){r.setRowHeight(e.rowHeight),r.setRowTop(e.rowHeight*r.rowIndex)}),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1})},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,i){var r=D.missing(e)?0:e.rowIndex,o=i.rowIndex;if(r<this.firstRow||r>this.lastRow||o<this.firstRow||o>this.lastRow)return[];for(var l=[],u=r<=o?o:r,d=r<=o?r:o;d<=u;d++)l.push(this.rowNodesByIndex[d]);return l},t.prototype.forEachNode=function(e){var i=this,r=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10);e(i.rowNodesByIndex[a],r),r++})},t.prototype.setRowData=function(e){var i=this;D.iterateObject(e,function(r,o){var a=parseInt(r,10);if(a>=i.firstRow&&a<=i.lastRow){var s=i.rowNodesByIndex[a];D.missing(s)&&(s=i.createBlankRowNode(a),i.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var i=new st(this.beans);return i.setRowHeight(this.rowHeight),i.setRowTop(this.rowHeight*e),i.setRowIndex(e),i},t.prototype.setRowCount=function(e,i){void 0===i&&(i=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEventOnce({type:x.EVENT_ROW_COUNT_READY}),this.eventService.dispatchEvent({type:x.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:i,animate:!1}))},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},_v([C("rowRenderer")],t.prototype,"rowRenderer",void 0),_v([C("focusService")],t.prototype,"focusService",void 0),_v([C("beans")],t.prototype,"beans",void 0),_v([H],t.prototype,"init",null),_v([Mi],t.prototype,"destroyDatasource",null),_v([oe("rowModel")],t)}(z),P6e={version:"31.1.1",moduleName:ie.ViewportRowModelModule,rowModel:"viewport",beans:[R6e],dependantModules:[ur]},k6e=Xi.extent,iw=Xi.isNumber,L6e=Xi.isString,N6e=Xi.isStringObject,Aee=Xi.isDate,V6e=Xi.createId,G6e=Xi.Padding,tG=oh.LinearScale,B6e=oh.BandScale,Oee=oh.TimeScale,Ti=(()=>((Ti=Ti||{})[Ti.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",Ti[Ti.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",Ti[Ti.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",Ti[Ti.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",Ti[Ti.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",Ti[Ti.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX",Ti))(),H6e=function n(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},iG=function(){function n(){this.id=V6e(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new G6e(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new tG,this.axis=new H6e,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new re.Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var i=new re.Scene({window,document});this.scene=i,this.canvasElement=i.canvas.element,i.root=t,i.container=e,this.resizeAndSetDimensions(this.width,this.height),n.tooltipDocuments.includes(document)||this.initialiseTooltipStyles(),this.setupDomEventListeners(this.canvasElement)}return Object.defineProperty(n.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e?.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),n.prototype.resizeAndSetDimensions=function(t,e){this.scene.resize(t,e),this.seriesRect.width=t,this.seriesRect.height=e},n.prototype.initialiseTooltipStyles=function(){var t=document.createElement("style");t.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(t,document.head.querySelector("style")),n.tooltipDocuments.push(document)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),n.prototype.update=function(){},n.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},n.prototype.updateYScaleDomain=function(){},n.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},n.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},n.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleDomain=function(){var r,e=this.xData,i=this.xScale;(i instanceof tG||i instanceof Oee)&&(r=k6e(e)),this.xScale.domain=r?r.slice():e},n.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new tG;case"time":return new Oee;default:return new B6e}},n.prototype.updateAxisLine=function(){},n.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},n.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},n.prototype.generateNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.updateNodes=function(){},n.prototype.updateXCrosshairLine=function(){},n.prototype.updateYCrosshairLine=function(){},n.prototype.highlightDatum=function(t){this.updateNodes()},n.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},n.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},n.prototype.updateHitPoint=function(t){var e,i,r,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var a=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render().catch(function(l){return console.error("AG Grid - chart rendering failed",l)})),(null===(r=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.enabled)||void 0===r||r)&&this.handleTooltip(t,o)}},n.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch(function(e){return console.error("AG Grid - chart rendering failed",e)})},n.prototype.processData=function(){var t=this,e=this,i=e.data,r=e.yData,o=e.xData;if(i&&!this.invalidData(this.data)){r.length=0,o.length=0;var a=i.length,s=this.getDataType(i);this.dataType=s;var h,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,d=function(E,M){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var P=t.smallestInterval.x,I=Math.abs(E-M);I>0&&I<P&&(t.smallestInterval.x=I)};if("number"===s)for(var p=0;p<a;p++){var m=i[p],g=this.getDatum(p,c),v=this.getDatum(m,"number");u&&d(g,h),o.push(g),r.push(v),h=g}else if("array"===s)for(p=0;p<a;p++){var y=i[p];if(Array.isArray(y)){if(m=y[1],g=this.getDatum(y[0],c),v=this.getDatum(m,"number"),null==g)continue;u&&d(g,h),o.push(g),r.push(v),h=g}}else if("object"===s){var b=this.yKey,w=this.xKey;for(p=0;p<a;p++)if("object"==typeof(y=i[p])&&!Array.isArray(y)){if(m=y[b],g=this.getDatum(y[w],c),v=this.getDatum(m,"number"),null==g)continue;u&&d(g,h),o.push(g),r.push(v),h=g}}this.updateAxes(),this.immediateLayout()}},n.prototype.getDataType=function(t){var e,i;try{for(var r=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=r.next();!o.done;o=r.next()){var a=o.value;if(null!=a){if(iw(a))return"number";if(Array.isArray(a))return"array";if("object"==typeof a)return"object"}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},n.prototype.getDatum=function(t,e){if("number"===e&&iw(t)||"time"===e&&(iw(t)||Aee(t)))return t;if("category"===e){if(L6e(t)||Aee(t)||iw(t))return{toString:function(){return String(t)}};if(N6e(t))return t}},Object.defineProperty(n.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),n.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.immediateLayout(),t.layoutId=0})},n.prototype.immediateLayout=function(){this.setSparklineDimensions(),!this.invalidData(this.data)&&(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch(function(t){return console.error("AG Grid - chart rendering failed",t)}))},n.prototype.setSparklineDimensions=function(){var t=this,r=t.padding,o=t.seriesRect,a=t.rootGroup,l=t.height-r.top-r.bottom;o.width=t.width-r.left-r.right,o.height=l,o.x=r.left,o.y=r.top,a.translationX=o.x,a.translationY=o.y},n.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var r,i=1/0,o=this.rootGroup.transformPoint(t,e),a=this.getNodeData(),s=0;s<a.length;s++){var l=a[s];if(!l.point)return;var c=this.getDistance(o,l.point);c<=i&&(i=c,r=l)}return r},n.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},n.prototype.handleTooltip=function(t,e){var i,r,o=e.seriesDatum,a=this.canvasElement,c=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip,u={pageX:t.clientX,pageY:t.clientY,position:{xOffset:c?.xOffset,yOffset:c?.yOffset},container:c?.container};null==u.container&&(u.container=a);var d=o.y,h=o.x,p=null===(r=c?.enabled)||void 0===r||r,f=c?.renderer;if(f){var m=f({context:this.context,datum:o,yValue:d,xValue:h});p="string"!=typeof m&&void 0!==m.enabled?m.enabled:p}var g=p&&void 0!==o.y&&this.getTooltipHtml(e);g&&this.tooltip.show(u,g)},n.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},n.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||iw(t))?this.defaultDateFormatter.format(t):String(t)},n.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},n.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},n.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},n.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},n.tooltipDocuments=[],n}();function Cv(n,t){var e,i,r;if("string"==typeof n)return n;t=t??{};var m,g,o=n.content,a=void 0===o?null!==(e=t.content)&&void 0!==e?e:"":o,s=n.title,l=void 0===s?null!==(i=t.title)&&void 0!==i?i:void 0:s,c=n.color,u=void 0===c?t.color:c,d=n.backgroundColor,h=void 0===d?t.backgroundColor:d,p=n.opacity,f=void 0===p?null!==(r=t.opacity)&&void 0!==r?r:1:p;u?(m=l?'<span class="'.concat(bv.class,'-title"; style="color: ').concat(u,'">').concat(l,"</span>"):"",g='<span class="'.concat(bv.class,'-content" style="color: ').concat(u,'">').concat(a,"</span>")):(m=l?'<span class="'.concat(bv.class,'-title">').concat(l,"</span>"):"",g='<span class="'.concat(bv.class,'-content">').concat(a,"</span>"));var v="opacity: ".concat(f);return h&&(v+="; background-color: ".concat(h.toLowerCase())),'<div class="'.concat(bv.class,'" style="').concat(v,'">\n                ').concat(m,"\n                ").concat(g,"\n            </div>")}var bv=function(){function n(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return n.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains("".concat(n.class,"-wrapper-hidden"));var e=t.getAttribute("class");return!!e&&e.split(" ").indexOf("".concat(n.class,"-wrapper-hidden"))<0},n.prototype.updateClass=function(t){var e=["".concat(n.class,"-wrapper")];!0!==t&&e.push("".concat(n.class,"-wrapper-hidden")),this.element.setAttribute("class",e.join(" "))},n.prototype.show=function(t,e){var i,r,o,a;this.toggle(!1);var s=this.element;if(void 0!==e)s.innerHTML=e;else if(!s.innerHTML)return;var l=null!==(r=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==r?r:10,c=null!==(a=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==a?a:0,u=t.pageX+l,d=t.pageY+c,h=s.getBoundingClientRect(),p=window.innerWidth-h.width;if(t.container){var f=t.container.getBoundingClientRect();p=f.left+(f.width-h.width)}u>p&&(u=t.pageX-s.clientWidth-l),typeof scrollX<"u"&&(u+=scrollX),typeof scrollY<"u"&&(d+=scrollY),s.style.left="".concat(Math.round(u),"px"),s.style.top="".concat(Math.round(d),"px"),this.toggle(!0)},n.prototype.toggle=function(t){this.updateClass(t)},n.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},n.class="ag-sparkline-tooltip",n}();function Ree(n){switch(n){case"circle":default:return re.Circle;case"square":return re.Square;case"diamond":return re.Diamond}}function mM(n,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},i={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===n||"square"===n?null==i[t]?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),i.solid):i[t]:null==e[t]?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),e.solid):e[t]}var j6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),U6e=Xi.extent,z6e=oh.BandScale,W6e=function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},$6e=function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},K6e=function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Y6e=function(n){function t(){var e=n.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new re.Path,e.fillPath=new re.Path,e.xCrosshairLine=new re.Line,e.yCrosshairLine=new re.Line,e.areaSparklineGroup=new re.Group,e.xAxisLine=new re.Line,e.markers=new re.Group,e.markerSelection=re.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new W6e,e.line=new $6e,e.crosshairs=new K6e,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=Ti.AXIS_LINE_ZINDEX,e.fillPath.zIndex=Ti.SERIES_FILL_ZINDEX,e.strokePath.zIndex=Ti.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.markers.zIndex=Ti.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return j6e(t,n),t.prototype.markerFactory=function(){return new(Ree(this.marker.shape))},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var i=e.nodeData,r=e.fillData,o=e.strokeData;this.markerSelectionData=i,this.updateSelection(i),this.updateNodes(),this.updateStroke(o),this.updateFill(r)}},t.prototype.updateYScaleDomain=function(){var r=this.yScale,o=U6e(this.yData),a=0,s=1;void 0!==o&&(a=this.min=o[0],s=this.max=o[1]),r.domain=[a=a<0?a:0,s=s<0?0:s]},t.prototype.generateNodeData=function(){var e=this,r=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(e.data){for(var f,m,g,v,l=!(a instanceof z6e),c=l?0:a.bandwidth/2,u=r.length,d=[],h=[],p=[],y=s.convert(0),_=0;_<u;_++){var b=r[_],w=o[_],E=a.convert(l?a.toDomain(w):w)+c,M=void 0===b?NaN:s.convert(b);_+1<u&&(v=a.convert(l?a.toDomain(o[_+1]):o[_+1])+c),p.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),void 0===b&&void 0!==g?(h.push({seriesDatum:void 0,point:{x:g,y}}),void 0!==v&&h.push({seriesDatum:void 0,point:{x:v,y}})):void 0!==b&&(h.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),d.push({seriesDatum:{x:w,y:b},point:{x:E,y:M}}),f=void 0!==f?f:E,m=E),g=E}return h.push({seriesDatum:void 0,point:{x:m,y}},{seriesDatum:void 0,point:{x:f,y}}),{nodeData:d,fillData:h,strokeData:p}}},t.prototype.updateAxisLine=function(){var e=this,i=e.xScale,r=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=i.range[0],a.x2=i.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=r.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,i=this,r=i.highlightedDatum,o=i.highlightStyle,a=i.marker,s=o.size,l=o.fill,c=o.stroke,u=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(h,p,f){var m=p.point,g=p.seriesDatum;if(m){var E,v=p===r,y=v&&void 0!==l?l:a.fill,_=v&&void 0!==c?c:a.stroke,b=v&&void 0!==u?u:a.strokeWidth,w=v&&void 0!==s?s:a.size;d&&(E=d({datum:p,xValue:g.x,yValue:g.y,min:g.y===e.min,max:g.y===e.max,first:0===f,last:f===e.markerSelectionData.length-1,fill:y,stroke:_,strokeWidth:b,size:w,highlighted:v})),h.size=E&&null!=E.size?E.size:w,h.fill=E&&null!=E.fill?E.fill:y,h.stroke=E&&null!=E.stroke?E.stroke:_,h.strokeWidth=E&&null!=E.strokeWidth?E.strokeWidth:b,h.translationX=m.x,h.translationY=m.y,h.visible=E&&null!=E.enabled?E.enabled:a.enabled&&h.size>0}})},t.prototype.updateStroke=function(e){var i=this,r=i.strokePath,a=i.line;if(!(i.yData.length<2)){var s=r.path,l=e.length,c=!0;s.clear();for(var u=0;u<l;u++){var d=e[u],h=d.point,f=h.x,m=h.y;null==d.seriesDatum.y?c=!0:c?(s.moveTo(f,m),c=!1):s.lineTo(f,m)}r.lineJoin=r.lineCap="round",r.fill=void 0,r.stroke=a.stroke,r.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var i=this,r=i.fillPath,o=i.yData,a=i.fill,s=r.path,l=e.length;if(s.clear(),!(o.length<2)){for(var c=0;c<l;c++){var u=e[c].point,d=u.x,h=u.y;c>0?s.lineTo(d,h):s.moveTo(d,h)}s.closePath(),r.lineJoin="round",r.stroke=void 0,r.fill=a}},t.prototype.updateXCrosshairLine=function(){var e,i=this,r=i.yScale,o=i.xCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.xLine;if(s.enabled&&null!=a){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:mM(o.lineCap,s.lineDash),o.translationX=a.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e,i=this,r=i.xScale,o=i.yCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.yLine;if(s.enabled&&null!=a){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:mM(o.lineCap,s.lineDash),o.translationY=a.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var i,r,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(r=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===r?void 0:r.renderer;return h?Cv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Cv(d)},t.className="AreaSparkline",t}(iG),q6e=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),X6e=Xi.extent,Pee=oh.BandScale,Z6e=function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Q6e=function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},J6e=function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},eKe=function(n){function t(){var e=n.call(this)||this;return e.linePath=new re.Path,e.xCrosshairLine=new re.Line,e.yCrosshairLine=new re.Line,e.lineSparklineGroup=new re.Group,e.markers=new re.Group,e.markerSelection=re.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new Z6e,e.line=new Q6e,e.crosshairs=new J6e,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=Ti.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Ti.CROSSHAIR_ZINDEX,e.markers.zIndex=Ti.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return q6e(t,n),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){return new(Ree(this.marker.shape))},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var r=this.yScale,o=X6e(this.yData),a=0,s=1;if(void 0!==o&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(.01*a);a-=l,s+=l}r.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(e.data){for(var l=!(a instanceof Pee),c=l?0:a.bandwidth/2,u=[],d=0;d<r.length;d++){var h=r[d],p=o[d];if(null!=h){var f=a.convert(l?a.toDomain(p):p)+c,m=void 0===h?NaN:s.convert(h);u.push({seriesDatum:{x:p,y:h},point:{x:f,y:m}})}}return u}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,i=this,r=i.highlightedDatum,o=i.highlightStyle,a=i.marker,s=o.size,l=o.fill,c=o.stroke,u=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(h,p,f){var b,m=p===r,g=m&&void 0!==l?l:a.fill,v=m&&void 0!==c?c:a.stroke,y=m&&void 0!==u?u:a.strokeWidth,_=m&&void 0!==s?s:a.size,w=p.seriesDatum,E=p.point;d&&(b=d({datum:p,xValue:w.x,yValue:w.y,min:w.y===e.min,max:w.y===e.max,first:0===f,last:f===e.markerSelectionData.length-1,fill:g,stroke:v,strokeWidth:y,size:_,highlighted:m})),h.size=b&&null!=b.size?b.size:_,h.fill=b&&null!=b.fill?b.fill:g,h.stroke=b&&null!=b.stroke?b.stroke:v,h.strokeWidth=b&&null!=b.strokeWidth?b.strokeWidth:y,h.translationX=E.x,h.translationY=E.y,h.visible=b&&null!=b.enabled?b.enabled:a.enabled&&h.size>0})},t.prototype.updateLine=function(){var e=this,i=e.linePath,r=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(r.length<2)){var c=!(a instanceof Pee),u=i.path,d=r.length,h=c?0:a.bandwidth/2,p=!0;u.clear();for(var f=0;f<d;f++){var m=o[f],g=r[f],v=a.convert(c?a.toDomain(m):m)+h,y=void 0===g?NaN:s.convert(g);null==g?p=!0:p?(u.moveTo(v,y),p=!1):u.lineTo(v,y)}i.fill=void 0,i.stroke=l.stroke,i.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e,i=this,r=i.yScale,o=i.xCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.xLine;if(s.enabled&&null!=a){o.y1=r.range[0],o.y2=r.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:mM(o.lineCap,s.lineDash),o.translationX=a.point.x}else o.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e,i=this,r=i.xScale,o=i.yCrosshairLine,a=i.highlightedDatum,s=i.crosshairs.yLine;if(s.enabled&&null!=a){o.x1=r.range[0],o.x2=r.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=null!==(e=s.strokeWidth)&&void 0!==e?e:1,o.lineCap="round"===s.lineCap||"square"===s.lineCap?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:mM(o.lineCap,s.lineDash),o.translationY=a.point.y}else o.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var i,r,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(r=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===r?void 0:r.renderer;return h?Cv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Cv(d)},t.className="LineSparkline",t}(iG),Iee=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iKe=Xi.extent,_h=(()=>((_h=_h||{})[_h.Rect=0]="Rect",_h[_h.Label=1]="Label",_h))(),zo=(()=>((zo=zo||{}).InsideBase="insideBase",zo.InsideEnd="insideEnd",zo.Center="center",zo.OutsideEnd="outsideEnd",zo))(),nKe=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement=zo.InsideEnd,e}return Iee(t,n),t}(function n(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}),Fee=function(n){function t(){var e=n.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new re.Line,e.bandWidth=0,e.sparklineGroup=new re.Group,e.rectGroup=new re.Group,e.labelGroup=new re.Group,e.rectSelection=re.Selection.select(e.rectGroup,re.Rect),e.labelSelection=re.Selection.select(e.labelGroup,re.Text),e.nodeSelectionData=[],e.label=new nKe,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=Ti.SERIES_FILL_ZINDEX,e.axisLine.zIndex=Ti.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=Ti.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return Iee(t,n),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var i,r=this,o=r.xScale,a=r.paddingInner,s=r.paddingOuter,l=r.smallestInterval,u=(o.domain[1]-o.domain[0])/(null!==(i=l?.x)&&void 0!==i?i:1)+1,h=Math.min(u,50);return e/Math.max(1,2*s+(h-1)*a+h)},t.prototype.updateYScaleDomain=function(){var e=this,i=e.yScale,o=e.valueAxisDomain,a=iKe(e.yData),s=0,l=1;void 0!==a&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),i.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,i=this,r=i.highlightedDatum,o=i.formatter,a=i.fill,s=i.stroke,l=i.strokeWidth,c=this.highlightStyle,u=c.fill,d=c.stroke,h=c.strokeWidth;this.rectSelection.each(function(p,f,m){var b,g=f===r,v=g&&void 0!==u?u:a,y=g&&void 0!==d?d:s,_=g&&void 0!==h?h:l,w=f.x,E=f.y,M=f.width,P=f.height,I=f.seriesDatum;o&&(b=o({datum:f,xValue:I.x,yValue:I.y,width:M,height:P,min:I.y===e.min,max:I.y===e.max,first:0===m,last:m===e.nodeSelectionData.length-1,fill:v,stroke:y,strokeWidth:_,highlighted:g})),p.fill=b&&b.fill||v,p.stroke=b&&b.stroke||y,p.strokeWidth=b&&b.strokeWidth||_,p.x=p.y=0,p.width=M,p.height=P,p.visible=p.height>0,p.translationX=w,p.translationY=E})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(i){i.tag=_h.Label,i.pointerEvents=re.PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,i=e.enabled,r=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(c,u){var d=u.label;d&&i?(c.fontStyle=r,c.fontWeight=o,c.fontSize=a,c.fontFamily=s,c.textAlign=d.textAlign,c.textBaseline=d.textBaseline,c.text=d.text,c.x=d.x,c.y=d.y,c.fill=l,c.visible=!0):c.visible=!1})},t.prototype.getTooltipHtml=function(e){var i,r,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,d={content:this.formatNumericDatum(s),title:"array"===o||"object"===o?this.formatDatum(l):void 0},h=null===(r=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip)||void 0===r?void 0:r.renderer;return h?Cv(h({context:this.context,datum:a,yValue:s,xValue:l}),d):Cv(d)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(iG),rKe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oKe=Xi.isNumber,kee=oh.BandScale,aKe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rKe(t,n),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,r=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(i instanceof kee)i.range=[0,r.height],i.paddingInner=a,i.paddingOuter=o;else{var s=this.calculateStep(r.height),l=s*o;this.bandWidth=s*(1-a),i.range=[l,r.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,i=e.yScale,r=e.axis,o=e.axisLine,a=e.seriesRect,s=r.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=r.stroke,o.strokeWidth=s+(s%2==1?1:0);var l=i.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,r=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,c=e.stroke,u=e.strokeWidth,d=e.label;if(e.data){for(var h=d.fontStyle,p=d.fontWeight,f=d.fontSize,m=d.fontFamily,g=d.color,v=d.formatter,y=d.placement,_=[],b=s.convert(0),w=!(a instanceof kee),E=0,M=r.length;E<M;E++){var P=r[E],I=o[E],k=void 0===P;k&&(P=0);var $,L=a.convert(w?a.toDomain(I):I),B=Math.min(void 0===P?NaN:s.convert(P),b),Y=Math.max(void 0===P?NaN:s.convert(P),b),ne=w?this.bandWidth:a.bandwidth,fe=Y-B,W={x:b,y:L};$=v?v({value:P}):void 0!==P&&oKe(P)?this.formatLabelValue(P):"";var X=L+ne/2,ce=void 0,ke=void 0,Ae=void 0!==P&&P>=0;if(y===zo.Center)ce=B+fe/2,ke="center";else if(y===zo.OutsideEnd)ce=B+(Ae?fe+4:-4),ke=Ae?"start":"end";else if(y===zo.InsideEnd){ce=B+(Ae?fe-4:4),ke=Ae?"end":"start";var tn=re.HdpiCanvas.getTextSize($,m).width||20;(Ae&&ce<b+tn||!Ae&&ce>b-tn)&&(ce=b+4*(Ae?1:-1),ke=Ae?"start":"end")}else ce=b+4*(Ae?1:-1),ke=Ae?"start":"end";_.push({x:B,y:L,width:fe,height:ne,fill:l,stroke:c,strokeWidth:u,seriesDatum:{x:I,y:k?void 0:P},point:W,label:{x:ce,y:X,text:$,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,textAlign:ke,textBaseline:"middle",fill:g}})}return _}},t.prototype.getDistance=function(e,i){return Math.abs(e.y-i.y)},t.className="BarSparkline",t}(Fee),sKe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lKe=Xi.isNumber,Lee=oh.BandScale,cKe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return sKe(t,n),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,r=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(i instanceof Lee)i.range=[0,r.width],i.paddingInner=a,i.paddingOuter=o;else{var s=this.calculateStep(r.width),l=s*o;this.bandWidth=s*(1-a),i.range=[l,r.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,i=e.yScale,r=e.axis,o=e.axisLine,a=e.seriesRect,s=r.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=r.stroke,o.strokeWidth=s+(s%2==1?1:0);var l=i.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,r=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,c=e.stroke,u=e.strokeWidth,d=e.label;if(e.data){for(var h=d.fontStyle,p=d.fontWeight,f=d.fontSize,m=d.fontFamily,g=d.color,v=d.formatter,y=d.placement,_=[],b=s.convert(0),w=!(a instanceof Lee),E=0,M=r.length;E<M;E++){var P=r[E],I=o[E],k=void 0===P;k&&(P=0);var $,L=Math.min(void 0===P?NaN:s.convert(P),b),B=a.convert(w?a.toDomain(I):I),Y=Math.max(void 0===P?NaN:s.convert(P),b),ne=w?this.bandWidth:a.bandwidth,fe=Y-L,W={x:B+ne/2,y:b};$=v?v({value:P}):void 0!==P&&lKe(P)?this.formatLabelValue(P):"";var X=B+ne/2,ce=void 0,ke=void 0,Ae=void 0!==P&&P>=0;if(y===zo.Center)ce=L+fe/2,ke="middle";else if(y===zo.OutsideEnd)ce=L+(Ae?-2:fe+2),ke=Ae?"bottom":"top";else if(y===zo.InsideEnd){ce=L+(Ae?2:fe-2),ke=Ae?"top":"bottom";var tn=re.HdpiCanvas.getTextSize($,m).height||10;(Ae&&ce>b-tn||!Ae&&ce<b+tn)&&(ce=b+2*(Ae?-1:1),ke=Ae?"bottom":"top")}else ce=b+2*(Ae?-1:1),ke=Ae?"bottom":"top";_.push({x:B,y:L,width:ne,height:fe,fill:l,stroke:c,strokeWidth:u,seriesDatum:{x:I,y:k?void 0:P},point:W,label:{x:X,y:ce,text:$,fontStyle:h,fontWeight:p,fontSize:f,fontFamily:m,textAlign:"center",textBaseline:ke,fill:g}})}return _}},t.className="ColumnSparkline",t}(Fee),uKe=Xi.isNumber,dKe=function(){function n(){}return n.create=function(t,e){var i=function hKe(n){switch(void 0===n&&(n="line"),n){case"column":return new cKe;case"bar":return new aKe;case"area":return new Y6e;default:return new eKe}}((t=Xi.deepClone(t)).type);return e&&(i.tooltip=e),function fKe(n,t){lt(n,"context",t.context,t),lt(n,"width",t.width,t),lt(n,"height",t.height,t),lt(n,"container",t.container,t),lt(n,"xKey",t.xKey,t),lt(n,"yKey",t.yKey,t),t.padding&&function vKe(n,t){lt(n,"top",t.top,t),lt(n,"right",t.right,t),lt(n,"bottom",t.bottom,t),lt(n,"left",t.left,t)}(n.padding,t.padding),t.axis&&function _Ke(n,t){lt(n,"type",t.type,t),lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t)}(n.axis,t.axis),t.highlightStyle&&function CKe(n,t){lt(n,"fill",t.fill,t),lt(n,"size",t.size,t),lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t)}(n.highlightStyle,t.highlightStyle)}(i,t),function pKe(n,t){switch(t.type){case"bar":case"column":!function Nee(n,t){lt(n,"valueAxisDomain",t.valueAxisDomain,t),lt(n,"fill",t.fill,t),lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t),lt(n,"paddingInner",t.paddingInner,t),lt(n,"paddingOuter",t.paddingOuter,t),lt(n,"formatter",t.formatter,t),t.label&&function yKe(n,t){lt(n,"enabled",t.enabled,t),lt(n,"fontStyle",t.fontStyle,t),lt(n,"fontWeight",t.fontWeight,t),lt(n,"fontSize",t.fontSize,t),lt(n,"fontFamily",t.fontFamily,t),lt(n,"textAlign",t.textAlign,t),lt(n,"textBaseline",t.textBaseline,t),lt(n,"color",t.color,t),lt(n,"formatter",t.formatter,t),lt(n,"placement",t.placement,t)}(n.label,t.label)}(n,t);break;case"area":!function gKe(n,t){lt(n,"fill",t.fill,t),t.marker&&Vee(n.marker,t.marker),t.line&&Gee(n.line,t.line),t.crosshairs&&Bee(n.crosshairs,t.crosshairs)}(n,t);break;default:!function mKe(n,t){t.marker&&Vee(n.marker,t.marker),t.line&&Gee(n.line,t.line),t.crosshairs&&Bee(n.crosshairs,t.crosshairs)}(n,t)}}(i,t),t.data&&(i.data=t.data),i.processedOptions=t,i},n}();function Vee(n,t){lt(n,"enabled",t.enabled,t),lt(n,"size",t.size,t),lt(n,"shape",t.shape,t),lt(n,"fill",t.fill,t),lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t),lt(n,"formatter",t.formatter,t)}function Gee(n,t){lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t)}function Bee(n,t){n.xLine&&t.xLine&&Hee(n.xLine,t.xLine),n.yLine&&t.yLine&&Hee(n.yLine,t.yLine)}function Hee(n,t){lt(n,"enabled",t.enabled,t),lt(n,"stroke",t.stroke,t),lt(n,"strokeWidth",t.strokeWidth,t),lt(n,"lineDash",t.lineDash,t),lt(n,"lineCap",t.lineCap,t)}var jee={},Uee=function(n,t,e){if(uKe(t))return!0;var i="AG Charts: ".concat(n," must be a number, the value you provided is not a valid number. Using the default of ").concat(e,"px.");return function bKe(n,t){jee[t]||(n(),jee[t]=!0)}(function(){return console.warn(i)},"".concat(n," not a number")),!1},wKe={xOffset:Uee,yOffset:Uee};function lt(n,t,e,i){if(t in i)if(t in n){var r=wKe[t];(!r||r(t,e,n[t]))&&n[t]!==e&&(n[t]=e)}else console.warn("Property ".concat(t," does not exist on the target object."))}var SKe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nG=function(){return nG=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},nG.apply(this,arguments)},rG=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xKe=function(n){function t(){return n.call(this,t.TEMPLATE)||this}return SKe(t,n),t.prototype.init=function(e){var i=this,r=!0,a=this.resizeObserverService.observeResize(this.getGui(),function(){var s=i.getGui(),l=s.clientWidth,c=s.clientHeight;if(0!==l&&0!==c)if(r){var u=nG({data:e.value,width:l,height:c,context:{data:e.data}},e.sparklineOptions);i.sparkline=dKe.create(u,i.sparklineTooltipSingleton.getSparklineTooltip()),i.eSparkline.appendChild(i.sparkline.canvasElement),r=!1}else i.sparkline.width=l,i.sparkline.height=c});this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',rG([V("eSparkline")],t.prototype,"eSparkline",void 0),rG([C("resizeObserverService")],t.prototype,"resizeObserverService",void 0),rG([C("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(le),EKe=function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oG=function(n,t,e,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DKe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return EKe(t,n),t.prototype.postConstruct=function(){this.tooltip=new bv},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},oG([H],t.prototype,"postConstruct",null),oG([Mi],t.prototype,"destroyTooltip",null),oG([oe("sparklineTooltipSingleton")],t)}(z);const zee=[_Ne,ENe,V1e,VGe,YGe,T5e,I5e,J5e,r8e,iee,s8e,vq,Y8e,u6e,$L,M6e,P6e,{version:"31.1.1",moduleName:ie.SparklinesModule,beans:[DKe],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:xKe}],dependantModules:[ur]}];[P7,F7,ZE].concat(zee),Ze.registerModules(zee);let Wee=(()=>{class n{ngOnInit(){this.inputdata=this.data}constructor(e,i,r,o){this.data=e,this.ref=i,this.buildr=r,this.service=o,this.myform=this.buildr.group({token:this.buildr.control("")})}closepopup(){this.ref.close("Closed using function")}updateHandicap(){console.log("in update handicap..."+this.myform.value.token),this.service.updatePlayersHandicap(this.myform.value).subscribe(e=>{this.closepopup()}),this.closepopup()}}return n.\u0275fac=function(e){return new(e||n)(T(Wm),T(ap),T(Tm),T(sp))},n.\u0275cmp=we({type:n,selectors:[["app-ghin-sync"]],decls:13,vars:2,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","token","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(O(0,"form",0),se("ngSubmit",function(){return i.updateHandicap()}),O(1,"h1",1),F(2),A(),O(3,"div",2)(4,"mat-form-field",3)(5,"mat-label"),F(6,"Provide the access token so that we can access the ghin API to update the handicap"),A(),te(7,"input",4),A()(),O(8,"div",5)(9,"button",6),F(10,"Update"),A(),O(11,"a",7),se("click",function(){return i.closepopup()}),F(12,"Close"),A()()()),2&e&&(j("formGroup",i.myform),N(2),Ct(i.inputdata.title))},dependencies:[Kc,Fl,$c,b_,ja,kx,Lx,Nx,Rl,ia,Es,Ol,Ds,td],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:85%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}"]}),n})(),$ee=(()=>{class n{constructor(e,i,r,o){this.data=e,this.ref=i,this.buildr=r,this.service=o,this.closemessage="closed using directive",this.myform=this.buildr.group({id:this.buildr.control(""),fName:this.buildr.control(""),lName:this.buildr.control(""),ghinNumber:this.buildr.control(""),phone:this.buildr.control(""),email:this.buildr.control(""),nickName:this.buildr.control(""),chineseNickName:this.buildr.control(""),handicap:this.buildr.control(""),last3GameAvg:this.buildr.control(""),clubId:this.buildr.control(""),clubName:this.buildr.control(""),desc:this.buildr.control("")})}ngOnInit(){this.inputdata=this.data,console.log("userid==="+this.inputdata.userId),this.inputdata.userId>0&&(console.log("init form"),this.setpopupdata(this.inputdata.userId))}setpopupdata(e){this.service.getPlayerById(e).subscribe(i=>{this.editdata=i,this.myform.setValue({id:this.editdata.id,fName:this.editdata.fName,lName:this.editdata.lName,ghinNumber:this.editdata.ghinNumber,phone:this.editdata.phone,email:this.editdata.email,nickName:this.editdata.nickName,chineseNickName:this.editdata.chineseNickName,handicap:this.editdata.handicap,last3GameAvg:this.editdata.last3GameAvg,clubId:this.editdata.clubId,clubName:this.editdata.clubName,desc:this.editdata.desc})})}closepopup(){this.ref.close("Closed using function")}Edituser(){this.service.editPlayer(this.myform.value).subscribe(e=>{this.closepopup()})}}return n.\u0275fac=function(e){return new(e||n)(T(Wm),T(ap),T(Tm),T(sp))},n.\u0275cmp=we({type:n,selectors:[["app-edit-player"]],decls:71,vars:8,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["media","(min-width:0px)",3,"srcset"],["mat-card-image","","src","","alt","Golfer picture"],[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline"],["formControlName","id","matInput","","readonly",""],["formControlName","fName","matInput","","readonly",""],["formControlName","lName","matInput","","readonly",""],["formControlName","ghinNumber","matInput","","readonly",""],["formControlName","phone","matInput",""],["formControlName","email","matInput",""],["formControlName","nickName","matInput",""],["formControlName","chineseNickName","matInput",""],["formControlName","handicap","matInput",""],["formControlName","last3GameAvg","matInput",""],["formControlName","clubId","matInput",""],["formControlName","clubName","matInput",""],["mat-dialog-actions",""],["mat-raised-button","","type","submit","color","primary"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(O(0,"mat-card",0)(1,"mat-card-header"),te(2,"div",1),O(3,"mat-card-title"),F(4),A(),O(5,"mat-card-subtitle"),F(6),A()(),O(7,"picture"),te(8,"source",2)(9,"img",3),A(),O(10,"mat-card-content")(11,"p"),F(12),A()(),te(13,"mat-card-actions"),A(),O(14,"form",4),se("ngSubmit",function(){return i.Edituser()}),O(15,"h1",5),F(16),A(),O(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),F(20,"Golfer Id"),A(),te(21,"input",8),A(),O(22,"mat-form-field",7)(23,"mat-label"),F(24,"First Name"),A(),te(25,"input",9),A(),O(26,"mat-form-field",7)(27,"mat-label"),F(28,"Last Name"),A(),te(29,"input",10),A(),O(30,"mat-form-field",7)(31,"mat-label"),F(32,"Ghin Number"),A(),te(33,"input",11),A(),O(34,"mat-form-field",7)(35,"mat-label"),F(36,"Phone Number"),A(),te(37,"input",12),A(),O(38,"mat-form-field",7)(39,"mat-label"),F(40,"Email"),A(),te(41,"input",13),A(),O(42,"mat-form-field",7)(43,"mat-label"),F(44,"Nick Name"),A(),te(45,"input",14),A(),O(46,"mat-form-field",7)(47,"mat-label"),F(48,"Chinese Nick Name"),A(),te(49,"input",15),A(),O(50,"mat-form-field",7)(51,"mat-label"),F(52,"Handicap"),A(),te(53,"input",16),A(),O(54,"mat-form-field",7)(55,"mat-label"),F(56,"Last 3 Game Avg"),A(),te(57,"input",17),A(),O(58,"mat-form-field",7)(59,"mat-label"),F(60,"Club ID"),A(),te(61,"input",18),A(),O(62,"mat-form-field",7)(63,"mat-label"),F(64,"Club Name"),A(),te(65,"input",19),A()(),O(66,"div",20)(67,"button",21),F(68,"Save"),A(),O(69,"a",22),se("click",function(){return i.closepopup()}),F(70,"Close"),A()()()),2&e&&(N(4),ea("",i.editdata.chineseNickName," ",i.editdata.handicap,""),N(2),ea("",i.editdata.fName," ",i.editdata.lName,""),N(2),FS("srcset","../../../assets/",i.editdata.fName,".jpg"),N(4),He(" ",i.editdata.desc," "),N(2),j("formGroup",i.myform),N(2),Ct(i.inputdata.title))},dependencies:[Kc,Fl,$c,b_,ja,ad,Gm,Cx,sd,Bm,PI,S_,w_,kx,Lx,Nx,Rl,ia,Es,Ol,Ds,td],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:25%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.example-card[_ngcontent-%COMP%]{max-width:400px}.example-header-image[_ngcontent-%COMP%]{background-image:url(logo.eea169aeb062ab0e.jpg);background-size:cover}.example-card[_ngcontent-%COMP%]{margin:1%;width:400px;text-align:left;float:left}"]}),n})(),Kee=(()=>{class n extends r7{constructor(e){super("angular"),this._ngZone=e,this.isRunningWithinTestZone=!1,this.wrapIncoming=(i,r)=>this.runOutside(i,r),this.wrapOutgoing=i=>this.runInsideAngular(i),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(i,r)=>"resize-observer"===r?this._ngZone.runOutsideAngular(i):i():i=>this._ngZone.runOutsideAngular(i):i=>i()}get shouldWrapOutgoing(){return this._ngZone&&De.isInAngularZone()}isFrameworkComponent(e){if(!e)return!1;const i=e.prototype;return i&&"agInit"in i}runInsideAngular(e){return this._ngZone?this._ngZone.run(e):e()}runOutsideAngular(e,i){return this.runOutside(e,i)}}return n.\u0275fac=function(e){return new(e||n)(K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),Yee=(()=>{class n extends Pke{setViewContainerRef(e,i){this.viewContainerRef=e,this.angularFrameworkOverrides=i}createWrapper(e,i){let r=this.angularFrameworkOverrides,o=this,s=new class a extends OKe{init(c){r.runInsideAngular(()=>{super.init(c),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return r.runInsideAngular(()=>o.createComponent(e))}hasMethod(c){return null!=s.getFrameworkComponentInstance()[c]}callMethod(c,u){const d=this.getFrameworkComponentInstance();return r.runInsideAngular(()=>s.getFrameworkComponentInstance()[c].apply(d,u))}addMethod(c,u){s[c]=u}};return s}createComponent(e){return this.viewContainerRef.createComponent(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class OKe{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let aG=(()=>{class n{constructor(e,i,r,o){this.viewContainerRef=i,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=o,this._initialised=!1,this._destroyed=!1,this._fullyReady=vt.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new U,this.toolPanelSizeChanged=new U,this.columnMenuVisibleChanged=new U,this.cutStart=new U,this.cutEnd=new U,this.pasteStart=new U,this.pasteEnd=new U,this.columnVisible=new U,this.columnPinned=new U,this.columnResized=new U,this.columnMoved=new U,this.columnValueChanged=new U,this.columnPivotModeChanged=new U,this.columnPivotChanged=new U,this.columnGroupOpened=new U,this.newColumnsLoaded=new U,this.gridColumnsChanged=new U,this.displayedColumnsChanged=new U,this.virtualColumnsChanged=new U,this.columnEverythingChanged=new U,this.columnHeaderMouseOver=new U,this.columnHeaderMouseLeave=new U,this.columnHeaderClicked=new U,this.columnHeaderContextMenu=new U,this.componentStateChanged=new U,this.cellValueChanged=new U,this.cellEditRequest=new U,this.rowValueChanged=new U,this.cellEditingStarted=new U,this.cellEditingStopped=new U,this.rowEditingStarted=new U,this.rowEditingStopped=new U,this.undoStarted=new U,this.undoEnded=new U,this.redoStarted=new U,this.redoEnded=new U,this.rangeDeleteStart=new U,this.rangeDeleteEnd=new U,this.filterOpened=new U,this.filterChanged=new U,this.filterModified=new U,this.advancedFilterBuilderVisibleChanged=new U,this.chartCreated=new U,this.chartRangeSelectionChanged=new U,this.chartOptionsChanged=new U,this.chartDestroyed=new U,this.cellKeyDown=new U,this.gridReady=new U,this.gridPreDestroyed=new U,this.firstDataRendered=new U,this.gridSizeChanged=new U,this.modelUpdated=new U,this.virtualRowRemoved=new U,this.viewportChanged=new U,this.bodyScroll=new U,this.bodyScrollEnd=new U,this.dragStarted=new U,this.dragStopped=new U,this.stateUpdated=new U,this.paginationChanged=new U,this.rowDragEnter=new U,this.rowDragMove=new U,this.rowDragLeave=new U,this.rowDragEnd=new U,this.columnRowGroupChanged=new U,this.rowGroupOpened=new U,this.expandOrCollapseAll=new U,this.pinnedRowDataChanged=new U,this.rowDataUpdated=new U,this.asyncTransactionsFlushed=new U,this.storeRefreshed=new U,this.cellClicked=new U,this.cellDoubleClicked=new U,this.cellFocused=new U,this.cellMouseOver=new U,this.cellMouseOut=new U,this.cellMouseDown=new U,this.rowClicked=new U,this.rowDoubleClicked=new U,this.rowSelected=new U,this.selectionChanged=new U,this.cellContextMenu=new U,this.rangeSelectionChanged=new U,this.tooltipShow=new U,this.tooltipHide=new U,this.sortChanged=new U,this.columnRowGroupChangeRequest=new U,this.columnPivotChangeRequest=new U,this.columnValueChangeRequest=new U,this.columnAggFuncChangeRequest=new U,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const e=Zx.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const i=T7(this._nativeElement,e,this.gridParams);i&&(this.api=i,this.columnApi=new lC(i));const r=this.gridPreDestroyed;(r.observed??r.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,o=>o)})}ngOnChanges(e){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const i={};Object.entries(e).forEach(([r,o])=>{i[r]=o.currentValue}),Zx.processOnChange(i,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(e){const r=this[e],o=r?.observed??r?.observers?.length>0,a=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return o||!!this.gridOptions&&!!this.gridOptions[a]}globalEventListener(e,i){if(this._destroyed)return;const r=this[e];if(r&&this.isEmitterUsed(e)){const o=()=>this.angularFrameworkOverrides.runInsideAngular(()=>r.emit(i));"gridReady"===e?this._fullyReady.then(()=>o()):o()}}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Fi),T(Kee),T(Yee))},n.\u0275cmp=we({type:n,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[Ne([Kee,Yee]),ri,XO],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),RKe=(()=>{class n{constructor(e,i,r){this.service=e,this.router=i,this.dialog=r,this.players=[],this.colDefs=[{field:"id",headerName:"Golfer ID",flex:5,onCellClicked:o=>this.openEditPlayer(o)},{field:"fName",headerName:"First Name",flex:5,filter:!0},{field:"lName",headerName:"Last Name",flex:5,filter:!0},{field:"ghinNumber",headerName:"ghin Number",flex:5},{field:"phone",headerName:"Phone Number",flex:6},{field:"email",headerName:"Email",flex:7},{field:"nickName",headerName:"Nick Name",flex:5},{field:"chineseNickName",headerName:"Chinese Nick Name",flex:7},{field:"handicap",headerName:"Handicap",type:"numericColumn",flex:4,filter:!0},{field:"clubId",headerName:"Club ID",flex:4},{field:"clubName",headerName:"Club Name",flex:12,filter:!0},{field:"last3GameAvg",headerName:"last3GameAvg",flex:12,filter:!0}],this.defaultColDef={flex:10,minWidth:20}}ngOnInit(){this.service.getAllPlayer().subscribe({next:e=>{this.players=e}})}onAddUserClick(){this.dialog.open(JI,{width:"70%",height:"600px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Player @ Shi Yuan Club in Forsgate"}}).afterClosed().subscribe(i=>{this.service.getAllPlayer().subscribe({next:r=>{this.players=r}})})}onGridReady(e){this.gridApi=e.api,e.api.sizeColumnsToFit()}onGhinSyncClick(){console.log("in ghin sync..."),this.dialog.open(Wee,{width:"80%",height:"300px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Updating all players handicap"}}).afterClosed().subscribe(i=>{this.service.getAllPlayer().subscribe({next:r=>{this.players=r}})})}onUpdateLast3(){console.log("in  onUpdateLast3..."),this.service.updateLast3Score().subscribe(e=>{console.log("finished calling update last 3 score function."),this.service.getAllPlayer().subscribe({next:i=>{this.players=i}})})}openEditPlayer(e){console.log("edit player is clicked"+e.value),this.dialog.open($ee,{width:"60%",height:"800px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Edit player",userId:e.value}}).afterClosed().subscribe(r=>{this.service.getAllPlayer().subscribe({next:o=>{this.players=o}})})}}return n.\u0275fac=function(e){return new(e||n)(T(sp),T(kr),T(D_))},n.\u0275cmp=we({type:n,selectors:[["app-player"]],decls:12,vars:3,consts:[[2,"margin-left","60%"],["mat-raised-button","","color","grey","type","button",3,"click"],[1,"ag-theme-quartz",2,"height","1400px","width","90%",3,"defaultColDef","rowData","columnDefs"]],template:function(e,i){1&e&&(O(0,"div")(1,"div",0)(2,"button",1),se("click",function(){return i.onGhinSyncClick()}),F(3,"GHIN Sync"),A(),F(4," \xa0\xa0\xa0 "),O(5,"button",1),se("click",function(){return i.onUpdateLast3()}),F(6,"UpdateLast3"),A(),F(7," \xa0\xa0\xa0 "),O(8,"button",1),se("click",function(){return i.onAddUserClick()}),F(9,"Add Player(+)"),A()(),O(10,"ag-grid-angular",2),F(11,' (gridReady)="onGridReady($event)" [pagination]="true" '),A()()),2&e&&(N(10),j("defaultColDef",i.defaultColDef)("rowData",i.players)("columnDefs",i.colDefs))},dependencies:[ja,aG],styles:[".ag-theme-quartz[_ngcontent-%COMP%]{ag-odd-row-background-color:#E04F00}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-row-odd[_ngcontent-%COMP%]{background-color:#e04f00}.ag-theme-quartz[_ngcontent-%COMP%]{--ag-header-height: 30px;--ag-header-foreground-color: white;--ag-header-background-color: rgb(25, 56, 192);--ag-header-cell-hover-background-color: rgb(80, 40, 140);--ag-header-cell-moving-background-color: rgb(80, 40, 140)}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{font-family:cursive}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-group-cell[_ngcontent-%COMP%]{font-weight:400;font-size:22px}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{font-size:18px}"]}),n})();function PKe(n,t){if(1&n){const e=Ei();O(0,"form",11)(1,"input",12),se("ngModelChange",function(r){return ut(e),dt(de().available.picker=r)})("ngModelChange",function(){ut(e);const r=de();return dt(r.onFilter(r.available))}),A()()}if(2&n){const e=de();N(1),j("ngModel",e.available.picker)}}const qee=function(n,t){return{selected:n,disabled:t}};function IKe(n,t){if(1&n){const e=Ei();O(0,"li",13),se("click",function(r){const o=ut(e),a=o.$implicit,s=o.index,l=de();return l.disabled||l.selectItem(l.available.pick,a),dt(l.shiftClick(r,s,l.available,a))})("dragstart",function(r){const a=ut(e).$implicit,s=de();return dt(s.drag(r,a,s.available))})("dragend",function(){ut(e);const r=de();return dt(r.dragEnd(r.available))}),O(1,"label"),F(2),A()()}if(2&n){const e=t.$implicit,i=de();j("ngClass",zu(3,qee,i.isItemSelected(i.available.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),N(2),Ct(e._name)}}function FKe(n,t){if(1&n){const e=Ei();O(0,"form",11)(1,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().confirmed.picker=r)})("ngModelChange",function(){ut(e);const r=de();return dt(r.onFilter(r.confirmed))}),A()()}if(2&n){const e=de();N(1),j("ngModel",e.confirmed.picker)}}function kKe(n,t){if(1&n){const e=Ei();O(0,"li",13,15),se("click",function(r){const o=ut(e),a=o.$implicit,s=o.index,l=de();return l.disabled||l.selectItem(l.confirmed.pick,a),dt(l.shiftClick(r,s,l.confirmed,a))})("dragstart",function(r){const a=ut(e).$implicit,s=de();return dt(s.drag(r,a,s.confirmed))})("dragend",function(){ut(e);const r=de();return dt(r.dragEnd(r.confirmed))}),O(2,"label"),F(3),A()()}if(2&n){const e=t.$implicit,i=de();j("ngClass",zu(3,qee,i.isItemSelected(i.confirmed.pick,e),i.disabled))("draggable",!i.disabled&&i.format.draggable),N(3),Ct(e._name)}}const Xee=function(n,t){return{order:n,"margin-left":t}},Zee=function(n,t){return{"max-height":n,"min-height":t}},Qee=function(n){return{over:n}};class gM{constructor(t){this._name=t,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}var LKe=0;class Ri{constructor(t){this.differs=t,this.id="dual-list-"+LKe++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=Ri.DEFAULT_FORMAT,this.sort=!1,this.disabled=!1,this.destinationChange=new U,this.sorter=(e,i)=>e._name<i._name?-1:e._name>i._name?1:0,this.available=new gM(Ri.AVAILABLE_LIST_NAME),this.confirmed=new gM(Ri.CONFIRMED_LIST_NAME)}ngOnChanges(t){t.filter&&!1===t.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),t.sort&&(!0===t.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===t.sort.currentValue&&(this.compare=void 0)),t.format&&(this.format=t.format.currentValue,typeof this.format.direction>"u"&&(this.format.direction=Ri.LTR),typeof this.format.add>"u"&&(this.format.add=Ri.DEFAULT_FORMAT.add),typeof this.format.remove>"u"&&(this.format.remove=Ri.DEFAULT_FORMAT.remove),typeof this.format.all>"u"&&(this.format.all=Ri.DEFAULT_FORMAT.all),typeof this.format.none>"u"&&(this.format.none=Ri.DEFAULT_FORMAT.none),typeof this.format.draggable>"u"&&(this.format.draggable=Ri.DEFAULT_FORMAT.draggable)),t.source&&(this.available=new gM(Ri.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),t.destination&&(this.confirmed=new gM(Ri.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(t){const e=this.sourceDiffer.diff(t);return!!e&&(e.forEachRemovedItem(i=>{const r=this.findItemIndex(this.available.list,i.item,this.key);-1!==r&&this.available.list.splice(r,1)}),e.forEachAddedItem(i=>{-1===this.findItemIndex(this.available.list,i.item,this.key)&&this.available.list.push({_id:this.makeId(i.item),_name:this.makeName(i.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(t){let e=!1;const i=this.destinationDiffer.diff(t);return!!i&&(i.forEachRemovedItem(r=>{const o=this.findItemIndex(this.confirmed.list,r.item,this.key);-1!==o&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[o])||this.selectItem(this.confirmed.pick,this.confirmed.list[o]),this.moveItem(this.confirmed,this.available,this.confirmed.list[o],!1),e=!0)}),i.forEachAddedItem(r=>{const o=this.findItemIndex(this.available.list,r.item,this.key);-1!==o&&(this.isItemSelected(this.available.pick,this.available.list[o])||this.selectItem(this.available.pick,this.available.list[o]),this.moveItem(this.available,this.confirmed,this.available.list[o],!1),e=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,e&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create(null))}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create(null))}direction(){return this.format.direction===Ri.LTR}dragEnd(t=null){return t?t.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(t,e,i){this.isItemSelected(i.pick,e)||this.selectItem(i.pick,e),i.dragStart=!0,t.dataTransfer.setData(this.id,e._id)}allowDrop(t,e){return t.dataTransfer.types.length&&t.dataTransfer.types[0]===this.id&&(t.preventDefault(),e.dragStart||(e.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(t,e){t.dataTransfer.types.length&&t.dataTransfer.types[0]===this.id&&(t.preventDefault(),this.dragLeave(),this.dragEnd(),e===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let t=!1,e=this.destination.length;for(;(e-=1)>=0;)0===this.confirmed.list.filter(r=>"object"==typeof this.destination[e]?r._id===this.destination[e][this.key]:r._id===this.destination[e]).length&&(this.destination.splice(e,1),t=!0);for(let i=0,r=this.confirmed.list.length;i<r;i+=1){let o=this.destination.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[i]._id:a===this.confirmed.list[i]._id);0===o.length&&(o=this.source.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[i]._id:a===this.confirmed.list[i]._id),o.length>0&&(this.destination.push(o[0]),t=!0))}t&&this.destinationChange.emit(this.destination)}findItemIndex(t,e,i="_id"){let r=-1;return t.filter("object"==typeof e?function o(s){return s._id===e[i]&&(r=t.indexOf(s),!0)}:function a(s){return s._id===e&&(r=t.indexOf(s),!0)}),r}makeUnavailable(t,e){const i=t.list.indexOf(e);-1!==i&&t.list.splice(i,1)}moveItem(t,e,i=null,r=!0){let o=0,a=t.pick.length;for(i&&(o=t.list.indexOf(i),a=o+1);o<a;o+=1){let s=[];if(i){const l=this.findItemIndex(t.pick,i);-1!==l&&(s[0]=t.pick[l])}else s=t.list.filter(l=>l._id===t.pick[o]._id);1===s.length&&(0===e.list.filter(l=>l._id===s[0]._id).length&&e.list.push(s[0]),this.makeUnavailable(t,s[0]))}void 0!==this.compare&&e.list.sort(this.compare),t.pick.length=0,r&&this.trueUp(),setTimeout(()=>{this.onFilter(t),this.onFilter(e)},10)}isItemSelected(t,e){return t.filter(i=>Object.is(i,e)).length>0}shiftClick(t,e,i,r){if(t.shiftKey&&i.last&&!Object.is(r,i.last)){const o=i.sift.indexOf(i.last);if(e>o)for(let a=o+1;a<e;a+=1)this.selectItem(i.pick,i.sift[a]);else if(-1!==o)for(let a=e+1;a<o;a+=1)this.selectItem(i.pick,i.sift[a])}i.last=r}selectItem(t,e){const i=t.filter(r=>Object.is(r,e));if(i.length>0)for(let r=0,o=i.length;r<o;r+=1){const a=t.indexOf(i[r]);-1!==a&&t.splice(a,1)}else t.push(e)}selectAll(t){t.pick.length=0,t.pick=t.sift.slice(0)}selectNone(t){t.pick.length=0}isAllSelected(t){return 0===t.list.length||t.list.length===t.pick.length}isAnySelected(t){return t.pick.length>0}unpick(t){for(let e=t.pick.length-1;e>=0;e-=1)-1===t.sift.indexOf(t.pick[e])&&t.pick.splice(e,1)}clearFilter(t){t&&(t.picker="",this.onFilter(t))}onFilter(t){if(t.picker.length>0)try{const e=t.list.filter(i=>"[object Object]"===Object.prototype.toString.call(i)?void 0!==i._name?-1!==i._name.toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(i).toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)):-1!==i.toLocaleLowerCase(this.format.locale).indexOf(t.picker.toLocaleLowerCase(this.format.locale)));t.sift=e,this.unpick(t)}catch(e){e instanceof RangeError&&(this.format.locale=void 0),t.sift=t.list}else t.sift=t.list}makeId(t){return"object"==typeof t?t[this.key]:t}makeName(t,e="_"){const i=this.display;function r(a){switch(Object.prototype.toString.call(a)){case"[object Number]":case"[object String]":return a;default:return void 0!==a?a[i]:"undefined"}}let o="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":o=this.display(t);break;case"[object Array]":for(let a=0,s=this.display.length;a<s;a+=1)if(o.length>0&&(o+=e),-1===this.display[a].indexOf("."))o+=t[this.display[a]];else{const l=this.display[a].split("."),c=t[l[0]];if(c)if(-1!==l[1].indexOf("substring")){const u=l[1].substring(l[1].indexOf("(")+1,l[1].indexOf(")")).split(",");switch(u.length){case 1:o+=c.substring(parseInt(u[0],10));break;case 2:o+=c.substring(parseInt(u[0],10),parseInt(u[1],10));break;default:o+=c}}else o+=c}break;default:o=r(t)}else o=r(t);return o}}Ri.AVAILABLE_LIST_NAME="available",Ri.CONFIRMED_LIST_NAME="confirmed",Ri.LTR="left-to-right",Ri.RTL="right-to-left",Ri.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:Ri.LTR,draggable:!0,locale:void 0},Ri.\u0275fac=function(t){return new(t||Ri)(T(Dl))},Ri.\u0275cmp=we({type:Ri,selectors:[["dual-list"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[ri],decls:25,vars:40,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button",1,"btn","btn-primary","pull-left",3,"disabled","click"],["type","button",1,"btn","btn-default","pull-right",3,"disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(t,e){1&t&&(O(0,"div",0)(1,"div",1)(2,"button",2),se("click",function(){return e.moveItem(e.available,e.confirmed)}),F(3),A(),ue(4,PKe,2,1,"form",3),O(5,"div",4)(6,"ul",5),se("drop",function(r){return e.drop(r,e.confirmed)})("dragover",function(r){return e.allowDrop(r,e.available)})("dragleave",function(){return e.dragLeave()}),ue(7,IKe,3,6,"li",6),A()(),O(8,"div",7)(9,"button",8),se("click",function(){return e.selectAll(e.available)}),F(10),A(),O(11,"button",9),se("click",function(){return e.selectNone(e.available)}),F(12),A()()(),O(13,"div",1)(14,"button",10),se("click",function(){return e.moveItem(e.confirmed,e.available)}),F(15),A(),ue(16,FKe,2,1,"form",3),O(17,"div",4)(18,"ul",5),se("drop",function(r){return e.drop(r,e.available)})("dragover",function(r){return e.allowDrop(r,e.confirmed)})("dragleave",function(){return e.dragLeave()}),ue(19,kKe,4,6,"li",6),A()(),O(20,"div",7)(21,"button",8),se("click",function(){return e.selectAll(e.confirmed)}),F(22),A(),O(23,"button",9),se("click",function(){return e.selectNone(e.confirmed)}),F(24),A()()()()),2&t&&(N(1),j("ngStyle",zu(24,Xee,e.direction()?1:2,e.direction()?0:"10px")),N(1),j("ngClass",e.direction()?"point-right":"point-left")("disabled",0===e.available.pick.length),N(1),Ct(e.format.add),N(1),j("ngIf",e.filter),N(2),j("ngStyle",zu(27,Zee,e.height,e.height))("ngClass",jS(30,Qee,e.available.dragOver)),N(1),j("ngForOf",e.available.sift),N(2),j("disabled",e.disabled||e.isAllSelected(e.available)),N(1),Ct(e.format.all),N(1),j("disabled",!e.isAnySelected(e.available)),N(1),Ct(e.format.none),N(1),j("ngStyle",zu(32,Xee,e.direction()?2:1,e.direction()?"10px":0)),N(1),j("ngClass",e.direction()?"point-left":"point-right")("disabled",0===e.confirmed.pick.length),N(1),Ct(e.format.remove),N(1),j("ngIf",e.filter),N(2),j("ngStyle",zu(35,Zee,e.height,e.height))("ngClass",jS(38,Qee,e.confirmed.dragOver)),N(1),j("ngForOf",e.confirmed.sift),N(2),j("disabled",e.disabled||e.isAllSelected(e.confirmed)),N(1),Ct(e.format.all),N(1),j("disabled",!e.isAnySelected(e.confirmed)),N(1),Ct(e.format.none))},dependencies:[Yu,Ba,Zr,lW,Rl,ia,Es,Ol,Dm,ed],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']});let NKe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[yr,z$]}),n})();class VKe{constructor(){this.player=[],this.teeList=[]}}class Jee{constructor(){this.teamA=[],this.teamB=[]}}let GKe=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Te(e)}get inset(){return this._inset}set inset(e){this._inset=Te(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(je("aria-orientation",i.vertical?"vertical":"horizontal"),Be("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),BKe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,ht]}),n})();function HKe(n,t){}const jKe=function(n){return{animationDuration:n}},UKe=function(n,t){return{value:n,params:t}};function zKe(n,t){1&n&&Ge(0)}const ete=["*"],WKe=["tabListContainer"],$Ke=["tabList"],KKe=["tabListInner"],YKe=["nextPaginator"],qKe=["previousPaginator"],XKe=["tabBodyWrapper"],ZKe=["tabHeader"];function QKe(n,t){}function JKe(n,t){1&n&&ue(0,QKe,0,0,"ng-template",14),2&n&&j("cdkPortalOutlet",de().$implicit.templateLabel)}function eYe(n,t){1&n&&F(0),2&n&&Ct(de().$implicit.textLabel)}function tYe(n,t){if(1&n){const e=Ei();O(0,"div",6,7),se("click",function(){const r=ut(e),o=r.$implicit,a=r.index,s=de(),l=rn(1);return dt(s._handleClick(o,l,a))})("cdkFocusChange",function(r){const a=ut(e).index;return dt(de()._tabFocusChanged(r,a))}),te(2,"span",8)(3,"div",9),O(4,"span",10)(5,"span",11),ue(6,JKe,1,1,"ng-template",12),ue(7,eYe,1,1,"ng-template",null,13,sm),A()()()}if(2&n){const e=t.$implicit,i=t.index,r=rn(1),o=rn(8),a=de();Be("mdc-tab--active",a.selectedIndex===i),j("id",a._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",a.fitInkBarToContent),je("tabIndex",a._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),N(3),j("matRippleTrigger",r)("matRippleDisabled",e.disabled||a.disableRipple),N(3),j("ngIf",e.templateLabel)("ngIfElse",o)}}function iYe(n,t){if(1&n){const e=Ei();O(0,"mat-tab-body",15),se("_onCentered",function(){return ut(e),dt(de()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return ut(e),dt(de()._setTabBodyWrapperHeight(r))}),A()}if(2&n){const e=t.$implicit,i=t.index,r=de();Be("mat-mdc-tab-body-active",r.selectedIndex===i),j("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),je("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const nYe={translateTab:Kn("translateTab",[vi("center, void, left-origin-center, right-origin-center",ze({transform:"none"})),vi("left",ze({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vi("right",ze({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Jt("* => left, * => right, left => center, right => center",oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Jt("void => left-origin-center",[ze({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Jt("void => right-origin-center",[ze({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),oi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let rYe=(()=>{class n extends od{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=Rt.EMPTY,this._leavingSub=Rt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(_r(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(T(Ih),T(Fi),T(It(()=>tte)),T(tt))},n.\u0275dir=Z({type:n,selectors:[["","matTabBodyHost",""]],features:[me]}),n})(),oYe=(()=>{class n{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Rt.EMPTY,this._translateTabComplete=new Oe,this._onCentering=new U,this._beforeCentering=new U,this._afterLeavingCenter=new U,this._onCentered=new U(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Ov((o,a)=>o.fromState===a.fromState&&o.toState===a.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(an,8),T(Ft))},n.\u0275dir=Z({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),tte=(()=>{class n extends oYe{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(an,8),T(Ft))},n.\u0275cmp=we({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&Xe(od,5),2&e){let r;ye(r=_e())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[me],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(O(0,"div",0,1),se("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),ue(2,HKe,0,0,"ng-template",2),A()),2&e&&j("@translateTab",zu(3,UKe,i._position,jS(1,jKe,i.animationDuration)))},dependencies:[rYe],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[nYe.translateTab]}}),n})();const aYe=new J("MatTabContent");let sYe=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(T(Gi))},n.\u0275dir=Z({type:n,selectors:[["","matTabContent",""]],features:[Ne([{provide:aYe,useExisting:n}])]}),n})();const lYe=new J("MatTabLabel"),ite=new J("MAT_TAB");let nte=(()=>{class n extends Dbe{constructor(e,i,r){super(e,i),this._closestTab=r}}return n.\u0275fac=function(e){return new(e||n)(T(Gi),T(Fi),T(ite,8))},n.\u0275dir=Z({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ne([{provide:lYe,useExisting:n}]),me]}),n})();const sG="mdc-tab-indicator--active",rte="mdc-tab-indicator--no-transition";class cYe{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){const e=this._items.find(r=>r.elementRef.nativeElement===t),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}function uYe(n){return class extends n{constructor(...t){super(...t),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){const e=Te(t);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const e=this.elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(sG);const i=e.getBoundingClientRect(),r=t.width/i.width,o=t.left-i.left;e.classList.add(rte),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),e.getBoundingClientRect(),e.classList.remove(rte),e.classList.add(sG),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(sG)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=t.createElement("span"),this._inkBarContentElement=t.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const hYe=nd(class{}),pYe=uYe((()=>{class n extends hYe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(T(Se))},n.\u0275dir=Z({type:n,features:[me]}),n})());let ote=(()=>{class n extends pYe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(je("aria-disabled",!!i.disabled),Be("mat-mdc-tab-disabled",i.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[me]}),n})();const fYe=nd(class{}),ate=new J("MAT_TAB_GROUP");let mYe=(()=>{class n extends fYe{get content(){return this._contentPortal}constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Oe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Nm(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(T(Fi),T(ate,8))},n.\u0275dir=Z({type:n,viewQuery:function(e,i){if(1&e&&Xe(Gi,7),2&e){let r;ye(r=_e())&&(i._implicitContent=r.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[me,ri]}),n})(),ste=(()=>{class n extends mYe{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,sYe,7,Gi),Tt(r,nte,5)),2&e){let o;ye(o=_e())&&(i._explicitContent=o.first),ye(o=_e())&&(i.templateLabel=o.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Ne([{provide:ite,useExisting:n}]),me],ngContentSelectors:ete,decls:1,vars:0,template:function(e,i){1&e&&(Zt(),ue(0,zKe,1,0,"ng-template"))},encapsulation:2}),n})();const lte=Ts({passive:!0});let yYe=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Te(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=gi(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,i,r,o,a,s,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=a,this._platform=s,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Oe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Oe,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new U,this.indexFocused=new U,a.runOutsideAngular(()=>{Ms(e.nativeElement,"mouseleave").pipe(Dt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ms(this._previousPaginator.nativeElement,"touchstart",lte).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ms(this._nextPaginator.nativeElement,"touchstart",lte).pipe(Dt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Ve("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new x5(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(_i(1)).subscribe(r),nn(e,i,this._items.changes,this._itemsResized()).pipe(Dt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Oa:this._items.changes.pipe(_r(this._items),mr(e=>new pi(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),rI(1),ui(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Dn(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement;let s,l;"ltr"==this._getLayoutDirection()?(s=o,l=s+a):(l=this._tabListInner.nativeElement.offsetWidth-o,s=l-a);const c=this.scrollDistance,u=this.scrollDistance+r;s<c?this.scrollDistance-=c-s:l>u&&(this.scrollDistance+=Math.min(l-u,s-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),_I(650,100).pipe(Dt(nn(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(Yc),T(an,8),T(De),T(Qt),T(Ii,8))},n.\u0275dir=Z({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),_Ye=(()=>{class n extends yYe{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Te(e)}constructor(e,i,r,o,a,s,l){super(e,i,r,o,a,s,l),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(Yc),T(an,8),T(De),T(Qt),T(Ii,8))},n.\u0275dir=Z({type:n,inputs:{disableRipple:"disableRipple"},features:[me]}),n})(),CYe=(()=>{class n extends _Ye{constructor(e,i,r,o,a,s,l){super(e,i,r,o,a,s,l)}ngAfterContentInit(){this._inkBar=new cYe(this._items),super.ngAfterContentInit()}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(Yc),T(an,8),T(De),T(Qt),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,ote,4),2&e){let o;ye(o=_e())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(Xe(WKe,7),Xe($Ke,7),Xe(KKe,7),Xe(YKe,5),Xe(qKe,5)),2&e){let r;ye(r=_e())&&(i._tabListContainer=r.first),ye(r=_e())&&(i._tabList=r.first),ye(r=_e())&&(i._tabListInner=r.first),ye(r=_e())&&(i._nextPaginator=r.first),ye(r=_e())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&Be("mat-mdc-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[me],ngContentSelectors:ete,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(Zt(),O(0,"button",0,1),se("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),te(2,"div",2),A(),O(3,"div",3,4),se("keydown",function(o){return i._handleKeydown(o)}),O(5,"div",5,6),se("cdkObserveContent",function(){return i._onContentChanges()}),O(7,"div",7,8),Ge(9),A()()(),O(10,"button",9,10),se("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),te(12,"div",2),A()),2&e&&(Be("mat-mdc-tab-header-pagination-disabled",i._disableScrollBefore),j("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),N(3),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode),N(7),Be("mat-mdc-tab-header-pagination-disabled",i._disableScrollAfter),j("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[zc,oI],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2}),n})();const cte=new J("MAT_TABS_CONFIG");let bYe=0;const wYe=Qh(Jh(class{constructor(n){this._elementRef=n}}),"primary");let SYe=(()=>{class n extends wYe{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Te(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=gi(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=gi(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=Te(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=Te(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Vh,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Rt.EMPTY,this._tabLabelSubscription=Rt.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new U,this.focusChange=new U,this.animationDone=new U,this.selectedTabChange=new U(!0),this._groupId=bYe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(_r(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new EYe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=nn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(cte,8),T(Ii,8))},n.\u0275dir=Z({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[me]}),n})(),xYe=(()=>{class n extends SYe{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=Te(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=Te(e)}constructor(e,i,r,o){super(e,i,r,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Ft),T(cte,8),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,ste,5),2&e){let o;ye(o=_e())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(Xe(XKe,5),Xe(ZKe,5)),2&e){let r;ye(r=_e())&&(i._tabBodyWrapper=r.first),ye(r=_e())&&(i._tabHeader=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(e,i){2&e&&(Yr("--mat-tab-animation-duration",i.animationDuration),Be("mat-mdc-tab-group-dynamic-height",i.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===i.headerPosition)("mat-mdc-tab-group-stretch-tabs",i.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Ne([{provide:ate,useExisting:n}]),me],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(O(0,"mat-tab-header",0,1),se("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),ue(2,tYe,9,17,"div",2),A(),O(3,"div",3,4),ue(5,iYe,1,11,"mat-tab-body",5),A()),2&e&&(j("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),N(2),j("ngForOf",i._tabs),N(1),Be("_mat-animation-noopable","NoopAnimations"===i._animationMode),N(2),j("ngForOf",i._tabs))},dependencies:[Yu,Ba,Zr,od,zc,O5,tte,ote,CYe],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-letter-spacing);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2}),n})();class EYe{}let DYe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[yr,ht,Vm,rd,tx,c_,ht]}),n})();const ute=["*"];class MYe{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new AYe(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class AYe{constructor(t,e){this.row=t,this.col=e}}const dte=new J("MAT_GRID_LIST");let lG=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(gi(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(gi(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(dte,8))},n.\u0275cmp=we({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&je("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:ute,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(Zt(),O(0,"div",0),Ge(1),A())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const OYe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class cG{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=hte(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":ff(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",ff(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class RYe extends cG{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=hte(this.fixedRowHeight),OYe.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",ff(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",ff(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class PYe extends cG{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",ff(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",ff(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class IYe extends cG{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",ff(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function ff(n){return`calc(${n})`}function hte(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let pte=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(gi(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new IYe:e&&e.indexOf(":")>-1?new PYe(e):new RYe(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new MYe);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,a)=>{const s=e.positions[a];this._tileStyler.setStyle(o,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(an,8))},n.\u0275cmp=we({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,lG,5),2&e){let o;ye(o=_e())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&je("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Ne([{provide:dte,useExisting:n}])],ngContentSelectors:ute,decls:2,vars:0,template:function(e,i){1&e&&(Zt(),O(0,"div"),Ge(1),A())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),kYe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[G5,ht,G5,ht]}),n})();function LYe(n,t){1&n&&(O(0,"mat-icon",33),F(1,"calendar_month"),A(),F(2," Setup Event and Pick users \u5efa\u7acb\u6bd4\u8d5b "))}function NYe(n,t){1&n&&(O(0,"mat-icon",33),F(1,"sports_golf"),A(),F(2," Grouping Assignment \u6bd4\u8d5b\u5206\u7ec4 "))}function VYe(n,t){if(1&n&&(O(0,"div"),te(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teamA[0].fName,".jpg');"),N(3),ea("",e.teamA[0].fName," ",e.teamA[0].lName,""),N(2),Ct(e.teamA[0].chineseNickName),N(2),He("handicap: ",e.teamA[0].handicap,""),N(2),He("Latest 3 Avg: ",e.teamA[0].last3GameAvg,"")}}function GYe(n,t){if(1&n&&(O(0,"div"),te(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teamB[0].fName,".jpg');"),N(3),ea("",e.teamB[0].fName," ",e.teamB[0].lName,""),N(2),Ct(e.teamB[0].chineseNickName),N(2),He("handicap: ",e.teamB[0].handicap,""),N(2),He("Latest 3 Avg: ",e.teamB[0].last3GameAvg,"")}}function BYe(n,t){1&n&&te(0,"div",45),2&n&&Ic(" background-image: url('../../../assets/",de(2).$implicit.teamA[1].fName,".jpg');")}function HYe(n,t){if(1&n&&(O(0,"div"),ue(1,BYe,1,3,"div",47),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&n){const e=de().$implicit;N(1),j("ngIf",e.teamA[1]),N(3),ea("",e.teamA[1].fName," ",e.teamA[1].lName,""),N(2),Ct(e.teamA[1].chineseNickName),N(2),He("handicap: ",e.teamA[1].handicap,""),N(2),He("Latest 3 Avg: ",e.teamA[1].last3GameAvg,"")}}function jYe(n,t){if(1&n&&(O(0,"div"),te(1,"div",45),O(2,"div")(3,"h4",46),F(4),A(),O(5,"h4",46),F(6),A(),O(7,"h5",46),F(8),A(),O(9,"h5",46),F(10),A()()()),2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teamB[1].fName,".jpg');"),N(3),ea("",e.teamB[1].fName," ",e.teamB[1].lName,""),N(2),Ct(e.teamB[1].chineseNickName),N(2),He("handicap: ",e.teamB[1].handicap,""),N(2),He("Latest 3 Avg: ",e.teamB[1].last3GameAvg,"")}}function UYe(n,t){if(1&n){const e=Ei();O(0,"mat-card",36)(1,"mat-card-header"),te(2,"div",37),O(3,"mat-card-title"),F(4),A(),O(5,"mat-card-subtitle"),F(6),A()(),O(7,"mat-card-content")(8,"div",38)(9,"label"),F(10,"Teetime:"),A(),O(11,"input",39),se("ngModelChange",function(r){return dt(ut(e).$implicit.teeTime=r)}),A()(),O(12,"mat-grid-list",40)(13,"mat-grid-tile")(14,"div")(15,"h2",41),F(16,"Team A - \u7ea2\u961f\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(17,"h5",41),F(18),A(),O(19,"h5",41),F(20),A()()(),O(21,"mat-grid-tile")(22,"div")(23,"h2",41),F(24,"Team B - \u84dd\u961f\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(25,"h5",41),F(26),A(),O(27,"h5",41),F(28),A()()(),O(29,"mat-grid-tile",42),ue(30,VYe,11,8,"div",43),A(),O(31,"mat-grid-tile",44),ue(32,GYe,11,8,"div",43),A(),O(33,"mat-grid-tile",42),ue(34,HYe,11,6,"div",43),A(),O(35,"mat-grid-tile",44),ue(36,jYe,11,8,"div",43),A()()(),te(37,"mat-card-actions"),A()}if(2&n){const e=t.$implicit,i=de(2);N(4),He("Tee # ",e.teeName,""),N(2),He("event date: ",i.eventDate," "),N(5),j("ngModel",e.teeTime),N(2),Yr("background","Tomato"),N(5),He("Handicap: ",e.teamAavghandicap,""),N(2),He("Latest 3 Score: ",e.teamAavgScore,""),N(1),Yr("background","DeepSkyBlue"),N(5),He("Handicap: ",e.teamBavghandicap,""),N(2),He("Latest 3 Score: ",e.teamBavgScore,""),N(2),j("ngIf",e.teamA[0]),N(2),j("ngIf",e.teamB[0]),N(2),j("ngIf",e.teamA[1]),N(2),j("ngIf",e.teamB[1])}}function zYe(n,t){if(1&n&&(O(0,"div",34),ue(1,UYe,38,15,"mat-card",35),A()),2&n){const e=de();N(1),j("ngForOf",e.teeList)}}let WYe=(()=>{class n{constructor(e,i,r){this.service=e,this.builder=i,this.router=r,this.groupingMethod=1,this.tab=1,this.keepSorted=!0,this.key="",this.display=[],this.filter=!1,this.source=[],this.confirmed=[],this.sortedPlayers=[],this.userAdd="",this.disabled=!1,this.season="2024",this.eventName="",this.eventDesc="",this.course="",this.eventNameShow="",this.eventDate="",this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0,this.isSubmitted=!1,this.event1=new VKe,this.sourceLeft=!0,this.format=Ri.DEFAULT_FORMAT,this.sourcePlayers=[],this.confirmedPlayers=[],this.players=[],this.numberOfTees=1,this.totalNumberOfTees=0,this.teeList=[],this.eventForm=this.builder.group({eventName:this.builder.control(this.eventNameShow),eventDesc:this.builder.control("test"),season:this.builder.control(""),course:this.builder.control(""),groupMethod:this.builder.control("")}),this.manualTeeList=[]}ngOnInit(){this.doReset(),this.event1.eventName="test"}usePlayers(){this.key="id",this.display=["fName","lName","chineseNickName"],this.keepSorted=!0,this.source=this.sourcePlayers,this.confirmed=this.confirmedPlayers}doReset(){console.log("in doreset"),this.service.getAllPlayer().subscribe({next:e=>{this.players=e,console.log("players=="+this.players),this.sourcePlayers=this.players,this.confirmedPlayers=new Array,this.usePlayers()}})}filterBtn(){return this.filter?"Hide Filter":"Show Filter"}doDisable(){this.disabled=!this.disabled}disableBtn(){return this.disabled?"Enable":"Disabled"}swapDirection(){this.sourceLeft=!this.sourceLeft,this.format.direction=this.sourceLeft?Ri.LTR:Ri.RTL}dateChanged(e){let i=new Date(e.value);this.eventName=i.toDateString(),this.eventDate=i.toDateString()}onGroupingSubmit(e){for(var i of(this.isSubmitted=!0,this.event1.player=this.confirmed,this.event1.eventName=this.eventName,this.event1.eventDesc=this.eventDesc,this.event1.course=this.course,this.event1.eventDate=this.eventDate,this.event1.season=this.season,e.selectedIndex=1,this.sortedPlayers=this.confirmed.sort(function(h,p){return h.last3GameAvg>p.last3GameAvg?1:h.last3GameAvg<p.last3GameAvg?-1:0}),this.sortedPlayers))console.log("player="+i.fName);this.numberOfTees=Math.ceil(this.sortedPlayers.length/4),console.log("numberOfTees="+this.numberOfTees);for(let h=0;h<this.numberOfTees;h++){let p=new Jee;p.teeName=(h+1+this.totalNumberOfTees).toString(),p.teamA.push(this.sortedPlayers[4*h],this.sortedPlayers[4*h+3]),p.teamB.push(this.sortedPlayers[4*h+1],this.sortedPlayers[4*h+2]);var r=0,o=0,a=0,s=0;void 0!==this.sortedPlayers[4*h].handicap&&(r=this.sortedPlayers[4*h].handicap),void 0!==this.sortedPlayers[4*h+3]&&void 0!==this.sortedPlayers[4*h+3].handicap&&(o=this.sortedPlayers[4*h+3].handicap),void 0!==this.sortedPlayers[4*h+1]&&void 0!==this.sortedPlayers[4*h+1].handicap&&(a=this.sortedPlayers[4*h+1].handicap),void 0!==this.sortedPlayers[4*h+2]&&void 0!==this.sortedPlayers[4*h+2].handicap&&(s=this.sortedPlayers[4*h+2].handicap),p.teamAavghandicap=0==o?r:(r+o)/2,p.teamBavghandicap=0==s?a:(a+s)/2;var l=0,c=0,u=0,d=0;void 0!==this.sortedPlayers[4*h].last3GameAvg&&(l=this.sortedPlayers[4*h].last3GameAvg),void 0!==this.sortedPlayers[4*h+3]&&void 0!==this.sortedPlayers[4*h+3].last3GameAvg&&(c=this.sortedPlayers[4*h+3].last3GameAvg),void 0!==this.sortedPlayers[4*h+1]&&void 0!==this.sortedPlayers[4*h+1].last3GameAvg&&(u=this.sortedPlayers[4*h+1].last3GameAvg),void 0!==this.sortedPlayers[4*h+2]&&void 0!==this.sortedPlayers[4*h+2].last3GameAvg&&(d=this.sortedPlayers[4*h+2].last3GameAvg),p.teamAavgScore=0==c?l:(l+c)/2,p.teamBavgScore=0==d?u:(u+d)/2,p.teamAavghandicap=Math.round(100*p.teamAavghandicap)/100,p.teamBavghandicap=Math.round(100*p.teamBavghandicap)/100,p.teamAavgScore=Math.round(100*p.teamAavgScore)/100,p.teamBavgScore=Math.round(100*p.teamBavgScore)/100,this.teeList.push(p)}this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0;for(let h=0;h<this.teeList.length;h++)this.totalTeamAHandicap=this.totalTeamAHandicap+this.teeList[h].teamAavghandicap,this.totalTeamBHandicap=this.totalTeamBHandicap+this.teeList[h].teamBavghandicap,this.totalTeamA3Score=this.totalTeamA3Score+this.teeList[h].teamAavgScore,this.totalTeamB3Score=this.totalTeamB3Score+this.teeList[h].teamBavgScore;this.totalTeamAHandicap=this.totalTeamAHandicap/this.teeList.length,this.totalTeamBHandicap=this.totalTeamBHandicap/this.teeList.length,this.totalTeamA3Score=this.totalTeamA3Score/this.teeList.length,this.totalTeamB3Score=this.totalTeamB3Score/this.teeList.length,this.totalTeamAHandicap=Math.round(100*this.totalTeamAHandicap)/100,this.totalTeamBHandicap=Math.round(100*this.totalTeamBHandicap)/100,this.totalTeamA3Score=Math.round(100*this.totalTeamA3Score)/100,this.totalTeamB3Score=Math.round(100*this.totalTeamB3Score)/100,console.log("teeList="+JSON.stringify(this.teeList,null,4))}onTabClick(e){console.log("event="+e.index)}onSubmitGroup(){console.log("onSubmitGroup",this.teeList[0]),this.event1.teeList=this.teeList,this.service.createEventTee(this.event1).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),console.log("calling event...")},e=>console.log("calling event...err"+e))}addTee(){console.log("adding tee:"+JSON.stringify(this.confirmed));let e=new Jee;e.teeName=(this.totalNumberOfTees+1).toString(),this.totalNumberOfTees=this.totalNumberOfTees+1,e.teamA.push(this.confirmed[0],this.confirmed[1]),e.teamB.push(this.confirmed[2],this.confirmed[3]);var i=0,r=0,o=0,a=0;void 0!==this.confirmed[0].handicap&&(i=this.confirmed[0].handicap),void 0!==this.confirmed[1]&&void 0!==this.confirmed[1].handicap&&(r=this.confirmed[1].handicap),void 0!==this.confirmed[2]&&void 0!==this.confirmed[2].handicap&&(o=this.confirmed[2].handicap),void 0!==this.confirmed[3]&&void 0!==this.confirmed[3].handicap&&(a=this.confirmed[3].handicap),e.teamAavghandicap=0==r?i:(i+r)/2,e.teamBavghandicap=0==a?o:(o+a)/2;var s=0,l=0,c=0,u=0;void 0!==this.confirmed[0].last3GameAvg&&(s=this.confirmed[0].last3GameAvg),void 0!==this.confirmed[1]&&void 0!==this.confirmed[1].last3GameAvg&&(l=this.confirmed[1].last3GameAvg),void 0!==this.confirmed[2]&&void 0!==this.confirmed[2].last3GameAvg&&(c=this.confirmed[2].last3GameAvg),void 0!==this.confirmed[3]&&void 0!==this.confirmed[3].last3GameAvg&&(u=this.confirmed[3].last3GameAvg),e.teamAavgScore=0==l?s:(s+l)/2,e.teamBavgScore=0==u?c:(c+u)/2,e.teamAavghandicap=Math.round(100*e.teamAavghandicap)/100,e.teamBavghandicap=Math.round(100*e.teamBavghandicap)/100,e.teamAavgScore=Math.round(100*e.teamAavgScore)/100,e.teamBavgScore=Math.round(100*e.teamBavgScore)/100,this.teeList.push(e),this.confirmed=[]}resetTee(){this.teeList.length=0,this.confirmed=[],this.totalTeamAHandicap=0,this.totalTeamA3Score=0,this.totalTeamBHandicap=0,this.totalTeamB3Score=0,this.totalNumberOfTees=0,this.numberOfTees=1}}return n.\u0275fac=function(e){return new(e||n)(T(sp),T(Tm),T(kr))},n.\u0275cmp=we({type:n,selectors:[["app-gameplan"]],decls:83,vars:22,consts:[["mat-stretch-tabs","false","mat-align-tabs","start","animationDuration","800ms",3,"selectedTabChange"],["grouptab",""],["mat-tab-label",""],[3,"formGroup","ngSubmit"],[2,"width","10%","margin","1%"],[3,"value","valueChange"],["value","2024"],[2,"width","12%","margin","1%"],["matInput","",3,"matDatepicker","dateChange"],["matIconSuffix","",3,"for"],["picker",""],["value","1"],["value","2"],["appearance","outline",2,"width","22%","margin","1%"],["formControlName","eventName","matInput","",3,"ngModel","ngModelChange"],["appearance","outline",2,"width","30%","margin","1%"],["formControlName","eventDesc","matInput","",3,"ngModel","ngModelChange"],[1,"container-fluid"],[1,"container"],["height","500px",3,"source","key","display","filter","destination","format","disabled","destinationChange"],["id","groupingId"],["aria-label","Select the way of grouping: ","formControlName","groupMethod",3,"ngModel","ngModelChange"],["value","1",3,"checked"],["value","3"],[2,"display","flex"],["type","button",3,"click"],["type","submit"],[2,"width","1400px"],["cols","2","rowHeight","50"],[1,"teetop",2,"text-align","left","color","Green"],["class","flex-container",4,"ngIf"],[2,"width","60%"],["type","submit",3,"click"],[1,"example-tab-icon"],[1,"flex-container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","right","width","200px"],["type","text","size","20","maxlength","20",3,"ngModel","ngModelChange"],["cols","2","rowHeight","150"],[1,"teetop",2,"color","GhostWhite"],[2,"background-color","SeaShell"],[4,"ngIf"],[2,"background-color","LightCyan"],[1,"user"],[1,"groupuser"],["class","user",3,"style",4,"ngIf"]],template:function(e,i){if(1&e){const r=Ei();O(0,"mat-tab-group",0,1),se("selectedTabChange",function(a){return i.onTabClick(a)}),O(2,"mat-tab"),ue(3,LYe,3,0,"ng-template",2),O(4,"mat-card")(5,"mat-card-content")(6,"form",3),se("ngSubmit",function(){ut(r);const a=rn(1);return dt(i.onGroupingSubmit(a))}),O(7,"mat-form-field",4)(8,"mat-label"),F(9,"Select a Season"),A(),O(10,"mat-select",5),se("valueChange",function(a){return i.season=a}),O(11,"mat-option",6),F(12,"2024"),A()()(),O(13,"mat-form-field",7)(14,"mat-label"),F(15,"Choose a date"),A(),O(16,"input",8),se("dateChange",function(a){return i.dateChanged(a)}),A(),O(17,"mat-hint"),F(18,"MM/DD/YYYY"),A(),te(19,"mat-datepicker-toggle",9)(20,"mat-datepicker",null,10),A(),O(22,"mat-form-field",7)(23,"mat-label"),F(24,"Select a golf course"),A(),O(25,"mat-select",5),se("valueChange",function(a){return i.course=a}),O(26,"mat-option"),F(27,"None"),A(),O(28,"mat-option",11),F(29,"Forsgate - Banks"),A(),O(30,"mat-option",12),F(31,"Forsgate - Palmer"),A()()(),O(32,"mat-form-field",13)(33,"mat-label"),F(34,"Event Name"),A(),O(35,"input",14),se("ngModelChange",function(a){return i.eventName=a}),A()(),O(36,"mat-form-field",15)(37,"mat-label"),F(38,"Event Description"),A(),O(39,"input",16),se("ngModelChange",function(a){return i.eventDesc=a}),A()(),O(40,"div",17),te(41,"p"),O(42,"div",18)(43,"dual-list",19),se("destinationChange",function(a){return i.confirmed=a}),A()()(),te(44,"mat-divider"),O(45,"label",20),F(46,"Pick a grouping method"),A(),O(47,"mat-radio-group",21),se("ngModelChange",function(a){return i.groupingMethod=a}),O(48,"mat-radio-button",22),F(49,"Based on the average score of the latest 3 games"),A(),O(50,"mat-radio-button",12),F(51,"Based on handicap"),A(),O(52,"mat-radio-button",23),F(53,"Manually assign group"),A()(),O(54,"div",24)(55,"button",25),se("click",function(){return i.addTee()}),F(56,"Add Tee"),A(),O(57,"button",26),F(58,"Generate Group"),A(),O(59,"button",25),se("click",function(){return i.resetTee()}),F(60,"Reset Tee"),A()()()()()(),O(61,"mat-tab"),ue(62,NYe,3,0,"ng-template",2),O(63,"h1"),F(64),A(),O(65,"div",27)(66,"mat-grid-list",28)(67,"mat-grid-tile")(68,"div")(69,"h4",29),F(70),A(),O(71,"h4",29),F(72),A()()(),O(73,"mat-grid-tile")(74,"div")(75,"h4",29),F(76),A(),O(77,"h4",29),F(78),A()()()()(),ue(79,zYe,2,1,"div",30),O(80,"div",31)(81,"button",32),se("click",function(){return i.onSubmitGroup()}),F(82,"Submit Event Group"),A()()()()}if(2&e){const r=rn(21);N(6),j("formGroup",i.eventForm),N(4),j("value",i.season),N(6),j("matDatepicker",r),N(3),j("for",r),N(6),j("value",i.course),N(10),j("ngModel",i.eventName),N(4),j("ngModel",i.eventDesc),N(4),j("source",i.source)("key",i.key)("display",i.display)("filter",i.filter)("destination",i.confirmed)("format",i.format)("disabled",i.disabled),N(4),j("ngModel",i.groupingMethod),N(1),j("checked",!0),N(16),He("Game ",i.eventName," Group Assignment \u6bd4\u8d5b\u5206\u7ec4\u7ec6\u8282"),N(6),He("Team A \u7ea2\u961f avg handicap: ",i.totalTeamAHandicap," "),N(2),He("Team B \u84dd\u961f avg handicap: ",i.totalTeamBHandicap," "),N(4),He("Team A \u7ea2\u961f lastest 3 game avg score: ",i.totalTeamA3Score,""),N(2),He("Team B \u84dd\u961f lastest 3 game avg score: ",i.totalTeamB3Score,""),N(1),j("ngIf",i.isSubmitted)}},dependencies:[Ba,Zr,Kc,Fl,$c,lx,J5,y_,ip,AI,GKe,ad,Gm,Cx,sd,Bm,S_,w_,O6,Hx,R6,uF,dF,Rl,ia,Es,Ol,j0,Ds,td,Dm,nte,ste,xYe,Ri,pte,lG],styles:['label[_ngcontent-%COMP%]{text-align:right;clear:both;float:left;margin-right:15px}.groupuser[_ngcontent-%COMP%]{display:block;margin-top:.2em;margin-bottom:.2em;margin-left:0}.teetop[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;margin-left:0}.user[_ngcontent-%COMP%]{display:inline-block;width:100px;height:100px;border-radius:50%;background-repeat:no-repeat;background-position:center center;background-size:cover;position:absolute;left:25%}.example-card[_ngcontent-%COMP%]{margin:1%;width:1400px;text-align:left;float:left}mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:18%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.container[_ngcontent-%COMP%]{height:45%;width:60%;margin:auto auto 15px}.container-event[_ngcontent-%COMP%]{height:80px;width:80%;margin:auto auto 15px}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}ul[_ngcontent-%COMP%]{text-align:center}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;position:relative;cursor:pointer;font-family:sans-serif}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:indigo;scrollbar-3dlight-color:indigo;scrollbar-highlight-color:indigo;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:indigo;border:thin solid gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:purple}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px;text-align:left}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d8bfd8}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:plum}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-evenly}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:35%;margin:0;flex-grow:2}.buttonbox[_ngcontent-%COMP%]{margin:0 10px;display:flex;flex-direction:column;justify-content:center}.btn-block[_ngcontent-%COMP%]{display:block;width:70px;margin:4px}button[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:indigo;padding:5px 10px;border:solid black 1px;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:purple;text-decoration:none}button[_ngcontent-%COMP%]:disabled{background:rgba(75,0,130,.5);cursor:default}p[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:600;margin-bottom:4px}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f7f7f7}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%], button[type=button][_ngcontent-%COMP%]{display:block;margin:auto;padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}thead[_ngcontent-%COMP%]{background-color:#f2f2f2}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{font-weight:700}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}']}),n})();function $Ye(n,t){if(1&n){const e=Ei();O(0,"div"),te(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().$implicit.teeTeamXrefList[0].playScoreList[0].score=r)}),A()(),O(15,"div",7)(16,"h5",13),F(17,"Tee Score::\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(18,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().$implicit.teeTeamXrefList[0].score=r)}),A()(),O(19,"h3",13),F(20),A(),O(21,"h3",13),F(22),A()()()}if(2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[0].playScoreList[0].player.fName,".jpg');"),N(3),ea("",e.teeTeamXrefList[0].playScoreList[0].player.fName," ",e.teeTeamXrefList[0].playScoreList[0].player.lName,""),N(2),Ct(e.teeTeamXrefList[0].playScoreList[0].player.chineseNickName),N(2),He("handicap: ",e.teeTeamXrefList[0].playScoreList[0].player.handicap,""),N(2),He("Latest 3 Avg: ",e.teeTeamXrefList[0].playScoreList[0].entryScore,""),N(4),j("ngModel",e.teeTeamXrefList[0].playScoreList[0].score),N(4),j("ngModel",e.teeTeamXrefList[0].score),N(2),He("Tee Win: ",e.teeTeamXrefList[0].playScoreList[0].teeWin,""),N(2),He("Team Win: ",e.teeTeamXrefList[0].playScoreList[0].teamWin,"")}}function KYe(n,t){if(1&n){const e=Ei();O(0,"div"),te(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().$implicit.teeTeamXrefList[1].playScoreList[0].score=r)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[1].playScoreList[0].player.fName,".jpg');"),N(3),ea("",e.teeTeamXrefList[1].playScoreList[0].player.fName," ",e.teeTeamXrefList[1].playScoreList[0].player.lName,""),N(2),Ct(e.teeTeamXrefList[1].playScoreList[0].player.chineseNickName),N(2),He("handicap: ",e.teeTeamXrefList[1].playScoreList[0].player.handicap,""),N(2),He("Latest 3 Avg: ",e.teeTeamXrefList[1].playScoreList[0].player.last3GameAvg,""),N(4),j("ngModel",e.teeTeamXrefList[1].playScoreList[0].score),N(2),He("Tee Win: ",e.teeTeamXrefList[1].playScoreList[0].teeWin,""),N(2),He("Team Win: ",e.teeTeamXrefList[1].playScoreList[0].teamWin,"")}}function YYe(n,t){if(1&n){const e=Ei();O(0,"div"),te(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Tee Score::\xa0\xa0\xa0\xa0\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().$implicit.teeTeamXrefList[0].playScoreList[1].score=r)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[0].playScoreList[1].player.fName,".jpg');"),N(3),ea("",e.teeTeamXrefList[0].playScoreList[1].player.fName," ",e.teeTeamXrefList[0].playScoreList[1].player.lName,""),N(2),Ct(e.teeTeamXrefList[0].playScoreList[1].player.chineseNickName),N(2),He("handicap: ",e.teeTeamXrefList[0].playScoreList[1].player.handicap,""),N(2),He("Latest 3 Avg: ",e.teeTeamXrefList[0].playScoreList[1].player.last3GameAvg,""),N(4),j("ngModel",e.teeTeamXrefList[0].playScoreList[1].score),N(2),He("Tee Win: ",e.teeTeamXrefList[0].playScoreList[1].teeWin,""),N(2),He("Team Win: ",e.teeTeamXrefList[0].playScoreList[1].teamWin,"")}}function qYe(n,t){if(1&n){const e=Ei();O(0,"div"),te(1,"div",12),O(2,"div")(3,"h4",13),F(4),A(),O(5,"h4",13),F(6),A(),O(7,"h5",13),F(8),A(),O(9,"h5",13),F(10),A(),O(11,"div",7)(12,"h5",13),F(13,"Personal Score::\xa0\xa0\xa0"),A(),O(14,"input",14),se("ngModelChange",function(r){return ut(e),dt(de().$implicit.teeTeamXrefList[1].playScoreList[1].score=r)}),A()(),O(15,"h3",13),F(16),A(),O(17,"h3",13),F(18),A()()()}if(2&n){const e=de().$implicit;N(1),Ic(" background-image: url('../../../assets/",e.teeTeamXrefList[1].playScoreList[1].player.fName,".jpg');"),N(3),ea("",e.teeTeamXrefList[1].playScoreList[1].player.fName," ",e.teeTeamXrefList[1].playScoreList[1].player.lName,""),N(2),Ct(e.teeTeamXrefList[1].playScoreList[1].player.chineseNickName),N(2),He("handicap: ",e.teeTeamXrefList[1].playScoreList[1].player.handicap,""),N(2),He("Latest 3 Avg: ",e.teeTeamXrefList[1].playScoreList[1].player.last3GameAvg,""),N(4),j("ngModel",e.teeTeamXrefList[1].playScoreList[1].score),N(2),He("Tee Win: ",e.teeTeamXrefList[1].playScoreList[1].teeWin,""),N(2),He("Team Win: ",e.teeTeamXrefList[1].playScoreList[1].teamWin,"")}}function XYe(n,t){if(1&n&&(O(0,"div",4)(1,"mat-card",5)(2,"mat-card-header"),te(3,"div",6),O(4,"mat-card-title"),F(5),A(),O(6,"mat-card-subtitle"),F(7),A()(),O(8,"mat-card-content")(9,"div",7)(10,"label"),F(11,"Teetime:"),A(),F(12),A(),O(13,"mat-grid-list",8)(14,"mat-grid-tile",9),ue(15,$Ye,23,12,"div",10),A(),O(16,"mat-grid-tile",11),ue(17,KYe,19,11,"div",10),A(),O(18,"mat-grid-tile",9),ue(19,YYe,19,11,"div",10),A(),O(20,"mat-grid-tile",11),ue(21,qYe,19,11,"div",10),A()()(),te(22,"mat-card-actions"),A()()),2&n){const e=t.$implicit,i=de();N(5),He("Tee # ",e.teeName,""),N(2),He("event date: ",i.editdata.eventDate," "),N(5),He(" ",e.teeTime," "),N(3),j("ngIf",e.teeTeamXrefList[0]),N(2),j("ngIf",e.teeTeamXrefList[1]),N(2),j("ngIf",e.teeTeamXrefList[0]),N(2),j("ngIf",e.teeTeamXrefList[1])}}function ZYe(n,t){if(1&n){const e=Ei();O(0,"button",3),se("click",function(){return ut(e),dt(de().deleteEvent())}),F(1,"Delete this Event"),A()}}function QYe(n,t){if(1&n){const e=Ei();O(0,"button",3),se("click",function(){return ut(e),dt(de().onSubmitScore())}),F(1,"Submit Score"),A()}}let JYe=(()=>{class n{constructor(e,i,r,o){this.data=e,this.ref=i,this.service=r,this.router=o}ngOnInit(){this.inputdata=this.data,console.log("eventId==="+this.inputdata.eventId),this.inputdata.eventId>0&&(console.log("init form"),this.setpopupdata(this.inputdata.eventId))}setpopupdata(e){console.log("eventid==="+e),this.service.getEventById(e).subscribe(i=>{this.editdata=i,console.log("event==="+this.editdata)})}onSubmitScore(){console.log("submitting score"+JSON.stringify(this.editdata,null,4)),this.service.submitScore(this.editdata).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),console.log("calling event..."),this.closepopup()},e=>console.log("calling event...err"+e))}deleteEvent(){console.log("deleting event"),this.service.deleteEvent(this.editdata.id).subscribe(e=>{console.log("calling event..."+e),this.router.navigate(["gamerecord"]),this.closepopup()},e=>console.log("calling event...err"+e))}closepopup(){this.ref.close("Closed using function")}}return n.\u0275fac=function(e){return new(e||n)(T(Wm),T(ap),T(sp),T(kr))},n.\u0275cmp=we({type:n,selectors:[["app-gameinput"]],decls:6,vars:3,consts:[["class","flex-container",4,"ngFor","ngForOf"],[2,"display","flex"],["type","submit",3,"click",4,"ngIf"],["type","submit",3,"click"],[1,"flex-container"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","right","width","200px"],["cols","2","rowHeight","300"],[2,"background-color","SeaShell"],[4,"ngIf"],[2,"background-color","LightCyan"],[1,"user"],[1,"groupuser"],["type","text","size","8","maxlength","8",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(ue(0,XYe,23,7,"div",0),O(1,"div",1),ue(2,ZYe,2,0,"button",2),ue(3,QYe,2,0,"button",2),O(4,"button",3),se("click",function(){return i.closepopup()}),F(5,"Close"),A()()),2&e&&(j("ngForOf",i.editdata.teeList),N(2),j("ngIf","OPEN"==i.editdata.status),N(1),j("ngIf","OPEN"==i.editdata.status))},dependencies:[Ba,Zr,ad,Gm,Cx,sd,Bm,S_,w_,ia,Es,j0,Dm,pte,lG],styles:['label[_ngcontent-%COMP%]{text-align:right;clear:both;float:left;margin-right:15px}.groupuser[_ngcontent-%COMP%]{display:block;margin-top:.2em;margin-bottom:.2em;margin-left:0}.teetop[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;margin-left:0}.user[_ngcontent-%COMP%]{display:inline-block;width:100px;height:100px;border-radius:50%;background-repeat:no-repeat;background-position:center center;background-size:cover;position:absolute;left:25%}.example-card[_ngcontent-%COMP%]{margin:1%;width:1800px;text-align:left;float:left}mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:18%;margin:1%}button[_ngcontent-%COMP%]{margin:2px}.container[_ngcontent-%COMP%]{height:45%;width:60%;margin:auto auto 15px}.container-event[_ngcontent-%COMP%]{height:80px;width:80%;margin:auto auto 15px}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}ul[_ngcontent-%COMP%]{text-align:center}div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;position:relative;cursor:pointer;font-family:sans-serif}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:indigo;scrollbar-3dlight-color:indigo;scrollbar-highlight-color:indigo;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:indigo;border:thin solid gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:purple}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px;text-align:left}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d8bfd8}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:plum}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-evenly}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:35%;margin:0;flex-grow:2}.buttonbox[_ngcontent-%COMP%]{margin:0 10px;display:flex;flex-direction:column;justify-content:center}.btn-block[_ngcontent-%COMP%]{display:block;width:70px;margin:4px}button[_ngcontent-%COMP%]{color:#fff;font-size:18px;background:indigo;padding:5px 10px;border:solid black 1px;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:purple;text-decoration:none}button[_ngcontent-%COMP%]:disabled{background:rgba(75,0,130,.5);cursor:default}p[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:600;margin-bottom:4px}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f7f7f7}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px}button[type=submit][_ngcontent-%COMP%]{display:block;margin:auto;padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px}thead[_ngcontent-%COMP%]{background-color:#f2f2f2}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{font-weight:700}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}']}),n})();const e7e=[{path:"",component:Ewe},{path:"autocomplete",component:rwe},{path:"input",component:xwe},{path:"card",component:nSe},{path:"slider",component:CSe},{path:"table",component:vxe},{path:"form",component:TEe},{path:"associate",component:REe},{path:"player",component:RKe},{path:"editplayer",component:$ee},{path:"ghinsync",component:Wee},{path:"gameplan",component:WYe},{path:"gamerecord",component:(()=>{class n{constructor(e,i,r){this.service=e,this.router=i,this.dialog=r,this.events=[],this.colDefs=[{field:"id",headerName:"Event ID",flex:5,onCellClicked:o=>this.openGameRecord(o)},{field:"eventName",headerName:"Event Name",flex:5,filter:!0},{field:"eventDate",headerName:"Event date",flex:5,filter:!0},{field:"status",headerName:"Status",flex:5,filter:!0}],this.defaultColDef={flex:10,minWidth:20}}ngOnInit(){this.service.getAllEvent().subscribe({next:e=>{this.events=e}})}openGameRecord(e){console.log("edit game record is clicked"+e.value),this.dialog.open(JYe,{width:"70%",height:"1200px",enterAnimationDuration:"1500ms",exitAnimationDuration:"1500ms",disableClose:!0,data:{title:"Edit Event",eventId:e.value}}).afterClosed().subscribe(r=>{this.service.getAllEvent().subscribe({next:o=>{this.events=o}})})}}return n.\u0275fac=function(e){return new(e||n)(T(sp),T(kr),T(D_))},n.\u0275cmp=we({type:n,selectors:[["app-gamerecord"]],decls:3,vars:3,consts:[[1,"ag-theme-quartz",2,"height","900px","width","40%",3,"defaultColDef","rowData","columnDefs"]],template:function(e,i){1&e&&(O(0,"div")(1,"ag-grid-angular",0),F(2,' (gridReady)="onGridReady($event)" [pagination]="true" '),A()()),2&e&&(N(1),j("defaultColDef",i.defaultColDef)("rowData",i.events)("columnDefs",i.colDefs))},dependencies:[aG],styles:[".ag-theme-quartz[_ngcontent-%COMP%]{ag-odd-row-background-color:#E04F00}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-row-odd[_ngcontent-%COMP%]{background-color:#e04f00}.ag-theme-quartz[_ngcontent-%COMP%]{--ag-header-height: 30px;--ag-header-foreground-color: white;--ag-header-background-color: rgb(25, 56, 192);--ag-header-cell-hover-background-color: rgb(80, 40, 140);--ag-header-cell-moving-background-color: rgb(80, 40, 140)}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header[_ngcontent-%COMP%]{font-family:cursive}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-group-cell[_ngcontent-%COMP%]{font-weight:400;font-size:22px}.ag-theme-quartz[_ngcontent-%COMP%]   .ag-header-cell[_ngcontent-%COMP%]{font-size:18px}"],data:{animation:[Kn("detailExpand",[vi("collapsed",ze({height:"0px",minHeight:"0"})),vi("expanded",ze({height:"*",minHeight:"*"})),Jt("expanded <=> collapsed",oi("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),n})()},{path:"aboutus",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-aboutus"]],decls:20,vars:0,template:function(e,i){1&e&&(O(0,"h4"),F(1,"Every birdy you take"),A(),O(2,"h4"),F(3,"And every putt you make"),A(),O(4,"h4"),F(5,"Every Ace you get"),A(),O(6,"h4"),F(7,"Every 70's you take"),A(),O(8,"h4"),F(9,"I'll be watching you"),A(),O(10,"h4"),F(11,"Every single day"),A(),O(12,"h4"),F(13,"And every shot you hit"),A(),O(14,"h4"),F(15,"Every game you play"),A(),O(16,"h4"),F(17,"Every fight you engage"),A(),O(18,"h4"),F(19,"I'll be watching you"),A())}}),n})()},{path:"donation",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-donation"]],decls:2,vars:0,template:function(e,i){1&e&&(O(0,"p"),F(1,"donation works!"),A())}}),n})()},{path:"gamerule",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-gamerule"]],decls:21,vars:0,consts:[[2,"width","35%","text-align","center"],[2,"text-align","left"]],template:function(e,i){1&e&&(te(0,"br"),O(1,"h1"),F(2,"Game Rules"),A(),te(3,"hr",0)(4,"br")(5,"br"),O(6,"ul",1)(7,"li"),F(8," Depending on the number of palyers, we split all the users into two team: red team nad blue team.\n"),A(),O(9,"li"),F(10," On each tee players represent each team will play against each other. Normally there should be two players represent red team play against two players represent blue team. "),A(),O(11,"li"),F(12," The game rule is applied to each tee and the score for each tee is counted by the term high-low rule meaning that best score for red team against the best score of blue team. "),A(),O(13,"li"),F(14," If red team wins then it counts as 1 point for the red team. The same can be applied to the lower score of each team. If the one team's lower score is better than the other team's best score, add 1 point. "),A(),O(15,"li"),F(16,"Each bird will add 1 point for the team."),A(),O(17,"li"),F(18,"Each eagle will add 5 points and HIO will add 10 points."),A(),O(19,"li"),F(20,"After the game is finsihed, all the red team's score will be summed up against the blue team's score and that will decide which team wins."),A()())},styles:["html[_ngcontent-%COMP%]{font-size:6px}h1[_ngcontent-%COMP%]{font-size:5rem;color:#1e90ff;text-transform:capitalize;text-shadow:1px 1px 1px red,2px 2px 1px red;text-align:center;letter-spacing:2px}h1[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{font-weight:700}p[_ngcontent-%COMP%]{font-size:1.5rem;color:#2f4f4f;font-family:Helvetica,Arial,sans-serif;line-height:1.2;letter-spacing:1px}"]}),n})()},{path:"statistics",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-statistics"]],decls:2,vars:0,template:function(e,i){1&e&&(O(0,"p"),F(1,"statistics works!"),A())}}),n})()}];let t7e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[H4.forRoot(e7e),H4]}),n})();const i7e=["*",[["mat-toolbar-row"]]],n7e=["*","mat-toolbar-row"],r7e=Qh(class{constructor(n){this._elementRef=n}});let fte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),o7e=(()=>{class n extends r7e{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(Qt),T(tt))},n.\u0275cmp=we({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Tt(r,fte,5),2&e){let o;ye(o=_e())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&Be("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[me],ngContentSelectors:n7e,decls:2,vars:0,template:function(e,i){1&e&&(Zt(i7e),Ge(0),Ge(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),a7e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ht,ht]}),n})();const mte=["*"],s7e=["content"];function l7e(n,t){if(1&n){const e=Ei();O(0,"div",2),se("click",function(){return ut(e),dt(de()._onBackdropClicked())}),A()}2&n&&Be("mat-drawer-shown",de()._isShowingBackdrop())}function c7e(n,t){1&n&&(O(0,"mat-drawer-content"),Ge(1,2),A())}const u7e=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],d7e=["mat-drawer","mat-drawer-content","*"],h7e={transformDrawer:Kn("transform",[vi("open, open-instant",ze({transform:"none",visibility:"visible"})),vi("void",ze({"box-shadow":"none",visibility:"hidden"})),Jt("void => open-instant",oi("0ms")),Jt("void <=> open, open-instant => void",oi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},p7e=new J("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function f7e(){return!1}}),gte=new J("MAT_DRAWER_CONTAINER");let vM=(()=>{class n extends CI{constructor(e,i,r,o,a){super(r,o,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(T(Ft),T(It(()=>yte)),T(Se),T(hx),T(De))},n.\u0275cmp=we({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&Yr("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Ne([{provide:CI,useExisting:n}]),me],ngContentSelectors:mte,decls:1,vars:0,template:function(e,i){1&e&&(Zt(),Ge(0))},encapsulation:2,changeDetection:0}),n})(),vte=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Te(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Te(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Te(e))}constructor(e,i,r,o,a,s,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=a,this._interactivityChecker=s,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Oe,this._animationEnd=new Oe,this._animationState="void",this.openedChange=new U(!0),this._openedStream=this.openedChange.pipe(ui(u=>u),ot(()=>{})),this.openedStart=this._animationStarted.pipe(ui(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),p0(void 0)),this._closedStream=this.openedChange.pipe(ui(u=>!u),ot(()=>{})),this.closedStart=this._animationStarted.pipe(ui(u=>u.fromState!==u.toState&&"void"===u.toState),p0(void 0)),this._destroyed=new Oe,this.onPositionChanged=new U,this._modeChanged=new Oe,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ms(this._elementRef.nativeElement,"keydown").pipe(ui(u=>27===u.keyCode&&!this.disableClose&&!Dn(u)),Dt(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(Ov((u,d)=>u.fromState===d.fromState&&u.toState===d.toState)).subscribe(u=>{const{fromState:d,toState:h}=u;(0===h.indexOf("open")&&"void"===d||"void"===h&&0===d.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(_i(1)).subscribe(a=>o(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(l_),T(Uc),T(Qt),T(De),T(s_),T(tt,8),T(gte,8))},n.\u0275cmp=we({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&Xe(s7e,5),2&e){let r;ye(r=_e())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&IS("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(je("align",null),NS("@transform",i._animationState),Be("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:mte,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(Zt(),O(0,"div",0,1),Ge(2),A())},dependencies:[CI],encapsulation:2,data:{animation:[h7e.transformDrawer]},changeDetection:0}),n})(),yte=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Te(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Te(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,a,s=!1,l){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new Vh,this.backdropClick=new U,this._destroyed=new Oe,this._doCheckSubject=new Oe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Oe,e&&e.change.pipe(Dt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Dt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}ngAfterContentInit(){this._allDrawers.changes.pipe(_r(this._allDrawers),Dt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(_r(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ex(10),Dt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ui(i=>i.fromState!==i.toState),Dt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Dt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Dt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(_i(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Dt(nn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(T(an,8),T(Se),T(De),T(Ft),T(Yc),T(p7e),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,vM,5),Tt(r,vte,5)),2&e){let o;ye(o=_e())&&(i._content=o.first),ye(o=_e())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&Xe(vM,5),2&e){let r;ye(r=_e())&&(i._userContent=r.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&Be("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ne([{provide:gte,useExisting:n}])],ngContentSelectors:d7e,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(Zt(u7e),ue(0,l7e,1,2,"div",0),Ge(1),Ge(2,1),ue(3,c7e,2,0,"mat-drawer-content",1)),2&e&&(j("ngIf",i.hasBackdrop),N(3),j("ngIf",!i._content))},dependencies:[Zr,vM],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),m7e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[yr,ht,qc,qc,ht]}),n})();const _te=["*"],bte=["unscopedContent"],g7e=["text"],v7e=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],y7e=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],wte=new J("ListOption");let Ste=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(T(Se))},n.\u0275dir=Z({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),xte=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(T(Se))},n.\u0275dir=Z({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),L7e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),Ete=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(e){return new(e||n)(T(wte,8))},n.\u0275dir=Z({type:n,hostVars:4,hostBindings:function(e,i){2&e&&Be("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),N7e=(()=>{class n extends Ete{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[me]}),n})(),V7e=(()=>{class n extends Ete{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275dir=Z({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[me]}),n})();const G7e=new J("MAT_LIST_CONFIG");let wv=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=be(G7e,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Te(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Te(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Z({type:n,hostVars:1,hostBindings:function(e,i){2&e&&je("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),uG=(()=>{class n{set lines(e){this._explicitLines=gi(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Te(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Te(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,a,s){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Rt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===s,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new tp(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(nn(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De),T(wv,8),T(Qt),T(Fm,8),T(Ii,8))},n.\u0275dir=Z({type:n,contentQueries:function(e,i,r){if(1&e&&(Tt(r,N7e,4),Tt(r,V7e,4)),2&e){let o;ye(o=_e())&&(i._avatars=o),ye(o=_e())&&(i._icons=o)}},hostVars:4,hostBindings:function(e,i){2&e&&(je("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),Be("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),B7e=(()=>{class n extends uG{get activated(){return this._activated}set activated(e){this._activated=Te(e)}constructor(e,i,r,o,a,s){super(e,i,r,o,a,s),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(e){return new(e||n)(T(Se),T(De),T(wv,8),T(Qt),T(Fm,8),T(Ii,8))},n.\u0275cmp=we({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(Tt(r,xte,5),Tt(r,Ste,5),Tt(r,L7e,5)),2&e){let o;ye(o=_e())&&(i._lines=o),ye(o=_e())&&(i._titles=o),ye(o=_e())&&(i._meta=o)}},viewQuery:function(e,i){if(1&e&&(Xe(bte,5),Xe(g7e,5)),2&e){let r;ye(r=_e())&&(i._unscopedContent=r.first),ye(r=_e())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,i){2&e&&(je("aria-current",i._getAriaCurrent()),Be("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[me],ngContentSelectors:y7e,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,i){1&e&&(Zt(v7e),Ge(0),O(1,"span",0),Ge(2,1),Ge(3,2),O(4,"span",1,2),se("cdkObserveContent",function(){return i._updateItemLines(!0)}),Ge(6,3),A()(),Ge(7,4),Ge(8,5),te(9,"div",3))},dependencies:[oI],encapsulation:2,changeDetection:0}),n})(),j7e=(()=>{class n extends wv{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=_t(n)))(i||n)}}(),n.\u0275cmp=we({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Ne([{provide:wv,useExisting:n}]),me],ngContentSelectors:_te,decls:1,vars:0,template:function(e,i){1&e&&(Zt(),Ge(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),$7e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[tx,yr,ht,rd,W5,BKe]}),n})(),K7e=(()=>{class n{constructor(){this.badgevisible=!1}badgevisibility(){this.badgevisible=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-menubar"]],decls:66,vars:0,consts:[["color","primary",1,"mat-elevation-z8"],["mat-icon-button","",3,"click"],["cImg","","rounded","","src","/assets/logo5.jpg","height","60"],[1,"example-spacer"],["routerLink","","mat-button",""],["href","https://www.youtube.com/channel/UCsbmVmB_or8sVLLEq4XhE_A/join","mat-raised-button","","color","accent"],["href","https://www.youtube.com/channel/UCsbmVmB_or8sVLLEq4XhE_A/join","mat-raised-button","","color","warn"],["autosize",""],["opened","true","mode","side","position","start"],["drawer",""],["routerLink","player","mat-button",""],["routerLink","gameplan","mat-button",""],["routerLink","gamerecord","mat-button",""],["routerLink","statistics","mat-button",""],["routerLink","donation","mat-button",""],["routerLink","gamerule","mat-button",""],["routerLink","aboutus","mat-button",""],[2,"text-align","center","min-height","1000px","margin-left","1%"],[2,"text-align","center","margin-left","48%"]],template:function(e,i){if(1&e){const r=Ei();O(0,"mat-toolbar",0)(1,"button",1),se("click",function(){return ut(r),dt(rn(17).toggle())}),O(2,"mat-icon"),F(3,"menu"),A()(),te(4,"img",2),O(5,"span"),F(6,"\xa0\xa0\xa0\u5341\u5143\u8d5b\u4ff1\u4e50\u90e8 - Ten Dollar Golf at Forsgate Country Club"),A(),te(7,"span",3),O(8,"button",4),F(9,"Home"),A(),O(10,"a",5),F(11,"Join Us"),A(),F(12,"\xa0\xa0 "),O(13,"a",6),F(14,"Sign in"),A()(),O(15,"mat-drawer-container",7)(16,"mat-drawer",8,9)(18,"mat-nav-list")(19,"mat-list-item")(20,"button",4)(21,"mat-icon"),F(22,"home"),A(),F(23," Home"),A()(),O(24,"mat-list-item")(25,"button",10)(26,"mat-icon"),F(27,"person_search"),A(),F(28," Players Profile"),A()(),O(29,"mat-list-item")(30,"button",11)(31,"mat-icon"),F(32,"calendar_month"),A(),F(33," Plan a Game"),A()(),O(34,"mat-list-item")(35,"button",12)(36,"mat-icon"),F(37,"scoreboard"),A(),F(38," Record a Games"),A()(),O(39,"mat-list-item")(40,"button",13)(41,"mat-icon"),F(42,"insights"),A(),F(43," Statistics & Analytics"),A()(),O(44,"mat-list-item")(45,"button",14)(46,"mat-icon"),F(47,"attach_money"),A(),F(48," Donation"),A()(),O(49,"mat-list-item")(50,"button",15)(51,"mat-icon"),F(52,"menu_book"),A(),F(53," Game rules"),A()(),O(54,"mat-list-item")(55,"button",16)(56,"mat-icon"),F(57,"help"),A(),F(58," About Us"),A()()()(),O(59,"mat-drawer-content")(60,"div",17),te(61,"router-outlet"),A()()(),O(62,"mat-toolbar")(63,"mat-toolbar-row")(64,"h5",18),F(65,"\xa9 Copyright - The New Jersey Ten Dollar Club @ ForsgateCC 2024."),A()()()}},dependencies:[bP,A0,o7e,fte,AI,b_,ja,yx,vte,yte,vM,j7e,B7e],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})(),Y7e=(()=>{class n{constructor(){this.title="angularmaterial"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=we({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&te(0,"app-menubar")},dependencies:[K7e],styles:[".mat-toolbar.mat-dark[_ngcontent-%COMP%]{background:#000;color:#fff}"]}),n})();function Tte(n){return new ee(3e3,!1)}function Ch(n){switch(n.length){case 0:return new h_;case 1:return n[0];default:return new Z5(n)}}function Mte(n,t,e=new Map,i=new Map){const r=[],o=[];let a=-1,s=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((h,p)=>{let f=p,m=h;if("offset"!==p)switch(f=n.normalizePropertyName(f,r),m){case"!":m=e.get(p);break;case Wc:m=i.get(p);break;default:m=n.normalizeStyleValue(p,f,m,r)}d.set(f,m)}),u||o.push(d),s=d,a=c}),r.length)throw function vqe(n){return new ee(3502,!1)}();return o}function dG(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hG(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hG(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hG(e,"destroy",n)))}}function hG(n,t,e){const o=pG(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function pG(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Ate(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const Aqe=(()=>typeof document>"u"?null:document.documentElement)();function fG(n){const t=n.parentNode||n.host||null;return t===Aqe?null:t}let mf=null,Ote=!1;function Rte(n,t){for(;t;){if(t===n)return!0;t=fG(t)}return!1}function Pte(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let Ite=(()=>{class n{validateStyleProperty(e){return function Rqe(n){mf||(mf=function Pqe(){return typeof document<"u"?document.body:null}()||{},Ote=!!mf.style&&"WebkitAppearance"in mf.style);let t=!0;return mf.style&&!function Oqe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in mf.style,!t&&Ote&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Rte(e,i)}getParentElement(e){return fG(e)}query(e,i,r){return Pte(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new h_(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})(),mG=(()=>{class n{}return n.NOOP=new Ite,n})();const Iqe=1e3,gG="ng-enter",yM="ng-leave",_M="ng-trigger",CM=".ng-trigger",kte="ng-animating",vG=".ng-animating";function Fu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yG(parseFloat(t[1]),t[2])}function yG(n,t){return"s"===t?n*Iqe:n}function bM(n,t,e){return n.hasOwnProperty("duration")?n:function kqe(n,t,e){let r,o=0,a="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push(Tte()),{duration:0,delay:0,easing:""};r=yG(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=yG(parseFloat(l),s[4]));const c=s[5];c&&(a=c)}else r=n;if(!e){let s=!1,l=t.length;r<0&&(t.push(function q7e(){return new ee(3100,!1)}()),s=!0),o<0&&(t.push(function X7e(){return new ee(3101,!1)}()),s=!0),s&&t.splice(l,0,Tte())}return{duration:r,delay:o,easing:a}}(n,t,e)}function nw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Lte(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function bh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function _c(n,t,e){t.forEach((i,r)=>{const o=CG(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function gf(n,t){t.forEach((e,i)=>{const r=CG(i);n.style[r]=""})}function rw(n){return Array.isArray(n)?1==n.length?n[0]:X5(n):n}const _G=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vte(n){let t=[];if("string"==typeof n){let e;for(;e=_G.exec(n);)t.push(e[1]);_G.lastIndex=0}return t}function ow(n,t,e){const i=n.toString(),r=i.replace(_G,(o,a)=>{let s=t[a];return null==s&&(e.push(function Q7e(n){return new ee(3003,!1)}()),s=""),s.toString()});return r==i?n:r}function wM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Vqe=/-+([a-z0-9])/g;function CG(n){return n.replace(Vqe,(...t)=>t[1].toUpperCase())}function Ma(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function J7e(n){return new ee(3004,!1)}()}}function Gte(n,t){return window.getComputedStyle(n)[t]}const SM="*";function Hqe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function jqe(n,t,e){if(":"==n[0]){const l=function Uqe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function pqe(n){return new ee(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function hqe(n){return new ee(3015,!1)}()),t;const r=i[1],o=i[2],a=i[3];t.push(Bte(r,a));"<"==o[0]&&!(r==SM&&a==SM)&&t.push(Bte(a,r))}(i,e,t)):e.push(n),e}const xM=new Set(["true","1"]),EM=new Set(["false","0"]);function Bte(n,t){const e=xM.has(n)||EM.has(n),i=xM.has(t)||EM.has(t);return(r,o)=>{let a=n==SM||n==r,s=t==SM||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?xM.has(n):EM.has(n)),!s&&i&&"boolean"==typeof o&&(s=o?xM.has(t):EM.has(t)),a&&s}}const zqe=new RegExp("s*:selfs*,?","g");function bG(n,t,e,i){return new Wqe(n).build(t,e,i)}class Wqe{constructor(t){this._driver=t}build(t,e,i){const r=new Yqe(e);return this._resetContextStyleTimingState(r),Ma(this,rw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function tqe(){return new ee(3006,!1)}()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(function iqe(){return new ee(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Vte(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&(wM(o.values()),e.errors.push(function nqe(n,t){return new ee(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ma(this,rw(t.animation),e);return{type:1,matchers:Hqe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ma(this,i,e)),options:vf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const s=Ma(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:3,steps:o,options:vf(t.options)}}visitAnimate(t,e){const i=function Xqe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wG(bM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wG(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=bM(e,t);return wG(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ze({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;const c={};i.easing&&(c.easing=i.easing),a=ze(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)"string"==typeof s?s===Wc?i.push(s):e.errors.push(new ee(3002,!1)):i.push(Lte(s));let o=!1,a=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o))for(let l of s.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function oqe(n,t,e,i,r){return new ee(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&function Nqe(n,t,e){const i=t.params||{},r=Vte(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function Z7e(n){return new ee(3001,!1)}())})}(s,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function aqe(){return new ee(3011,!1)}()),i;let o=0;const a=[];let s=!1,l=!1,c=0;const u=t.steps.map(v=>{const y=this._makeStyleAst(v,e);let _=null!=y.offset?y.offset:function qqe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(y.styles),b=0;return null!=_&&(o++,b=y.offset=_),l=l||b<0||b>1,s=s||b<c,c=b,a.push(b),y});l&&e.errors.push(function sqe(){return new ee(3012,!1)}()),s&&e.errors.push(function lqe(){return new ee(3200,!1)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function cqe(){return new ee(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,f=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((v,y)=>{const _=h>0?y==p?1:h*y:a[y],b=_*g;e.currentTime=f+m.delay+b,m.duration=b,this._validateStyleAst(v,e),v.offset=_,i.styles.push(v)}),i}visitReference(t,e){return{type:8,animation:Ma(this,rw(t.animation),e),options:vf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function $qe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zqe,"")),n=n.replace(/@\*/g,CM).replace(/@\w+/g,e=>CM+"-"+e.slice(1)).replace(/:animating/g,vG),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const s=Ma(this,rw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:vf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function uqe(){return new ee(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:bM(t.timings,e.errors,!0);return{type:12,animation:Ma(this,rw(t.animation),e),timings:i,options:null}}}class Yqe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vf(n){return n?(n=nw(n)).params&&(n.params=function Kqe(n){return n?nw(n):null}(n.params)):n={},n}function wG(n,t,e){return{duration:n,delay:t,easing:e}}function SG(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}class DM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Jqe=new RegExp(":enter","g"),t9e=new RegExp(":leave","g");function xG(n,t,e,i,r,o=new Map,a=new Map,s,l,c=[]){return(new i9e).buildKeyframes(n,t,e,i,r,o,a,s,l,c)}class i9e{buildKeyframes(t,e,i,r,o,a,s,l,c,u=[]){c=c||new DM;const d=new EG(t,e,c,r,o,u,[]);d.options=l;const h=l.delay?Fu(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([a],null,d.errors,l),Ma(this,i,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&s.size){let f;for(let m=p.length-1;m>=0;m--){const g=p[m];if(g.element===e){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([s],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[SG(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const a="number"==typeof o?o:Fu(ow(o,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Fu(i.duration):null,s=null!=i.delay?Fu(i.delay):null;return 0!==a&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ma(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TM);const a=Fu(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Ma(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Fu(t.options.delay):0;t.steps.forEach(a=>{const s=e.createSubContext(t.options);o&&s.delayNextStep(o),Ma(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return bM(e.params?ow(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Fu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=TM);let a=i;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Ma(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Ma(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const TM={};class EG{constructor(t,e,i,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new MM(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Fu(i.duration)),null!=i.delay&&(r.delay=Fu(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=ow(o[s],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new EG(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=TM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new n9e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Jqe,"."+this._enterClassName)).replace(t9e,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&0==s.length&&a.push(function dqe(n){return new ee(3014,!1)}()),s}}class MM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new MM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Wc),this._currentKeyframe.set(e,Wc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},a=function r9e(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Wc)}else bh(r,e)}),e}(t,this._globalTimelineStyles);for(let[s,l]of a){const c=ow(l,o,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Wc),this._updateStyle(s,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,l)=>{const c=bh(s,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?t.add(d):u===Wc&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?wM(t.values()):[],a=e.size?wM(e.values()):[];if(i){const s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return SG(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class n9e extends MM{constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,s=e/a,l=bh(t[0]);l.set("offset",0),o.push(l);const c=bh(t[0]);c.set("offset",Ute(s)),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=bh(t[d]);const p=h.get("offset");h.set("offset",Ute((e+p*i)/a)),o.push(h)}i=a,e=0,r="",t=o}return SG(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Ute(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class DG{}const o9e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class a9e extends DG{normalizePropertyName(t,e){return CG(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(o9e.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function eqe(n,t){return new ee(3005,!1)}())}return a+o}}function zte(n,t,e,i,r,o,a,s,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const TG={};class Wte{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function s9e(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,a,s,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||TG,f=this.buildStyles(i,s&&s.params||TG,d),m=l&&l.params||TG,g=this.buildStyles(r,m,d),v=new Set,y=new Map,_=new Map,b="void"===r,w={params:l9e(m,h),delay:this.ast.options?.delay},E=u?[]:xG(t,e,this.ast.animation,o,a,f,g,w,c,d);let M=0;if(E.forEach(I=>{M=Math.max(I.duration+I.delay,M)}),d.length)return zte(e,this._triggerName,i,r,b,f,g,[],[],y,_,M,d);E.forEach(I=>{const k=I.element,L=Ta(y,k,new Set);I.preStyleProps.forEach(Y=>L.add(Y));const B=Ta(_,k,new Set);I.postStyleProps.forEach(Y=>B.add(Y)),k!==e&&v.add(k)});const P=wM(v.values());return zte(e,this._triggerName,i,r,b,f,g,E,P,y,_,M)}}function l9e(n,t){const e=nw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class c9e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=nw(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!==a&&(r[o]=a)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,s)=>{a&&(a=ow(a,r,e));const l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),i.set(s,a)})}),i}}class d9e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new c9e(r.style,r.options&&r.options.params||{},i))}),$te(this.states,"true","1"),$te(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Wte(t,r,this.states))}),this.fallbackTransition=function h9e(n,t,e){return new Wte(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $te(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const p9e=new DM;class f9e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=bG(this._driver,e,i,[]);if(i.length)throw function yqe(n){return new ee(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=Mte(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let a;const s=new Map;if(o?(a=xG(this._driver,e,o,gG,yM,new Map,new Map,i,p9e,r),a.forEach(u=>{const d=Ta(s,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function _qe(){return new ee(3300,!1)}()),a=[]),r.length)throw function Cqe(n){return new ee(3504,!1)}();s.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Wc))})});const c=Ch(a.map(u=>{const d=s.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function bqe(n){return new ee(3301,!1)}();return e}listen(t,e,i,r){const o=pG(e,"","","");return dG(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Kte="ng-animate-queued",MG="ng-animate-disabled",_9e=[],Yte={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C9e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hs="__ng_removed";class AG{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function x9e(n){return n??null}(i?t.value:t),i){const o=nw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const aw="void",OG=new AG(aw);class b9e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ps(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function wqe(n,t){return new ee(3302,!1)}();if(null==i||0==i.length)throw function Sqe(n){return new ee(3303,!1)}();if(!function E9e(n){return"start"==n||"done"==n}(i))throw function xqe(n,t){return new ee(3400,!1)}();const o=Ta(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const s=Ta(this._engine.statesByElement,t,new Map);return s.has(e)||(ps(t,_M),ps(t,_M+"-"+e),s.set(e,OG)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Eqe(n){return new ee(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new RG(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(ps(t,_M),ps(t,_M+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e);const c=new AG(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=OG),c.value!==aw&&l.value===c.value){if(!function M9e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),v=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{gf(t,g),_c(t,v)})}return}const h=Ta(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),f=!1;if(!p){if(!r)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(ps(t,Kte),a.onStart(()=>{Sv(t,Kte)})),a.onDone(()=>{let m=this.players.indexOf(a);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let v=g.indexOf(a);v>=0&&g.splice(v,1)}}),this.players.push(a),h.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,CM,!0);i.forEach(r=>{if(r[hs])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,aw,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Ch(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const l=this._triggers.get(a).fallbackTransition,c=i.get(a)||OG,u=new AG(aw),d=new RG(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[hs];(!o||o===Yte)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ps(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){const l=pG(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,dG(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class w9e{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new b9e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){const l=r.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(AM(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!AM(e))return;const o=e[hs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ps(t,MG)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sv(t,MG))}removeNode(t,e,i){if(AM(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[hs]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return AM(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,CM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,vG,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ch(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[hs];if(e&&e.setForRemoval){if(t[hs]=Yte,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(MG)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ps(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ch(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Dqe(n){return new ee(3402,!1)}()}_flushAnimations(t,e){const i=new DM,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(W=>{u.add(W);const $=this.driver.query(W,".ng-animate-queued",!0);for(let X=0;X<$.length;X++)u.add($[X])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=Zte(h,this.collectedEnterElements),f=new Map;let m=0;p.forEach((W,$)=>{const X=gG+m++;f.set($,X),W.forEach(ce=>ps(ce,X))});const g=[],v=new Set,y=new Set;for(let W=0;W<this.collectedLeaveElements.length;W++){const $=this.collectedLeaveElements[W],X=$[hs];X&&X.setForRemoval&&(g.push($),v.add($),X.hasAnimation?this.driver.query($,".ng-star-inserted",!0).forEach(ce=>v.add(ce)):y.add($))}const _=new Map,b=Zte(h,Array.from(v));b.forEach((W,$)=>{const X=yM+m++;_.set($,X),W.forEach(ce=>ps(ce,X))}),t.push(()=>{p.forEach((W,$)=>{const X=f.get($);W.forEach(ce=>Sv(ce,X))}),b.forEach((W,$)=>{const X=_.get($);W.forEach(ce=>Sv(ce,X))}),g.forEach(W=>{this.processLeaveNode(W)})});const w=[],E=[];for(let W=this._namespaceList.length-1;W>=0;W--)this._namespaceList[W].drainQueuedTransitions(e).forEach(X=>{const ce=X.player,Ee=X.element;if(w.push(ce),this.collectedEnterElements.length){const Je=Ee[hs];if(Je&&Je.setForMove){if(Je.previousTriggersValues&&Je.previousTriggersValues.has(X.triggerName)){const Kt=Je.previousTriggersValues.get(X.triggerName),Ht=this.statesByElement.get(X.element);if(Ht&&Ht.has(X.triggerName)){const zi=Ht.get(X.triggerName);zi.value=Kt,Ht.set(X.triggerName,zi)}}return void ce.destroy()}}const ke=!d||!this.driver.containsElement(d,Ee),Ae=_.get(Ee),nt=f.get(Ee),qe=this._buildInstruction(X,i,nt,Ae,ke);if(qe.errors&&qe.errors.length)return void E.push(qe);if(ke)return ce.onStart(()=>gf(Ee,qe.fromStyles)),ce.onDestroy(()=>_c(Ee,qe.toStyles)),void r.push(ce);if(X.isFallbackTransition)return ce.onStart(()=>gf(Ee,qe.fromStyles)),ce.onDestroy(()=>_c(Ee,qe.toStyles)),void r.push(ce);const tn=[];qe.timelines.forEach(Je=>{Je.stretchStartingKeyframe=!0,this.disabledNodes.has(Je.element)||tn.push(Je)}),qe.timelines=tn,i.append(Ee,qe.timelines),a.push({instruction:qe,player:ce,element:Ee}),qe.queriedElements.forEach(Je=>Ta(s,Je,[]).push(ce)),qe.preStyleProps.forEach((Je,Kt)=>{if(Je.size){let Ht=l.get(Kt);Ht||l.set(Kt,Ht=new Set),Je.forEach((zi,Wr)=>Ht.add(Wr))}}),qe.postStyleProps.forEach((Je,Kt)=>{let Ht=c.get(Kt);Ht||c.set(Kt,Ht=new Set),Je.forEach((zi,Wr)=>Ht.add(Wr))})});if(E.length){const W=[];E.forEach($=>{W.push(function Tqe(n,t){return new ee(3505,!1)}())}),w.forEach($=>$.destroy()),this.reportError(W)}const M=new Map,P=new Map;a.forEach(W=>{const $=W.element;i.has($)&&(P.set($,$),this._beforeAnimationBuild(W.player.namespaceId,W.instruction,M))}),r.forEach(W=>{const $=W.element;this._getPreviousPlayers($,!1,W.namespaceId,W.triggerName,null).forEach(ce=>{Ta(M,$,[]).push(ce),ce.destroy()})});const I=g.filter(W=>Jte(W,l,c)),k=new Map;Xte(k,this.driver,y,c,Wc).forEach(W=>{Jte(W,l,c)&&I.push(W)});const B=new Map;p.forEach((W,$)=>{Xte(B,this.driver,new Set(W),l,"!")}),I.forEach(W=>{const $=k.get(W),X=B.get(W);k.set(W,new Map([...$?.entries()??[],...X?.entries()??[]]))});const Y=[],ne=[],fe={};a.forEach(W=>{const{element:$,player:X,instruction:ce}=W;if(i.has($)){if(u.has($))return X.onDestroy(()=>_c($,ce.toStyles)),X.disabled=!0,X.overrideTotalTime(ce.totalTime),void r.push(X);let Ee=fe;if(P.size>1){let Ae=$;const nt=[];for(;Ae=Ae.parentNode;){const qe=P.get(Ae);if(qe){Ee=qe;break}nt.push(Ae)}nt.forEach(qe=>P.set(qe,Ee))}const ke=this._buildAnimation(X.namespaceId,ce,M,o,B,k);if(X.setRealPlayer(ke),Ee===fe)Y.push(X);else{const Ae=this.playersByElement.get(Ee);Ae&&Ae.length&&(X.parentPlayer=Ch(Ae)),r.push(X)}}else gf($,ce.fromStyles),X.onDestroy(()=>_c($,ce.toStyles)),ne.push(X),u.has($)&&r.push(X)}),ne.forEach(W=>{const $=o.get(W.element);if($&&$.length){const X=Ch($);W.setRealPlayer(X)}}),r.forEach(W=>{W.parentPlayer?W.syncPlayerEvents(W.parentPlayer):W.destroy()});for(let W=0;W<g.length;W++){const $=g[W],X=$[hs];if(Sv($,yM),X&&X.hasAnimation)continue;let ce=[];if(s.size){let ke=s.get($);ke&&ke.length&&ce.push(...ke);let Ae=this.driver.query($,vG,!0);for(let nt=0;nt<Ae.length;nt++){let qe=s.get(Ae[nt]);qe&&qe.length&&ce.push(...qe)}}const Ee=ce.filter(ke=>!ke.destroyed);Ee.length?D9e(this,$,Ee):this.processLeaveNode($)}return g.length=0,Y.forEach(W=>{this.players.push(W),W.onDone(()=>{W.destroy();const $=this.players.indexOf(W);this.players.splice($,1)}),W.play()}),Y}elementContainsData(t,e){let i=!1;const r=e[hs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const s=this.playersByQueriedElement.get(t);s&&(a=s)}else{const s=this.playersByElement.get(t);if(s){const l=!o||o==aw;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Ta(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}gf(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(f=>{const m=f.element;u.add(m);const g=m[hs];if(g&&g.removedBeforeQueried)return new h_(f.duration,f.delay);const v=m!==l,y=function T9e(n){const t=[];return Qte(n,t),t}((i.get(m)||_9e).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===m),_=o.get(m),b=a.get(m),w=Mte(this._normalizer,f.keyframes,_,b),E=this._buildPlayer(f,w,y);if(f.subTimeline&&r&&d.add(m),v){const M=new RG(t,s,m);M.setRealPlayer(E),c.push(M)}return E});c.forEach(f=>{Ta(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function S9e(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>ps(f,kte));const p=Ch(h);return p.onDestroy(()=>{u.forEach(f=>Sv(f,kte)),_c(l,e.toStyles)}),d.forEach(f=>{Ta(r,f,[]).push(p)}),p}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new h_(t.duration,t.delay)}}class RG{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new h_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>dG(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function AM(n){return n&&1===n.nodeType}function qte(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Xte(n,t,e,i,r){const o=[];e.forEach(l=>o.push(qte(l)));const a=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=t.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[hs]=C9e,a.push(c))}),n.set(c,u)});let s=0;return e.forEach(l=>qte(l,o[s++])),a}function Zte(n,t){const e=new Map;if(n.forEach(s=>e.set(s,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(s){if(!s)return 1;let l=o.get(s);if(l)return l;const c=s.parentNode;return l=e.has(c)?c:r.has(c)?1:a(c),o.set(s,l),l}return t.forEach(s=>{const l=a(s);1!==l&&e.get(l).push(s)}),e}function ps(n,t){n.classList?.add(t)}function Sv(n,t){n.classList?.remove(t)}function D9e(n,t,e){Ch(e).onDone(()=>n.processLeaveNode(t))}function Qte(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Z5?Qte(i.players,t):t.push(i)}}function Jte(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class OM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new w9e(t,e,i),this._timelineEngine=new f9e(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let s=this._triggerCache[a];if(!s){const l=[],u=bG(this._driver,o,l,[]);if(l.length)throw function gqe(n,t){return new ee(3404,!1)}();s=function u9e(n,t,e){return new d9e(n,t,e)}(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=Ate(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,s]=Ate(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let O9e=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&_c(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_c(this._element,this._initialStyles),this._endStyles&&(_c(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gf(this._element,this._endStyles),this._endStyles=null),_c(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function PG(n){let t=null;return n.forEach((e,i)=>{(function R9e(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class eie{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:Gte(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class P9e{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Rte(t,e)}getParentElement(t){return fG(t)}query(t,e,i){return Pte(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=a.filter(p=>p instanceof eie);(function Gqe(n,t){return 0===n||0===t})(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((f,m)=>c.set(m,f))});let d=function Lqe(n){return n.length?n[0]instanceof Map?n:n.map(t=>Lte(t)):[]}(e).map(p=>bh(p));d=function Bqe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,a)=>{i.has(a)||r.push(a),i.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,Gte(n,s)))}}return t}(t,d,c);const h=function A9e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=PG(t[0]),t.length>1&&(i=PG(t[t.length-1]))):t instanceof Map&&(e=PG(t)),e||i?new O9e(n,e,i):null}(t,d);return new eie(t,d,l,h)}}let I9e=(()=>{class n extends q5{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:fo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?X5(e):e;return tie(this._renderer,null,i,"register",[r]),new F9e(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(K(oy),K(tt))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class F9e extends _Ce{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new k9e(this._id,t,e||{},this._renderer)}}class k9e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return tie(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tie(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const iie="@.disabled";let L9e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,a)=>{const s=a?.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new nie("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const a=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(a,s,e,u.name,u)};return i.data.animation.forEach(l),new N9e(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(K(oy),K(OM),K(De))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();class nie{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==iie?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class N9e extends nie{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==iie?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function V9e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),a="";return"@"!=o.charAt(0)&&([o,a]=function G9e(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(t,e,i)}}let B9e=(()=>{class n extends OM{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(K(tt),K(mG),K(DG),K($u))},n.\u0275prov=ge({token:n,factory:n.\u0275fac}),n})();const rie=[{provide:q5,useClass:I9e},{provide:DG,useFactory:function H9e(){return new a9e}},{provide:OM,useClass:B9e},{provide:oy,useFactory:function j9e(n,t,e){return new L9e(n,t,e)},deps:[eP,OM,De]}],IG=[{provide:mG,useFactory:()=>new P9e},{provide:Ii,useValue:"BrowserAnimations"},...rie],oie=[{provide:mG,useClass:Ite},{provide:Ii,useValue:"NoopAnimations"},...rie];let aie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?oie:IG}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:IG,imports:[OW]}),n})();const $9e={provide:new J("mat-menu-scroll-strategy"),deps:[Jr],useFactory:function W9e(n){return()=>n.scrollStrategies.reposition()}};let K9e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({providers:[$9e],imports:[yr,rd,ht,rp,qc,ht]}),n})(),Y9e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[c_,ht,ht]}),n})(),lie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n}),n.\u0275inj=Ue({imports:[ibe,O8,iwe,a7e,K9e,Nwe,RI,Y9e,m7e,$7e,iSe,_Se,O0e,XSe,a0e,iEe,sCe,hEe,xEe,exe]}),n})(),q9e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Ke({type:n,bootstrap:[Y7e]}),n.\u0275inj=Ue({imports:[OW,t7e,aie,lie,xye,z$,Yye,DYe,aG,aie,lie,NKe,kYe]}),n})();Zfe().bootstrapModule(q9e).catch(n=>console.error(n))}},jt=>{jt(jt.s=748)}]);